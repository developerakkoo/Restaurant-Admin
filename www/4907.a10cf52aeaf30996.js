"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4907],{854:(y,C,r)=>{r.d(C,{Z:()=>v});var f=r(467),i=r(4341),o=r(4438),t=r(4488),g=r(4796);let v=(()=>{var e;class h{constructor(l,s,d,P,n){this.formBuilder=l,this.toastController=s,this.auth=d,this.modalController=P,this.loadingController=n,this.form=this.formBuilder.group({name:[,[i.k0.required]],code:[,[i.k0.required]],codeType:[,[i.k0.required]],discountAmount:[,[i.k0.required]],minOrderAmount:[,[i.k0.required]],description:[,[i.k0.required]],expiry:[,[i.k0.required]]})}ngOnInit(){}close(){this.modalController.dismiss()}presentToast(l,s,d,P){var n=this;return(0,f.A)(function*(){(yield n.toastController.create({message:l,duration:s,color:d,position:P})).present()})()}onSubmit(){var l=this;return(0,f.A)(function*(){var s;l.form.valid&&(console.log(l.form.value),l.auth.addPromo(l.form.value).subscribe({next:(s=(0,f.A)(function*(d){console.log(d),l.presentToast("Promo Code Added",2e3,"success","top"),l.modalController.dismiss()}),function(P){return s.apply(this,arguments)}),error:function(){var s=(0,f.A)(function*(d){console.log(d.error)});return function(P){return s.apply(this,arguments)}}()}))})()}}return(e=h).\u0275fac=function(l){return new(l||e)(o.rXU(i.ok),o.rXU(t.K_),o.rXU(g.u),o.rXU(t.W3),o.rXU(t.Xi))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-add"]],decls:31,vars:4,consts:[[1,"ion-no-border",3,"translucent"],["fill","clear","slot","end","color","primary",3,"click"],["slot","icon-only","name","close"],[3,"fullscreen"],["fixed",""],["size","12"],[3,"formGroup"],["type","text","label","Name","labelPlacement","stacked","fill","outline","formControlName","name"],["type","text","label","Code","labelPlacement","stacked","fill","outline","formControlName","code"],["type","text","label","Discount Amount","labelPlacement","stacked","fill","outline","formControlName","discountAmount"],["type","text","label","Min Order Amount","labelPlacement","stacked","fill","outline","formControlName","minOrderAmount"],["type","text","label","Description","labelPlacement","stacked","fill","outline","formControlName","description"],["type","date","label","Expiry Date","labelPlacement","stacked","fill","outline","formControlName","expiry"],["value","1","formControlName","codeType","multiple","false","placeholder","Select Type"],["value","1"],["value","2"],["value","3"],["block","","color","primary","type","submit",3,"click","disabled"]],template:function(l,s){1&l&&(o.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Add new Promo Code"),o.k0s(),o.j41(4,"ion-button",1),o.bIt("click",function(){return s.close()}),o.nrm(5,"ion-icon",2),o.k0s()()(),o.j41(6,"ion-content",3)(7,"ion-grid",4)(8,"ion-row")(9,"ion-col",5)(10,"form",6),o.nrm(11,"ion-input",7)(12,"ion-input",8)(13,"ion-input",9)(14,"ion-input",10)(15,"ion-input",11)(16,"br")(17,"ion-input",12)(18,"br"),o.j41(19,"ion-item")(20,"ion-label"),o.EFF(21,"Offer Type"),o.k0s(),o.j41(22,"ion-select",13)(23,"ion-select-option",14),o.EFF(24,"Free Delivery"),o.k0s(),o.j41(25,"ion-select-option",15),o.EFF(26,"Order Above Amount"),o.k0s(),o.j41(27,"ion-select-option",16),o.EFF(28,"New User"),o.k0s()()(),o.j41(29,"ion-button",17),o.bIt("click",function(){return s.onSubmit()}),o.EFF(30," Add Promo "),o.k0s()()()()()()),2&l&&(o.Y8G("translucent",!0),o.R7$(6),o.Y8G("fullscreen",!0),o.R7$(4),o.Y8G("formGroup",s.form),o.R7$(19),o.Y8G("disabled",s.form.invalid))},dependencies:[i.qT,i.BC,i.cb,i.j4,i.JD,t.Jm,t.hU,t.W9,t.lO,t.eU,t.iq,t.$w,t.uz,t.he,t.ln,t.Nm,t.Ip,t.BC,t.ai,t.Je,t.Gw]}),h})()},4907:(y,C,r)=>{r.r(C),r.d(C,{PromoCodePageModule:()=>P});var f=r(177),i=r(4341),o=r(4488),t=r(8986),g=r(467),v=r(854),e=r(4438),h=r(4796);function A(n,c){if(1&n&&(e.j41(0,"ion-col",4)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-subtitle"),e.EFF(4),e.k0s(),e.j41(5,"ion-card-title"),e.EFF(6),e.k0s()(),e.j41(7,"ion-card-content")(8,"ion-item",5)(9,"ion-label",6)(10,"h2"),e.EFF(11),e.nI1(12,"uppercase"),e.k0s()(),e.nrm(13,"ion-icon",7),e.k0s()()()()),2&n){const u=c.$implicit;e.R7$(4),e.SpI("Upto Rs ",u.minOrderAmount,""),e.R7$(2),e.SpI("",u.discountAmount,"% OFF"),e.R7$(5),e.JRh(e.bMT(12,3,u.code))}}const s=[{path:"",component:(()=>{var n;class c{constructor(a,m,p){this.modalController=a,this.auth=m,this.loadingController=p,this.codes=[]}ngOnInit(){}ionViewDidEnter(){this.getAllCodes()}openAddPromoModal(){var a=this;return(0,g.A)(function*(){yield(yield a.modalController.create({component:v.Z,animated:!0,backdropDismiss:!1,keyboardClose:!0,componentProps:{value:123}})).present()})()}getAllCodes(){var a=this;return(0,g.A)(function*(){var m;a.auth.getAllPromos("","").subscribe({next:(m=(0,g.A)(function*(p){console.log(p),a.codes=p.data}),function(b){return m.apply(this,arguments)}),error:function(){var m=(0,g.A)(function*(p){console.log(p.error)});return function(b){return m.apply(this,arguments)}}()})})()}}return(n=c).\u0275fac=function(a){return new(a||n)(e.rXU(o.W3),e.rXU(h.u),e.rXU(o.Xi))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-promo-code"]],decls:10,vars:3,consts:[[1,"ion-no-border",3,"translucent"],["slot","end","expand","block",3,"click"],[3,"fullscreen"],["size","4",4,"ngFor","ngForOf"],["size","4"],["lines","none","color","primary"],["color","dark"],["slot","end","name","copy-outline"]],template:function(a,m){1&a&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Promo Code"),e.k0s(),e.j41(4,"ion-button",1),e.bIt("click",function(){return m.openAddPromoModal()}),e.EFF(5," Add new Promo "),e.k0s()()(),e.j41(6,"ion-content",2)(7,"ion-grid")(8,"ion-row"),e.DNE(9,A,14,5,"ion-col",3),e.k0s()()()),2&a&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(3),e.Y8G("ngForOf",m.codes))},dependencies:[f.Sq,o.Jm,o.b_,o.I9,o.ME,o.HW,o.tN,o.hU,o.W9,o.lO,o.eU,o.iq,o.uz,o.he,o.ln,o.BC,o.ai,f.Pc]}),c})()},{path:"add",loadChildren:()=>r.e(6765).then(r.bind(r,6765)).then(n=>n.AddPageModule)}];let d=(()=>{var n;class c{}return(n=c).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[t.iI.forChild(s),t.iI]}),c})(),P=(()=>{var n;class c{}return(n=c).\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.MD,i.YN,o.bv,d]}),c})()}}]);