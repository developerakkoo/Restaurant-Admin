"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2008],{2008:(F,_,l)=>{l.r(_),l.d(_,{CustomerPageModule:()=>y});var d=l(177),p=l(4341),c=l(4488),u=l(8986),g=l(467),t=l(4438),C=l(4796);function b(n,s){if(1&n){const o=t.RV6();t.j41(0,"ion-badge",39),t.bIt("click",function(){t.eBV(o);const a=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.block(a._id))}),t.nrm(1,"ion-icon",40),t.EFF(2," Block "),t.k0s()}}function h(n,s){if(1&n){const o=t.RV6();t.j41(0,"ion-badge",41),t.bIt("click",function(){t.eBV(o);const a=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.unblock(a._id))}),t.nrm(1,"ion-icon",42),t.EFF(2," Unblock "),t.k0s()}}function f(n,s){1&n&&(t.j41(0,"ion-badge",43),t.nrm(1,"ion-icon",44),t.EFF(2," Online "),t.k0s())}function P(n,s){1&n&&(t.j41(0,"ion-badge",45),t.nrm(1,"ion-icon",46),t.EFF(2," Offline "),t.k0s())}function M(n,s){if(1&n){const o=t.RV6();t.j41(0,"tr",25)(1,"td",26),t.EFF(2),t.k0s(),t.j41(3,"td",27),t.EFF(4),t.k0s(),t.j41(5,"td",28),t.EFF(6),t.k0s(),t.j41(7,"td",29),t.EFF(8),t.k0s(),t.j41(9,"td",30)(10,"div",31)(11,"ion-badge",32),t.bIt("click",function(){const a=t.eBV(o).$implicit,i=t.XpG(2);return t.Njj(i.openDetailsPage(a._id))}),t.nrm(12,"ion-icon",33),t.EFF(13," View "),t.k0s(),t.DNE(14,b,3,0,"ion-badge",34)(15,h,3,0,"ion-badge",35),t.k0s()(),t.j41(16,"td",36),t.DNE(17,f,3,0,"ion-badge",37)(18,P,3,0,"ion-badge",38),t.k0s()()}if(2&n){const o=s.$implicit;t.R7$(2),t.JRh(null==o?null:o.name),t.R7$(2),t.JRh(null==o?null:o.phoneNumber),t.R7$(2),t.JRh(null==o?null:o.orderCount),t.R7$(2),t.JRh((null==o||null==o.userAddresses||null==o.userAddresses[0]?null:o.userAddresses[0].address)||"No Address Added"),t.R7$(6),t.Y8G("ngIf",0===o.status),t.R7$(),t.Y8G("ngIf",1===o.status),t.R7$(2),t.Y8G("ngIf",!0===(null==o?null:o.isOnline)),t.R7$(),t.Y8G("ngIf",!1===(null==o?null:o.isOnline))}}function O(n,s){if(1&n&&(t.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"h3"),t.EFF(4,"Customer List"),t.k0s(),t.j41(5,"ion-badge",21),t.EFF(6),t.k0s()(),t.j41(7,"div",22)(8,"table",23)(9,"thead")(10,"tr")(11,"th"),t.EFF(12,"Customer Name"),t.k0s(),t.j41(13,"th"),t.EFF(14,"Phone No"),t.k0s(),t.j41(15,"th"),t.EFF(16,"Orders"),t.k0s(),t.j41(17,"th"),t.EFF(18,"Address"),t.k0s(),t.j41(19,"th"),t.EFF(20,"Actions"),t.k0s(),t.j41(21,"th"),t.EFF(22,"Status"),t.k0s()()(),t.j41(23,"tbody"),t.DNE(24,M,19,8,"tr",24),t.k0s()()()()()),2&n){const o=t.XpG();t.R7$(6),t.SpI("",o.users.length," Customers"),t.R7$(18),t.Y8G("ngForOf",o.users)}}function x(n,s){1&n&&(t.j41(0,"div",47),t.nrm(1,"ion-icon",48),t.j41(2,"h3"),t.EFF(3,"No Customers Found!"),t.k0s(),t.j41(4,"p"),t.EFF(5,"Customer data will appear here once they start using your service"),t.k0s()())}const v=[{path:"",component:(()=>{var n;class s{constructor(e,a,i){this.auth=e,this.loadingController=a,this.router=i,this.users=[],this.query="",this.status="",this.isBlocked=0}ngOnInit(){}onSearchChange(e){console.log(e.detail.value),this.query=e.detail.value,this.getAllCustomers()}ionViewDidEnter(){this.getAllCustomers()}filterEvent(e){console.log(e.detail.value),this.status=e.detail.value,this.getAllCustomers()}getAllCustomers(){var e=this;return(0,g.A)(function*(){var a;e.auth.getAllCustomers(e.query,1,50,"","",e.status,e.isBlocked).subscribe({next:(a=(0,g.A)(function*(i){console.log(i),e.users=i.data.content}),function(r){return a.apply(this,arguments)}),error:function(){var a=(0,g.A)(function*(i){console.log(i.error)});return function(r){return a.apply(this,arguments)}}()})})()}viewNotifications(){}openDetailsPage(e){this.router.navigate(["folder","customer","view",e])}segmentChanged(e){console.log(e.detail.value),this.isBlocked=e.detail.value,this.getAllCustomers()}block(e){var i,a=this;this.auth.blockUnblockCustomer({userId:e,status:1}).subscribe({next:(i=(0,g.A)(function*(r){console.log(r),a.getAllCustomers()}),function(m){return i.apply(this,arguments)}),error:function(){var i=(0,g.A)(function*(r){console.log(r)});return function(m){return i.apply(this,arguments)}}()})}unblock(e){var i,a=this;this.auth.blockUnblockCustomer({userId:e,status:0}).subscribe({next:(i=(0,g.A)(function*(r){console.log(r),a.getAllCustomers()}),function(m){return i.apply(this,arguments)}),error:function(){var i=(0,g.A)(function*(r){console.log(r)});return function(m){return i.apply(this,arguments)}}()})}}return(n=s).\u0275fac=function(e){return new(e||n)(t.rXU(C.u),t.rXU(c.Xi),t.rXU(u.Ix))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-customer"]],decls:32,vars:5,consts:[[1,"ion-no-border",3,"translucent"],["color","primary","slot","end","fill","clear",3,"click"],["slot","icon-only","name","notifications-circle-outline"],["slot","icon-only","name","chatbox-ellipses-outline"],["mode","ios","placeholder","Search customers...","inputmode","decimal","type","decimal","showCancelButton","always",3,"ionChange","debounce"],[1,"ion-padding",3,"fullscreen"],[1,"page-header"],[1,"header-content"],[1,"title-section"],[1,"filter-section"],["value","All","fill","outline","interface","popover","placeholder","Select Status",3,"ionChange"],["value","true"],["value","false"],["value","0",1,"filter-segment",3,"ionChange"],["value","0"],["value","1"],["class","table-container",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"table-container"],[1,"table-card"],[1,"table-header"],["color","primary"],[1,"table-responsive"],[1,"modern-table"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"name-cell"],[1,"phone-cell"],[1,"orders-cell"],[1,"address-cell"],[1,"actions-cell"],[1,"action-buttons"],["color","secondary","mode","ios",1,"action-badge",3,"click"],["name","eye-outline","slot","start"],["color","success","mode","ios","class","action-badge",3,"click",4,"ngIf"],["color","tertiary","mode","ios","class","action-badge",3,"click",4,"ngIf"],[1,"status-cell"],["color","success","mode","ios","class","status-badge",4,"ngIf"],["color","medium","mode","ios","class","status-badge",4,"ngIf"],["color","success","mode","ios",1,"action-badge",3,"click"],["name","lock-closed-outline","slot","start"],["color","tertiary","mode","ios",1,"action-badge",3,"click"],["name","lock-open-outline","slot","start"],["color","success","mode","ios",1,"status-badge"],["name","wifi-outline","slot","start"],["color","medium","mode","ios",1,"status-badge"],["name","wifi-off-outline","slot","start"],[1,"empty-state"],["name","people-outline",1,"empty-icon"]],template:function(e,a){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Customers"),t.k0s(),t.j41(4,"ion-button",1),t.bIt("click",function(){return a.viewNotifications()}),t.nrm(5,"ion-icon",2),t.k0s(),t.j41(6,"ion-button",1),t.bIt("click",function(){return a.viewNotifications()}),t.nrm(7,"ion-icon",3),t.k0s()(),t.j41(8,"ion-searchbar",4),t.bIt("ionChange",function(r){return a.onSearchChange(r)}),t.k0s()(),t.j41(9,"ion-content",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"h2"),t.EFF(14,"\u{1f465} Customer Management"),t.k0s(),t.j41(15,"p"),t.EFF(16,"Manage your customer base and their information"),t.k0s()(),t.j41(17,"div",9)(18,"ion-select",10),t.bIt("ionChange",function(r){return a.filterEvent(r)}),t.j41(19,"ion-select-option",11),t.EFF(20,"Online"),t.k0s(),t.j41(21,"ion-select-option",12),t.EFF(22,"Offline"),t.k0s()()()()(),t.j41(23,"ion-segment",13),t.bIt("ionChange",function(r){return a.segmentChanged(r)}),t.j41(24,"ion-segment-button",14)(25,"ion-label"),t.EFF(26,"Active"),t.k0s()(),t.j41(27,"ion-segment-button",15)(28,"ion-label"),t.EFF(29,"Blocked"),t.k0s()()(),t.DNE(30,O,25,2,"div",16)(31,x,6,0,"div",17),t.k0s()),2&e&&(t.Y8G("translucent",!0),t.R7$(8),t.Y8G("debounce",250),t.R7$(),t.Y8G("fullscreen",!0),t.R7$(21),t.Y8G("ngIf",a.users.length>0),t.R7$(),t.Y8G("ngIf",0===a.users.length))},dependencies:[d.Sq,d.bT,c.In,c.Jm,c.W9,c.eU,c.iq,c.he,c.S1,c.Gp,c.eP,c.Nm,c.Ip,c.BC,c.ai,c.Je,c.Gw],styles:[".page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:var(--ion-color-dark)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium);font-size:14px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{min-width:150px}.filter-segment[_ngcontent-%COMP%]{margin-bottom:24px;--background: var(--ion-color-light);--border-radius: 12px}.table-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000014;overflow:hidden}.table-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:var(--ion-color-light);border-bottom:1px solid var(--ion-color-light-shade)}.table-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:var(--ion-color-dark)}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--ion-color-light)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px 12px;text-align:left;font-weight:600;font-size:14px;color:var(--ion-color-dark);border-bottom:2px solid var(--ion-color-light-shade);white-space:nowrap}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{transition:all .2s ease;border-bottom:1px solid var(--ion-color-light-shade)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:var(--ion-color-light)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 12px;vertical-align:middle;font-size:14px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.name-cell[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-dark)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.phone-cell[_ngcontent-%COMP%]{font-family:monospace;color:var(--ion-color-dark);font-weight:500}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.orders-cell[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-primary);text-align:center}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.address-cell[_ngcontent-%COMP%]{color:var(--ion-color-medium);max-width:200px;word-break:break-word}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]{min-width:200px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:12px;font-weight:500;padding:4px 8px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.status-cell[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:12px}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;align-items:center}.action-buttons[_ngcontent-%COMP%]   .action-badge[_ngcontent-%COMP%]{font-size:12px;font-weight:500;padding:6px 12px;border-radius:8px;cursor:pointer;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .action-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #00000026}.action-buttons[_ngcontent-%COMP%]   .action-badge[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;text-align:center;color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:600;color:var(--ion-color-dark)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.4}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{text-align:center}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]{align-self:center}.modern-table[_ngcontent-%COMP%]{font-size:12px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.modern-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:4px}.modern-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-badge[_ngcontent-%COMP%]{font-size:10px;padding:4px 8px}.table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{padding:16px;flex-direction:column;gap:8px;text-align:center}}.table-row[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]}),s})()},{path:"view/:id",loadChildren:()=>l.e(9246).then(l.bind(l,9246)).then(n=>n.ViewPageModule)}];let k=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[u.iI.forChild(v),u.iI]}),s})(),y=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[d.MD,p.YN,c.bv,k]}),s})()}}]);