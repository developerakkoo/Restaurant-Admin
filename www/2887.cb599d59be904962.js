"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2887],{2887:(R,h,d)=>{d.r(h),d.d(h,{LoginPageModule:()=>j});var c=d(177),i=d(4341),l=d(4488),p=d(8986),m=d(467),e=d(4438),P=d(4796),b=d(8490);const L=n=>({"is-invalid":n});function F(n,r){1&n&&(e.j41(0,"div"),e.EFF(1,"Email is required"),e.k0s())}function k(n,r){1&n&&(e.j41(0,"div"),e.EFF(1,"Email must be a valid email address"),e.k0s())}function y(n,r){if(1&n&&(e.j41(0,"div",13),e.DNE(1,F,2,0,"div",14)(2,k,2,0,"div",14),e.k0s()),2&n){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.email.errors.required),e.R7$(),e.Y8G("ngIf",a.f.email.errors.email)}}function C(n,r){1&n&&(e.j41(0,"div"),e.EFF(1,"Password is required"),e.k0s())}function T(n,r){1&n&&(e.j41(0,"div"),e.EFF(1,"Password must be at least 6 characters"),e.k0s())}function G(n,r){if(1&n&&(e.j41(0,"div",13),e.DNE(1,C,2,0,"div",14)(2,T,2,0,"div",14),e.k0s()),2&n){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.password.errors.required),e.R7$(),e.Y8G("ngIf",a.f.password.errors.minlength)}}const E=[{path:"",component:(()=>{var n;class r{constructor(o,t,g,s,u,f,v){this.menuController=o,this.formBuilder=t,this.auth=g,this.data=s,this.router=u,this.loadingController=f,this.toastController=v,this.submitted=!1,this.menuController.enable(!1),this.loginForm=this.formBuilder.group({email:["admindropeat@email.com",[i.k0.required,i.k0.email,i.k0.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["Pass@123",[i.k0.required,i.k0.minLength(6)]]})}ngOnInit(){}get f(){return this.loginForm.controls}presentToast(o,t,g,s){var u=this;return(0,m.A)(function*(){(yield u.toastController.create({message:o,duration:t,position:g,color:s})).present()})()}onSubmit(){var o=this;return(0,m.A)(function*(){if(o.submitted=!0,o.loginForm.invalid)return;let t=yield o.loadingController.create({message:"Logging in...",duration:5e3});var g;yield t.present(),o.auth.login(o.loginForm.value).subscribe({next:(g=(0,m.A)(function*(s){console.log(s);let u=s.accessToken,f=s.refreshToken,v=s.userId;yield o.data.set("accessToken",u),yield o.data.set("refreshToken",f),yield o.data.set("userId",v),yield t.dismiss(),o.presentToast("Login Successfull!",2e3,"top","success"),o.router.navigate(["folder","dash"])}),function(u){return g.apply(this,arguments)}),error:function(){var g=(0,m.A)(function*(s){console.log(s),yield t.dismiss(),o.presentToast(s.error.message,3e3,"top","danger")});return function(u){return g.apply(this,arguments)}}()})})()}}return(n=r).\u0275fac=function(o){return new(o||n)(e.rXU(l._t),e.rXU(i.ok),e.rXU(P.u),e.rXU(b.u),e.rXU(p.Ix),e.rXU(l.Xi),e.rXU(l.K_))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],decls:24,vars:11,consts:[[1,"ion-no-border",3,"translucent"],[1,"ion-text-center"],[3,"fullscreen"],["fixed","",1,"ion-margin-top"],["size","6","offset","3"],["src","assets/logo.svg","alt","","srcset",""],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-block","btn-danger"],["size","6"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,t){1&o&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),e.EFF(3,"Login to DropEat Admin"),e.k0s()()(),e.j41(4,"ion-content",2)(5,"ion-grid",3)(6,"ion-row")(7,"ion-col",4),e.nrm(8,"img",5),e.j41(9,"form",6),e.bIt("ngSubmit",function(){return t.onSubmit()}),e.j41(10,"div",7)(11,"label"),e.EFF(12,"Email"),e.k0s(),e.nrm(13,"input",8),e.DNE(14,y,3,2,"div",9),e.k0s(),e.j41(15,"div",7)(16,"label"),e.EFF(17,"Password"),e.k0s(),e.nrm(18,"input",10),e.DNE(19,G,3,2,"div",9),e.k0s(),e.j41(20,"div",7)(21,"button",11),e.EFF(22,"Login"),e.k0s()()()(),e.nrm(23,"ion-col",12),e.k0s()()()),2&o&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(5),e.Y8G("formGroup",t.loginForm),e.R7$(4),e.Y8G("ngClass",e.eq3(7,L,t.submitted&&t.f.email.errors)),e.R7$(),e.Y8G("ngIf",t.submitted&&t.f.email.errors),e.R7$(4),e.Y8G("ngClass",e.eq3(9,L,t.submitted&&t.f.password.errors)),e.R7$(),e.Y8G("ngIf",t.submitted&&t.f.password.errors))},dependencies:[c.YU,c.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,l.hU,l.W9,l.lO,l.eU,l.ln,l.BC,l.ai],styles:["ion-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}"]}),r})()}];let I=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[p.iI.forChild(E),p.iI]}),r})(),j=(()=>{var n;class r{}return(n=r).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[c.MD,i.YN,i.X1,l.bv,I]}),r})()}}]);