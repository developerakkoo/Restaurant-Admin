"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2469],{2469:(C,f,i)=>{i.r(f),i.d(f,{PartnersPageModule:()=>b});var h=i(177),m=i(4341),l=i(4488),g=i(8986),c=i(467),e=i(4438),P=i(4796);function p(o,u){if(1&o){const s=e.RV6();e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.k0s(),e.j41(6,"th"),e.EFF(7),e.k0s(),e.j41(8,"th"),e.EFF(9),e.k0s(),e.j41(10,"th"),e.EFF(11),e.k0s(),e.j41(12,"th")(13,"ion-badge",17),e.bIt("click",function(){const r=e.eBV(s).$implicit,t=e.XpG();return e.Njj(t.openViewPage(r._id))}),e.EFF(14,"View"),e.k0s(),e.j41(15,"ion-badge",18),e.bIt("click",function(){const r=e.eBV(s).$implicit,t=e.XpG();return e.Njj(t.presentAlertConfirmForDelete(r._id,r.hotels._id))}),e.EFF(16,"Delete"),e.k0s(),e.j41(17,"ion-badge",19),e.bIt("click",function(){const r=e.eBV(s).$implicit,t=e.XpG();return e.Njj(t.openLocationPage(r._id))}),e.EFF(18,"Add Hotel"),e.k0s(),e.j41(19,"ion-toggle",20),e.bIt("ionChange",function(){const r=e.eBV(s).$implicit,t=e.XpG();return e.Njj(t.openhotel(null==r?null:r.hotelId))}),e.k0s()()()}if(2&o){const s=u.$implicit;e.R7$(2),e.JRh(e.i5U(3,7,s.createdAt,"fullDate")),e.R7$(3),e.JRh(s.name),e.R7$(2),e.JRh(null==s||null==s.hotels[0]?null:s.hotels[0].hotelName),e.R7$(2),e.JRh(s.phoneNumber),e.R7$(2),e.JRh(s.email),e.R7$(8),e.Y8G("enableOnOffLabels",!0)("checked",!0===(null==s||null==s.hotelId?null:s.hotelId.isOnline))}}const F=[{path:"",component:(()=>{var o;class u{constructor(n,r,t,a){this.auth=n,this.router=r,this.alertController=t,this.loadingController=a,this.partner=[],this.query="",this.status=0}ngOnInit(){}ionViewDidEnter(){this.getAllPartners()}segmentChanged(n){console.log(n.detail.value),this.status=n.detail.value,this.getAllPartners()}getAllPartners(){var n=this;return(0,c.A)(function*(){var r;n.auth.getAllPartners(n.query,1,50,"","",n.status).subscribe({next:(r=(0,c.A)(function*(t){console.log(t),n.partner=t.data.content}),function(a){return r.apply(this,arguments)}),error:function(){var r=(0,c.A)(function*(t){console.log(t.error)});return function(a){return r.apply(this,arguments)}}()})})()}onSearchChange(n){console.log(n.detail.value),this.query=n.detail.value,this.getAllPartners()}openPartnerRegisterPage(){this.router.navigate(["folder","partners","add"])}viewNotifications(){}openhotel(n){var t,r=this;console.log(n),!0===n.isOnline?this.auth.setHotelLiveStatus(0,n._id).subscribe({next:(t=(0,c.A)(function*(a){console.log(a),r.getAllPartners()}),function(d){return t.apply(this,arguments)}),error:function(){var t=(0,c.A)(function*(a){console.log(a)});return function(d){return t.apply(this,arguments)}}()}):!1===n.isOnline&&this.auth.setHotelLiveStatus(1,n._id).subscribe({next:function(){var t=(0,c.A)(function*(a){console.log(a),r.getAllPartners()});return function(d){return t.apply(this,arguments)}}(),error:function(){var t=(0,c.A)(function*(a){console.log(a)});return function(d){return t.apply(this,arguments)}}()})}closehotel(n){}openLocationPage(n){console.log(n),this.router.navigate(["folder","partners","map",n])}openAddDishPage(n){console.log(n),this.router.navigate(["folder","partners","dish"])}openViewPage(n){console.log(n),this.router.navigate(["folder","partners","view",n])}presentAlertConfirmForDelete(n,r){var t=this;return(0,c.A)(function*(){yield(yield t.alertController.create({header:"Confirm!",message:"Are you sure you want to delete the partner?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel: blah")}},{text:"Okay",handler:()=>{console.log("Confirm Okay"),t.deletePartner(n,r)}}]})).present()})()}deletePartner(n,r){var t;this.auth.deletePartnerComplete(n,r).subscribe({next:(t=(0,c.A)(function*(a){console.log(a)}),function(d){return t.apply(this,arguments)}),error:function(){var t=(0,c.A)(function*(a){console.log(a)});return function(d){return t.apply(this,arguments)}}()})}}return(o=u).\u0275fac=function(n){return new(n||o)(e.rXU(P.u),e.rXU(g.Ix),e.rXU(l.hG),e.rXU(l.Xi))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-partners"]],decls:46,vars:4,consts:[[3,"translucent"],["color","primary","slot","end","fill","clear",3,"click"],["slot","icon-only","name","notifications-circle-outline"],["slot","icon-only","name","chatbox-ellipses-outline"],["mode","ios","placeholder","Search here","inputmode","decimal","type","decimal","showCancelButton","always",3,"ionChange","debounce"],[3,"fullscreen"],["size","9"],["lines","none"],["size","3"],["expand","block",3,"click"],["value","0",3,"ionChange"],["value","0"],["value","1"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["color","secondary","mode","ios",1,"ion-padding",3,"click"],["color","danger","mode","ios",1,"ion-padding","ion-margin-start",3,"click"],["color","primary","mode","ios",1,"ion-padding","ion-margin-start",3,"click"],["slot","end",1,"ion-margin-start",3,"ionChange","enableOnOffLabels","checked"]],template:function(n,r){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Partners"),e.k0s(),e.j41(4,"ion-button",1),e.bIt("click",function(){return r.viewNotifications()}),e.nrm(5,"ion-icon",2),e.k0s(),e.j41(6,"ion-button",1),e.bIt("click",function(){return r.viewNotifications()}),e.nrm(7,"ion-icon",3),e.k0s()(),e.j41(8,"ion-searchbar",4),e.bIt("ionChange",function(a){return r.onSearchChange(a)}),e.k0s()(),e.j41(9,"ion-content",5)(10,"ion-grid")(11,"ion-row")(12,"ion-col",6)(13,"ion-item",7)(14,"ion-label"),e.EFF(15,"Partners "),e.j41(16,"p"),e.EFF(17,"Your partenrs here"),e.k0s()()()(),e.j41(18,"ion-col",8)(19,"ion-button",9),e.bIt("click",function(){return r.openPartnerRegisterPage()}),e.EFF(20," Add new Partner "),e.k0s()()()(),e.j41(21,"ion-segment",10),e.bIt("ionChange",function(a){return r.segmentChanged(a)}),e.j41(22,"ion-segment-button",11)(23,"ion-label"),e.EFF(24,"Active"),e.k0s()(),e.j41(25,"ion-segment-button",12)(26,"ion-label"),e.EFF(27,"Blocked"),e.k0s()()(),e.j41(28,"div",13)(29,"table",14)(30,"thead")(31,"tr")(32,"th",15),e.EFF(33,"Date"),e.k0s(),e.j41(34,"th",15),e.EFF(35,"Partner name"),e.k0s(),e.j41(36,"th",15),e.EFF(37,"Restaurant name"),e.k0s(),e.j41(38,"th",15),e.EFF(39,"Phone No"),e.k0s(),e.j41(40,"th",15),e.EFF(41,"Email"),e.k0s(),e.j41(42,"th",15),e.EFF(43,"Action"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,p,20,10,"tr",16),e.k0s()()()()),2&n&&(e.Y8G("translucent",!0),e.R7$(8),e.Y8G("debounce",250),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(36),e.Y8G("ngForOf",r.partner))},dependencies:[h.Sq,l.In,l.Jm,l.hU,l.W9,l.lO,l.eU,l.iq,l.uz,l.he,l.ln,l.S1,l.Gp,l.eP,l.BC,l.BY,l.ai,l.hB,l.Je,l.Gw,h.vh],styles:[".top-container[_ngcontent-%COMP%]{width:100vw;height:auto;display:flex;flex-direction:row;justify-content:space-between;align-items:center;background-color:#00f}.title-div[_ngcontent-%COMP%]{width:20vw}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:10px;align-items:center;width:auto}ion-select[_ngcontent-%COMP%]{min-width:200px;--max-width: 400px}.badge[_ngcontent-%COMP%]{height:57px;width:149px;border-radius:8px;display:flex;justify-content:center;align-items:center}.badge[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{background-color:#f5dbe0;color:#ff5b5b}"]}),u})()},{path:"add",loadChildren:()=>i.e(2873).then(i.bind(i,2873)).then(o=>o.AddPageModule)},{path:"map/:id",loadChildren:()=>Promise.all([i.e(2076),i.e(4125)]).then(i.bind(i,4125)).then(o=>o.MapPageModule)},{path:"hotels/:lat/:lng",loadChildren:()=>Promise.all([i.e(2076),i.e(1067)]).then(i.bind(i,1067)).then(o=>o.HotelsPageModule)},{path:"dish",loadChildren:()=>i.e(1813).then(i.bind(i,1813)).then(o=>o.DishPageModule)},{path:"view/:id",loadChildren:()=>i.e(6489).then(i.bind(i,6489)).then(o=>o.ViewPageModule)}];let v=(()=>{var o;class u{}return(o=u).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.iI.forChild(F),g.iI]}),u})(),b=(()=>{var o;class u{}return(o=u).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[h.MD,m.YN,l.bv,v]}),u})()}}]);