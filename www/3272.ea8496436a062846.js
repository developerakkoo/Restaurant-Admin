"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3272],{9346:(A,h,i)=>{i.d(h,{Z:()=>v});var f=i(467),m=i(4341),t=i(4438),u=i(4488),_=i(4796),C=i(177);function e(d,y){if(1&d){const g=t.RV6();t.j41(0,"form",6),t.bIt("ngSubmit",function(){t.eBV(g);const n=t.XpG();return t.Njj(n.add())}),t.nrm(1,"ion-input",7),t.j41(2,"ion-button",8),t.EFF(3," Add "),t.k0s()()}if(2&d){const g=t.XpG();t.Y8G("formGroup",g.fb),t.R7$(2),t.Y8G("disabled",g.fb.invalid)}}function P(d,y){if(1&d){const g=t.RV6();t.j41(0,"div")(1,"input",9),t.bIt("change",function(n){t.eBV(g);const o=t.XpG();return t.Njj(o.fileEvent(n))}),t.k0s()()}}let v=(()=>{var d;class y{constructor(a,n,o){this.modalController=a,this.auth=n,this.formBuilder=o,this.isCategoryAdded=!1,this.fb=this.formBuilder.group({categoryName:[,[m.k0.required]]})}ngOnInit(){}close(){this.modalController.dismiss()}fileEvent(a){var n=this;console.log(a.target.files[0]),this.file=a.target.files[0];let o=new FormData;var c;o.append("document",this.file,this.file.name),o.append("categoryId",this.categoryId),this.auth.uploadCategoryImage(o).subscribe({next:(c=(0,f.A)(function*(r){console.log(r),n.modalController.dismiss()}),function(s){return c.apply(this,arguments)}),error:function(){var c=(0,f.A)(function*(r){console.log(r)});return function(s){return c.apply(this,arguments)}}()})}add(){var a=this;return(0,f.A)(function*(){var n;a.auth.addCategory(a.fb.value).subscribe({next:(n=(0,f.A)(function*(o){console.log(o),a.categoryId=o.data._id,a.isCategoryAdded=!0}),function(c){return n.apply(this,arguments)}),error:function(){var n=(0,f.A)(function*(o){console.log(o),a.isCategoryAdded=!1});return function(c){return n.apply(this,arguments)}}()})})()}}return(d=y).\u0275fac=function(a){return new(a||d)(t.rXU(u.W3),t.rXU(_.u),t.rXU(m.ok))},d.\u0275cmp=t.VBU({type:d,selectors:[["app-add"]],decls:9,vars:4,consts:[[1,"ion-no-border",3,"translucent"],["slot","end","fill","clear",3,"click"],["slot","icon-only","name","close"],[1,"ion-padding",3,"fullscreen"],[3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[3,"ngSubmit","formGroup"],["required","","formControlName","categoryName","mode","md","fill","outline","label","Category Name","labelPlacement","stacked","type","text"],["block","","color","primary","type","submit",3,"disabled"],["type","file","id","file",3,"change"]],template:function(a,n){1&a&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Add Category"),t.k0s(),t.j41(4,"ion-button",1),t.bIt("click",function(){return n.close()}),t.nrm(5,"ion-icon",2),t.k0s()()(),t.j41(6,"ion-content",3),t.DNE(7,e,4,2,"form",4)(8,P,2,0,"div",5),t.k0s()),2&a&&(t.Y8G("translucent",!0),t.R7$(6),t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",!n.isCategoryAdded),t.R7$(),t.Y8G("ngIf",n.isCategoryAdded))},dependencies:[C.bT,m.qT,m.BC,m.cb,m.YS,m.j4,m.JD,u.Jm,u.W9,u.eU,u.iq,u.$w,u.BC,u.ai,u.Gw]}),y})()},3272:(A,h,i)=>{i.r(h),i.d(h,{CategoryPageModule:()=>a});var f=i(177),m=i(4341),t=i(4488),u=i(8986),_=i(467),C=i(9346),e=i(4438),P=i(4796);function v(n,o){if(1&n){const c=e.RV6();e.j41(0,"ion-item")(1,"ion-avatar",1),e.nrm(2,"img",11),e.k0s(),e.j41(3,"ion-label"),e.EFF(4),e.nI1(5,"uppercase"),e.k0s(),e.j41(6,"ion-button",12),e.bIt("click",function(){const s=e.eBV(c).$implicit,l=e.XpG();return e.Njj(l.delete(s._id))}),e.nrm(7,"ion-icon",13),e.k0s()()}if(2&n){const c=o.$implicit;e.R7$(2),e.Y8G("src",c.image_url,e.B4B),e.R7$(2),e.JRh(e.bMT(5,2,c.name))}}const y=[{path:"",component:(()=>{var n;class o{constructor(r,s,l){this.router=r,this.auth=s,this.modalController=l,this.query="",this.cats=[]}ngOnInit(){}ionViewDidEnter(){this.getAllCategory()}viewNotifications(){}add(){var r=this;return(0,_.A)(function*(){const s=yield r.modalController.create({component:C.Z,canDismiss:!0,backdropDismiss:!1,animated:!0,mode:"ios",componentProps:{value:123}});yield s.present();const l=yield s.onDidDismiss();console.log(l)})()}getAllCategory(){var s,r=this;this.auth.getAllCategories(this.query).subscribe({next:(s=(0,_.A)(function*(l){console.log(l),r.cats=l.data.content}),function(p){return s.apply(this,arguments)}),error:function(){var s=(0,_.A)(function*(l){console.log(l)});return function(p){return s.apply(this,arguments)}}()})}delete(r){var l,s=this;this.auth.deleteCategory(r).subscribe({next:(l=(0,_.A)(function*(p){console.log(p),s.getAllCategory()}),function(b){return l.apply(this,arguments)}),error:function(){var l=(0,_.A)(function*(p){console.log(p)});return function(b){return l.apply(this,arguments)}}()})}}return(n=o).\u0275fac=function(r){return new(r||n)(e.rXU(u.Ix),e.rXU(P.u),e.rXU(t.W3))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-category"]],decls:22,vars:3,consts:[[3,"translucent"],["slot","start"],["color","primary","slot","end","fill","clear",3,"click"],["slot","icon-only","name","notifications-circle-outline"],["slot","icon-only","name","chatbox-ellipses-outline"],[3,"fullscreen"],["fixed",""],["size","6","offset","3"],[3,"click"],[4,"ngFor","ngForOf"],["size","6"],["crossorigin","anonymous",3,"src"],["fill","clear","color","danger","slot","end",3,"click"],["slot","icon-only","name","trash"]],template:function(r,s){1&r&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Categories"),e.k0s(),e.j41(6,"ion-button",2),e.bIt("click",function(){return s.viewNotifications()}),e.nrm(7,"ion-icon",3),e.k0s(),e.j41(8,"ion-button",2),e.bIt("click",function(){return s.viewNotifications()}),e.nrm(9,"ion-icon",4),e.k0s()()(),e.j41(10,"ion-content",5)(11,"ion-grid",6)(12,"ion-row")(13,"ion-col",7)(14,"ion-list")(15,"ion-list-header")(16,"ion-label"),e.EFF(17,"All Categories"),e.k0s(),e.j41(18,"ion-button",8),e.bIt("click",function(){return s.add()}),e.EFF(19,"Add new"),e.k0s()(),e.DNE(20,v,8,4,"ion-item",9),e.k0s()(),e.nrm(21,"ion-col",10),e.k0s()()()),2&r&&(e.Y8G("translucent",!0),e.R7$(10),e.Y8G("fullscreen",!0),e.R7$(10),e.Y8G("ngForOf",s.cats))},dependencies:[f.Sq,t.mC,t.Jm,t.QW,t.hU,t.W9,t.lO,t.eU,t.iq,t.uz,t.he,t.nf,t.AF,t.MC,t.ln,t.BC,t.ai,f.Pc]}),o})()},{path:"add",loadChildren:()=>i.e(2752).then(i.bind(i,2752)).then(n=>n.AddPageModule)}];let g=(()=>{var n;class o{}return(n=o).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[u.iI.forChild(y),u.iI]}),o})(),a=(()=>{var n;class o{}return(n=o).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.MD,m.YN,t.bv,g]}),o})()}}]);