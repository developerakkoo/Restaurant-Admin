(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1549],{7636:(xs,is)=>{var Pt;(function(){function De(C,A){C.prototype=function ye(C){function A(){}return A.prototype=C,new A}(A.prototype),C.prototype.constructor=C,C.base=A.prototype}function di(C,A,O){return"millisecond"===O?C.setMilliseconds(C.getMilliseconds()+1*A):"second"===O?C.setSeconds(C.getSeconds()+1*A):"minute"===O?C.setMinutes(C.getMinutes()+1*A):"hour"===O?C.setHours(C.getHours()+1*A):"day"===O?C.setDate(C.getDate()+1*A):"week"===O?C.setDate(C.getDate()+7*A):"month"===O?C.setMonth(C.getMonth()+1*A):"year"===O&&C.setFullYear(C.getFullYear()+1*A),C}function kt(C,A){var O=!1;for(0>C&&(O=!0,C*=-1),C=""+C,A=A||1;C.length<A;)C="0"+C;return O?"-"+C:C}function Ge(C){if(!C)return C;for(var A=/\s/,O=(C=C.replace(/^\s\s*/,"")).length;A.test(C.charAt(--O)););return C.slice(0,O+1)}function je(C){C.roundRect=function(A,O,tt,lt,pt,st,Ut,ce){Ut&&(this.fillStyle=Ut),ce&&(this.strokeStyle=ce),typeof pt>"u"&&(pt=5),this.lineWidth=st,this.beginPath(),this.moveTo(A+pt,O),this.lineTo(A+tt-pt,O),this.quadraticCurveTo(A+tt,O,A+tt,O+pt),this.lineTo(A+tt,O+lt-pt),this.quadraticCurveTo(A+tt,O+lt,A+tt-pt,O+lt),this.lineTo(A+pt,O+lt),this.quadraticCurveTo(A,O+lt,A,O+lt-pt),this.lineTo(A,O+pt),this.quadraticCurveTo(A,O,A+pt,O),this.closePath(),Ut&&this.fill(),ce&&0<st&&this.stroke()}}function vi(C,A){return C-A}function zt(C){var A=((16711680&C)>>16).toString(16),O=((65280&C)>>8).toString(16);return C=(255&C).toString(16),"#"+(A=2>A.length?"0"+A:A)+(O=2>O.length?"0"+O:O)+(2>C.length?"0"+C:C)}function Vi(C,A){var tt,O=this.length>>>0;for(0>(tt=0>(tt=Number(A)||0)?Math.ceil(tt):Math.floor(tt))&&(tt+=O);tt<O;tt++)if(tt in this&&this[tt]===C)return tt;return-1}function W(C){return null===C||typeof C>"u"}function mi(C){return C.indexOf||(C.indexOf=Vi),C}function Bi(C,A,O){var tt=C+"_"+A+"_"+(O=O||"normal"),lt=jt[tt];if(isNaN(lt)){try{if(!ai){var pt=document.body;(ai=document.createElement("span")).innerHTML="";var st=document.createTextNode("Mpgyi");ai.appendChild(st),pt.appendChild(ai)}ai.style.display="",ne(ai,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:C,fontSize:A+"px",fontWeight:O}),lt=Math.round(ai.offsetHeight),ai.style.display="none"}catch{lt=Math.ceil(1.1*A)}lt=Math.max(lt,A),jt[tt]=lt}return lt}function xt(C,A){var O=[];if(O={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[C||"solid"])for(var tt=0;tt<O.length;tt++)O[tt]*=A;else O=[];return O}function Rt(C,A,O,tt,lt){return tt=tt||[],lt=W(lt)?!!ze&&{passive:!1,capture:!1}:lt,tt.push([C,A,O,lt]),C.addEventListener?(C.addEventListener(A,O,lt),O):!!C.attachEvent&&(C.attachEvent("on"+A,tt=function(pt){(pt=pt||window.event).preventDefault=pt.preventDefault||function(){pt.returnValue=!1},pt.stopPropagation=pt.stopPropagation||function(){pt.cancelBubble=!0},O.call(C,pt)}),tt)}function Re(C,A,O){for(C=O.getImageData(C*=Je,A*=Je,2,2).data,A=!0,O=0;4>O;O++)if(C[O]!==C[O+4]|C[O]!==C[O+8]|C[O]!==C[O+12]){A=!1;break}return A?C[0]<<16|C[1]<<8|C[2]:0}function qt(C,A,O){return C in A?A[C]:O[C]}function ni(C,A,O,tt){j&&Ri?(tt=!W(tt)&&tt?C.getContext("2d",{willReadFrequently:!0}):C.getContext("2d"),C.width=A*(Je=Xi/(os=tt.webkitBackingStorePixelRatio||tt.mozBackingStorePixelRatio||tt.msBackingStorePixelRatio||tt.oBackingStorePixelRatio||tt.backingStorePixelRatio||1)),C.height=O*Je,Xi!==os&&(C.style.width=A+"px",C.style.height=O+"px",tt.scale(Je,Je))):(C.width=A,C.height=O)}function qe(C,A,O){Ei&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var tt=document.createElement("canvas");return tt.setAttribute("class","canvasjs-chart-canvas"),ni(tt,C,A,O),j||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(tt),tt}function ne(C,A){for(var O in A)C.style[O]=A[O]}function Ve(C,A,O){A.getAttribute("state")||(A.style.backgroundColor=C.toolbar.itemBackgroundColor,A.style.color=C.toolbar.fontColor,A.style.border="none",ne(A,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),A.getAttribute("state")!==O&&(A.setAttribute("state",O),A.setAttribute("type","button"),ne(A,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),A.innerHTML="<img src='"+Li[O].image+"' alt='"+C._cultureInfo[O+"Text"]+"' />",ne(A.childNodes[0],{height:"95%",pointerEvents:"none"})),A.setAttribute("title",C._cultureInfo[O+"Text"])}function ge(){for(var C=null,A=0;A<arguments.length;A++)(C=arguments[A]).style&&(C.style.display="inline")}function ti(){for(var C=null,A=0;A<arguments.length;A++)(C=arguments[A])&&C.style&&(C.style.display="none")}function Oi(C,A,O,tt,lt){return null===C||typeof C>"u"?typeof O>"u"?A:O:(C=parseFloat(C.toString())*(0<=C.toString().indexOf("%")?A/100:1),typeof tt<"u"&&(C=Math.min(tt,C),typeof lt<"u"&&(C=Math.max(lt,C))),!isNaN(C)&&C<=A&&0<=C?C:typeof O>"u"?A:O)}function ve(C,A,O,tt,lt){this._defaultsKey=C,this._themeOptionsKey=A,this._index=tt,this.parent=lt,this._eventListeners=[],C={},this.theme&&W(this.parent)&&W(A)&&W(tt)?C=W(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[A]&&(null===tt?C=this.parent.themeOptions[A]:0<this.parent.themeOptions[A].length&&(tt=Math.min(this.parent.themeOptions[A].length-1,tt),C=this.parent.themeOptions[A][tt])),this.themeOptions=C,this.options=O||{_isPlaceholder:!0},this.setOptions(this.options,C)}function Fi(C,A,O,tt,lt){typeof lt>"u"&&(lt=0),this._padding=lt,this._x1=C,this._y1=A,this._x2=O,this._y2=tt,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function ee(C,A){ee.base.constructor.call(this,"TextBlock",null,A,null,null),this.ctx=C,this._isDirty=!0,this._wrappedText=null,this._initialize()}function ki(C,A){ki.base.constructor.call(this,"Toolbar","toolbar",A,null,C),this.chart=C,this.canvas=C.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function fi(C,A){if(fi.base.constructor.call(this,"Title","title",A,null,C),this.chart=C,this.canvas=C.canvas,this.ctx=this.chart.ctx,this.optionsName="title",W(this.options.margin)&&C.options.subtitles)for(var O=C.options.subtitles,tt=0;tt<O.length;tt++)if((W(O[tt].horizontalAlign)&&"center"===this.horizontalAlign||O[tt].horizontalAlign===this.horizontalAlign)&&(W(O[tt].verticalAlign)&&"top"===this.verticalAlign||O[tt].verticalAlign===this.verticalAlign)&&!O[tt].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function _i(C,A,O){_i.base.constructor.call(this,"Subtitle","subtitles",A,O,C),this.chart=C,this.canvas=C.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Si(){this.pool=[]}function ci(C){var A;C&&Et[C]&&(A=Et[C]),ci.base.constructor.call(this,"CultureInfo",null,A,null,null)}var at,ft,bt,Xt,ae,Ei=!1,ei={},j=!!document.createElement("canvas").getContext,pi={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:j?"transparent":null,margin:5,wrap:!0,maxWidth:null,textAlign:"center",dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,textAlign:"center",dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:j?"transparent":null,borderColor:j?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:j?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:j?"transparent":null,titleBorderColor:j?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,titleTextAlign:"left",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:j?"transparent":null,labelBorderColor:j?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:j?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:j?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,labelTextAlign:"left",showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelTextAlign:"left",labelBackgroundColor:j?"grey":null,labelBorderColor:j?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:j?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelBorderColor:null,indexLabelBorderThickness:0,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,explodeOnClick:!0,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:!1,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:j?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:j?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},Et={en:{}},V=j?"Trebuchet MS, Helvetica, sans-serif":"Arial",G=j?"Impact, Charcoal, sans-serif":"Arial",it={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},me={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:G,fontSize:32,fontColor:ft="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:G,fontSize:yt=14,fontColor:ft,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:V,indexLabelFontSize:yt,indexLabelFontColor:ft,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Ct=20,titleFontColor:ft,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:at="#666666",tickThickness:1,tickColor:at,gridThickness:0,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ae=Xt="#000000",color:Xt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:ft,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt,labelFontWeight:"normal",lineThickness:1,lineColor:at,tickThickness:1,tickColor:at,gridThickness:0,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ae,color:Xt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:ft,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt,labelFontWeight:"normal",lineThickness:1,lineColor:at,tickThickness:1,tickColor:at,gridThickness:1,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ae,color:Xt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:ft,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt,labelFontWeight:"normal",lineThickness:1,lineColor:at,tickThickness:1,tickColor:at,gridThickness:1,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ae,color:Xt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:V,fontSize:14,fontColor:ft,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};bt=ft="#F5F5F5",at="#FFFFFF",Xt="#40BAF1",ae="#F5F5F5";var $t={colorSet:"colorSet2",title:{fontFamily:V,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:V,fontSize:yt=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:V,indexLabelFontSize:yt,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Ct=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:V,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};bt=ft="#F5F5F5",G={colorSet:"colorSet1",backgroundColor:"#2A2A2A",title:{fontFamily:G,fontSize:32,fontColor:ft,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:G,fontSize:yt=14,fontColor:ft,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:V,indexLabelFontSize:yt,indexLabelFontColor:bt,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Ct=20,titleFontColor:bt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt,labelFontWeight:"normal",lineThickness:1,lineColor:at="#FFFFFF",tickThickness:1,tickColor:at,gridThickness:0,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae="#F5F5F5",color:Xt="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:bt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt,labelFontWeight:"normal",lineThickness:1,lineColor:at,tickThickness:1,tickColor:at,gridThickness:0,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Xt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:bt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt,labelFontWeight:"normal",lineThickness:1,lineColor:at,tickThickness:1,tickColor:at,gridThickness:1,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Xt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:bt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt,labelFontWeight:"normal",lineThickness:1,lineColor:at,tickThickness:1,tickColor:at,gridThickness:1,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Xt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:V,fontSize:14,fontColor:ft,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:bt,backgroundColor:"rgba(0, 0, 0, .7)"}},bt=ft="#FAFAFA";var Ct,yt,Ot={light1:me,light2:$t,dark1:G,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:V,fontSize:32,fontColor:ft,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:V,fontSize:yt=14,fontColor:ft,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:V,indexLabelFontSize:yt,indexLabelFontColor:bt,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Ct=20,titleFontColor:bt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt,labelFontWeight:"normal",lineThickness:1,lineColor:at="#FFFFFF",tickThickness:1,tickColor:at,gridThickness:0,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae="#F5F5F5",color:Xt="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:bt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt,labelFontWeight:"normal",lineThickness:1,lineColor:at,tickThickness:1,tickColor:at,gridThickness:0,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Xt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:bt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt,labelFontWeight:"normal",lineThickness:0,lineColor:at,tickThickness:1,tickColor:at,gridThickness:1,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Xt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:V,titleFontSize:Ct,titleFontColor:bt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:yt,labelFontColor:bt,labelFontWeight:"normal",lineThickness:0,lineColor:at,tickThickness:1,tickColor:at,gridThickness:1,gridColor:at,stripLines:[{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:yt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Xt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:V,fontSize:14,fontColor:ft,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:bt,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:me,theme2:$t,theme3:me},Vt={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};ei.fSDec=function(C){for(var A="",O=0;O<C.length;O++)A+=String.fromCharCode(Math.ceil(C.length/57/5)^C.charCodeAt(O));return A},delete pi[ei.fSDec("Bi`su")][ei.fSDec("bsdehuIsdg")],ei.pro={sCH:pi[ei.fSDec("Bi`su")][ei.fSDec("bsdehuIsdg")]};var C,A,O,tt,lt,pt,st,ze=function(){var C=!1;try{var A=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return C=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,A),window.removeEventListener("test",null,A))}catch{C=!1}return C}(),jt={},ai=null,ss=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},fe=function(C){C.width=1,C.height=1,C.getContext("2d")&&C.getContext("2d").clearRect(0,0,1,1)},ke=function(C,A,O){return A=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=A?12:11,Math.round(A*(C/400)))},Ti=(C=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,A="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),O="Sun Mon Tue Wed Thu Fri Sat".split(" "),tt="January February March April May June July August September October November December".split(" "),lt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),pt=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,st=/[^-+\dA-Z]/g,function(Ut,ce,It){var We=It?It.days:A,Te=It?It.months:tt,Se=It?It.shortDays:O,Qt=It?It.shortMonths:lt;It="";var Ne=!1;if(Ut=Ut&&Ut.getTime?Ut:Ut?new Date(Ut):new Date,isNaN(Ut))throw SyntaxError("invalid date");"UTC:"===ce.slice(0,4)&&(ce=ce.slice(4),Ne=!0);var Ke=Ut[(It=Ne?"getUTC":"get")+"Date"](),Dt=Ut[It+"Day"](),ue=Ut[It+"Month"](),t=Ut[It+"FullYear"](),d=Ut[It+"Hours"](),o=Ut[It+"Minutes"](),n=Ut[It+"Seconds"](),l=Ut[It+"Milliseconds"](),p=Ne?0:Ut.getTimezoneOffset();return ce.replace(C,function(m){switch(m){case"D":return Ke;case"DD":return kt(Ke,2);case"DDD":return Se[Dt];case"DDDD":return We[Dt];case"M":return ue+1;case"MM":return kt(ue+1,2);case"MMM":return Qt[ue];case"MMMM":return Te[ue];case"Y":return parseInt(String(t).slice(-2));case"YY":return kt(String(t).slice(-2),2);case"YYY":return kt(String(t).slice(-3),3);case"YYYY":return kt(t,4);case"h":return d%12||12;case"hh":return kt(d%12||12,2);case"H":return d;case"HH":return kt(d,2);case"m":return o;case"mm":return kt(o,2);case"s":return n;case"ss":return kt(n,2);case"f":return kt(String(l),3).slice(0,1);case"ff":return kt(String(l),3).slice(0,2);case"fff":return kt(String(l),3).slice(0,3);case"t":return 12>d?"a":"p";case"tt":return 12>d?"am":"pm";case"T":return 12>d?"A":"P";case"TT":return 12>d?"AM":"PM";case"K":return Ne?"UTC":(String(Ut).match(pt)||[""]).pop().replace(st,"");case"z":return(0<p?"-":"+")+Math.floor(Math.abs(p)/60);case"zz":return(0<p?"-":"+")+kt(Math.floor(Math.abs(p)/60),2);case"zzz":return(0<p?"-":"+")+kt(Math.floor(Math.abs(p)/60),2)+kt(Math.abs(p)%60,2);default:return m.slice(1,m.length-1)}})}),Be=function(C,A,O){if(null===C)return"";if(!isFinite(C))return C;var tt=0>(C=Number(C));tt&&(C*=-1);var lt=O?O.decimalSeparator:".",pt=O?O.digitGroupSeparator:",",st="";A=String(A),st=1;var Ke=O="",Ut=-1,ce=[],It=[],We=0,Te=0,Se=0,Qt=!1,Ne=0;Ke=A.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),A=null;for(var Dt=0;Ke&&Dt<Ke.length;Dt++)if("."===(A=Ke[Dt])&&0>Ut)Ut=Dt;else{if("%"===A)st*=100;else{if("\u2030"===A){st*=1e3;continue}if(","===A[0]&&"."===A[A.length-1]){st/=Math.pow(1e3,A.length-1),Ut=Dt+A.length-1;continue}"E"!==A[0]&&"e"!==A[0]||"0"!==A[A.length-1]||(Qt=!0)}0>Ut?(ce.push(A),"#"===A||"0"===A?We++:","===A&&Se++):(It.push(A),"#"!==A&&"0"!==A||Te++)}for(Qt&&(A=Math.floor(C),Ke=-Math.floor(Math.log(C)/Math.LN10+1),Ne=0===C?0:0===A?-(We+Ke):function(C){var A=0>C;if(1>Math.abs(C)){var O=parseInt(C.toString().split("e-")[1]);O&&(C=(A?-1*C:C)*Math.pow(10,O-1),C="0."+Array(O).join("0")+C.toString().substring(2),C=A?"-"+C:C)}else 20<(O=parseInt(C.toString().split("+")[1]))&&(O-=20,C=(C/=Math.pow(10,O)).toString()+Array(O+1).join("0"));return String(C)}(A).length-We,st/=Math.pow(10,Ne)),0>Ut&&(Ut=Dt),A=(st=(C*st).toFixed(Te)).split("."),st=(A[0]+"").split(""),C=(A[1]+"").split(""),st&&"0"===st[0]&&st.shift(),Qt=Ke=Dt=Te=Ut=0;0<ce.length;)if("#"===(A=ce.pop())||"0"===A)if(++Ut===We){var ue=st;if(st=[],"0"===A)for(A=We-Te-(ue?ue.length:0);0<A;)ue.unshift("0"),A--;for(;0<ue.length;)O=ue.pop()+O,++Qt%Ke==0&&Dt===Se&&0<ue.length&&(O=pt+O)}else 0<st.length?(O=st.pop()+O,Te++,Qt++):"0"===A&&(O="0"+O,Te++,Qt++),Qt%Ke==0&&Dt===Se&&0<st.length&&(O=pt+O);else"E"!==A[0]&&"e"!==A[0]||"0"!==A[A.length-1]||!/[eE][+-]*[0]+/.test(A)?","===A?(Dt++,Ke=Qt,Qt=0,0<st.length&&(O=pt+O)):O=1<A.length&&('"'===A[0]&&'"'===A[A.length-1]||"'"===A[0]&&"'"===A[A.length-1])?A.slice(1,A.length-1)+O:A+O:O+=(A=0>Ne?A.replace("+","").replace("-",""):A.replace("-","")).replace(/[0]+/,function(t){return kt(Ne,t.length)});for(pt="",ce=!1;0<It.length;)"#"===(A=It.shift())||"0"===A?0<C.length&&0!==Number(C.join(""))?(pt+=C.shift(),ce=!0):"0"===A&&(pt+="0",ce=!0):1<A.length&&('"'===A[0]&&'"'===A[A.length-1]||"'"===A[0]&&"'"===A[A.length-1])?pt+=A.slice(1,A.length-1):"E"!==A[0]&&"e"!==A[0]||"0"!==A[A.length-1]||!/[eE][+-]*[0]+/.test(A)?pt+=A:pt+=(A=0>Ne?A.replace("+","").replace("-",""):A.replace("-","")).replace(/[0]+/,function(t){return kt(Ne,t.length)});return O+=(ce?lt:"")+pt,tt?"-"+O:O},as=function(C){var A=0,O=0;return(C=C||window.event).offsetX||0===C.offsetX?(A=C.offsetX,O=C.offsetY):C.layerX||0==C.layerX?(A=C.layerX,O=C.layerY):(A=C.pageX-C.target.offsetLeft,O=C.pageY-C.target.offsetTop),{x:A,y:O}},Ri=!0,Xi=window.devicePixelRatio||1,os=1,Je=Ri?Xi/os:1,_e=function(C,A,O,tt,lt,pt,st,Ut,ce,It,We,Te,Se){typeof Se>"u"&&(Se=1),st=st||0,Ut=Ut||"black";var Qt=15<tt-A&&15<lt-O?8:.35*Math.min(tt-A,lt-O);C.beginPath(),C.moveTo(A,O),C.save(),C.fillStyle=pt,C.globalAlpha=Se,C.fillRect(A,O,tt-A,lt-O),C.globalAlpha=1,0<st&&(Se=st%2==0?0:.5,C.beginPath(),C.lineWidth=st,C.strokeStyle=Ut,C.moveTo(A,O),C.rect(A-Se,O-Se,tt-A+2*Se,lt-O+2*Se),C.stroke()),C.restore(),!0===ce&&(C.save(),C.beginPath(),C.moveTo(A,O),C.lineTo(A+Qt,O+Qt),C.lineTo(tt-Qt,O+Qt),C.lineTo(tt,O),C.closePath(),(st=C.createLinearGradient((tt+A)/2,O+Qt,(tt+A)/2,O)).addColorStop(0,pt),st.addColorStop(1,"rgba(255, 255, 255, .4)"),C.fillStyle=st,C.fill(),C.restore()),!0===It&&(C.save(),C.beginPath(),C.moveTo(A,lt),C.lineTo(A+Qt,lt-Qt),C.lineTo(tt-Qt,lt-Qt),C.lineTo(tt,lt),C.closePath(),(st=C.createLinearGradient((tt+A)/2,lt-Qt,(tt+A)/2,lt)).addColorStop(0,pt),st.addColorStop(1,"rgba(255, 255, 255, .4)"),C.fillStyle=st,C.fill(),C.restore()),!0===We&&(C.save(),C.beginPath(),C.moveTo(A,O),C.lineTo(A+Qt,O+Qt),C.lineTo(A+Qt,lt-Qt),C.lineTo(A,lt),C.closePath(),(st=C.createLinearGradient(A+Qt,(lt+O)/2,A,(lt+O)/2)).addColorStop(0,pt),st.addColorStop(1,"rgba(255, 255, 255, 0.1)"),C.fillStyle=st,C.fill(),C.restore()),!0===Te&&(C.save(),C.beginPath(),C.moveTo(tt,O),C.lineTo(tt-Qt,O+Qt),C.lineTo(tt-Qt,lt-Qt),C.lineTo(tt,lt),(st=C.createLinearGradient(tt-Qt,(lt+O)/2,tt,(lt+O)/2)).addColorStop(0,pt),st.addColorStop(1,"rgba(255, 255, 255, 0.1)"),C.fillStyle=st,st.addColorStop(0,pt),st.addColorStop(1,"rgba(255, 255, 255, 0.1)"),C.fillStyle=st,C.fill(),C.closePath(),C.restore())},ii=function(C){for(var A="",O=0;O<C.length;O++)A+=String.fromCharCode(Math.ceil(C.length/57/5)^C.charCodeAt(O));return A},$s=window&&window[ii("mnb`uhno")]&&window[ii("mnb`uhno")].href&&window[ii("mnb`uhno")].href.indexOf&&(-1!==window[ii("mnb`uhno")].href.indexOf(ii("b`ow`rkr/bnl"))||-1!==window[ii("mnb`uhno")].href.indexOf(ii("gdonqhy/bnl"))||-1!==window[ii("mnb`uhno")].href.indexOf(ii("gheemd")))&&-1===window[ii("mnb`uhno")].href.indexOf(ii("gheemd")),Li={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};ve.prototype.setOptions=function(C,A){if(pi[this._defaultsKey]){var tt,O=pi[this._defaultsKey];for(tt in O)"publicProperties"!==tt&&O.hasOwnProperty(tt)&&(this[tt]=C&&tt in C?C[tt]:A&&tt in A?A[tt]:O[tt])}else Ei&&window.console&&console.log("defaults not set")},ve.prototype.get=function(C){var A=pi[this._defaultsKey];return"options"===C?this.options&&this.options._isPlaceholder?null:this.options:A.hasOwnProperty(C)||A.publicProperties&&A.publicProperties.hasOwnProperty(C)?this[C]:void(window.console&&window.console.log('Property "'+C+"\" doesn't exist. Please check for typo."))},ve.prototype.set=function(C,A,O){O=typeof O>"u"||O;var tt=pi[this._defaultsKey];if("options"===C)this.createUserOptions(A);else{if(!(tt.hasOwnProperty(C)||tt.publicProperties&&tt.publicProperties.hasOwnProperty(C)&&"readWrite"===tt.publicProperties[C]))return void(window.console&&(tt.publicProperties&&tt.publicProperties.hasOwnProperty(C)&&"readOnly"===tt.publicProperties[C]?window.console.log('Property "'+C+'" is read-only.'):window.console.log('Property "'+C+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[C]=A}O&&(this.stockChart||this.chart||this).render()},ve.prototype.addTo=function(C,A,O,tt){tt=typeof tt>"u"||tt;var lt=pi[this._defaultsKey];lt.hasOwnProperty(C)||lt.publicProperties&&lt.publicProperties.hasOwnProperty(C)&&"readWrite"===lt.publicProperties[C]?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[C]>"u"&&(this.options[C]=[]),(C=this.options[C]).splice(O=typeof O>"u"||null===O?C.length:O,0,A),tt&&(this.stockChart||this.chart||this).render()):window.console&&(lt.publicProperties&&lt.publicProperties.hasOwnProperty(C)&&"readOnly"===lt.publicProperties[C]?window.console.log('Property "'+C+'" is read-only.'):window.console.log('Property "'+C+"\" doesn't exist. Please check for typo."))},ve.prototype.createUserOptions=function(C){if(typeof C<"u"||this.options._isPlaceholder)if(this.parent&&this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var A=this.parent.options[this.optionsName],O=A.length;this.options._isPlaceholder||(mi(A),O=A.indexOf(this.options)),this.options=typeof C>"u"?{}:C,A[O]=this.options}else this.options=typeof C>"u"?{}:C,this.parent&&(C=this.parent.options,this.optionsName?A=this.optionsName:(A=this._defaultsKey)&&0!==A.length?(O=A.charAt(0).toLowerCase(),1<A.length&&(O=O.concat(A.slice(1))),A=O):A=void 0,C[A]=this.options)},ve.prototype.remove=function(C){if(C=typeof C>"u"||C,this.isOptionsInArray){var A=this.parent.options[this.optionsName];mi(A);var O=A.indexOf(this.options);0<=O&&A.splice(O,1)}else delete this.parent.options[this.optionsName];C&&(this.stockChart||this.chart||this).render()},ve.prototype.updateOption=function(C){!pi[this._defaultsKey]&&Ei&&window.console&&console.log("defaults not set");var A=pi[this._defaultsKey],O={},tt=this[C],lt=this._themeOptionsKey,pt=this._index;return this.theme&&W(this.parent)&&W(lt)&&W(pt)?O=W(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&(this.options.theme?"Chart"===this._defaultsKey&&Ot[this.options.theme]?O=Ot[this.options.theme]:stockThemes[this.options.theme]&&(O=stockThemes[this.options.theme][lt]):this.parent.themeOptions[lt]&&(null===pt?O=this.parent.themeOptions[lt]:0<this.parent.themeOptions[lt].length&&(O=Math.min(this.parent.themeOptions[lt].length-1,pt),O=this.parent.themeOptions[lt][O]))),this.themeOptions=O,C in A&&(tt=C in this.options?this.options[C]:O&&C in O?O[C]:A[C]),tt!==this[C]&&(this[C]=tt,!0)},ve.prototype.trackChanges=function(C){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[C]=this.options[C]},ve.prototype.isBeingTracked=function(C){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[C]},ve.prototype.hasOptionChanged=function(C){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[C]!==this.options[C]},ve.prototype.addEventListener=function(C,A,O){C&&A&&(this._eventListeners[C]=this._eventListeners[C]||[],this._eventListeners[C].push({context:O||this,eventHandler:A}))},ve.prototype.removeEventListener=function(C,A){if(C&&A&&this._eventListeners[C])for(var O=this._eventListeners[C],tt=0;tt<O.length;tt++)if(O[tt].eventHandler===A){O[tt].splice(tt,1);break}},ve.prototype.removeAllEventListeners=function(){this._eventListeners=[]},ve.prototype.dispatchEvent=function(C,A,O){if(C&&this._eventListeners[C]){A=A||{};for(var tt=this._eventListeners[C],lt=0;lt<tt.length;lt++)tt[lt].eventHandler.call(tt[lt].context,A)}"function"==typeof this[C]&&this[C].call(O||this.chart,A)},Fi.prototype.registerSpace=function(C,A){"top"===C?this._topOccupied+=A.height:"bottom"===C?this._bottomOccupied+=A.height:"left"===C?this._leftOccupied+=A.width:"right"===C&&(this._rightOccupied+=A.width)},Fi.prototype.unRegisterSpace=function(C,A){"top"===C?this._topOccupied-=A.height:"bottom"===C?this._bottomOccupied-=A.height:"left"===C?this._leftOccupied-=A.width:"right"===C&&(this._rightOccupied-=A.width)},Fi.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},Fi.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},De(ee,ve),ee.prototype._initialize=function(){W(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=W(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=W(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=W(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=W(this.padding.left)?0:0|Number(this.padding.left))},ee.prototype.render=function(C){if(0!==this.fontSize){C&&this.ctx.save();var A=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var O=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+O),"middle"===this.textBaseline&&(O=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var tt=0,lt=this.topPadding,pt=null;for(this.ctx.roundRect||je(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,O,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,O=0;O<this._wrappedText.lines.length;O++)pt=this._wrappedText.lines[O],"right"===this.textAlign?tt=this.width-pt.width-this.rightPadding:"left"===this.textAlign?tt=this.leftPadding:"center"===this.textAlign&&(tt=(this.width-(this.leftPadding+this.rightPadding))/2-pt.width/2+this.leftPadding),this.ctx.fillText(pt.text,tt,lt),lt+=pt.height;this.ctx.font=A,C&&this.ctx.restore()}},ee.prototype.setText=function(C){this.text=C,this._isDirty=!0,this._wrappedText=null},ee.prototype.measureText=function(){if(this._lineHeight=Bi(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},ee.prototype._getLineWithWidth=function(C,A,O){if(!(C=String(C)))return{text:"",width:0};var tt=O=0,lt=C.length-1,pt=1/0;for(this.ctx.font=this._getFontString();tt<=lt;){pt=Math.floor((tt+lt)/2);var st=C.substr(0,pt+1);if((O=this.ctx.measureText(st).width)<A)tt=pt+1;else{if(!(O>A))break;lt=pt-1}}return O>A&&1<st.length&&(st=st.substr(0,st.length-1),O=this.ctx.measureText(st).width),A=!0,(st.length===C.length||" "===C[st.length])&&(A=!1),A&&(1<(C=st.split(" ")).length&&C.pop(),st=C.join(" "),O=this.ctx.measureText(st).width),{text:st,width:O}},ee.prototype._wrapText=function(){var C=new String(Ge(String(this.text))),A=[],O=this.ctx.font,tt=0,lt=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)lt=tt=0;else for(;0<C.length;){var pt=this.maxHeight-(this.topPadding+this.bottomPadding),st=this._getLineWithWidth(C,this.maxWidth-(this.leftPadding+this.rightPadding),!1);st.height=this._lineHeight,A.push(st);var Ut=lt;lt=Math.max(lt,st.width),tt+=st.height,C=Ge(C.slice(st.text.length,C.length)),pt&&tt>pt&&(tt-=(st=A.pop()).height,lt=Ut)}this._wrappedText={lines:A,width:lt,height:tt},this.width=lt+(this.leftPadding+this.rightPadding),this.height=tt+(this.topPadding+this.bottomPadding),this.ctx.font=O},ee.prototype._getFontString=function(){var C;C=this.fontStyle?this.fontStyle+" ":"",C+=this.fontWeight?this.fontWeight+" ":"",C+=this.fontSize?this.fontSize+"px ":"";var A=this.fontFamily?this.fontFamily+"":"";return!j&&A&&"'"!==(A=A.split(",")[0])[0]&&'"'!==A[0]&&(A="'"+A+"'"),C+A},De(ki,ve),De(fi,ve),fi.prototype.setLayout=function(){if(this.text){var Ut,ce,It,C=this.dockInsidePlotArea?this.chart.plotArea:this.chart,A=C.layoutManager.getFreeSpace(),O=A.x1,tt=A.y1,lt=0,pt=0,st=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?40:0;this.textAlign=W(this.options.textAlign)?this.horizontalAlign:this.textAlign,"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=A.width-4-st*("center"===this.horizontalAlign?2:1)),pt=.5*A.height-this.margin-2,lt=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=A.height-4),pt=.5*A.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=A.width-4),pt=.5*A.height-4)),W(this.padding)||"number"!=typeof this.padding?W(this.padding)||"object"!=typeof this.padding||(It=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,It+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):It=2*this.padding,this.wrap||(pt=Math.min(pt,1.5*this.fontSize+It)),It=(pt=new ee(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,textAlign:this.textAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:pt,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"middle"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(tt=A.y1+2+this.fontSize/2+4,ce="top"):"bottom"===this.verticalAlign&&(tt=A.y2-2-It.height+this.fontSize/2+4,ce="bottom"),"left"===this.horizontalAlign?O=A.x1+2:"center"===this.horizontalAlign?O=A.x1+A.width/2-It.width/2:"right"===this.horizontalAlign&&(O=A.x2-2-It.width-st),Ut=this.horizontalAlign,this.width=It.width,this.height=It.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(O=A.x1+2+(this.fontSize/2+4),tt=A.y2-2-(this.maxWidth/2-It.width/2),lt=-90,ce="left",this.width=It.height,this.height=It.width):"right"===this.horizontalAlign?(O=A.x2-2-(this.fontSize/2+4),tt=A.y1+2+(this.maxWidth/2-It.width/2),lt=90,ce="right",this.width=It.height,this.height=It.width):"center"===this.horizontalAlign&&(tt=C.y1+(C.height/2-It.height/2)+this.fontSize/2+4,O=C.x1+(C.width/2-It.width/2),ce="center",this.width=It.width,this.height=It.height),Ut="center"),pt.x=O,pt.y=tt,pt.angle=lt,pt.horizontalAlign=Ut,this._textBlock=pt,C.layoutManager.registerSpace(ce,{width:this.width+("left"===ce||"right"===ce?this.margin+2:0),height:this.height+("top"===ce||"bottom"===ce?this.margin+2:0)}),this.bounds={x1:O,y1:tt,x2:O+this.width,y2:tt+this.height},this.ctx.textBaseline="top"}},fi.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},De(_i,ve),_i.prototype.setLayout=fi.prototype.setLayout,_i.prototype.render=fi.prototype.render,Si.prototype.get=function(C,A){var O=null;return 0<this.pool.length?ni(O=this.pool.pop(),C,A):O=qe(C,A),O},Si.prototype.release=function(C){this.pool.push(C)},De(ci,ve);var Ui={addTheme:function(C,A){Ot[C]=A},addColorSet:function(C,A){it[C]=A},addCultureInfo:function(C,A){Et[C]=A},formatNumber:function(C,A,O){if(Et[O=O||"en"])return Be(C,A||"#,##0.##",new ci(O));throw"Unknown Culture Name"},formatDate:function(C,A,O){if(Et[O=O||"en"])return Ti(C,A||"DD MMM YYYY",new ci(O));throw"Unknown Culture Name"}};typeof xs.exports<"u"?xs.exports=Ui:void 0!==(Pt=function(){return Ui}.apply(is,[]))&&(xs.exports=Pt),V=Ui.Chart=function(){function C(t,d){return t.x-d.x}function A(t,d,o){d=d||{},W(o)?(this.predefinedThemes=Ot,this.optionsName=this.parent=this.index=null):(this.parent=o.parent,this.index=o.index,this.predefinedThemes=o.predefinedThemes,this.optionsName=o.optionsName,this.stockChart=o.stockChart,this.panel=t,this.isOptionsInArray=o.isOptionsInArray),this.theme=W(d.theme)||W(this.predefinedThemes[d.theme])?"light1":d.theme,A.base.constructor.call(this,"Chart",this.optionsName,d,this.index,this.parent);var n=this;this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new Si,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",d=t=0,d=o&&o.height?o.height:this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=t=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,this.height=d,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof it[this.colorSet]<"u"?it[this.colorSet]:it.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",j||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=qe(t,d),this._preRenderCanvas=qe(t,d),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",je(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",je(this._preRenderCtx),j?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=qe(t,d),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=qe(t,d),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",je(this.overlaidCanvasCtx)),this._eventManager=new Se(this),this.windowResizeHandler=Rt(window,"resize",function(){n._updateSize()&&(n.render(),n.isNavigator&&n.stockChart&&n.stockChart.navigator&&n.stockChart.navigator.enabled&&n.stockChart.navigator._updateSlider(n.stockChart._axisXMin,n.stockChart._axisXMax))},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),ne(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},Rt(this.overlaidCanvas,"click",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,"mousemove",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,"mouseup",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,"mousedown",function(l){n._mouseEventHandler(l),ti(n._dropdownMenu)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,"mouseout",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),this.toolTip=new Te(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function O(t,d){for(var n,o=[],l=0;l<t.length;l++)if(0==l)o.push(t[0]);else{var p,m,M;p=0==(M=l-1)?0:M-1,m=M===t.length-1?M:M+1,n=Math.abs((t[m].x-t[p].x)/(t[m].x-t[M].x==0?.01:t[m].x-t[M].x))*(d-1)/2+1;var T=(t[m].x-t[p].x)/n;n=(t[m].y-t[p].y)/n,o[o.length]=t[M].x>t[p].x&&0<T||t[M].x<t[p].x&&0>T?{x:t[M].x+T/3,y:t[M].y+n/3}:{x:t[M].x,y:t[M].y+(1===o.length?0:n/9)},p=0===(M=l)?0:M-1,m=M===t.length-1?M:M+1,n=Math.abs((t[m].x-t[p].x)/(t[M].x-t[p].x==0?.01:t[M].x-t[p].x))*(d-1)/2+1,T=(t[m].x-t[p].x)/n,n=(t[m].y-t[p].y)/n,o[o.length]=t[M].x>t[p].x&&0<T||t[M].x<t[p].x&&0>T?{x:t[M].x-T/3,y:t[M].y-n/3}:{x:t[M].x,y:t[M].y-n/9},o[o.length]=t[l]}return o}function tt(t,d,o,n,l,p,m,M,T,f){var g=0;f?(m.color=p,M.color=p):f=1,g=Math.abs(T?l-o:n-d),g=0<m.trimLength?Math.abs(g*m.trimLength/100):Math.abs(g-m.length),T?(o+=g/2,l-=g/2):(d+=g/2,n-=g/2),g=Math.round(m.thickness)%2==1?.5:0;var b=Math.round(M.thickness)%2==1?.5:0;t.save(),t.globalAlpha=f,t.strokeStyle=M.color||p,t.lineWidth=M.thickness||2,t.setLineDash&&t.setLineDash(xt(M.dashType,M.thickness)),t.beginPath(),T&&0<M.thickness?(t.moveTo(n-m.thickness/2,Math.round((o+l)/2)-b),t.lineTo(d+m.thickness/2,Math.round((o+l)/2)-b)):0<M.thickness&&(t.moveTo(Math.round((d+n)/2)-b,o+m.thickness/2),t.lineTo(Math.round((d+n)/2)-b,l-m.thickness/2)),t.stroke(),t.strokeStyle=m.color||p,t.lineWidth=m.thickness||2,t.setLineDash&&t.setLineDash(xt(m.dashType,m.thickness)),t.beginPath(),T&&0<m.thickness?(t.moveTo(n-g,o),t.lineTo(n-g,l),t.moveTo(d+g,o),t.lineTo(d+g,l)):0<m.thickness&&(t.moveTo(d,o+g),t.lineTo(n,o+g),t.moveTo(d,l-g),t.lineTo(n,l-g)),t.stroke(),t.restore()}function lt(t,d){lt.base.constructor.call(this,"Legend","legend",d,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=Bi(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function pt(t,d,o,n){for(pt.base.constructor.call(this,"DataSeries","data",d,o,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=o,this.noDataPointsInPlotArea=0,this.id=n,this.chart._eventManager.objectMap[n]={id:n,objectType:"dataSeries",dataSeriesIndex:o},t=d.dataPoints?d.dataPoints.length:0,this.dataPointEOs=[],d=0;d<t;d++)this.dataPointEOs[d]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function st(t,d,o,n,l,p){if(st.base.constructor.call(this,"Axis",d,o,n,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===l?("left"===p||"bottom"===p?(this.optionsName="axisX",W(this.chart.sessionVariables.axisX[n])&&(this.chart.sessionVariables.axisX[n]={}),this.sessionVariables=this.chart.sessionVariables.axisX[n]):(this.optionsName="axisX2",W(this.chart.sessionVariables.axisX2[n])&&(this.chart.sessionVariables.axisX2[n]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[n]),this.options.interval||(this.intervalType=null)):"left"===p||"bottom"===p?(this.optionsName="axisY",W(this.chart.sessionVariables.axisY[n])&&(this.chart.sessionVariables.axisY[n]={}),this.sessionVariables=this.chart.sessionVariables.axisY[n]):(this.optionsName="axisY2",W(this.chart.sessionVariables.axisY2[n])&&(this.chart.sessionVariables.axisY2[n]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[n]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=l,"axisX"!==l||o&&typeof o.gridThickness<"u"||(this.gridThickness=0),this._position=p,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new Ut(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(t=0;t<this.options.stripLines.length;t++)this.stripLines.push(new It(this.chart,this.options.stripLines[t],t,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new We(this.chart,this.options.crosshair,this),this.crosshair._updatedValue=W(this.sessionVariables.crosshairValue)?null:this.sessionVariables.crosshairValue),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function Ut(t,d,o,n){if(Ut.base.constructor.call(this,"ScaleBreaks","scaleBreaks",d,null,n),this.id=o,this.chart=t,this.ctx=this.chart.ctx,this.axis=n,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(t=0;t<this.options.customBreaks.length;t++)this.customBreaks.push(new ce(this.chart,"customBreaks",this.options.customBreaks[t],t,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[t].startValue&&"number"==typeof this.customBreaks[t].endValue&&this.customBreaks[t].endValue!==this.customBreaks[t].startValue&&this._appliedBreaks.push(this.customBreaks[t]);for(this._appliedBreaks.sort(function(l,p){return l.startValue-p.startValue}),t=0;t<this._appliedBreaks.length-1;t++)this._appliedBreaks[t].endValue>=this._appliedBreaks[t+1].startValue&&(this._appliedBreaks[t].endValue=Math.max(this._appliedBreaks[t].endValue,this._appliedBreaks[t+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+t+" and "+(t+1)+" are overlapping."),this._appliedBreaks.splice(t,2),t--)}}function ce(t,d,o,n,l,p){ce.base.constructor.call(this,"Break",d,o,n,p),this.id=l,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=p,this.optionsName=d,this.isOptionsInArray=!0,this.type=o.type?this.type:p.type,this.fillOpacity=W(o.fillOpacity)?p.fillOpacity:this.fillOpacity,this.lineThickness=W(o.lineThickness)?p.lineThickness:this.lineThickness,this.color=o.color?this.color:p.color,this.lineColor=o.lineColor?this.lineColor:p.lineColor,this.lineDashType=o.lineDashType?this.lineDashType:p.lineDashType,!W(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!W(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(t=this.startValue,this.startValue=this.endValue,this.endValue=t),this.spacing=typeof o.spacing>"u"?p.spacing:o.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=p.spacing),this.size=p.parent.logarithmic?1:0}function It(t,d,o,n,l){It.base.constructor.call(this,"StripLine","stripLines",d,o,l),this.id=n,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=l,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=l.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function We(t,d,o){We.base.constructor.call(this,"Crosshair","crosshair",d,null,o),this.chart=t,this.ctx=this.chart.ctx,this.axis=o,this.optionsName="crosshair",this._thicknessType="pixel"}function Te(t,d){Te.base.constructor.call(this,"ToolTip","toolTip",d,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function Se(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=qe(this.chart.width,this.chart.height,!0),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function Qt(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}De(A,ve),A.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var d=0;d<t.length;d++){var o=t[d][0],n=t[d][1],l=t[d][2],p=(p=t[d][3])||!1;o.removeEventListener?o.removeEventListener(n,l,p):o.detachEvent&&o.detachEvent("on"+n,l)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&fe(this.canvas),this.overlaidCanvas&&fe(this.overlaidCanvas),this._preRenderCanvas&&fe(this._preRenderCanvas),this._breaksCanvas&&fe(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&fe(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},A.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.theme<"u"&&W(this.options.theme)&&(this.theme=this.stockChart.theme),this.updateOption("colorSet")&&(this.selectedColorSet=typeof it[this.colorSet]<"u"?it[this.colorSet]:it.colorSet1),this.updateOption("backgroundColor"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.backgroundColor<"u"&&W(this.options.backgroundColor)&&(this.backgroundColor=this.stockChart.backgroundColor),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this.stockChart&&W(this.options.culture)&&(this.culture=this.stockChart.culture),this._cultureInfo=new ci(this.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&j,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new ki(this,this.options.toolbar),this.stockChart&&this.stockChart.options&&this.stockChart.options.toolbar&&!this.options.toolbar)for(var d in this.stockChart.options.toolbar)this.toolbar[d]=this.stockChart.options.toolbar[d];if(this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)ne(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&this._zoomButton.childNodes[0]&&ne(this._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"});else{var o=!1;ti(this._zoomButton=document.createElement("button")),Ve(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,Rt(this._zoomButton,"touchstart",function(n){o=!0},this.allDOMEventHandlers),Rt(this._zoomButton,"click",function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,Ve(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,Ve(t,t._zoomButton,"pan")),t.render()},this.allDOMEventHandlers),Rt(this._zoomButton,"mousemove",function(){o?o=!1:(ne(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ne(t._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Rt(this._zoomButton,"mouseout",function(){o||(ne(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ne(t._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(ne(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&this._resetButton.childNodes[0]&&ne(this._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),this._resetButton.title=this._cultureInfo.resetText):(o=!1,ti(this._resetButton=document.createElement("button")),Ve(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),Rt(this._resetButton,"touchstart",function(n){o=!0},this.allDOMEventHandlers),Rt(this._resetButton,"click",function(){if(t.toolTip.hide(),t.toolTip&&t.toolTip.enabled&&t.toolTip.dispatchEvent("hidden",{chart:t,toolTip:t.toolTip},t.toolTip),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,Ve(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(var n=0;n<t.sessionVariables.axisX.length;n++)t.sessionVariables.axisX[n].newViewportMinimum=null,t.sessionVariables.axisX[n].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(n=0;n<t.sessionVariables.axisX2.length;n++)t.sessionVariables.axisX2[n].newViewportMinimum=null,t.sessionVariables.axisX2[n].newViewportMaximum=null;if(t.sessionVariables.axisY)for(n=0;n<t.sessionVariables.axisY.length;n++)t.sessionVariables.axisY[n].newViewportMinimum=null,t.sessionVariables.axisY[n].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(n=0;n<t.sessionVariables.axisY2.length;n++)t.sessionVariables.axisY2[n].newViewportMinimum=null,t.sessionVariables.axisY2[n].newViewportMaximum=null;t.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&ne(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),ti(t._zoomButton,t._resetButton),t.stockChart&&(t.stockChart._rangeEventParameter={stockChart:t.stockChart,source:"chart",index:t.stockChart.charts.indexOf(t),minimum:null,maximum:null}),t._dispatchRangeEvent("rangeChanging","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanging",t.stockChart.dispatchEvent("rangeChanging",t.stockChart._rangeEventParameter,t.stockChart)),t.render(),t.syncCharts&&t.stockChart&&(t.stockChart.rangeUpdatedBy=!t.stockChart.navigator.slider||W(t.stockChart.navigator.slider.options.minimum)&&W(t.stockChart.navigator.slider.options.maximum)?!t.stockChart.rangeSelector.enabled||!t.stockChart.rangeSelector.inputFields.enabled||W(t.stockChart.rangeSelector.inputFields.options.startValue)&&W(t.stockChart.rangeSelector.inputFields.options.endValue)?null:"inputFields":"navigator",W(t.stockChart._selectedRangeButtonIndex)||(t.stockChart.rangeUpdatedBy="rangeButton"),t.syncCharts(null,null),"rangeButton"===t.stockChart.rangeUpdatedBy&&t.stockChart.rangeSelector.selectedRangeButtonIndex<t.stockChart.rangeSelector.buttons.length&&(n=t.stockChart.rangeSelector.buttons[t.stockChart.rangeSelector.selectedRangeButtonIndex]).enabled&&(n.state="on",n.textBlock.fontWeight="bold",n.textBlock.fontColor=t.stockChart.rangeSelector.buttonStyle.labelFontColorOnHover,n.textBlock.backgroundColor=t.stockChart.rangeSelector.buttonStyle.backgroundColorOnSelect,n.render())),t._dispatchRangeEvent("rangeChanged","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanged",t.stockChart.dispatchEvent("rangeChanged",t.stockChart._rangeEventParameter,t.stockChart))},this.allDOMEventHandlers),Rt(this._resetButton,"mousemove",function(){o||(ne(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ne(t._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Rt(this._resetButton,"mouseout",function(){o||(ne(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ne(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),ge(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;for(d in function Ue(C){if(C._menuButton)C.exportEnabled?(ne(C._menuButton,{backgroundColor:C.toolbar.itemBackgroundColor,color:C.toolbar.fontColor}),ge(C._menuButton),Ve(C,C._menuButton,"menu"),0>=navigator.userAgent.search("MSIE")&&C._menuButton.childNodes[0]&&ne(C._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"})):ti(C._menuButton);else if(C.exportEnabled&&j){var A=!1;C._menuButton=document.createElement("button"),Ve(C,C._menuButton,"menu"),C._toolBar.appendChild(C._menuButton),Rt(C._menuButton,"touchstart",function(pt){A=!0},C.allDOMEventHandlers),Rt(C._menuButton,"click",function(){"none"!==C._dropdownMenu.style.display||C._dropDownCloseTime&&500>=(new Date).getTime()-C._dropDownCloseTime.getTime()||(C._dropdownMenu.style.display="block",C._menuButton.blur(),C._dropdownMenu.focus())},C.allDOMEventHandlers,!0),Rt(C._menuButton,"mousemove",function(){A||(ne(C._menuButton,{backgroundColor:C.toolbar.itemBackgroundColorOnHover,color:C.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&ne(C._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},C.allDOMEventHandlers,!0),Rt(C._menuButton,"mouseout",function(){A||(ne(C._menuButton,{backgroundColor:C.toolbar.itemBackgroundColor,color:C.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&ne(C._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},C.allDOMEventHandlers,!0)}if(C.exportEnabled&&C._dropdownMenu){var O=C.theme&&-1!==C.theme.indexOf("dark")?"black":"#888888";ne(C._dropdownMenu,{backgroundColor:C.toolbar.itemBackgroundColor,color:C.toolbar.fontColor,boxShadow:"2px 2px 10px "+O}),O=C._dropdownMenu.childNodes;for(var tt=[C._cultureInfo.printText,C._cultureInfo.saveJPGText,C._cultureInfo.savePNGText],lt=0;lt<tt.length;lt++)ne(O[lt],{backgroundColor:C.toolbar.itemBackgroundColor,color:C.toolbar.fontColor}),O[lt].innerHTML=tt[lt]}else!C._dropdownMenu&&C.exportEnabled&&j&&(A=!1,C._dropdownMenu=document.createElement("div"),C._dropdownMenu.setAttribute("tabindex",-1),O=C.theme&&-1!==C.theme.indexOf("dark")?"black":"#888888",ne(C._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:C.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px "+O}),C._dropdownMenu.style.display="none",C._toolBar.appendChild(C._dropdownMenu),Rt(C._dropdownMenu,"blur",function(){ti(C._dropdownMenu),C._dropDownCloseTime=new Date},C.allDOMEventHandlers,!0),ne(O=document.createElement("div"),{padding:"12px 8px 12px 8px"}),O.innerHTML=C._cultureInfo.printText,O.style.backgroundColor=C.toolbar.itemBackgroundColor,O.style.color=C.toolbar.fontColor,C._dropdownMenu.appendChild(O),Rt(O,"touchstart",function(pt){A=!0},C.allDOMEventHandlers),Rt(O,"mousemove",function(){A||(this.style.backgroundColor=C.toolbar.itemBackgroundColorOnHover,this.style.color=C.toolbar.fontColorOnHover)},C.allDOMEventHandlers,!0),Rt(O,"mouseout",function(){A||(this.style.backgroundColor=C.toolbar.itemBackgroundColor,this.style.color=C.toolbar.fontColor)},C.allDOMEventHandlers,!0),Rt(O,"click",function(){C.print(),ti(C._dropdownMenu)},C.allDOMEventHandlers,!0),ne(O=document.createElement("div"),{padding:"12px 8px 12px 8px"}),O.innerHTML=C._cultureInfo.saveJPGText,O.style.backgroundColor=C.toolbar.itemBackgroundColor,O.style.color=C.toolbar.fontColor,C._dropdownMenu.appendChild(O),Rt(O,"touchstart",function(pt){A=!0},C.allDOMEventHandlers),Rt(O,"mousemove",function(){A||(this.style.backgroundColor=C.toolbar.itemBackgroundColorOnHover,this.style.color=C.toolbar.fontColorOnHover)},C.allDOMEventHandlers,!0),Rt(O,"mouseout",function(){A||(this.style.backgroundColor=C.toolbar.itemBackgroundColor,this.style.color=C.toolbar.fontColor)},C.allDOMEventHandlers,!0),Rt(O,"click",function(){C.exportChart({format:"jpeg",fileName:C.exportFileName}),ti(C._dropdownMenu)},C.allDOMEventHandlers,!0),ne(O=document.createElement("div"),{padding:"12px 8px 12px 8px"}),O.innerHTML=C._cultureInfo.savePNGText,O.style.backgroundColor=C.toolbar.itemBackgroundColor,O.style.color=C.toolbar.fontColor,C._dropdownMenu.appendChild(O),Rt(O,"touchstart",function(pt){A=!0},C.allDOMEventHandlers),Rt(O,"mousemove",function(){A||(this.style.backgroundColor=C.toolbar.itemBackgroundColorOnHover,this.style.color=C.toolbar.fontColorOnHover)},C.allDOMEventHandlers,!0),Rt(O,"mouseout",function(){A||(this.style.backgroundColor=C.toolbar.itemBackgroundColor,this.style.color=C.toolbar.fontColor)},C.allDOMEventHandlers,!0),Rt(O,"click",function(){C.exportChart({format:"png",fileName:C.exportFileName}),ti(C._dropdownMenu)},C.allDOMEventHandlers,!0))}(this),"none"!==this._toolBar.style.display&&this._zoomButton&&(Ve(t,t._zoomButton,this.panEnabled?"zoom":"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&Ve(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(d)&&this.toolTip.updateOption(d)},A.prototype._updateSize=function(){var t;t=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var d=0,o=0;if(this.options.width?d=this.width:this.width=d=0<this.container.clientWidth?this.container.clientWidth:this.width,W(this.stockChart)||W(this.index)?this.options.height?o=this.height:this.height=o=0<this.container.clientHeight?this.container.clientHeight:this.height:o=this.height=this.stockChart._chartsHeight[this.index],this.canvas.width!==d*Je||this.canvas.height!==o*Je){for(var n=0;n<t.length;n++)ni(t[n],d,o);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},t=!0}else t=!1;return t},A.prototype._initialize=function(){this.isNavigator=!(W(this.parent)||W(this.parent._defaultsKey)||"Navigator"!==this.parent._defaultsKey),this._animator?this._animator.cancelAllAnimations():this._animator=new Qt(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=j&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new Fi(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var t=0,d=null;if(this.options.data){for(var o=0;o<this.options.data.length;o++)if(t++,!this.options.data[o].type||0<=A._supportedChartTypes.indexOf(this.options.data[o].type)){var p,n=new pt(this,this.options.data[o],t-1,++this._eventManager.lastObjectId);if(!W(n)&&n.dataPoints)for(var l=0;l<n.dataPoints.length;l++)if(n.dataPoints[l].x&&n.dataPoints[l].x.getTime){n.xValueType="dateTime";break}if("error"===n.type&&(n.linkedDataSeriesIndex=W(this.options.data[o].linkedDataSeriesIndex)?o-1:this.options.data[o].linkedDataSeriesIndex,0>n.linkedDataSeriesIndex||n.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof n.linkedDataSeriesIndex||"error"===this.options.data[n.linkedDataSeriesIndex].type)&&(n.linkedDataSeriesIndex=null),null===n.name&&(n.name="DataSeries "+t),null===n.color?1<this.options.data.length?(n._colorSet=[this.selectedColorSet[n.index%this.selectedColorSet.length]],n.color=this.selectedColorSet[n.index%this.selectedColorSet.length]):n._colorSet="line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"candlestick"===n.type||"ohlc"===n.type||"waterfall"===n.type||"boxAndWhisker"===n.type?[this.selectedColorSet[0]]:this.selectedColorSet:n._colorSet=[n.color],null===n.markerSize&&(("line"===n.type||"stepLine"===n.type||"spline"===n.type||0<=n.type.toLowerCase().indexOf("area"))&&n.dataPoints&&n.dataPoints.length<this.width/16||"scatter"===n.type)&&(n.markerSize=8),"bubble"!==n.type&&"scatter"!==n.type||!n.dataPoints||(n.dataPoints.some?n.dataPoints.some(function(M){return M.x})&&n.dataPoints.sort(C):n.dataPoints.sort(C)),this.data.push(n),l=n.axisPlacement,d=d||l,"normal"===l?"xySwapped"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===l?"normal"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===l?"normal"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===l&&"none"===this.plotInfo.axisPlacement&&(p='You cannot combine "'+n.type+'" with pie chart'),p&&window.console)return void window.console.log(p)}for(o=0;o<this.data.length;o++){if("none"==d&&"error"===this.data[o].type&&window.console)return void window.console.log('You cannot combine "'+n.type+'" with error chart');"error"===this.data[o].type&&(this.data[o].axisPlacement=this.plotInfo.axisPlacement=d||"normal",this.data[o]._linkedSeries=null===this.data[o].linkedDataSeriesIndex?null:this.data[this.data[o].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},A._supportedChartTypes=mi("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),A.prototype.setLayout=function(){for(var t=this._plotAreaElements,d=0;d<this.data.length;d++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[d].axisYType||"primary"===this.data[d].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var o=0;o<this.options.axisY.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[o]=new st(this,"axisY",this.options.axisY[o],o,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[o]=new st(this,"axisY",this.options.axisY[o],o,"axisY","bottom"));this.data[d].axisY=this.axisY[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY.length?this.data[d].axisYIndex:0],this.axisY[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY.length?this.data[d].axisYIndex:0].dataSeries.push(this.data[d])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new st(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new st(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[d].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[d]);if("secondary"===this.data[d].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(o=0;o<this.options.axisY2.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[o]=new st(this,"axisY2",this.options.axisY2[o],o,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[o]=new st(this,"axisY2",this.options.axisY2[o],o,"axisY","top"));this.data[d].axisY=this.axisY2[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY2.length?this.data[d].axisYIndex:0],this.axisY2[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY2.length?this.data[d].axisYIndex:0].dataSeries.push(this.data[d])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new st(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new st(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[d].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[d]);if(!this.data[d].axisXType||"primary"===this.data[d].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(o=0;o<this.options.axisX.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[o]=new st(this,"axisX",this.options.axisX[o],o,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[o]=new st(this,"axisX",this.options.axisX[o],o,"axisX","left"));this.data[d].axisX=this.axisX[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX.length?this.data[d].axisXIndex:0],this.axisX[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX.length?this.data[d].axisXIndex:0].dataSeries.push(this.data[d])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new st(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new st(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[d].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[d]);if("secondary"===this.data[d].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(o=0;o<this.options.axisX2.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[o]=new st(this,"axisX2",this.options.axisX2[o],o,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[o]=new st(this,"axisX2",this.options.axisX2[o],o,"axisX","right"));this.data[d].axisX=this.axisX2[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX2.length?this.data[d].axisXIndex:0],this.axisX2[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX2.length?this.data[d].axisXIndex:0].dataSeries.push(this.data[d])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new st(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new st(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[d].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[d])}if(this.axisY){for(o=1;o<this.axisY.length;o++)typeof this.axisY[o].options.gridThickness>"u"&&(this.axisY[o].gridThickness=0);for(o=0;o<this.axisY.length-1;o++)typeof this.axisY[o].options.margin>"u"&&(this.axisY[o].margin=10)}if(this.axisY2){for(o=1;o<this.axisY2.length;o++)typeof this.axisY2[o].options.gridThickness>"u"&&(this.axisY2[o].gridThickness=0);for(o=0;o<this.axisY2.length-1;o++)typeof this.axisY2[o].options.margin>"u"&&(this.axisY2[o].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(o=0;o<this.axisX.length;o++)typeof this.axisX[o].options.gridThickness>"u"&&(this.axisX[o].gridThickness=0);if(this.axisX2)for(o=0;o<this.axisX2.length;o++)typeof this.axisX2[o].options.gridThickness>"u"&&(this.axisX2[o].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),o=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled))for(d=0;d<this._axes.length;d++)if(!W(this._axes[d].viewportMinimum)||!W(this._axes[d].viewportMaximum)){o=!0;break}if(o?(ge(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(ti(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),function Mi(C){ei.fSDec&&C[ii("`eeDwdouMhrudods")](ii("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){ei._fTWm&&ei._fTWm(C)})}(this),this._processData(),this.options.title&&(this.title=new fi(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.options.subtitles)for(d=0;d<this.options.subtitles.length;d++)o=new _i(this,this.options.subtitles[d],d),this.subtitles.push(o),o.dockInsidePlotArea?t.push(o):o.setLayout();for(this.legend=new lt(this,this.options.legend),d=0;d<this.data.length;d++)(this.data[d].showInLegend||"pie"===this.data[d].type||"doughnut"===this.data[d].type||"funnel"===this.data[d].type||"pyramid"===this.data[d].type)&&this.legend.dataSeries.push(this.data[d]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout(),d=0;d<this._axes.length;d++)if(this._axes[d].scaleBreaks&&this._axes[d].scaleBreaks._appliedBreaks.length){j?(this._breaksCanvas=qe(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=qe(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||st.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},A.prototype.renderElements=function(){if(this.height&&this.width){var n=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var t=0;t<this.subtitles.length;t++)this.subtitles[t].dockInsidePlotArea||this.subtitles[t].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)st.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(t=0;t<n.length;t++)n[t].setLayout(),n[t].render();var l,d=[];if(this.animatedRender){var o=qe(this.width,this.height);o.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(function Wi(C){if(!$s){var A=!1,O=!1;typeof pi.Chart.creditHref>"u"?(C.creditHref=ii("iuuqr;..b`ow`rkr/bnl."),C.creditText=ii("B`ow`rKR/bnl")):(A=C.updateOption("creditText"),O=C.updateOption("creditHref")),C.creditHref&&C.creditText&&(C._creditLink||(C._creditLink=document.createElement("a"),C._creditLink.setAttribute("class","canvasjs-chart-credit"),C._creditLink.setAttribute("title","JavaScript Charts"),ne(C._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:C.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),C._creditLink.setAttribute("tabIndex",-1),C._creditLink.setAttribute("target","_blank")),(0===C.renderCount||A||O)&&(C._creditLink.setAttribute("href",C.creditHref),C._creditLink.innerHTML=C.creditText),C._creditLink&&C.creditHref&&C.creditText?(C._creditLink.parentElement||C._canvasJSContainer.appendChild(C._creditLink),C._creditLink.style.top=C.height-14+"px"):C._creditLink.parentElement&&C._canvasJSContainer.removeChild(C._creditLink))}}(this),n=this.ctx.miterLimit,this.ctx.miterLimit=3,j&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),t=0;t<this.plotInfo.plotTypes.length;t++)for(var p=this.plotInfo.plotTypes[t],m=0;m<p.plotUnits.length;m++){var M=p.plotUnits[m],T=null;M.targetCanvas&&fe(M.targetCanvas),M.targetCanvas=null,this.animatedRender&&(M.targetCanvas=qe(this.width,this.height),M.targetCanvasCtx=M.targetCanvas.getContext("2d"),l=M.targetCanvasCtx.miterLimit,M.targetCanvasCtx.miterLimit=3),"line"===M.type?T=this.renderLine(M):"stepLine"===M.type?T=this.renderStepLine(M):"spline"===M.type?T=this.renderSpline(M):"column"===M.type?T=this.renderColumn(M):"bar"===M.type?T=this.renderBar(M):"area"===M.type?T=this.renderArea(M):"stepArea"===M.type?T=this.renderStepArea(M):"splineArea"===M.type?T=this.renderSplineArea(M):"stackedColumn"===M.type?T=this.renderStackedColumn(M):"stackedColumn100"===M.type?T=this.renderStackedColumn100(M):"stackedBar"===M.type?T=this.renderStackedBar(M):"stackedBar100"===M.type?T=this.renderStackedBar100(M):"stackedArea"===M.type?T=this.renderStackedArea(M):"stackedArea100"===M.type?T=this.renderStackedArea100(M):"bubble"===M.type?T=T=this.renderBubble(M):"scatter"===M.type?T=this.renderScatter(M):"pie"===M.type||"doughnut"===M.type?this.renderPie(M):"funnel"===M.type||"pyramid"===M.type?T=this.renderFunnel(M):"candlestick"===M.type||"ohlc"===M.type?T=this.renderCandlestick(M):"rangeColumn"===M.type?T=this.renderRangeColumn(M):"error"===M.type?T=this.renderError(M):"rangeBar"===M.type?T=this.renderRangeBar(M):"rangeArea"===M.type?T=this.renderRangeArea(M):"rangeSplineArea"===M.type?T=this.renderRangeSplineArea(M):"waterfall"===M.type?T=this.renderWaterfall(M):"boxAndWhisker"===M.type&&(T=this.renderBoxAndWhisker(M));for(var f=0;f<M.dataSeriesIndexes.length;f++)this._dataInRenderedOrder.push(this.data[M.dataSeriesIndexes[f]]);this.animatedRender&&(M.targetCanvasCtx.miterLimit=l,T&&d.push(T))}this.ctx.miterLimit=n,this.animatedRender&&this._breaksCanvasCtx&&d.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:Dt.fadeInAnimation,easingFunction:Dt.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(je(l=qe(this.width,this.height).getContext("2d")),d.push(this.renderIndexLabels(l)));var g=this;if(0<d.length)g.disableToolTip=!0,g._animator.animate(200,g.animationDuration,function(b){g.ctx.clearRect(0,0,g.width,g.height),g.ctx.drawImage(o,0,0,Math.floor(g.width*Je),Math.floor(g.height*Je),0,0,g.width,g.height);for(var v=0;v<d.length;v++)T=d[v],1>b&&typeof T.startTimePercent<"u"?b>=T.startTimePercent&&T.animationCallback(T.easingFunction(b-T.startTimePercent,0,1,1-T.startTimePercent),T):T.animationCallback(T.easingFunction(b,0,1,1),T);g.dispatchEvent("dataAnimationIterationEnd",{chart:g})},function(){d=[];for(var b=0;b<g.plotInfo.plotTypes.length;b++)for(var v=g.plotInfo.plotTypes[b],h=0;h<v.plotUnits.length;h++){var _=v.plotUnits[h];_.targetCanvas&&fe(_.targetCanvas),_.targetCanvas=null}o=null,g.disableToolTip=!1,g.dispatchEvent("dataAnimationEnd",{chart:g})});else{if(g._breaksCanvas)if(j)g.plotArea.ctx.drawImage(g._breaksCanvas,0,0,this.width,this.height);else for(f=0;f<g._axes.length;f++)g._axes[f].createMask();0<g._indexLabels.length&&g.renderIndexLabels(),g.dispatchEvent("dataAnimationIterationEnd",{chart:g}),g.dispatchEvent("dataAnimationEnd",{chart:g})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||ti(this._zoomButton,this._resetButton),W(this.toolTip._xValue)||W(this.toolTip._dataSeriesIndex)||this.toolTip.showAtX(this.toolTip._xValue,this.toolTip._dataSeriesIndex),this.toolTip._updateToolTip(),this.renderCount++,Ei&&(g=this,setTimeout(function(){var b=document.getElementById("ghostCanvasCopy");b&&(ni(b,g.width,g.height),b.getContext("2d").drawImage(g._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),f=0;f<this._axes.length;f++)this._axes[f].maskCanvas&&(delete this._axes[f].maskCanvas,delete this._axes[f].maskCtx)}},A.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&fe(this._preRenderCanvas)},A.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},A.prototype.categoriseDataSeries=function(){for(var t="",d=0;d<this.data.length;d++)if((t=this.data[d]).dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=A._supportedChartTypes.indexOf(t.type)){for(var o=null,n=!1,l=null,p=!1,m=0;m<this.plotInfo.plotTypes.length;m++)if(this.plotInfo.plotTypes[m].type===t.type){n=!0,o=this.plotInfo.plotTypes[m];break}for(n||this.plotInfo.plotTypes.push(o={type:t.type,totalDataSeries:0,plotUnits:[]}),m=0;m<o.plotUnits.length;m++)if(o.plotUnits[m].axisYType===t.axisYType&&o.plotUnits[m].axisXType===t.axisXType&&o.plotUnits[m].axisYIndex===t.axisYIndex&&o.plotUnits[m].axisXIndex===t.axisXIndex){p=!0,l=o.plotUnits[m];break}p||o.plotUnits.push(l={type:t.type,previousDataSeriesCount:0,index:o.plotUnits.length,plotType:o,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:"primary"===t.axisYType?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:"primary"===t.axisXType?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]}),o.totalDataSeries++,l.dataSeriesIndexes.push(d),t.plotUnit=l}for(d=0;d<this.plotInfo.plotTypes.length;d++)for(o=this.plotInfo.plotTypes[d],m=t=0;m<o.plotUnits.length;m++)o.plotUnits[m].previousDataSeriesCount=t,t+=o.plotUnits[m].dataSeriesIndexes.length},A.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var d=this.data[t];if(d.dataPoints)for(var o=d.dataPoints.length,n=0;n<o;n++)d.dataPointIds[n]=++this._eventManager.lastObjectId}},A.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var d=this.plotInfo.plotTypes[t],o=0;o<d.plotUnits.length;o++){var n=d.plotUnits[o];"line"===n.type||"stepLine"===n.type||"spline"===n.type||"column"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"bar"===n.type||"bubble"===n.type||"scatter"===n.type?this._processMultiseriesPlotUnit(n):"stackedColumn"===n.type||"stackedBar"===n.type||"stackedArea"===n.type?this._processStackedPlotUnit(n):"stackedColumn100"===n.type||"stackedBar100"===n.type||"stackedArea100"===n.type?this._processStacked100PlotUnit(n):"candlestick"===n.type||"ohlc"===n.type||"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type||"boxAndWhisker"===n.type?this._processMultiYPlotUnit(n):"waterfall"===n.type&&this._processSpecificPlotUnit(n)}this.calculateAutoBreaks()},A.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,m=0;m<t.dataSeriesIndexes.length;m++){var b,M=this.data[t.dataSeriesIndexes[m]],T=0,f=!1,g=!1;if("normal"===M.axisPlacement||"xySwapped"===M.axisPlacement)var v=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,h=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((M.dataPoints[T].x&&M.dataPoints[T].x.getTime||"dateTime"===M.xValueType)&&(p=!0),T=0;T<M.dataPoints.length;T++){if(typeof M.dataPoints[T].x>"u"&&(M.dataPoints[T].x=T+(t.axisX.logarithmic?1:0)),M.dataPoints[T].x.getTime?(p=!0,n=M.dataPoints[T].x.getTime()):n=M.dataPoints[T].x,l=M.dataPoints[T].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),l<d.min&&"number"==typeof l&&(d.min=l),l>d.max&&"number"==typeof l&&(d.max=l),0<T){if(t.axisX.logarithmic){var _=n/M.dataPoints[T-1].x;1>_&&(_=1/_),o.minDiff>_&&1!==_&&(o.minDiff=_)}else 0>(_=n-M.dataPoints[T-1].x)&&(_*=-1),o.minDiff>_&&0!==_&&(o.minDiff=_);null!==l&&null!==M.dataPoints[T-1].y&&(t.axisY.logarithmic?(1>(_=l/M.dataPoints[T-1].y)&&(_=1/_),d.minDiff>_&&1!==_&&(d.minDiff=_)):(0>(_=l-M.dataPoints[T-1].y)&&(_*=-1),d.minDiff>_&&0!==_&&(d.minDiff=_)))}if(n<v&&!f)null!==l&&(b=n);else{if(!f&&(f=!0,0<T)){T-=2;continue}if(n>h&&!g)g=!0;else if(n>h&&g)continue;M.dataPoints[T].label&&(t.axisX.labels[n]=M.dataPoints[T].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),null===l?o.viewPortMin===n&&b<n&&(o.viewPortMin=b):(l<d.viewPortMin&&"number"==typeof l&&(d.viewPortMin=l),l>d.viewPortMax&&"number"==typeof l&&(d.viewPortMax=l))}}M.axisX.valueType=M.xValueType=p?"dateTime":"number"}},A.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,m=[],M=[],T=1/0,f=-1/0,g={},b=0;b<t.dataSeriesIndexes.length;b++){var F,v=this.data[t.dataSeriesIndexes[b]],h=0,_=!1,B=!1;if("normal"===v.axisPlacement||"xySwapped"===v.axisPlacement)var P=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,I=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((v.dataPoints[h].x&&v.dataPoints[h].x.getTime||"dateTime"===v.xValueType)&&(p=!0),h=0;h<v.dataPoints.length;h++){if(typeof v.dataPoints[h].x>"u"&&(v.dataPoints[h].x=h+(t.axisX.logarithmic?1:0)),v.dataPoints[h].x.getTime?(p=!0,n=v.dataPoints[h].x.getTime()):n=v.dataPoints[h].x,l=W(v.dataPoints[h].y)?0:v.dataPoints[h].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),0<h){if(t.axisX.logarithmic){var w=n/v.dataPoints[h-1].x;1>w&&(w=1/w),o.minDiff>w&&1!==w&&(o.minDiff=w)}else 0>(w=n-v.dataPoints[h-1].x)&&(w*=-1),o.minDiff>w&&0!==w&&(o.minDiff=w);null!==l&&null!==v.dataPoints[h-1].y&&(t.axisY.logarithmic?0<l&&(1>(w=l/v.dataPoints[h-1].y)&&(w=1/w),d.minDiff>w&&1!==w&&(d.minDiff=w)):(0>(w=l-v.dataPoints[h-1].y)&&(w*=-1),d.minDiff>w&&0!==w&&(d.minDiff=w)))}if(n<P&&!_)null!==v.dataPoints[h].y&&(F=n);else{if(!_&&(_=!0,0<h)){h-=2;continue}if(n>I&&!B)B=!0;else if(n>I&&B)continue;v.dataPoints[h].label&&(t.axisX.labels[n]=v.dataPoints[h].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),null===v.dataPoints[h].y?o.viewPortMin===n&&F<n&&(o.viewPortMin=F):(g[n]=(g[n]||0)+v.dataPoints[h].y,v.dataPointEOs[h].cumulativeY=g[n],t.yTotals[n]=(t.yTotals[n]?t.yTotals[n]:0)+l,t.yAbsTotals[n]=(t.yAbsTotals[n]?t.yAbsTotals[n]:0)+Math.abs(l),0<=l?m[n]?m[n]+=l:(m[n]=l,T=Math.min(l,T)):M[n]?M[n]+=l:(M[n]=l,f=Math.max(l,f)))}}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(d.dataPointYPositiveSums?(d.dataPointYPositiveSums.push.apply(d.dataPointYPositiveSums,m),d.dataPointYNegativeSums.push.apply(d.dataPointYPositiveSums,M)):(d.dataPointYPositiveSums=m,d.dataPointYNegativeSums=M)),v.axisX.valueType=v.xValueType=p?"dateTime":"number"}for(h in m)m.hasOwnProperty(h)&&!isNaN(h)&&((t=m[h])<d.min&&(d.min=Math.min(t,T)),t>d.max&&(d.max=t),h<o.viewPortMin||h>o.viewPortMax||(t<d.viewPortMin&&(d.viewPortMin=Math.min(t,T)),t>d.viewPortMax&&(d.viewPortMax=t)));for(h in M)M.hasOwnProperty(h)&&!isNaN(h)&&((t=M[h])<d.min&&(d.min=t),t>d.max&&(d.max=Math.max(t,f)),h<o.viewPortMin||h>o.viewPortMax||(t<d.viewPortMin&&(d.viewPortMin=t),t>d.viewPortMax&&(d.viewPortMax=Math.max(t,f))))}},A.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,m=!1,M=!1,T={},f=[],g=0;g<t.dataSeriesIndexes.length;g++){var B,b=this.data[t.dataSeriesIndexes[g]],v=0,h=!1,_=!1;if("normal"===b.axisPlacement||"xySwapped"===b.axisPlacement)var F=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,P=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((b.dataPoints[v].x&&b.dataPoints[v].x.getTime||"dateTime"===b.xValueType)&&(p=!0),v=0;v<b.dataPoints.length;v++){if(typeof b.dataPoints[v].x>"u"&&(b.dataPoints[v].x=v+(t.axisX.logarithmic?1:0)),b.dataPoints[v].x.getTime?(p=!0,n=b.dataPoints[v].x.getTime()):n=b.dataPoints[v].x,l=W(b.dataPoints[v].y)?null:b.dataPoints[v].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),0<v){if(t.axisX.logarithmic){var I=n/b.dataPoints[v-1].x;1>I&&(I=1/I),o.minDiff>I&&1!==I&&(o.minDiff=I)}else 0>(I=n-b.dataPoints[v-1].x)&&(I*=-1),o.minDiff>I&&0!==I&&(o.minDiff=I);W(l)||null===b.dataPoints[v-1].y||(t.axisY.logarithmic?0<l&&(1>(I=l/b.dataPoints[v-1].y)&&(I=1/I),d.minDiff>I&&1!==I&&(d.minDiff=I)):(0>(I=l-b.dataPoints[v-1].y)&&(I*=-1),d.minDiff>I&&0!==I&&(d.minDiff=I)))}if(n<F&&!h)null!==l&&(B=n);else{if(!h&&(h=!0,0<v)){v-=2;continue}if(n>P&&!_)_=!0;else if(n>P&&_)continue;b.dataPoints[v].label&&(t.axisX.labels[n]=b.dataPoints[v].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),null===l?o.viewPortMin===n&&B<n&&(o.viewPortMin=B):(T[n]=(T[n]||0)+b.dataPoints[v].y,b.dataPointEOs[v].cumulativeY=T[n],t.yTotals[n]=(t.yTotals[n]?t.yTotals[n]:0)+l,t.yAbsTotals[n]=(t.yAbsTotals[n]?t.yAbsTotals[n]:0)+Math.abs(l),0<=l?m=!0:0>l&&(M=!0),f[n]=f[n]?f[n]+Math.abs(l):Math.abs(l))}}b.axisX.valueType=b.xValueType=p?"dateTime":"number"}t.axisY.logarithmic?(d.max=W(d.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(d.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),d.min=W(d.viewPortMin)?1:Math.min(d.viewPortMin,1)):m&&!M?(d.max=W(d.viewPortMax)?99:Math.max(d.viewPortMax,99),d.min=W(d.viewPortMin)?1:Math.min(d.viewPortMin,1)):m&&M?(d.max=W(d.viewPortMax)?99:Math.max(d.viewPortMax,99),d.min=W(d.viewPortMin)?-99:Math.min(d.viewPortMin,-99)):!m&&M&&(d.max=W(d.viewPortMax)?-1:Math.max(d.viewPortMax,-1),d.min=W(d.viewPortMin)?-99:Math.min(d.viewPortMin,-99)),d.viewPortMin=d.min,d.viewPortMax=d.max,t.dataPointYSums=f}},A.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n,l,p,m,d=t.axisY.dataInfo,o=t.axisX.dataInfo,M=!1,T=0;T<t.dataSeriesIndexes.length;T++){var h,_,B,f=this.data[t.dataSeriesIndexes[T]],g=0,b=!1,v=!1;if("normal"===f.axisPlacement||"xySwapped"===f.axisPlacement)var F=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,P=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((f.dataPoints[g].x&&f.dataPoints[g].x.getTime||"dateTime"===f.xValueType)&&(M=!0),g=0;g<f.dataPoints.length;g++){if(typeof f.dataPoints[g].x>"u"&&(f.dataPoints[g].x=g+(t.axisX.logarithmic?1:0)),f.dataPoints[g].x.getTime?(M=!0,n=f.dataPoints[g].x.getTime()):n=f.dataPoints[g].x,(l=f.dataPoints[g].y)&&l.length){p=Math.min.apply(null,l),m=Math.max.apply(null,l),_=!0;for(var I=0;I<l.length;I++)null===l.k&&(_=!1);_&&(b||(B=h),h=n)}if(n<o.min&&(o.min=n),n>o.max&&(o.max=n),p<d.min&&(d.min=p),m>d.max&&(d.max=m),0<g&&(t.axisX.logarithmic?(1>(_=n/f.dataPoints[g-1].x)&&(_=1/_),o.minDiff>_&&1!==_&&(o.minDiff=_)):(0>(_=n-f.dataPoints[g-1].x)&&(_*=-1),o.minDiff>_&&0!==_&&(o.minDiff=_)),l&&null!==l[0]&&f.dataPoints[g-1].y&&null!==f.dataPoints[g-1].y[0]&&(t.axisY.logarithmic?(1>(_=l[0]/f.dataPoints[g-1].y[0])&&(_=1/_),d.minDiff>_&&1!==_&&(d.minDiff=_)):(0>(_=l[0]-f.dataPoints[g-1].y[0])&&(_*=-1),d.minDiff>_&&0!==_&&(d.minDiff=_)))),!(n<F)||b){if(!b&&(b=!0,0<g)){g-=2,h=B;continue}if(n>P&&!v)v=!0;else if(n>P&&v)continue;if(f.dataPoints[g].label&&(t.axisX.labels[n]=f.dataPoints[g].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),o.viewPortMin===n&&l)for(I=0;I<l.length;I++)if(null===l[I]&&h<n){o.viewPortMin=h;break}null===l?o.viewPortMin===n&&h<n&&(o.viewPortMin=h):(p<d.viewPortMin&&(d.viewPortMin=p),m>d.viewPortMax&&(d.viewPortMax=m))}}f.axisX.valueType=f.xValueType=M?"dateTime":"number"}},A.prototype._processSpecificPlotUnit=function(t){if("waterfall"===t.type&&t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,m=0;m<t.dataSeriesIndexes.length;m++){var M=this.data[t.dataSeriesIndexes[m]],T=0,f=!1,g=!1,b=n=0;if("normal"===M.axisPlacement||"xySwapped"===M.axisPlacement)var v=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,h=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((M.dataPoints[T].x&&M.dataPoints[T].x.getTime||"dateTime"===M.xValueType)&&(p=!0),T=0;T<M.dataPoints.length;T++)typeof M.dataPoints[T].isCumulativeSum<"u"&&!0===M.dataPoints[T].isCumulativeSum?(M.dataPointEOs[T].cumulativeSumYStartValue=0,M.dataPointEOs[T].cumulativeSum=0===T?0:M.dataPointEOs[T-1].cumulativeSum,M.dataPoints[T].y=0===T?0:M.dataPointEOs[T-1].cumulativeSum):typeof M.dataPoints[T].isIntermediateSum<"u"&&!0===M.dataPoints[T].isIntermediateSum?(M.dataPointEOs[T].cumulativeSumYStartValue=b,M.dataPointEOs[T].cumulativeSum=0===T?0:M.dataPointEOs[T-1].cumulativeSum,M.dataPoints[T].y=0===T?0:n,b=0===T?0:M.dataPointEOs[T-1].cumulativeSum,n=0):(l="number"!=typeof M.dataPoints[T].y?0:M.dataPoints[T].y,M.dataPointEOs[T].cumulativeSumYStartValue=0===T?0:M.dataPointEOs[T-1].cumulativeSum,M.dataPointEOs[T].cumulativeSum=0===T?l:M.dataPointEOs[T-1].cumulativeSum+l,n+=l);for(T=0;T<M.dataPoints.length;T++)if(typeof M.dataPoints[T].x>"u"&&(M.dataPoints[T].x=T+(t.axisX.logarithmic?1:0)),M.dataPoints[T].x.getTime?(p=!0,n=M.dataPoints[T].x.getTime()):n=M.dataPoints[T].x,l=M.dataPoints[T].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),M.dataPointEOs[T].cumulativeSum<d.min&&(d.min=M.dataPointEOs[T].cumulativeSum),M.dataPointEOs[T].cumulativeSum>d.max&&(d.max=M.dataPointEOs[T].cumulativeSum),0<T&&(t.axisX.logarithmic?(1>(b=n/M.dataPoints[T-1].x)&&(b=1/b),o.minDiff>b&&1!==b&&(o.minDiff=b)):(0>(b=n-M.dataPoints[T-1].x)&&(b*=-1),o.minDiff>b&&0!==b&&(o.minDiff=b)),null!==l&&null!==M.dataPoints[T-1].y&&(t.axisY.logarithmic?(1>(l=M.dataPointEOs[T].cumulativeSum/M.dataPointEOs[T-1].cumulativeSum)&&(l=1/l),d.minDiff>l&&1!==l&&(d.minDiff=l)):(0>(l=M.dataPointEOs[T].cumulativeSum-M.dataPointEOs[T-1].cumulativeSum)&&(l*=-1),d.minDiff>l&&0!==l&&(d.minDiff=l)))),!(n<v)||f){if(!f&&(f=!0,0<T)){T-=2;continue}if(n>h&&!g)g=!0;else if(n>h&&g)continue;M.dataPoints[T].label&&(t.axisX.labels[n]=M.dataPoints[T].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),0<T&&(M.dataPointEOs[T-1].cumulativeSum<d.viewPortMin&&(d.viewPortMin=M.dataPointEOs[T-1].cumulativeSum),M.dataPointEOs[T-1].cumulativeSum>d.viewPortMax&&(d.viewPortMax=M.dataPointEOs[T-1].cumulativeSum)),M.dataPointEOs[T].cumulativeSum<d.viewPortMin&&(d.viewPortMin=M.dataPointEOs[T].cumulativeSum),M.dataPointEOs[T].cumulativeSum>d.viewPortMax&&(d.viewPortMax=M.dataPointEOs[T].cumulativeSum)}M.axisX.valueType=M.xValueType=p?"dateTime":"number"}},A.prototype.calculateAutoBreaks=function(){function d(_){if(_.dataSeriesIndexes&&!(1>_.dataSeriesIndexes.length)){var B=_.axisX.scaleBreaks&&_.axisX.scaleBreaks.autoCalculate&&1<=_.axisX.scaleBreaks.maxNumberOfAutoBreaks,F=_.axisY.scaleBreaks&&_.axisY.scaleBreaks.autoCalculate&&1<=_.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(B||F)for(var P,dt,I=(z=_.axisX.dataInfo).min,w=z.max,Y=(et=_.axisY.dataInfo).min,N=et.max,z=z._dataRanges,et=et._dataRanges,$=0,Q=0;Q<_.dataSeriesIndexes.length;Q++){var Z=l.data[_.dataSeriesIndexes[Q]];if(!(4>Z.dataPoints.length))for($=0;$<Z.dataPoints.length;$++)if(B&&(dt=(w+1-I)*Math.max(parseFloat(_.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(P=Z.dataPoints[$].x.getTime?Z.dataPoints[$].x.getTime():Z.dataPoints[$].x)<z[dt=Math.floor((P-I)/dt)].min&&(z[dt].min=P),P>z[dt].max&&(z[dt].max=P)),F){var J=(N+1-Y)*Math.max(parseFloat(_.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((P="waterfall"===_.type?Z.dataPointEOs[$].cumulativeSum:Z.dataPoints[$].y)&&P.length)for(var X=0;X<P.length;X++)dt=Math.floor((P[X]-Y)/J),P[X]<et[dt].min&&(et[dt].min=P[X]),P[X]>et[dt].max&&(et[dt].max=P[X]);else W(P)||(P<et[dt=Math.floor((P-Y)/J)].min&&(et[dt].min=P),P>et[dt].max&&(et[dt].max=P))}}}}function o(_){if(_.dataSeriesIndexes&&!(1>_.dataSeriesIndexes.length)&&_.axisX.scaleBreaks&&_.axisX.scaleBreaks.autoCalculate&&1<=_.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var w,B=_.axisX.dataInfo,F=B.min,P=B.max,I=B._dataRanges,Y=0,N=0;N<_.dataSeriesIndexes.length;N++){var z=l.data[_.dataSeriesIndexes[N]];if(!(4>z.dataPoints.length))for(Y=0;Y<z.dataPoints.length;Y++)w=(P+1-F)*Math.max(parseFloat(_.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(B=z.dataPoints[Y].x.getTime?z.dataPoints[Y].x.getTime():z.dataPoints[Y].x)<I[w=Math.floor((B-F)/w)].min&&(I[w].min=B),B>I[w].max&&(I[w].max=B)}}for(var n,l=this,p=!1,m=0;m<this._axes.length;m++)if(this._axes[m].scaleBreaks&&this._axes[m].scaleBreaks.autoCalculate&&1<=this._axes[m].scaleBreaks.maxNumberOfAutoBreaks){p=!0,this._axes[m].dataInfo._dataRanges=[];for(var M=0;M<100/Math.max(parseFloat(this._axes[m].scaleBreaks.collapsibleThreshold)||10,10);M++)this._axes[m].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(p){for(m=0;m<this.plotInfo.plotTypes.length;m++)for(p=this.plotInfo.plotTypes[m],M=0;M<p.plotUnits.length;M++)"line"===(n=p.plotUnits[M]).type||"stepLine"===n.type||"spline"===n.type||"column"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"bar"===n.type||"bubble"===n.type||"scatter"===n.type||"candlestick"===n.type||"ohlc"===n.type||"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"waterfall"===n.type||"error"===n.type||"boxAndWhisker"===n.type?d(n):0<=n.type.indexOf("stacked")&&o(n);for(m=0;m<this._axes.length;m++)if(this._axes[m].dataInfo._dataRanges){var T=this._axes[m].dataInfo.min;n=(this._axes[m].dataInfo.max+1-T)*Math.max(parseFloat(this._axes[m].scaleBreaks.collapsibleThreshold)||10,10)/100;var g,b,f=this._axes[m].dataInfo._dataRanges;if(p=[],this._axes[m].dataInfo.dataPointYPositiveSums){var v=this._axes[m].dataInfo.dataPointYPositiveSums;for(M in g=f,v)if(v.hasOwnProperty(M)&&!isNaN(M)&&!W(b=v[M])){var h=Math.floor((b-T)/n);b<g[h].min&&(g[h].min=b),b>g[h].max&&(g[h].max=b)}delete this._axes[m].dataInfo.dataPointYPositiveSums}if(this._axes[m].dataInfo.dataPointYNegativeSums){for(M in g=f,v=this._axes[m].dataInfo.dataPointYNegativeSums)v.hasOwnProperty(M)&&!isNaN(M)&&(W(b=-1*v[M])||(b<g[h=Math.floor((b-T)/n)].min&&(g[h].min=b),b>g[h].max&&(g[h].max=b)));delete this._axes[m].dataInfo.dataPointYNegativeSums}for(M=0;M<f.length-1;M++)if(g=f[M].max,isFinite(g))for(;M<f.length-1;){if(T=f[M+1].min,isFinite(T)){(b=T-g)>n&&p.push({diff:b,start:g,end:T});break}M++}if(this._axes[m].scaleBreaks.customBreaks)for(M=0;M<this._axes[m].scaleBreaks.customBreaks.length;M++)for(n=0;n<p.length;n++)(this._axes[m].scaleBreaks.customBreaks[M].startValue<=p[n].start&&p[n].start<=this._axes[m].scaleBreaks.customBreaks[M].endValue||this._axes[m].scaleBreaks.customBreaks[M].startValue<=p[n].start&&p[n].start<=this._axes[m].scaleBreaks.customBreaks[M].endValue||p[n].start<=this._axes[m].scaleBreaks.customBreaks[M].startValue&&this._axes[m].scaleBreaks.customBreaks[M].startValue<=p[n].end||p[n].start<=this._axes[m].scaleBreaks.customBreaks[M].endValue&&this._axes[m].scaleBreaks.customBreaks[M].endValue<=p[n].end)&&(p.splice(n,1),n--);for(p.sort(function(B,F){return F.diff-B.diff}),M=0;M<Math.min(p.length,this._axes[m].scaleBreaks.maxNumberOfAutoBreaks);M++)_=p[M].start,B=p[M].end,F=this._axes[m].logarithmic?this._axes[m].dataInfo.max/this._axes[m].dataInfo.min:this._axes[m].dataInfo.max-this._axes[m].dataInfo.min,n=this._axes[m].logarithmic?(1>=(F=Math.pow(Math.min(F*_/B,B/_),.2))&&(F=Math.pow(1>_?1/_:Math.min(B/_,_),.25)),{startValue:_*F,endValue:B/F}):(0>=(F=.2*Math.min(F-B+_,B-_))&&(F=.25*Math.min(B-_,Math.abs(_))),{startValue:_+F,endValue:B-F}),this._axes[m].scaleBreaks.autoBreaks.push(new ce(this,"autoBreaks",n,M,++this._eventManager.lastObjectId,this._axes[m].scaleBreaks)),this._axes[m].scaleBreaks._appliedBreaks.push(this._axes[m].scaleBreaks.autoBreaks[this._axes[m].scaleBreaks.autoBreaks.length-1]);this._axes[m].scaleBreaks._appliedBreaks.sort(function(B,F){return B.startValue-F.startValue})}}var _,B,F},A.prototype.renderCrosshairs=function(t){for(var d=0;d<this.axisX.length;d++)this.axisX[d]!=t&&this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&!this.axisX[d].crosshair._hidden&&this.axisX[d].showCrosshair(this.axisX[d].crosshair._updatedValue);for(d=0;d<this.axisX2.length;d++)this.axisX2[d]!=t&&this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&!this.axisX2[d].crosshair._hidden&&this.axisX2[d].showCrosshair(this.axisX2[d].crosshair._updatedValue);for(d=0;d<this.axisY.length;d++)this.axisY[d]!=t&&this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&!this.axisY[d].crosshair._hidden&&this.axisY[d].showCrosshair(this.axisY[d].crosshair._updatedValue);for(d=0;d<this.axisY2.length;d++)this.axisY2[d]!=t&&this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&!this.axisY2[d].crosshair._hidden&&this.axisY2[d].showCrosshair(this.axisY2[d].crosshair._updatedValue)},A.prototype.getDataPointAtXY=function(t,d,o){o=o||!1;for(var n=[],l=this._dataInRenderedOrder.length-1;0<=l;l--){var p;(p=this._dataInRenderedOrder[l].getDataPointAtXY(t,d,o))&&n.push(p)}for(t=null,d=!1,o=0;o<n.length;o++)if(("line"===n[o].dataSeries.type||"stepLine"===n[o].dataSeries.type||"area"===n[o].dataSeries.type||"stepArea"===n[o].dataSeries.type)&&(l=qt("markerSize",n[o].dataPoint,n[o].dataSeries)||8,n[o].distance<=l/2)){d=!0;break}for(o=0;o<n.length;o++)d&&"line"!==n[o].dataSeries.type&&"stepLine"!==n[o].dataSeries.type&&"area"!==n[o].dataSeries.type&&"stepArea"!==n[o].dataSeries.type||(t?n[o].distance<=t.distance&&(t=n[o]):t=n[o]);return t},A.prototype.getObjectAtXY=function(t,d,o){var n=null;if(o=this.getDataPointAtXY(t,d,o||!1))n=o.dataSeries.dataPointIds[o.dataPointIndex];else if(j)n=Re(t,d,this._eventManager.ghostCtx);else for(o=0;o<this.legend.items.length;o++){var l=this.legend.items[o];t>=l.x1&&t<=l.x2&&d>=l.y1&&d<=l.y2&&(n=l.id)}return n},A.prototype.getAutoFontSize=ke,A.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},A.prototype.clearCanvas=ss,A.prototype.attachEvent=function(t){this._events.push(t)},A.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var d=[],o=t.changedTouches,n=o?o[0]:t,l=null;switch(t.type){case"touchstart":case"MSPointerDown":d=["mousemove","mousedown"],this._lastTouchData=as(n),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":d=["mousemove"];break;case"touchend":case"MSPointerUp":var p=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;d="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>p?["mouseup","click"]:["mouseup"];break;default:return}if(!(o&&1<o.length)){(l=as(n)).time=new Date;try{var m=l.y-this._lastTouchData.y;p=l.time-this._lastTouchData.time,(1<Math.abs(m)&&this._lastTouchData.scroll||5<Math.abs(m)&&250>p)&&(this._lastTouchData.scroll=!0)}catch{}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(o=0;o<d.length;o++)l=d[o],(m=document.createEvent("MouseEvent")).initMouseEvent(l,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(m),(!W(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<p||"click"===l)&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.cancelable&&t.preventDefault())}}},A.prototype._dispatchRangeEvent=function(t,d){var o={chart:this};o.type=t,o.trigger=d;var n=[];this.axisX&&0<this.axisX.length&&n.push("axisX"),this.axisX2&&0<this.axisX2.length&&n.push("axisX2"),this.axisY&&0<this.axisY.length&&n.push("axisY"),this.axisY2&&0<this.axisY2.length&&n.push("axisY2");for(var l=0;l<n.length;l++)if(W(o[n[l]])&&(o[n[l]]=[]),"axisY"===n[l])for(var p=0;p<this.axisY.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});else if("axisY2"===n[l])for(p=0;p<this.axisY2.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});else if("axisX"===n[l])for(p=0;p<this.axisX.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});else if("axisX2"===n[l])for(p=0;p<this.axisX2.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});this.dispatchEvent(t,o,this)},A.prototype._mouseEventHandler=function(t){function d(){A.capturedEventParam&&(m=(l=A.capturedEventParam).bounds,"mouseup"===n&&(A.capturedEventParam=null,l.chart.overlaidCanvas.releaseCapture?l.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",l.chart._mouseEventHandler,!1)),l.hasOwnProperty(n)&&("mouseup"!==n||l.chart.overlaidCanvas.releaseCapture?t.target!==l.chart.overlaidCanvas&&j||l[n].call(l.context,o.x,o.y):t.target!==l.chart.overlaidCanvas&&(l.chart.isDrag=!1)))}typeof t.target>"u"&&t.srcElement&&(t.target=t.srcElement);var l,p,o=as(t),n=t.type;if(t.which?p=3==t.which:t.button&&(p=2==t.button),this._ignoreNextEvent)d(),this._ignoreNextEvent=!1;else if(d(),this.interactivityEnabled){var m;if(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),Ei&&window.console&&(window.console.log(n+" --\x3e x: "+o.x+"; y:"+o.y),p&&window.console.log(t.which),"mouseup"===n&&window.console.log("mouseup")),!p){if(!A.capturedEventParam&&this._events){for(p=0;p<this._events.length;p++)if(this._events[p].hasOwnProperty(n)){if(o.x>=(m=(l=this._events[p]).bounds).x1&&o.x<=m.x2&&o.y>=m.y1&&o.y<=m.y2){l[n].call(l.context,o.x,o.y),"mousedown"===n&&!0===l.capture?(A.capturedEventParam=l,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===n&&(l.chart.overlaidCanvas.releaseCapture?l.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}l=null}t.target.style.cursor=l&&l.cursor?l.cursor:this._defaultCursor}if(o.x<(p=this.plotArea).x1||o.x>p.x2||o.y<p.y1||o.y>p.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),p=0;p<this.axisX.length;p++)this.axisX[p].crosshair&&this.axisX[p].crosshair.enabled&&(this.axisX[p].crosshair.hide(),this.axisX[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[p].options},this.axisX[p].crosshair));for(p=0;p<this.axisX2.length;p++)this.axisX2[p].crosshair&&this.axisX2[p].crosshair.enabled&&(this.axisX2[p].crosshair.hide(),this.axisX2[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[p].options},this.axisX2[p].crosshair));for(p=0;p<this.axisY.length;p++)this.axisY[p].crosshair&&this.axisY[p].crosshair.enabled&&(this.axisY[p].crosshair.hide(),this.axisY[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[p].options},this.axisY[p].crosshair));for(p=0;p<this.axisY2.length;p++)this.axisY2[p].crosshair&&this.axisY2[p].crosshair.enabled&&(this.axisY2[p].crosshair.hide(),this.axisY2[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[p].options},this.axisY2[p].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}}},A.prototype._plotAreaMouseDown=function(t,d){this.isDrag=!0,this.dragStartPoint={x:t,y:d}},A.prototype._plotAreaMouseUp=function(t,d){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var o=d-this.dragStartPoint.y,n=t-this.dragStartPoint.x,M=0<=this.zoomType.indexOf("x"),m=0<=this.zoomType.indexOf("y"),l=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var p=m;m=M,M=p}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(M=m=0;M<this._axes.length;M++)(o=this._axes[M]).logarithmic?o.viewportMinimum<o.minimum?(o.sessionVariables.newViewportMinimum=o.viewportMinimum*(m=o.minimum/o.viewportMinimum),o.sessionVariables.newViewportMaximum=o.viewportMaximum*m,l=!0):o.viewportMaximum>o.maximum&&(o.sessionVariables.newViewportMinimum=o.viewportMinimum/(m=o.viewportMaximum/o.maximum),o.sessionVariables.newViewportMaximum=o.viewportMaximum/m,l=!0):o.viewportMinimum<o.minimum?(o.sessionVariables.newViewportMinimum=o.viewportMinimum+(m=o.minimum-o.viewportMinimum),o.sessionVariables.newViewportMaximum=o.viewportMaximum+m,l=!0):o.viewportMaximum>o.maximum&&(o.sessionVariables.newViewportMinimum=o.viewportMinimum-(m=o.viewportMaximum-o.maximum),o.sessionVariables.newViewportMaximum=o.viewportMaximum-m,l=!0);else if((!M||2<Math.abs(n))&&(!m||2<Math.abs(o))&&this.zoomEnabled){if(!this.dragStartPoint)return;o=M?this.dragStartPoint.x:this.plotArea.x1,n=m?this.dragStartPoint.y:this.plotArea.y1,M=M?t:this.plotArea.x2,m=m?d:this.plotArea.y2,2<Math.abs(o-M)&&2<Math.abs(n-m)&&this._zoomPanToSelectedRegion(o,n,M,m)&&(l=!0)}l&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&(this.stockChart.rangeUpdatedBy="chart",this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart))),l&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(ge(this._zoomButton,this._resetButton),Ve(this,this._zoomButton,"pan"),Ve(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].renderCrosshair(t,d);if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].renderCrosshair(t,d);if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].renderCrosshair(t,d);if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].renderCrosshair(t,d);if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].crosshair.renderLabel()}},A.prototype._plotAreaMouseMove=function(t,d){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var o=0,n=0,l=o=null,p=(l=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),m=this;if("xySwapped"===this.plotInfo.axisPlacement&&(o=p,p=l,l=o),o=this.dragStartPoint.x-t,n=this.dragStartPoint.y-d,2<Math.abs(o)&&8>Math.abs(o)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var M=0;M<this.axisX.length;M++)this.axisX[M].crosshair&&this.axisX[M].crosshair.enabled&&(this.axisX[M].crosshair.hide(),this.axisX[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[M].options},this.axisX[M].crosshair));for(M=0;M<this.axisX2.length;M++)this.axisX2[M].crosshair&&this.axisX2[M].crosshair.enabled&&(this.axisX2[M].crosshair.hide(),this.axisX2[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[M].options},this.axisX2[M].crosshair));for(M=0;M<this.axisY.length;M++)this.axisY[M].crosshair&&this.axisY[M].crosshair.enabled&&(this.axisY[M].crosshair.hide(),this.axisY[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[M].options},this.axisY[M].crosshair));for(M=0;M<this.axisY2.length;M++)this.axisY2[M].crosshair&&this.axisY2[M].crosshair.enabled&&(this.axisY2[M].crosshair.hide(),this.axisY2[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[M].options},this.axisY2[M].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,d);if((!l||2<Math.abs(o)||!p||2<Math.abs(n))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)l={x1:l?this.plotArea.x1+o:this.plotArea.x1,y1:p?this.plotArea.y1+n:this.plotArea.y1,x2:l?this.plotArea.x2+o:this.plotArea.x2,y2:p?this.plotArea.y2+n:this.plotArea.y2},clearTimeout(m._panTimerId),m._panTimerId=setTimeout(function(g,b,v,h){return function(){m._zoomPanToSelectedRegion(g,b,v,h,!0)&&(m._dispatchRangeEvent("rangeChanging","pan"),m.stockChart&&m.stockChart.navigator&&m.stockChart.navigator.enabled&&(m.stockChart._rangeEventParameter.type="rangeChanging",m.stockChart.dispatchEvent("rangeChanging",m.stockChart._rangeEventParameter,m.stockChart)),m.render(),m._dispatchRangeEvent("rangeChanged","pan"),m.stockChart&&m.stockChart.navigator&&m.stockChart.navigator.enabled&&(m.stockChart._rangeEventParameter.type="rangeChanged",m.stockChart.dispatchEvent("rangeChanged",m.stockChart._rangeEventParameter,m.stockChart)),m.dragStartPoint.x=t,m.dragStartPoint.y=d)}}(l.x1,l.y1,l.x2,l.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),o=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var T=l?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,f=p?d-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(n=l?this.dragStartPoint.x:this.plotArea.x1,M=p?this.dragStartPoint.y:this.plotArea.y1,l?t:this.plotArea.x2-this.plotArea.x1,p?d:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(n,M,T,f),this.overlaidCanvasCtx.globalAlpha=o}}else if(this.toolTip.mouseMoveHandler(t,d),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].renderCrosshair(t,d);if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].renderCrosshair(t,d);if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].renderCrosshair(t,d);if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].renderCrosshair(t,d);if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].crosshair.renderLabel()}},A.prototype._zoomPanToSelectedRegion=function(t,d,o,n,l){if(d=(t=this.validateRegion(t,d,o,n,l)).axesWithValidRange,o=t.axesRanges,t.isValid)for(n=0;n<d.length;n++)d[n].setViewPortRange((l=o[n]).val1,l.val2),this.syncCharts&&"y"!=this.zoomType&&this.syncCharts(l.val1,l.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:l.val1,maximum:l.val2});return t.isValid},A.prototype.validateRegion=function(t,d,o,n,l){l=l||!1;for(var p=0<=this.zoomType.indexOf("x"),m=0<=this.zoomType.indexOf("y"),M=!1,T=[],f=[],g=[],b=0;b<this._axes.length;b++)("axisX"===this._axes[b].type&&p||"axisY"===this._axes[b].type&&m)&&f.push(this._axes[b]);for(m=0;m<f.length;m++){if(p=!1,(_=(b=f[m]).convertPixelToValue({x:t,y:d}))>(h=b.convertPixelToValue({x:o,y:n})))var v=h,h=_,_=v;if(b.scaleBreaks)for(v=0;!p&&v<b.scaleBreaks._appliedBreaks.length;v++)p=b.scaleBreaks._appliedBreaks[v].startValue<=_&&b.scaleBreaks._appliedBreaks[v].endValue>=h;if(isFinite(b.dataInfo.minDiff))if(v=b.getApparentDifference(_,h,null,!0),p||!(this.panEnabled&&b.scaleBreaks&&b.scaleBreaks._appliedBreaks.length)&&(b.logarithmic&&v<Math.pow(b.dataInfo.minDiff,3)||!b.logarithmic&&v<3*Math.abs(b.dataInfo.minDiff))||_<b.minimum||h>b.maximum){if(!l){M=!1;break}}else T.push(b),g.push({val1:_,val2:h}),M=!0}return{isValid:M,axesWithValidRange:T,axesRanges:g}},A.prototype.preparePlotArea=function(){var t=this.plotArea;if(!j&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var d=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var o=this.axisY[0];t.x1=d.x1<d.x2?d.x1:o.lineCoordinates.x1,t.y1=d.y1<o.lineCoordinates.y1?d.y1:o.lineCoordinates.y1,t.x2=d.x2>o.lineCoordinates.x2?d.x2:o.lineCoordinates.x2,t.y2=d.y1>o.lineCoordinates.y2?d.y1:o.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(o=this.axisY2[0],t.x1=d.x1<d.x2?d.x1:o.lineCoordinates.x1,t.y1=d.y1<o.lineCoordinates.y1?d.y1:o.lineCoordinates.y1,t.x2=d.x2>o.lineCoordinates.x2?d.x2:o.lineCoordinates.x2,t.y2=d.y2>o.lineCoordinates.y2?d.y2:o.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1)}else d=this.layoutManager.getFreeSpace(),t.x1=d.x1,t.x2=d.x2,t.y1=d.y1,t.y2=d.y2,t.width=d.width,t.height=d.height;j||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new Fi(t.x1,t.y1,t.x2,t.y2,2)},A.prototype.renderIndexLabels=function(t){var d=t||this.plotArea.ctx,o=this.plotArea,n=0,l=0,p=0,m=l=p=0,M=0,T=n=0,f=0;for(t=0;t<this._indexLabels.length;t++){var v,h,g=this._indexLabels[t],b=g.chartType.toLowerCase(),_=(M=qt("indexLabelFontColor",g.dataPoint,g.dataSeries),qt("indexLabelFontSize",g.dataPoint,g.dataSeries));T=qt("indexLabelFontFamily",g.dataPoint,g.dataSeries),f=qt("indexLabelFontStyle",g.dataPoint,g.dataSeries),v=qt("indexLabelFontWeight",g.dataPoint,g.dataSeries);var B=qt("indexLabelBackgroundColor",g.dataPoint,g.dataSeries);h=qt("indexLabelBorderColor",g.dataPoint,g.dataSeries),p=qt("indexLabelBorderThickness",g.dataPoint,g.dataSeries),l=qt("indexLabelMaxWidth",g.dataPoint,g.dataSeries),m=qt("indexLabelWrap",g.dataPoint,g.dataSeries);var F=qt("indexLabelLineDashType",g.dataPoint,g.dataSeries),P=qt("indexLabelLineColor",g.dataPoint,g.dataSeries),I=W(g.dataPoint.indexLabelLineThickness)?W(g.dataSeries.options.indexLabelLineThickness)?0:g.dataSeries.options.indexLabelLineThickness:g.dataPoint.indexLabelLineThickness,w=(n=0<I?Math.min(10,0|("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)):0,{percent:null,total:null}),Y=null;(0<=g.dataSeries.type.indexOf("stacked")||"pie"===g.dataSeries.type||"doughnut"===g.dataSeries.type)&&(w=this.getPercentAndTotal(g.dataSeries,g.dataPoint)),(g.dataSeries.indexLabelFormatter||g.dataPoint.indexLabelFormatter)&&(Y={chart:this,dataSeries:g.dataSeries,dataPoint:g.dataPoint,index:g.indexKeyword,total:w.total,percent:w.percent});var N=g.dataPoint.indexLabelFormatter?g.dataPoint.indexLabelFormatter(Y):g.dataPoint.indexLabel?this.replaceKeywordsWithValue(g.dataPoint.indexLabel,g.dataPoint,g.dataSeries,null,g.indexKeyword):g.dataSeries.indexLabelFormatter?g.dataSeries.indexLabelFormatter(Y):g.dataSeries.indexLabel?this.replaceKeywordsWithValue(g.dataSeries.indexLabel,g.dataPoint,g.dataSeries,null,g.indexKeyword):null;if(null!==N&&""!==N){w=qt("indexLabelPlacement",g.dataPoint,g.dataSeries),Y=qt("indexLabelOrientation",g.dataPoint,g.dataSeries);var z=qt("indexLabelTextAlign",g.dataPoint,g.dataSeries),et=g.direction,dt=g.dataSeries.axisX,$=g.dataSeries.axisY,Q=!1;if((B=new ee(d,{x:0,y:0,maxWidth:l||.5*this.width,maxHeight:m?5*_:1.5*_,angle:"horizontal"===Y?0:-90,text:N,padding:0,backgroundColor:B,borderColor:h,borderThickness:p,textAlign:z,fontSize:_,fontFamily:T,fontWeight:v,fontColor:M,fontStyle:f,textBaseline:"middle"})).measureText(),g.dataSeries.indexLabelMaxWidth=B.maxWidth,"stackedarea100"===b){if(g.point.x<o.x1||g.point.x>o.x2||g.point.y<o.y1-1||g.point.y>o.y2+1)continue}else if("rangearea"===b||"rangesplinearea"===b){if(g.dataPoint.x<dt.viewportMinimum||g.dataPoint.x>dt.viewportMaximum||Math.max.apply(null,g.dataPoint.y)<$.viewportMinimum||Math.min.apply(null,g.dataPoint.y)>$.viewportMaximum)continue}else if(0<=b.indexOf("line")||0<=b.indexOf("area")||0<=b.indexOf("bubble")||0<=b.indexOf("scatter")){if(g.dataPoint.x<dt.viewportMinimum||g.dataPoint.x>dt.viewportMaximum||g.dataPoint.y<$.viewportMinimum||g.dataPoint.y>$.viewportMaximum)continue}else if(0<=b.indexOf("column")||"waterfall"===b||"error"===b&&!g.axisSwapped){if(g.dataPoint.x<dt.viewportMinimum||g.dataPoint.x>dt.viewportMaximum||(0<g.dataPoint.y.length?Math.max.apply(null,g.dataPoint.y):g.dataPoint.y)<$.viewportMinimum||(0<g.dataPoint.y.length?Math.max.apply(null,g.dataPoint.y):g.dataPoint.y)>$.viewportMaximum)continue}else if(0<=b.indexOf("bar")||"error"===b){if(g.dataPoint.x<dt.viewportMinimum||g.dataPoint.x>dt.viewportMaximum||g.bounds.x1>o.x2||g.bounds.x2<o.x1)continue}else if("candlestick"===b||"ohlc"===b){if(g.dataPoint.x<dt.viewportMinimum||g.dataPoint.x>dt.viewportMaximum||Math.max.apply(null,g.dataPoint.y)<$.viewportMinimum||Math.min.apply(null,g.dataPoint.y)>$.viewportMaximum)continue}else if(g.dataPoint.x<dt.viewportMinimum||g.dataPoint.x>dt.viewportMaximum)continue;m=M=2,"horizontal"===Y?(T=B.width,f=B.height):(f=B.width,T=B.height),"normal"===this.plotInfo.axisPlacement?(0<=b.indexOf("line")||0<=b.indexOf("area")?(w="auto",M=4):0<=b.indexOf("stacked")?"auto"===w&&(w="inside"):("bubble"===b||"scatter"===b)&&(w="inside"),v=g.point.x-T/2+("horizontal"===Y?0:B._lineHeight/2),"inside"!==w?(l=o.y1,p=o.y2,0<et?(h=g.point.y+B._lineHeight/2-f-M-n)<l&&(!(Q=(h="auto"===w?Math.max(g.point.y,l)+B._lineHeight/2+M+n:l+B._lineHeight/2+M+n)+("horizontal"===Y?f-B._lineHeight/2:0)>g.point.y)||0<=b.indexOf("line")||0<=b.indexOf("area")||(h-=n)):(h=g.point.y+B._lineHeight/2+M+n)>p-f+B._lineHeight/2-M&&(!(Q=(h="auto"===w?Math.min(g.point.y,p)+B._lineHeight/2-f-M-n:p+B._lineHeight/2-f-M-n)-("horizontal"===Y?B._lineHeight/2:f)<g.point.y)||0<=b.indexOf("line")||0<=b.indexOf("area")||(h+=n))):(Math.max(g.bounds.y1,o.y1),p=Math.min(g.bounds.y2,o.y2)-f+B._lineHeight/2,n=0<=b.indexOf("range")||"error"===b?0<et?Math.max(g.bounds.y1,o.y1)+B._lineHeight/2+M:Math.min(g.bounds.y2,o.y2)+B._lineHeight/2-f-M:(Math.max(g.bounds.y1,o.y1)+Math.min(g.bounds.y2,o.y2))/2-f/2+B._lineHeight/2,0<et?(h=n,("bubble"===b||"scatter"===b)&&(h=g.point.y-f/2+B._lineHeight/2,f>g.bounds.y2-g.bounds.y1&&(h-=f/2+M),0>h-B._lineHeight/2&&(h+=Math.abs(h-B._lineHeight/2)<=(g.bounds.y2-g.bounds.y1)/2+M?Math.abs(h-B._lineHeight/2):(g.bounds.y2-g.bounds.y1)/2+M))):(h=Math.min(g.point.y,n))>p-f-M&&("bubble"===b||"scatter"===b)&&(h=Math.min(g.point.y+M,o.y2-f-M)),h=Math.min(h,p))):(0<=b.indexOf("line")||0<=b.indexOf("area")||0<=b.indexOf("scatter")?(w="auto",m=4):0<=b.indexOf("stacked")?"auto"===w&&(w="inside"):"bubble"===b&&(w="inside"),h=g.point.y+B._lineHeight/2-f/2,"inside"!==w?(p=o.x1,l=o.x2,0>et?(v=g.point.x-T+("horizontal"===Y?0:B._lineHeight/2)-m-n,("horizontal"===Y?v:v-B._lineHeight/2)<p&&(Q=(v="auto"===w?Math.max(g.point.x,p)+("horizontal"===Y?0:B._lineHeight/2)+M+n:p+("horizontal"===Y?0:B._lineHeight/2)+m)+T-("horizontal"===Y?0:B._lineHeight/2)>g.point.x)&&(v-=n)):(v=g.point.x+("horizontal"===Y?0:B._lineHeight/2)+m+n,("horizontal"===Y?v:v-B._lineHeight/2)>l-T-m-n&&(Q=(v="auto"===w?Math.min(g.point.x,l)-("horizontal"===Y?T:T-B._lineHeight/2)-m-n:l-T-m+("horizontal"===Y?0:B._lineHeight/2))-("horizontal"===Y?0:B._lineHeight/2)<g.point.x)&&(v+=n))):(p=Math.max(g.bounds.x1,o.x1),Math.min(g.bounds.x2,o.x2),n=0<=b.indexOf("range")||"error"===b?0>et?Math.max(g.bounds.x1,o.x1):Math.min(g.bounds.x2,o.x2)-T-m+("horizontal"===Y?0:B._lineHeight/2):(Math.max(g.bounds.x1,o.x1)+Math.min(g.bounds.x2,o.x2))/2-T/2+("horizontal"===Y?0:B._lineHeight/2),v=0>et?n:Math.min(g.point.x,n),v=Math.max(v,p+("horizontal"===Y?0:B._lineHeight/2+M)))),"vertical"===Y&&(h+=f-B._lineHeight/2,0<="ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(b)&&(Q=0<et?h+("horizontal"===Y?f-B._lineHeight/2:0)>g.point.y:h-("horizontal"===Y?B._lineHeight/2:f)<g.point.y),"bubble"===b||"scatter"===b)&&(v+=B._lineHeight/2-_/2),B.x=v,B.y=h,B.render(!0),I&&"inside"!==w&&(0>b.indexOf("bar")&&("error"!==b||!g.axisSwapped)&&g.point.x>o.x1&&g.point.x<o.x2||!Q)&&(-1==="ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(b)&&("error"!==b||g.axisSwapped)&&g.point.y>o.y1&&g.point.y<o.y2||!Q)&&(d.lineWidth=I,d.strokeStyle=P||"gray",d.setLineDash&&d.setLineDash(xt(F,I)),d.beginPath(),d.moveTo(g.point.x,g.point.y),0<=b.indexOf("bar")||"error"===b&&g.axisSwapped?d.lineTo(v+(0<g.direction?0:T)+("vertical"===Y?-B._lineHeight/2:0),h+("vertical"===Y?-f/2:f/2-B._lineHeight/2)):0<=b.indexOf("column")||"error"===b&&!g.axisSwapped?d.lineTo(v+T/2-("horizontal"===Y?0:B._lineHeight/2),h+("vertical"===Y?h-f<g.point.y?0:-f:(h-B._lineHeight/2<g.point.y?f:0)-B._lineHeight/2)):0<=b.indexOf("waterfall")?d.lineTo(v+T/2-("horizontal"===Y?0:B._lineHeight/2),"vertical"===Y?0<et&&h<g.point.y?h:0>et&&h-f>g.point.y?h-f:g.point.y:0<et&&h+f-B._lineHeight/2<g.point.y?h+f-B._lineHeight/2:0>et&&h-B._lineHeight/2>g.point.y?h-B._lineHeight/2:g.point.y):d.lineTo(v+T/2-("horizontal"===Y?0:B._lineHeight/2),h+("vertical"===Y?h-f<g.point.y?0:-f:(h+f-B._lineHeight/2<g.point.y?f:0)-B._lineHeight/2)),d.stroke())}}for(d={source:d,dest:this.plotArea.ctx,animationCallback:Dt.fadeInAnimation,easingFunction:Dt.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)B=qt("indexLabelBackgroundColor",(g=this._indexLabels[t]).dataPoint,g.dataSeries),g.dataSeries.indexLabelBackgroundColor=W(B)?j?"transparent":null:B;return d},A.prototype.renderLine=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;o.save();var l=this.plotArea;o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip();for(var m,p=[],M=0;M<t.dataSeriesIndexes.length;M++){var T=t.dataSeriesIndexes[M],f=this.data[T];o.lineWidth=f.lineThickness;var g=f.dataPoints,b="solid";if(o.setLineDash){var v=xt(f.nullDataLineDashType,f.lineThickness),h=xt(b=f.lineDashType,f.lineThickness);o.setLineDash(h)}this._eventManager.objectMap[_=f.id]={objectType:"dataSeries",dataSeriesIndex:T},_=zt(_),n.strokeStyle=_,n.lineWidth=0<f.lineThickness?Math.max(f.lineThickness,4):0;var _=f._colorSet,B=_=f.lineColor=f.options.lineColor?f.options.lineColor:_[0];o.strokeStyle=_;var I,w,F=!0,P=0;if(o.beginPath(),0<g.length){var Y=!1;for(P=0;P<g.length;P++)if(!((I=g[P].x.getTime?g[P].x.getTime():g[P].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!Y)))if("number"!=typeof g[P].y)0<P&&!(f.connectNullData||Y||F)&&(o.stroke(),j&&n.stroke()),Y=!0;else{I=t.axisX.convertValueToPixel(I),w=t.axisY.convertValueToPixel(g[P].y);var N=f.dataPointIds[P];if(this._eventManager.objectMap[N]={id:N,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:P,x1:I,y1:w},F||Y?(!F&&f.connectNullData?(o.setLineDash&&(f.options.nullDataLineDashType||b===f.lineDashType&&f.lineDashType!==f.nullDataLineDashType)&&(o.stroke(),o.beginPath(),o.moveTo(m.x,m.y),b=f.nullDataLineDashType,o.setLineDash(v)),o.lineTo(I,w),j&&n.lineTo(I,w)):(o.beginPath(),o.moveTo(I,w),j&&(n.beginPath(),n.moveTo(I,w))),Y=F=!1):(o.lineTo(I,w),j&&n.lineTo(I,w),P%500==0&&(o.stroke(),o.beginPath(),o.moveTo(I,w),j&&(n.stroke(),n.beginPath(),n.moveTo(I,w)))),m={x:I,y:w},P<g.length-1&&(B!==(g[P].lineColor||_)||b!==(g[P].lineDashType||f.lineDashType))&&(o.stroke(),o.beginPath(),o.moveTo(I,w),o.strokeStyle=B=g[P].lineColor||_,o.setLineDash&&(g[P].lineDashType?o.setLineDash(xt(b=g[P].lineDashType,f.lineThickness)):(b=f.lineDashType,o.setLineDash(h)))),0!==g[P].markerSize&&(0<g[P].markerSize||0<f.markerSize)){var z=f.getMarkerProperties(P,I,w,o);p.push(z),N=zt(N),j&&p.push({x:I,y:w,ctx:n,type:z.type,size:z.size,color:N,borderColor:N,borderThickness:z.borderThickness})}(g[P].indexLabel||f.indexLabel||g[P].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:g[P],dataSeries:f,point:{x:I,y:w},direction:0>g[P].y===t.axisY.reversed?1:-1,color:_})}o.stroke(),j&&n.stroke()}}return ue.drawMarkers(p),j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.beginPath()),o.restore(),o.beginPath(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.xClipAnimation,easingFunction:Dt.easing.linear,animationBase:0}}},A.prototype.renderStepLine=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;o.save();var l=this.plotArea;o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip();for(var m,p=[],M=0;M<t.dataSeriesIndexes.length;M++){var T=t.dataSeriesIndexes[M],f=this.data[T];o.lineWidth=f.lineThickness;var g=f.dataPoints,b="solid";if(o.setLineDash){var v=xt(f.nullDataLineDashType,f.lineThickness),h=xt(b=f.lineDashType,f.lineThickness);o.setLineDash(h)}this._eventManager.objectMap[_=f.id]={objectType:"dataSeries",dataSeriesIndex:T},_=zt(_),n.strokeStyle=_,n.lineWidth=0<f.lineThickness?Math.max(f.lineThickness,4):0;var _=f._colorSet,B=_=f.lineColor=f.options.lineColor?f.options.lineColor:_[0];o.strokeStyle=_;var I,w,F=!0,P=0;if(o.beginPath(),0<g.length){var Y=!1;for(P=0;P<g.length;P++)if(!((I=g[P].getTime?g[P].x.getTime():g[P].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!Y)))if("number"!=typeof g[P].y)0<P&&!(f.connectNullData||Y||F)&&(o.stroke(),j&&n.stroke()),Y=!0;else{var N=w;I=t.axisX.convertValueToPixel(I),w=t.axisY.convertValueToPixel(g[P].y);var z=f.dataPointIds[P];this._eventManager.objectMap[z]={id:z,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:P,x1:I,y1:w},F||Y?(!F&&f.connectNullData?(o.setLineDash&&(f.options.nullDataLineDashType||b===f.lineDashType&&f.lineDashType!==f.nullDataLineDashType)&&(o.stroke(),o.beginPath(),o.moveTo(m.x,m.y),b=f.nullDataLineDashType,o.setLineDash(v)),o.lineTo(I,N),o.lineTo(I,w),j&&(n.lineTo(I,N),n.lineTo(I,w))):(o.beginPath(),o.moveTo(I,w),j&&(n.beginPath(),n.moveTo(I,w))),Y=F=!1):(o.lineTo(I,N),j&&n.lineTo(I,N),o.lineTo(I,w),j&&n.lineTo(I,w),P%500==0&&(o.stroke(),o.beginPath(),o.moveTo(I,w),j&&(n.stroke(),n.beginPath(),n.moveTo(I,w)))),m={x:I,y:w},P<g.length-1&&(B!==(g[P].lineColor||_)||b!==(g[P].lineDashType||f.lineDashType))&&(o.stroke(),o.beginPath(),o.moveTo(I,w),o.strokeStyle=B=g[P].lineColor||_,o.setLineDash&&(g[P].lineDashType?o.setLineDash(xt(b=g[P].lineDashType,f.lineThickness)):(b=f.lineDashType,o.setLineDash(h)))),0!==g[P].markerSize&&(0<g[P].markerSize||0<f.markerSize)&&(N=f.getMarkerProperties(P,I,w,o),p.push(N),z=zt(z),j&&p.push({x:I,y:w,ctx:n,type:N.type,size:N.size,color:z,borderColor:z,borderThickness:N.borderThickness})),(g[P].indexLabel||f.indexLabel||g[P].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:g[P],dataSeries:f,point:{x:I,y:w},direction:0>g[P].y===t.axisY.reversed?1:-1,color:_})}o.stroke(),j&&n.stroke()}}return ue.drawMarkers(p),j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.beginPath()),o.restore(),o.beginPath(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.xClipAnimation,easingFunction:Dt.easing.linear,animationBase:0}}},A.prototype.renderSpline=function(t){function d(z){if(0<(z=O(z,2)).length){n.beginPath(),j&&l.beginPath(),n.moveTo(z[0].x,z[0].y),z[0].newStrokeStyle&&(n.strokeStyle=z[0].newStrokeStyle),z[0].newLineDashArray&&n.setLineDash(z[0].newLineDashArray),j&&l.moveTo(z[0].x,z[0].y);for(var et=0;et<z.length-3;et+=3)n.bezierCurveTo(z[et+1].x,z[et+1].y,z[et+2].x,z[et+2].y,z[et+3].x,z[et+3].y),j&&l.bezierCurveTo(z[et+1].x,z[et+1].y,z[et+2].x,z[et+2].y,z[et+3].x,z[et+3].y),(0<et&&et%3e3==0||z[et+3].newStrokeStyle||z[et+3].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(z[et+3].x,z[et+3].y),z[et+3].newStrokeStyle&&(n.strokeStyle=z[et+3].newStrokeStyle),z[et+3].newLineDashArray&&n.setLineDash(z[et+3].newLineDashArray),j&&(l.stroke(),l.beginPath(),l.moveTo(z[et+3].x,z[et+3].y)));n.stroke(),j&&l.stroke()}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=j?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx;n.save();var p=this.plotArea;n.beginPath(),n.rect(p.x1,p.y1,p.width,p.height),n.clip();for(var m=[],M=0;M<t.dataSeriesIndexes.length;M++){var T=t.dataSeriesIndexes[M],f=this.data[T];n.lineWidth=f.lineThickness;var g=f.dataPoints,b="solid";if(n.setLineDash){var v=xt(f.nullDataLineDashType,f.lineThickness),h=xt(b=f.lineDashType,f.lineThickness);n.setLineDash(h)}this._eventManager.objectMap[_=f.id]={objectType:"dataSeries",dataSeriesIndex:T},_=zt(_),l.strokeStyle=_,l.lineWidth=0<f.lineThickness?Math.max(f.lineThickness,4):0;var _=f._colorSet,B=_=f.lineColor=f.options.lineColor?f.options.lineColor:_[0];n.strokeStyle=_;var P,I,F=0,w=[];if(n.beginPath(),0<g.length)for(I=!1,F=0;F<g.length;F++)if(!((P=g[F].getTime?g[F].x.getTime():g[F].x)<t.axisX.dataInfo.viewPortMin||P>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!I)))if("number"!=typeof g[F].y)0<F&&!I&&(f.connectNullData?n.setLineDash&&0<w.length&&(f.options.nullDataLineDashType||!g[F-1].lineDashType)&&(w[w.length-1].newLineDashArray=v,b=f.nullDataLineDashType):(d(w),w=[])),I=!0;else{P=t.axisX.convertValueToPixel(P),I=t.axisY.convertValueToPixel(g[F].y);var Y=f.dataPointIds[F];if(this._eventManager.objectMap[Y]={id:Y,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:F,x1:P,y1:I},w[w.length]={x:P,y:I},F<g.length-1&&(B!==(g[F].lineColor||_)||b!==(g[F].lineDashType||f.lineDashType))&&(w[w.length-1].newStrokeStyle=B=g[F].lineColor||_,n.setLineDash&&(g[F].lineDashType?w[w.length-1].newLineDashArray=xt(b=g[F].lineDashType,f.lineThickness):(b=f.lineDashType,w[w.length-1].newLineDashArray=h))),0!==g[F].markerSize&&(0<g[F].markerSize||0<f.markerSize)){var N=f.getMarkerProperties(F,P,I,n);m.push(N),Y=zt(Y),j&&m.push({x:P,y:I,ctx:l,type:N.type,size:N.size,color:Y,borderColor:Y,borderThickness:N.borderThickness})}(g[F].indexLabel||f.indexLabel||g[F].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:g[F],dataSeries:f,point:{x:P,y:I},direction:0>g[F].y===t.axisY.reversed?1:-1,color:_}),I=!1}d(w)}return ue.drawMarkers(m),j&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(p.x1,p.y1,p.width,p.height),l.beginPath()),n.restore(),n.beginPath(),{source:o,dest:this.plotArea.ctx,animationCallback:Dt.xClipAnimation,easingFunction:Dt.easing.linear,animationBase:0}}},A.prototype.renderColumn=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,m,M,n=null,l=this.plotArea,f=0,T=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),g=(f=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)),b=t.axisX.dataInfo.minDiff;for(isFinite(b)||(b=.3*Math.abs(t.axisX.range)),b=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&f>g&&(f=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<f&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,f)),b<f&&(b=f),b>g&&(b=g),o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),g=0;g<t.dataSeriesIndexes.length;g++){var v=t.dataSeriesIndexes[g],h=this.data[v],_=h.dataPoints;if(0<_.length){var B=!!(5<b&&h.bevelEnabled);for(f=0;f<_.length;f++)if(!((M=_[f].getTime?_[f].x.getTime():_[f].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax)&&"number"==typeof _[f].y){p=t.axisX.convertValueToPixel(M),m=t.axisY.convertValueToPixel(_[f].y),p=t.axisX.reversed?p+t.plotType.totalDataSeries*b/2-(t.previousDataSeriesCount+g)*b|0:p-t.plotType.totalDataSeries*b/2+(t.previousDataSeriesCount+g)*b|0;var P,F=t.axisX.reversed?p-b|0:p+b|0;0<=_[f].y?P=T:(P=m,m=T),m>P&&(n=m,m=P,P=n),_e(o,t.axisX.reversed?F:p,m,t.axisX.reversed?p:F,P,n=_[f].color?_[f].color:h._colorSet[f%h._colorSet.length],0,null,B&&(t.axisY.reversed?0>_[f].y:0<=_[f].y),(t.axisY.reversed?0<=_[f].y:0>_[f].y)&&B,!1,!1,h.fillOpacity),this._eventManager.objectMap[n=h.dataPointIds[f]]={id:n,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:f,x1:p,y1:m,x2:F,y2:P},n=zt(n),j&&_e(this._eventManager.ghostCtx,t.axisX.reversed?F:p,m,t.axisX.reversed?p:F,P,n,0,null,!1,!1,!1,!1),(_[f].indexLabel||h.indexLabel||_[f].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:_[f],dataSeries:h,point:{x:p+(F-p)/2,y:0>_[f].y===t.axisY.reversed?m:P},direction:0>_[f].y===t.axisY.reversed?1:-1,bounds:{x1:p,y1:Math.min(m,P),x2:F,y2:Math.max(m,P)},color:n})}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.yScaleAnimation,easingFunction:Dt.easing.easeOutQuart,animationBase:T<t.axisY.bounds.y1?t.axisY.bounds.y1:T>t.axisY.bounds.y2?t.axisY.bounds.y2:T}}},A.prototype.renderStackedColumn=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,g,n=null,l=this.plotArea,p=[],m=[],M=[],T=[],v=0,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width|0),_=t.axisX.dataInfo.minDiff;for(isFinite(_)||(_=.3*Math.abs(t.axisX.range)),_=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(_)/Math.log(t.axisX.range):Math.abs(_)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),_<v&&(_=v),_>h&&(_=h),o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var B=t.dataSeriesIndexes[h],F=this.data[B],P=F.dataPoints;if(0<P.length){var I=!!(5<_&&F.bevelEnabled);for(o.strokeStyle="#4572A7 ",v=0;v<P.length;v++)if(!((n=P[v].x.getTime?P[v].x.getTime():P[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof P[v].y){var Y,w=(f=(f=t.axisX.convertValueToPixel(n))-t.plotType.plotUnits.length*_/2+t.index*_|0)+_|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<P[v].y)M[n]=P[v].y+(M[n]?M[n]:0),0<M[n]&&(g=t.axisY.convertValueToPixel(M[n]),Y=typeof p[n]<"u"?p[n]:b,p[n]=g);else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=P[v].y)T[n]=P[v].y+(T[n]?T[n]:0),Y=t.axisY.convertValueToPixel(T[n]),g=typeof m[n]<"u"?m[n]:b,m[n]=Y;else if(g=t.axisY.convertValueToPixel(P[v].y),0<=P[v].y){var N=typeof p[n]<"u"?p[n]:0;p[n]=N+((Y=b-N)-(g-=N))}else m[n]=(N=m[n]?m[n]:0)+((Y=g+N)-(g=b+N));_e(o,f,t.axisY.reversed?Y:g,w,t.axisY.reversed?g:Y,n=P[v].color?P[v].color:F._colorSet[v%F._colorSet.length],0,null,I&&(t.axisY.reversed?0>P[v].y:0<=P[v].y),(t.axisY.reversed?0<=P[v].y:0>P[v].y)&&I,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:B,dataPointIndex:v,x1:f,y1:g,x2:w,y2:Y},n=zt(n),j&&_e(this._eventManager.ghostCtx,f,g,w,Y,n,0,null,!1,!1,!1,!1),(P[v].indexLabel||F.indexLabel||P[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:P[v],dataSeries:F,point:{x:f+(w-f)/2,y:0<=P[v].y?g:Y},direction:0>P[v].y===t.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(g,Y),x2:w,y2:Math.max(g,Y)},color:n})}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.yScaleAnimation,easingFunction:Dt.easing.easeOutQuart,animationBase:b<t.axisY.bounds.y1?t.axisY.bounds.y1:b>t.axisY.bounds.y2?t.axisY.bounds.y2:b}}},A.prototype.renderStackedColumn100=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,g,n=null,l=this.plotArea,p=[],m=[],M=[],T=[],v=0,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width|0),_=t.axisX.dataInfo.minDiff;for(isFinite(_)||(_=.3*Math.abs(t.axisX.range)),_=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(_)/Math.log(t.axisX.range):Math.abs(_)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),_<v&&(_=v),_>h&&(_=h),o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var B=t.dataSeriesIndexes[h],F=this.data[B],P=F.dataPoints;if(0<P.length){var I=!!(5<_&&F.bevelEnabled);for(v=0;v<P.length;v++)if(!((n=P[v].x.getTime?P[v].x.getTime():P[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof P[v].y){f=t.axisX.convertValueToPixel(n),g=0!==t.dataPointYSums[n]?P[v].y/t.dataPointYSums[n]*100:0;var Y,w=(f=f-t.plotType.plotUnits.length*_/2+t.index*_|0)+_|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<P[v].y){if(M[n]=g+(typeof M[n]<"u"?M[n]:0),0>=M[n])continue;g=t.axisY.convertValueToPixel(M[n]),Y=p[n]?p[n]:b,p[n]=g}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=P[v].y)T[n]=g+(typeof T[n]<"u"?T[n]:0),Y=t.axisY.convertValueToPixel(T[n]),g=m[n]?m[n]:b,m[n]=Y;else if(g=t.axisY.convertValueToPixel(g),0<=P[v].y){var N=typeof p[n]<"u"?p[n]:0;g-=N,Y=b-N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.y1-g)&&(g=l.y1),p[n]=N+(Y-g)}else Y=g+(N=typeof m[n]<"u"?m[n]:0),g=b+N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.y2-Y)&&(Y=l.y2),m[n]=N+(Y-g);_e(o,f,t.axisY.reversed?Y:g,w,t.axisY.reversed?g:Y,n=P[v].color?P[v].color:F._colorSet[v%F._colorSet.length],0,null,I&&(t.axisY.reversed?0>P[v].y:0<=P[v].y),(t.axisY.reversed?0<=P[v].y:0>P[v].y)&&I,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:B,dataPointIndex:v,x1:f,y1:g,x2:w,y2:Y},n=zt(n),j&&_e(this._eventManager.ghostCtx,f,g,w,Y,n,0,null,!1,!1,!1,!1),(P[v].indexLabel||F.indexLabel||P[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:P[v],dataSeries:F,point:{x:f+(w-f)/2,y:0<=P[v].y?g:Y},direction:0>P[v].y===t.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(g,Y),x2:w,y2:Math.max(g,Y)},color:n})}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.yScaleAnimation,easingFunction:Dt.easing.easeOutQuart,animationBase:b<t.axisY.bounds.y1?t.axisY.bounds.y1:b>t.axisY.bounds.y2?t.axisY.bounds.y2:b}}},A.prototype.renderBar=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,m,M,n=null,l=this.plotArea,f=0,T=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),g=(f=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)),b=t.axisX.dataInfo.minDiff;for(isFinite(b)||(b=.3*Math.abs(t.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&f>g&&(f=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<f&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,f)),b<f&&(b=f),b>g&&(b=g),o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),g=0;g<t.dataSeriesIndexes.length;g++){var v=t.dataSeriesIndexes[g],h=this.data[v],_=h.dataPoints;if(0<_.length){var B=!!(5<b&&h.bevelEnabled);for(o.strokeStyle="#4572A7 ",f=0;f<_.length;f++)if(!((M=_[f].getTime?_[f].x.getTime():_[f].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax)&&"number"==typeof _[f].y){m=t.axisX.convertValueToPixel(M),p=t.axisY.convertValueToPixel(_[f].y),m=t.axisX.reversed?m+t.plotType.totalDataSeries*b/2-(t.previousDataSeriesCount+g)*b|0:m-t.plotType.totalDataSeries*b/2+(t.previousDataSeriesCount+g)*b|0;var P,F=t.axisX.reversed?m-b|0:m+b|0;0<=_[f].y?P=T:(P=p,p=T),_e(o,t.axisY.reversed?p:P,t.axisX.reversed?F:m,t.axisY.reversed?P:p,t.axisX.reversed?m:F,n=_[f].color?_[f].color:h._colorSet[f%h._colorSet.length],0,null,B,!1,!1,!1,h.fillOpacity),this._eventManager.objectMap[n=h.dataPointIds[f]]={id:n,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:f,x1:P,y1:m,x2:p,y2:F},n=zt(n),j&&_e(this._eventManager.ghostCtx,P,t.axisX.reversed?F:m,p,t.axisX.reversed?m:F,n,0,null,!1,!1,!1,!1),(_[f].indexLabel||h.indexLabel||_[f].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:_[f],dataSeries:h,point:{x:0<=_[f].y?p:P,y:m+(F-m)/2},direction:0>_[f].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(P,p),y1:m,x2:Math.max(P,p),y2:F},color:n})}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.xScaleAnimation,easingFunction:Dt.easing.easeOutQuart,animationBase:T<t.axisY.bounds.x1?t.axisY.bounds.x1:T>t.axisY.bounds.x2?t.axisY.bounds.x2:T}}},A.prototype.renderStackedBar=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,g,n=null,l=this.plotArea,p=[],m=[],M=[],T=[],v=0,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height|0),_=t.axisX.dataInfo.minDiff;for(isFinite(_)||(_=.3*Math.abs(t.axisX.range)),_=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(_)/Math.log(t.axisX.range):Math.abs(_)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),_<v&&(_=v),_>h&&(_=h),o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var B=t.dataSeriesIndexes[h],F=this.data[B],P=F.dataPoints;if(0<P.length){var I=!!(5<_&&F.bevelEnabled);for(o.strokeStyle="#4572A7 ",v=0;v<P.length;v++)if(!((n=P[v].x.getTime?P[v].x.getTime():P[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof P[v].y){var Y,w=(g=(g=t.axisX.convertValueToPixel(n))-t.plotType.plotUnits.length*_/2+t.index*_|0)+_|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<P[v].y)M[n]=P[v].y+(M[n]?M[n]:0),0<M[n]&&(Y=p[n]?p[n]:b,p[n]=f=t.axisY.convertValueToPixel(M[n]));else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=P[v].y)T[n]=P[v].y+(T[n]?T[n]:0),f=m[n]?m[n]:b,m[n]=Y=t.axisY.convertValueToPixel(T[n]);else if(f=t.axisY.convertValueToPixel(P[v].y),0<=P[v].y){var N=p[n]?p[n]:0;p[n]=N+((f+=N)-(Y=b+N))}else Y=f-(N=m[n]?m[n]:0),m[n]=N+((f=b-N)-Y);_e(o,t.axisY.reversed?f:Y,g,t.axisY.reversed?Y:f,w,n=P[v].color?P[v].color:F._colorSet[v%F._colorSet.length],0,null,I,!1,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:B,dataPointIndex:v,x1:Y,y1:g,x2:f,y2:w},n=zt(n),j&&_e(this._eventManager.ghostCtx,Y,g,f,w,n,0,null,!1,!1,!1,!1),(P[v].indexLabel||F.indexLabel||P[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:P[v],dataSeries:F,point:{x:0<=P[v].y?f:Y,y:g+(w-g)/2},direction:0>P[v].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(Y,f),y1:g,x2:Math.max(Y,f),y2:w},color:n})}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.xScaleAnimation,easingFunction:Dt.easing.easeOutQuart,animationBase:b<t.axisY.bounds.x1?t.axisY.bounds.x1:b>t.axisY.bounds.x2?t.axisY.bounds.x2:b}}},A.prototype.renderStackedBar100=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,g,n=null,l=this.plotArea,p=[],m=[],M=[],T=[],v=0,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height|0),_=t.axisX.dataInfo.minDiff;for(isFinite(_)||(_=.3*Math.abs(t.axisX.range)),_=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(_)/Math.log(t.axisX.range):Math.abs(_)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),_<v&&(_=v),_>h&&(_=h),o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var B=t.dataSeriesIndexes[h],F=this.data[B],P=F.dataPoints;if(0<P.length){var I=!!(5<_&&F.bevelEnabled);for(o.strokeStyle="#4572A7 ",v=0;v<P.length;v++)if(!((n=P[v].x.getTime?P[v].x.getTime():P[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof P[v].y){var w;g=t.axisX.convertValueToPixel(n),w=0!==t.dataPointYSums[n]?P[v].y/t.dataPointYSums[n]*100:0;var Y=(g=g-t.plotType.plotUnits.length*_/2+t.index*_|0)+_|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<P[v].y){if(M[n]=w+(M[n]?M[n]:0),0>=M[n])continue;w=p[n]?p[n]:b,p[n]=f=t.axisY.convertValueToPixel(M[n])}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=P[v].y)T[n]=w+(T[n]?T[n]:0),f=m[n]?m[n]:b,m[n]=w=t.axisY.convertValueToPixel(T[n]);else if(f=t.axisY.convertValueToPixel(w),0<=P[v].y){var N=p[n]?p[n]:0;w=b+N,f+=N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.x2-f)&&(f=l.x2),p[n]=N+(f-w)}else w=f-(N=m[n]?m[n]:0),f=b-N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.x1-w)&&(w=l.x1),m[n]=N+(f-w);_e(o,t.axisY.reversed?f:w,g,t.axisY.reversed?w:f,Y,n=P[v].color?P[v].color:F._colorSet[v%F._colorSet.length],0,null,I,!1,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:B,dataPointIndex:v,x1:w,y1:g,x2:f,y2:Y},n=zt(n),j&&_e(this._eventManager.ghostCtx,w,g,f,Y,n,0,null,!1,!1,!1,!1),(P[v].indexLabel||F.indexLabel||P[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:P[v],dataSeries:F,point:{x:0<=P[v].y?f:w,y:g+(Y-g)/2},direction:0>P[v].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(w,f),y1:g,x2:Math.max(w,f),y2:Y},color:n})}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.xScaleAnimation,easingFunction:Dt.easing.easeOutQuart,animationBase:b<t.axisY.bounds.x1?t.axisY.bounds.x1:b>t.axisY.bounds.x2?t.axisY.bounds.x2:b}}},A.prototype.renderArea=function(t){var d,o;function n(){N&&(0<h.lineThickness&&p.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?Y=w:0>t.axisY.viewportMaximum?Y=M.y1:0<t.axisY.viewportMinimum&&(Y=w),p.lineTo(F,Y),p.lineTo(N.x,Y),p.closePath(),p.globalAlpha=h.fillOpacity,p.fill(),p.globalAlpha=1,j&&(m.lineTo(F,Y),m.lineTo(N.x,Y),m.closePath(),m.fill()),p.beginPath(),p.moveTo(F,P),m.beginPath(),m.moveTo(F,P),N={x:F,y:P})}var l=t.targetCanvasCtx||this.plotArea.ctx,p=j?this._preRenderCtx:l;if(!(0>=t.dataSeriesIndexes.length)){var g,m=this._eventManager.ghostCtx,M=t.axisY.lineCoordinates,T=[],f=this.plotArea;p.save(),j&&m.save(),p.beginPath(),p.rect(f.x1,f.y1,f.width,f.height),p.clip(),j&&(m.beginPath(),m.rect(f.x1,f.y1,f.width,f.height),m.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var v=t.dataSeriesIndexes[b],h=this.data[v],_=h.dataPoints;this._eventManager.objectMap[T=h.id]={objectType:"dataSeries",dataSeriesIndex:v},T=zt(T),m.fillStyle=T,T=[],d=!0;var F,P,I,Y,B=0,w=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),N=null;if(0<_.length){var z=h._colorSet[B%h._colorSet.length],et=h.lineColor=h.options.lineColor||z,dt=et;if(p.fillStyle=z,p.strokeStyle=et,p.lineWidth=h.lineThickness,o="solid",p.setLineDash){var $=xt(h.nullDataLineDashType,h.lineThickness),Q=xt(o=h.lineDashType,h.lineThickness);p.setLineDash(Q)}for(var Z=!0;B<_.length;B++)if(!((I=_[B].x.getTime?_[B].x.getTime():_[B].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!Z)))if("number"!=typeof _[B].y)h.connectNullData||Z||d||n(),Z=!0;else{F=t.axisX.convertValueToPixel(I),P=t.axisY.convertValueToPixel(_[B].y),d||Z?(!d&&h.connectNullData?(p.setLineDash&&(h.options.nullDataLineDashType||o===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(d=F,o=P,F=g.x,P=g.y,n(),p.moveTo(g.x,g.y),F=d,P=o,N=g,o=h.nullDataLineDashType,p.setLineDash($)),p.lineTo(F,P),j&&m.lineTo(F,P)):(p.beginPath(),p.moveTo(F,P),j&&(m.beginPath(),m.moveTo(F,P)),N={x:F,y:P}),Z=d=!1):(p.lineTo(F,P),j&&m.lineTo(F,P),B%250==0&&n()),g={x:F,y:P},B<_.length-1&&(dt!==(_[B].lineColor||et)||o!==(_[B].lineDashType||h.lineDashType))&&(n(),p.strokeStyle=dt=_[B].lineColor||et,p.setLineDash&&(_[B].lineDashType?p.setLineDash(xt(o=_[B].lineDashType,h.lineThickness)):(o=h.lineDashType,p.setLineDash(Q))));var J=h.dataPointIds[B];this._eventManager.objectMap[J]={id:J,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:B,x1:F,y1:P},0!==_[B].markerSize&&(0<_[B].markerSize||0<h.markerSize)&&(I=h.getMarkerProperties(B,F,P,p),T.push(I),J=zt(J),j&&T.push({x:F,y:P,ctx:m,type:I.type,size:I.size,color:J,borderColor:J,borderThickness:I.borderThickness})),(_[B].indexLabel||h.indexLabel||_[B].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:_[B],dataSeries:h,point:{x:F,y:P},direction:0>_[B].y===t.axisY.reversed?1:-1,color:z})}n(),ue.drawMarkers(T)}}return j&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&p.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&p.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),p.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:Dt.xClipAnimation,easingFunction:Dt.easing.linear,animationBase:0}}},A.prototype.renderSplineArea=function(t){function d(){var Z=O(I,2);if(0<Z.length){if(0<g.lineThickness){n.beginPath(),n.moveTo(Z[0].x,Z[0].y),Z[0].newStrokeStyle&&(n.strokeStyle=Z[0].newStrokeStyle),Z[0].newLineDashArray&&n.setLineDash(Z[0].newLineDashArray);for(var J=0;J<Z.length-3;J+=3)n.bezierCurveTo(Z[J+1].x,Z[J+1].y,Z[J+2].x,Z[J+2].y,Z[J+3].x,Z[J+3].y),j&&l.bezierCurveTo(Z[J+1].x,Z[J+1].y,Z[J+2].x,Z[J+2].y,Z[J+3].x,Z[J+3].y),(Z[J+3].newStrokeStyle||Z[J+3].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(Z[J+3].x,Z[J+3].y),Z[J+3].newStrokeStyle&&(n.strokeStyle=Z[J+3].newStrokeStyle),Z[J+3].newLineDashArray&&n.setLineDash(Z[J+3].newLineDashArray));n.stroke()}for(n.beginPath(),n.moveTo(Z[0].x,Z[0].y),j&&(l.beginPath(),l.moveTo(Z[0].x,Z[0].y)),J=0;J<Z.length-3;J+=3)n.bezierCurveTo(Z[J+1].x,Z[J+1].y,Z[J+2].x,Z[J+2].y,Z[J+3].x,Z[J+3].y),j&&l.bezierCurveTo(Z[J+1].x,Z[J+1].y,Z[J+2].x,Z[J+2].y,Z[J+3].x,Z[J+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?F=B:0>t.axisY.viewportMaximum?F=p.y1:0<t.axisY.viewportMinimum&&(F=B),P={x:Z[0].x,y:Z[0].y},n.lineTo(Z[Z.length-1].x,F),n.lineTo(P.x,F),n.closePath(),n.globalAlpha=g.fillOpacity,n.fill(),n.globalAlpha=1,j&&(l.lineTo(Z[Z.length-1].x,F),l.lineTo(P.x,F),l.closePath(),l.fill())}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=j?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=t.axisY.lineCoordinates,m=[],M=this.plotArea;n.save(),j&&l.save(),n.beginPath(),n.rect(M.x1,M.y1,M.width,M.height),n.clip(),j&&(l.beginPath(),l.rect(M.x1,M.y1,M.width,M.height),l.clip());for(var T=0;T<t.dataSeriesIndexes.length;T++){var f=t.dataSeriesIndexes[T],g=this.data[f],b=g.dataPoints;this._eventManager.objectMap[m=g.id]={objectType:"dataSeries",dataSeriesIndex:f},m=zt(m),l.fillStyle=m,m=[];var h,_,F,v=0,B=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),P=null,I=[];if(0<b.length){var w=g._colorSet[v%g._colorSet.length],Y=g.lineColor=g.options.lineColor||w,N=Y;n.fillStyle=w,n.strokeStyle=Y,n.lineWidth=g.lineThickness;var z="solid";if(n.setLineDash){var et=xt(g.nullDataLineDashType,g.lineThickness),dt=xt(z=g.lineDashType,g.lineThickness);n.setLineDash(dt)}for(_=!1;v<b.length;v++)if(!((h=b[v].x.getTime?b[v].x.getTime():b[v].x)<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!_)))if("number"!=typeof b[v].y)0<v&&!_&&(g.connectNullData?n.setLineDash&&0<I.length&&(g.options.nullDataLineDashType||!b[v-1].lineDashType)&&(I[I.length-1].newLineDashArray=et,z=g.nullDataLineDashType):(d(),I=[])),_=!0;else{h=t.axisX.convertValueToPixel(h),_=t.axisY.convertValueToPixel(b[v].y);var $=g.dataPointIds[v];if(this._eventManager.objectMap[$]={id:$,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:v,x1:h,y1:_},I[I.length]={x:h,y:_},v<b.length-1&&(N!==(b[v].lineColor||Y)||z!==(b[v].lineDashType||g.lineDashType))&&(I[I.length-1].newStrokeStyle=N=b[v].lineColor||Y,n.setLineDash&&(b[v].lineDashType?I[I.length-1].newLineDashArray=xt(z=b[v].lineDashType,g.lineThickness):(z=g.lineDashType,I[I.length-1].newLineDashArray=dt))),0!==b[v].markerSize&&(0<b[v].markerSize||0<g.markerSize)){var Q=g.getMarkerProperties(v,h,_,n);m.push(Q),$=zt($),j&&m.push({x:h,y:_,ctx:l,type:Q.type,size:Q.size,color:$,borderColor:$,borderThickness:Q.borderThickness})}(b[v].indexLabel||g.indexLabel||b[v].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:b[v],dataSeries:g,point:{x:h,y:_},direction:0>b[v].y===t.axisY.reversed?1:-1,color:w}),_=!1}d(),ue.drawMarkers(m)}}return j&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(M.x1,M.y1,M.width,M.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Dt.xClipAnimation,easingFunction:Dt.easing.linear,animationBase:0}}},A.prototype.renderStepArea=function(t){var d,o;function n(){N&&(0<h.lineThickness&&p.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?Y=w:0>t.axisY.viewportMaximum?Y=M.y1:0<t.axisY.viewportMinimum&&(Y=w),p.lineTo(F,Y),p.lineTo(N.x,Y),p.closePath(),p.globalAlpha=h.fillOpacity,p.fill(),p.globalAlpha=1,j&&(m.lineTo(F,Y),m.lineTo(N.x,Y),m.closePath(),m.fill()),p.beginPath(),p.moveTo(F,P),m.beginPath(),m.moveTo(F,P),N={x:F,y:P})}var l=t.targetCanvasCtx||this.plotArea.ctx,p=j?this._preRenderCtx:l;if(!(0>=t.dataSeriesIndexes.length)){var g,m=this._eventManager.ghostCtx,M=t.axisY.lineCoordinates,T=[],f=this.plotArea;p.save(),j&&m.save(),p.beginPath(),p.rect(f.x1,f.y1,f.width,f.height),p.clip(),j&&(m.beginPath(),m.rect(f.x1,f.y1,f.width,f.height),m.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var v=t.dataSeriesIndexes[b],h=this.data[v],_=h.dataPoints;this._eventManager.objectMap[T=h.id]={objectType:"dataSeries",dataSeriesIndex:v},T=zt(T),m.fillStyle=T,T=[],d=!0;var F,P,I,Y,B=0,w=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),N=null;if(o=!1,0<_.length){var z=h._colorSet[B%h._colorSet.length],et=h.lineColor=h.options.lineColor||z,dt=et;p.fillStyle=z,p.strokeStyle=et,p.lineWidth=h.lineThickness;var $="solid";if(p.setLineDash){var Q=xt(h.nullDataLineDashType,h.lineThickness),Z=xt($=h.lineDashType,h.lineThickness);p.setLineDash(Z)}for(;B<_.length;B++)if(!((I=_[B].x.getTime?_[B].x.getTime():_[B].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!o))){var J=P;"number"!=typeof _[B].y?(h.connectNullData||o||d||n(),o=!0):(F=t.axisX.convertValueToPixel(I),P=t.axisY.convertValueToPixel(_[B].y),d||o?(!d&&h.connectNullData?(p.setLineDash&&(h.options.nullDataLineDashType||$===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(d=F,o=P,F=g.x,P=g.y,n(),p.moveTo(g.x,g.y),F=d,P=o,N=g,$=h.nullDataLineDashType,p.setLineDash(Q)),p.lineTo(F,J),p.lineTo(F,P),j&&(m.lineTo(F,J),m.lineTo(F,P))):(p.beginPath(),p.moveTo(F,P),j&&(m.beginPath(),m.moveTo(F,P)),N={x:F,y:P}),o=d=!1):(p.lineTo(F,J),j&&m.lineTo(F,J),p.lineTo(F,P),j&&m.lineTo(F,P),B%250==0&&n()),g={x:F,y:P},B<_.length-1&&(dt!==(_[B].lineColor||et)||$!==(_[B].lineDashType||h.lineDashType))&&(n(),p.strokeStyle=dt=_[B].lineColor||et,p.setLineDash&&(_[B].lineDashType?p.setLineDash(xt($=_[B].lineDashType,h.lineThickness)):($=h.lineDashType,p.setLineDash(Z)))),this._eventManager.objectMap[I=h.dataPointIds[B]]={id:I,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:B,x1:F,y1:P},0!==_[B].markerSize&&(0<_[B].markerSize||0<h.markerSize)&&(J=h.getMarkerProperties(B,F,P,p),T.push(J),I=zt(I),j&&T.push({x:F,y:P,ctx:m,type:J.type,size:J.size,color:I,borderColor:I,borderThickness:J.borderThickness})),(_[B].indexLabel||h.indexLabel||_[B].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:_[B],dataSeries:h,point:{x:F,y:P},direction:0>_[B].y===t.axisY.reversed?1:-1,color:z}))}n(),ue.drawMarkers(T)}}return j&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&p.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&p.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),p.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:Dt.xClipAnimation,easingFunction:Dt.easing.linear,animationBase:0}}},A.prototype.renderStackedArea=function(t){function d(){if(!(1>f.length)){for(0<z.lineThickness&&n.stroke();0<f.length;){var R=f.pop();n.lineTo(R.x,R.y),j&&F.lineTo(R.x,R.y)}n.closePath(),n.globalAlpha=z.fillOpacity,n.fill(),n.globalAlpha=1,n.beginPath(),j&&(F.closePath(),F.fill(),F.beginPath()),f=[]}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=j?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var h,_,P,I,w,l=null,p=null,m=[],M=this.plotArea,T=[],f=[],g=[],b=[],v=0,B=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),F=this._eventManager.ghostCtx;j&&F.beginPath(),n.save(),j&&F.save(),n.beginPath(),n.rect(M.x1,M.y1,M.width,M.height),n.clip(),j&&(F.beginPath(),F.rect(M.x1,M.y1,M.width,M.height),F.clip()),l=[];for(var Y=0;Y<t.dataSeriesIndexes.length;Y++){var N=t.dataSeriesIndexes[Y],z=this.data[N],et=z.dataPoints;for(z.dataPointIndexes=[],v=0;v<et.length;v++)N=et[v].x.getTime?et[v].x.getTime():et[v].x,z.dataPointIndexes[N]=v,l[N]||(g.push(N),l[N]=!0);g.sort(vi)}for(Y=0;Y<t.dataSeriesIndexes.length;Y++){if(et=(z=this.data[N=t.dataSeriesIndexes[Y]]).dataPoints,I=!0,f=[],this._eventManager.objectMap[v=z.id]={objectType:"dataSeries",dataSeriesIndex:N},v=zt(v),F.fillStyle=v,0<g.length){l=z._colorSet[0];var dt=z.lineColor=z.options.lineColor||l,$=dt;if(n.fillStyle=l,n.strokeStyle=dt,n.lineWidth=z.lineThickness,w="solid",n.setLineDash){var Q=xt(z.nullDataLineDashType,z.lineThickness),Z=xt(w=z.lineDashType,z.lineThickness);n.setLineDash(Z)}var J=!0;for(v=0;v<g.length;v++){var X=0<=z.dataPointIndexes[p=g[v]]?et[z.dataPointIndexes[p]]:{x:p,y:null};if(!(p<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax&&(!z.connectNullData||!J)))if("number"!=typeof X.y)z.connectNullData||J||I||d(),J=!0;else{h=t.axisX.convertValueToPixel(p);var q=T[p]?T[p]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(b[p]=X.y+(b[p]?b[p]:0),0>=b[p]&&t.axisY.logarithmic)continue;_=t.axisY.convertValueToPixel(b[p])}else _=t.axisY.convertValueToPixel(X.y),_-=q;if(f.push({x:h,y:B-q}),T[p]=B-_,I||J?(!I&&z.connectNullData?(n.setLineDash&&(z.options.nullDataLineDashType||w===z.lineDashType&&z.lineDashType!==z.nullDataLineDashType)&&(I=f.pop(),w=f[f.length-1],d(),n.moveTo(P.x,P.y),f.push(w),f.push(I),w=z.nullDataLineDashType,n.setLineDash(Q)),n.lineTo(h,_),j&&F.lineTo(h,_)):(n.beginPath(),n.moveTo(h,_),j&&(F.beginPath(),F.moveTo(h,_))),J=I=!1):(n.lineTo(h,_),j&&F.lineTo(h,_),v%250==0&&(d(),n.moveTo(h,_),j&&F.moveTo(h,_),f.push({x:h,y:B-q}))),P={x:h,y:_},v<et.length-1&&($!==(et[v].lineColor||dt)||w!==(et[v].lineDashType||z.lineDashType))&&(d(),n.beginPath(),n.moveTo(h,_),f.push({x:h,y:B-q}),n.strokeStyle=$=et[v].lineColor||dt,n.setLineDash&&(et[v].lineDashType?n.setLineDash(xt(w=et[v].lineDashType,z.lineThickness)):(w=z.lineDashType,n.setLineDash(Z)))),0<=z.dataPointIndexes[p]){var ht=z.dataPointIds[z.dataPointIndexes[p]];this._eventManager.objectMap[ht]={id:ht,objectType:"dataPoint",dataSeriesIndex:N,dataPointIndex:z.dataPointIndexes[p],x1:h,y1:_}}0<=z.dataPointIndexes[p]&&0!==X.markerSize&&(0<X.markerSize||0<z.markerSize)&&(q=z.getMarkerProperties(z.dataPointIndexes[p],h,_,n),m.push(q),p=zt(ht),j&&m.push({x:h,y:_,ctx:F,type:q.type,size:q.size,color:p,borderColor:p,borderThickness:q.borderThickness})),(X.indexLabel||z.indexLabel||X.indexLabelFormatter||z.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:X,dataSeries:z,point:{x:h,y:_},direction:0>X.y===t.axisY.reversed?1:-1,color:l})}}d(),n.moveTo(h,_),j&&F.moveTo(h,_)}delete z.dataPointIndexes}return ue.drawMarkers(m),j&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(M.x1,M.y1,M.width,M.height),F.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Dt.xClipAnimation,easingFunction:Dt.easing.linear,animationBase:0}}},A.prototype.renderStackedArea100=function(t){function d(){for(0<z.lineThickness&&n.stroke();0<f.length;){var Ht=f.pop();n.lineTo(Ht.x,Ht.y),j&&w.lineTo(Ht.x,Ht.y)}n.closePath(),n.globalAlpha=z.fillOpacity,n.fill(),n.globalAlpha=1,n.beginPath(),j&&(w.closePath(),w.fill(),w.beginPath()),f=[]}var o=t.targetCanvasCtx||this.plotArea.ctx,n=j?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var h,_,B,F,P,l=null,p=null,m=this.plotArea,M=[],T=[],f=[],g=[],b=[],v=0,I=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),w=this._eventManager.ghostCtx;n.save(),j&&w.save(),n.beginPath(),n.rect(m.x1,m.y1,m.width,m.height),n.clip(),j&&(w.beginPath(),w.rect(m.x1,m.y1,m.width,m.height),w.clip()),l=[];for(var Y=0;Y<t.dataSeriesIndexes.length;Y++){var N=t.dataSeriesIndexes[Y],z=this.data[N],et=z.dataPoints;for(z.dataPointIndexes=[],v=0;v<et.length;v++)N=et[v].x.getTime?et[v].x.getTime():et[v].x,z.dataPointIndexes[N]=v,l[N]||(g.push(N),l[N]=!0);g.sort(vi)}for(Y=0;Y<t.dataSeriesIndexes.length;Y++){if(et=(z=this.data[N=t.dataSeriesIndexes[Y]]).dataPoints,F=!0,this._eventManager.objectMap[l=z.id]={objectType:"dataSeries",dataSeriesIndex:N},l=zt(l),w.fillStyle=l,f=[],0<g.length){l=z._colorSet[v%z._colorSet.length];var dt=z.lineColor=z.options.lineColor||l,$=dt;if(n.fillStyle=l,n.strokeStyle=dt,n.lineWidth=z.lineThickness,P="solid",n.setLineDash){var Q=xt(z.nullDataLineDashType,z.lineThickness),Z=xt(P=z.lineDashType,z.lineThickness);n.setLineDash(Z)}var J=!0;for(v=0;v<g.length;v++){var X=0<=z.dataPointIndexes[p=g[v]]?et[z.dataPointIndexes[p]]:{x:p,y:null};if(!(p<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax&&(!z.connectNullData||!J)))if("number"!=typeof X.y)z.connectNullData||J||F||d(),J=!0;else{var q;q=0!==t.dataPointYSums[p]?X.y/t.dataPointYSums[p]*100:0,h=t.axisX.convertValueToPixel(p);var ht=T[p]?T[p]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(b[p]=q+(b[p]?b[p]:0),0>=b[p]&&t.axisY.logarithmic)continue;_=t.axisY.convertValueToPixel(b[p])}else _=t.axisY.convertValueToPixel(q),_-=ht;if(f.push({x:h,y:I-ht}),T[p]=I-_,F||J?(!F&&z.connectNullData?(n.setLineDash&&(z.options.nullDataLineDashType||P===z.lineDashType&&z.lineDashType!==z.nullDataLineDashType)&&(F=f.pop(),P=f[f.length-1],d(),n.moveTo(B.x,B.y),f.push(P),f.push(F),P=z.nullDataLineDashType,n.setLineDash(Q)),n.lineTo(h,_),j&&w.lineTo(h,_)):(n.beginPath(),n.moveTo(h,_),j&&(w.beginPath(),w.moveTo(h,_))),J=F=!1):(n.lineTo(h,_),j&&w.lineTo(h,_),v%250==0&&(d(),n.moveTo(h,_),j&&w.moveTo(h,_),f.push({x:h,y:I-ht}))),B={x:h,y:_},v<et.length-1&&($!==(et[v].lineColor||dt)||P!==(et[v].lineDashType||z.lineDashType))&&(d(),n.beginPath(),n.moveTo(h,_),f.push({x:h,y:I-ht}),n.strokeStyle=$=et[v].lineColor||dt,n.setLineDash&&(et[v].lineDashType?n.setLineDash(xt(P=et[v].lineDashType,z.lineThickness)):(P=z.lineDashType,n.setLineDash(Z)))),0<=z.dataPointIndexes[p]){var R=z.dataPointIds[z.dataPointIndexes[p]];this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:N,dataPointIndex:z.dataPointIndexes[p],x1:h,y1:_}}0<=z.dataPointIndexes[p]&&0!==X.markerSize&&(0<X.markerSize||0<z.markerSize)&&(ht=z.getMarkerProperties(z.dataPointIndexes[p],h,_,n),M.push(ht),p=zt(R),j&&M.push({x:h,y:_,ctx:w,type:ht.type,size:ht.size,color:p,borderColor:p,borderThickness:ht.borderThickness})),(X.indexLabel||z.indexLabel||X.indexLabelFormatter||z.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:X,dataSeries:z,point:{x:h,y:_},direction:0>X.y===t.axisY.reversed?1:-1,color:l})}}d(),n.moveTo(h,_),j&&w.moveTo(h,_)}delete z.dataPointIndexes}return ue.drawMarkers(M),j&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(m.x1,m.y1,m.width,m.height),w.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Dt.xClipAnimation,easingFunction:Dt.easing.linear,animationBase:0}}},A.prototype.renderBubble=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,m,n=this.plotArea,l=0;o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(n.x1,n.y1,n.width,n.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var M=-1/0,T=1/0,f=0;f<t.dataSeriesIndexes.length;f++){var g=t.dataSeriesIndexes[f],b=this.data[g],v=b.dataPoints,h=0;for(l=0;l<v.length;l++)(p=p=v[l].getTime?v[l].x.getTime():v[l].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax||typeof v[l].z>"u"||((h=v[l].z)>M&&(M=h),h<T&&(T=h))}var _=25*Math.PI,B=Math.max(Math.pow(.25*Math.min(n.height,n.width)/2,2)*Math.PI,_);for(f=0;f<t.dataSeriesIndexes.length;f++)if(0<(v=(b=this.data[g=t.dataSeriesIndexes[f]]).dataPoints).length)for(o.strokeStyle="#4572A7 ",l=0;l<v.length;l++)if(!((p=p=v[l].getTime?v[l].x.getTime():v[l].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax)&&"number"==typeof v[l].y){p=t.axisX.convertValueToPixel(p),m=t.axisY.convertValueToPixel(v[l].y),h=v[l].z;var F=2*Math.max(0|Math.sqrt((M===T?B/2:_+(B-_)/(M-T)*(h-T))/Math.PI),1);(h=b.getMarkerProperties(l,o)).size=F,o.globalAlpha=b.fillOpacity,ue.drawMarker(p,m,o,h.type,h.size,h.color,h.borderColor,h.borderThickness),o.globalAlpha=1;var P=b.dataPointIds[l];this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:l,x1:p,y1:m,size:F},F=zt(P),j&&ue.drawMarker(p,m,this._eventManager.ghostCtx,h.type,h.size,F,F,h.borderThickness),(v[l].indexLabel||b.indexLabel||v[l].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:v[l],dataSeries:b,point:{x:p,y:m},direction:1,bounds:{x1:p-h.size/2,y1:m-h.size/2,x2:p+h.size/2,y2:m+h.size/2},color:null})}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.fadeInAnimation,easingFunction:Dt.easing.easeInQuad,animationBase:0}}},A.prototype.renderScatter=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,m,n=this.plotArea,l=0;o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(n.x1,n.y1,n.width,n.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var M=0;M<t.dataSeriesIndexes.length;M++){var T=t.dataSeriesIndexes[M],f=this.data[T],g=f.dataPoints;if(0<g.length){o.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(n.height,n.width)/2,2);var b=0,v=0;for(l=0;l<g.length;l++)if(!((p=p=g[l].getTime?g[l].x.getTime():g[l].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax)&&"number"==typeof g[l].y){p=t.axisX.convertValueToPixel(p),m=t.axisY.convertValueToPixel(g[l].y);var h=f.getMarkerProperties(l,p,m,o);o.globalAlpha=f.fillOpacity,ue.drawMarker(h.x,h.y,h.ctx,h.type,h.size,h.color,h.borderColor,h.borderThickness),o.globalAlpha=1,Math.sqrt((b-p)*(b-p)+(v-m)*(v-m))<Math.min(h.size,5)&&g.length>Math.min(this.plotArea.width,this.plotArea.height)||(this._eventManager.objectMap[b=f.dataPointIds[l]]={id:b,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:l,x1:p,y1:m},b=zt(b),j&&ue.drawMarker(h.x,h.y,this._eventManager.ghostCtx,h.type,h.size,b,b,h.borderThickness),(g[l].indexLabel||f.indexLabel||g[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:g[l],dataSeries:f,point:{x:p,y:m},direction:1,bounds:{x1:p-h.size/2,y1:m-h.size/2,x2:p+h.size/2,y2:m+h.size/2},color:null}),b=p,v=m)}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.fadeInAnimation,easingFunction:Dt.easing.easeInQuad,animationBase:0}}},A.prototype.renderCandlestick=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d,n=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var m,M,T,f,g,b,v=null,h=null,l=this.plotArea,p=0,_=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(_)||(_=.3*Math.abs(t.axisX.range)),_=this.options.dataPointWidth?this.dataPointWidth:.7*l.width*(t.axisX.logarithmic?Math.log(_)/Math.log(t.axisX.range):Math.abs(_)/Math.abs(t.axisX.range))|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),_<v&&(_=v),_>h&&(_=h),o.save(),j&&n.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),j&&(n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip());for(var B=0;B<t.dataSeriesIndexes.length;B++){var F=t.dataSeriesIndexes[B],P=this.data[F],I=P.dataPoints;if(0<I.length){var w=!!(5<_&&P.bevelEnabled);for(p=0;p<I.length;p++)if(!((b=I[p].getTime?I[p].x.getTime():I[p].x)<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax)&&!W(I[p].y)&&I[p].y.length&&"number"==typeof I[p].y[0]&&"number"==typeof I[p].y[1]&&"number"==typeof I[p].y[2]&&"number"==typeof I[p].y[3]){m=t.axisX.convertValueToPixel(b),M=t.axisY.convertValueToPixel(I[p].y[0]),T=t.axisY.convertValueToPixel(I[p].y[1]),f=t.axisY.convertValueToPixel(I[p].y[2]),g=t.axisY.convertValueToPixel(I[p].y[3]);var Y=m-_/2|0,N=Y+_|0,z=(h=P.options.fallingColor?P.fallingColor:P._colorSet[0],v=I[p].color?I[p].color:P._colorSet[0],Math.round(Math.max(1,.15*_))),et=z%2==0?0:.5,dt=P.dataPointIds[p];this._eventManager.objectMap[dt]={id:dt,objectType:"dataPoint",dataSeriesIndex:F,dataPointIndex:p,x1:Y,y1:M,x2:N,y2:T,x3:m,y3:f,x4:m,y4:g,borderThickness:z,color:v},o.strokeStyle=v,o.beginPath(),o.lineWidth=z,n.lineWidth=Math.max(z,4),"candlestick"===P.type?(o.moveTo(m-et,T),o.lineTo(m-et,Math.min(M,g)),o.stroke(),o.moveTo(m-et,Math.max(M,g)),o.lineTo(m-et,f),o.stroke(),_e(o,Y,Math.min(M,g),N,Math.max(M,g),I[p].y[0]<=I[p].y[3]?P.risingColor:h,z,v,w,w,!1,!1,P.fillOpacity),j&&(v=zt(dt),n.strokeStyle=v,n.moveTo(m-et,T),n.lineTo(m-et,Math.min(M,g)),n.stroke(),n.moveTo(m-et,Math.max(M,g)),n.lineTo(m-et,f),n.stroke(),_e(n,Y,Math.min(M,g),N,Math.max(M,g),v,0,null,!1,!1,!1,!1))):"ohlc"===P.type&&(o.moveTo(m-et,T),o.lineTo(m-et,f),o.stroke(),o.beginPath(),o.moveTo(m,M),o.lineTo(Y,M),o.stroke(),o.beginPath(),o.moveTo(m,g),o.lineTo(N,g),o.stroke(),j&&(v=zt(dt),n.strokeStyle=v,n.moveTo(m-et,T),n.lineTo(m-et,f),n.stroke(),n.beginPath(),n.moveTo(m,M),n.lineTo(Y,M),n.stroke(),n.beginPath(),n.moveTo(m,g),n.lineTo(N,g),n.stroke())),(I[p].indexLabel||P.indexLabel||I[p].indexLabelFormatter||P.indexLabelFormatter)&&this._indexLabels.push({chartType:P.type,dataPoint:I[p],dataSeries:P,point:{x:Y+(N-Y)/2,y:t.axisY.reversed?f:T},direction:1,bounds:{x1:Y,y1:Math.min(T,f),x2:N,y2:Math.max(T,f)},color:v})}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.fadeInAnimation,easingFunction:Dt.easing.easeInQuad,animationBase:0}}},A.prototype.renderBoxAndWhisker=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d,n=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var p,m,M,T,f,g,b,v=null,l=this.plotArea,h=0,_=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(_)||(_=.3*Math.abs(t.axisX.range)),_=this.options.dataPointWidth?this.dataPointWidth:.7*l.width*(t.axisX.logarithmic?Math.log(_)/Math.log(t.axisX.range):Math.abs(_)/Math.abs(t.axisX.range))|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),_<v&&(_=v),_>h&&(_=h),o.save(),j&&n.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),j&&(n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip());for(var B=!!t.axisY.reversed,F=0;F<t.dataSeriesIndexes.length;F++){var P=t.dataSeriesIndexes[F],I=this.data[P],w=I.dataPoints;if(0<w.length){var Y=!!(5<_&&I.bevelEnabled);for(h=0;h<w.length;h++)if(!((b=w[h].getTime?w[h].x.getTime():w[h].x)<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax)&&!W(w[h].y)&&w[h].y.length&&"number"==typeof w[h].y[0]&&"number"==typeof w[h].y[1]&&"number"==typeof w[h].y[2]&&"number"==typeof w[h].y[3]&&"number"==typeof w[h].y[4]&&5===w[h].y.length){p=t.axisX.convertValueToPixel(b),m=t.axisY.convertValueToPixel(w[h].y[0]),M=t.axisY.convertValueToPixel(w[h].y[1]),T=t.axisY.convertValueToPixel(w[h].y[2]),f=t.axisY.convertValueToPixel(w[h].y[3]),g=t.axisY.convertValueToPixel(w[h].y[4]);var N=p-_/2|0,z=p+_/2|0,et=(v=w[h].color?w[h].color:I._colorSet[0],Math.round(Math.max(1,.15*_))),dt=et%2==0?0:.5,$=w[h].whiskerColor?w[h].whiskerColor:w[h].color?I.whiskerColor?I.whiskerColor:w[h].color:I.whiskerColor?I.whiskerColor:v,Q="number"==typeof w[h].whiskerThickness?w[h].whiskerThickness:"number"==typeof I.options.whiskerThickness?I.whiskerThickness:et,Z=w[h].whiskerDashType?w[h].whiskerDashType:I.whiskerDashType,J="number"==typeof(J=W(w[h].whiskerLength)?W(I.options.whiskerLength)?_:I.whiskerLength:w[h].whiskerLength)?0>=J?0:J>=_?_:J:"string"==typeof J?parseInt(J)*_/100>_?_:parseInt(J)*_/100:_,X=Math.round(Q)%2==1?.5:0,q=w[h].stemColor?w[h].stemColor:w[h].color?I.stemColor?I.stemColor:w[h].color:I.stemColor?I.stemColor:v,ht="number"==typeof w[h].stemThickness?w[h].stemThickness:"number"==typeof I.options.stemThickness?I.stemThickness:et,R=Math.round(ht)%2==1?.5:0,Ht=w[h].stemDashType?w[h].stemDashType:I.stemDashType,Jt=w[h].lineColor?w[h].lineColor:w[h].color?I.lineColor?I.lineColor:w[h].color:I.lineColor?I.lineColor:v,re="number"==typeof w[h].lineThickness?w[h].lineThickness:"number"==typeof I.options.lineThickness?I.lineThickness:et,se=w[h].lineDashType?w[h].lineDashType:I.lineDashType,At=Math.round(re)%2==1?.5:0,we=I.upperBoxColor,te=I.lowerBoxColor,Gt=W(I.options.fillOpacity)?1:I.fillOpacity,Bt=I.dataPointIds[h];this._eventManager.objectMap[Bt]={id:Bt,objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:h,x1:N,y1:m,x2:z,y2:M,x3:p,y3:T,x4:p,y4:f,y5:g,borderThickness:et,color:v,stemThickness:ht,stemColor:q,whiskerThickness:Q,whiskerLength:J,whiskerColor:$,lineThickness:re,lineColor:Jt},o.save(),0<ht&&(o.beginPath(),o.strokeStyle=q,o.lineWidth=ht,o.setLineDash&&o.setLineDash(xt(Ht,ht)),o.moveTo(p-R,M),o.lineTo(p-R,m),o.stroke(),o.moveTo(p-R,f),o.lineTo(p-R,T),o.stroke()),o.restore(),n.lineWidth=Math.max(et,4),o.beginPath(),_e(o,N,Math.min(g,M),z,Math.max(M,g),te,0,v,!!B&&Y,!B&&Y,!1,!1,Gt),o.beginPath(),_e(o,N,Math.min(T,g),z,Math.max(g,T),we,0,v,!B&&Y,!!B&&Y,!1,!1,Gt),o.beginPath(),o.lineWidth=et,o.strokeStyle=v,o.rect(N-dt,Math.min(M,T)-dt,z-N+2*dt,Math.max(M,T)-Math.min(M,T)+2*dt),o.stroke(),o.save(),0<re&&(o.beginPath(),o.globalAlpha=1,o.setLineDash&&o.setLineDash(xt(se,re)),o.strokeStyle=Jt,o.lineWidth=re,o.moveTo(N,g-At),o.lineTo(z,g-At),o.stroke()),o.restore(),o.save(),0<Q&&(o.beginPath(),o.setLineDash&&o.setLineDash(xt(Z,Q)),o.strokeStyle=$,o.lineWidth=Q,o.moveTo(p-J/2|0,f-X),o.lineTo(p+J/2|0,f-X),o.stroke(),o.moveTo(p-J/2|0,m+X),o.lineTo(p+J/2|0,m+X),o.stroke()),o.restore(),j&&(v=zt(Bt),n.strokeStyle=v,n.lineWidth=ht,0<ht&&(n.moveTo(p-dt-R,M),n.lineTo(p-dt-R,Math.max(m,f)),n.stroke(),n.moveTo(p-dt-R,Math.min(m,f)),n.lineTo(p-dt-R,T),n.stroke()),_e(n,N,Math.max(M,T),z,Math.min(M,T),v,0,null,!1,!1,!1,!1),0<Q&&(n.beginPath(),n.lineWidth=Q,n.moveTo(p+J/2,f-X),n.lineTo(p-J/2,f-X),n.stroke(),n.moveTo(p+J/2,m+X),n.lineTo(p-J/2,m+X),n.stroke())),(w[h].indexLabel||I.indexLabel||w[h].indexLabelFormatter||I.indexLabelFormatter)&&this._indexLabels.push({chartType:I.type,dataPoint:w[h],dataSeries:I,point:{x:N+(z-N)/2,y:t.axisY.reversed?m:f},direction:1,bounds:{x1:N,y1:Math.min(m,f),x2:z,y2:Math.max(m,f)},color:v})}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.fadeInAnimation,easingFunction:Dt.easing.easeInQuad,animationBase:0}}},A.prototype.renderRangeColumn=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,m,M,n=null,l=this.plotArea,T=0;T=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&T>p&&(T=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<T&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,T)),f<T&&(f=T),f>p&&(f=p),o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var b=t.dataSeriesIndexes[g],v=this.data[b],h=v.dataPoints;if(0<h.length){var _=!!(5<f&&v.bevelEnabled);for(T=0;T<h.length;T++)if(!((M=h[T].getTime?h[T].x.getTime():h[T].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax)&&!W(h[T].y)&&h[T].y.length&&"number"==typeof h[T].y[0]&&"number"==typeof h[T].y[1]){n=t.axisX.convertValueToPixel(M),p=t.axisY.convertValueToPixel(h[T].y[0]),m=t.axisY.convertValueToPixel(h[T].y[1]);var B=t.axisX.reversed?n+t.plotType.totalDataSeries*f/2-(t.previousDataSeriesCount+g)*f|0:n-t.plotType.totalDataSeries*f/2+(t.previousDataSeriesCount+g)*f|0,F=t.axisX.reversed?B-f|0:B+f|0;if(n=h[T].color?h[T].color:v._colorSet[T%v._colorSet.length],p>m){var P=p;p=m,m=P}this._eventManager.objectMap[P=v.dataPointIds[T]]={id:P,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:T,x1:B,y1:p,x2:F,y2:m},_e(o,t.axisX.reversed?F:B,p,t.axisX.reversed?B:F,m,n,0,n,_,_,!1,!1,v.fillOpacity),n=zt(P),j&&_e(this._eventManager.ghostCtx,t.axisX.reversed?F:B,p,t.axisX.reversed?B:F,m,n,0,null,!1,!1,!1,!1),(h[T].indexLabel||v.indexLabel||h[T].indexLabelFormatter||v.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:h[T],dataSeries:v,indexKeyword:0,point:{x:B+(F-B)/2,y:h[T].y[1]>=h[T].y[0]?m:p},direction:h[T].y[1]>=h[T].y[0]?-1:1,bounds:{x1:B,y1:Math.min(p,m),x2:F,y2:Math.max(p,m)},color:n}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:h[T],dataSeries:v,indexKeyword:1,point:{x:B+(F-B)/2,y:h[T].y[1]>=h[T].y[0]?p:m},direction:h[T].y[1]>=h[T].y[0]?1:-1,bounds:{x1:B,y1:Math.min(p,m),x2:F,y2:Math.max(p,m)},color:n}))}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.fadeInAnimation,easingFunction:Dt.easing.easeInQuad,animationBase:0}}},A.prototype.renderError=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d,n=!!t.axisY._position&&!("left"===t.axisY._position||"right"===t.axisY._position);if(!(0>=t.dataSeriesIndexes.length)){var T,f,g,b,v,h,_,l=null,p=!1,m=this.plotArea,M=0,B=t.axisX.dataInfo.minDiff;isFinite(B)||(B=.3*Math.abs(t.axisX.range)),o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(m.x1,m.y1,m.width,m.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.clip());for(var F=0,P=0;P<this.data.length;P++)!this.data[P].type.match(/(bar|column)/gi)||!this.data[P].visible||this.data[P].type.match(/(stacked)/gi)&&F||F++;for(var I=0;I<t.dataSeriesIndexes.length;I++){var w=t.dataSeriesIndexes[I],Y=this.data[w],N=Y.dataPoints,z=!W(Y._linkedSeries)&&!(!Y._linkedSeries.type.match(/(bar|column)/gi)||!Y._linkedSeries.visible),et=0;if(z)for(l=Y._linkedSeries.id,P=0;P<l;P++)!this.data[P].type.match(/(bar|column)/gi)||!this.data[P].visible||this.data[P].type.match(/(stacked)/gi)&&et||(this.data[P].type.match(/(range)/gi)&&(p=!0),et++);if(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:n?0|Math.min(.15*this.height,this.plotArea.height/(z?F:1)*.9):.3*this.width,p&&(M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:n?0|Math.min(.15*this.height,this.plotArea.height/(z?F:1)*.9):.03*this.width),P=this.options.dataPointWidth?this.dataPointWidth:(n?m.height:m.width)*(t.axisX.logarithmic?Math.log(B)/Math.log(t.axisX.range):Math.abs(B)/Math.abs(t.axisX.range))/(z?F:1)*.9|0,this.dataPointMaxWidth&&l>M&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,M)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&M<l&&(M=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),P<l&&(P=l),P>M&&(P=M),0<N.length){var dt=Y._colorSet;for(M=0;M<N.length;M++){l=Y.lineColor=Y.options.color?Y.options.color:dt[0];var $={color:N[M].whiskerColor?N[M].whiskerColor:N[M].color?Y.whiskerColor?Y.whiskerColor:N[M].color:Y.whiskerColor?Y.whiskerColor:l,thickness:W(N[M].whiskerThickness)?Y.whiskerThickness:N[M].whiskerThickness,dashType:N[M].whiskerDashType?N[M].whiskerDashType:Y.whiskerDashType,length:W(N[M].whiskerLength)?W(Y.options.whiskerLength)?P:Y.options.whiskerLength:N[M].whiskerLength,trimLength:W(N[M].whiskerLength)&&W(Y.options.whiskerLength)?50:0};$.length="number"==typeof $.length?0>=$.length?0:$.length>=P?P:$.length:"string"==typeof $.length?parseInt($.length)*P/100>P?P:parseInt($.length)*P/100>P:P,$.thickness="number"==typeof $.thickness?0>$.thickness?0:Math.round($.thickness):2;var Q={color:N[M].stemColor?N[M].stemColor:N[M].color?Y.stemColor?Y.stemColor:N[M].color:Y.stemColor?Y.stemColor:l,thickness:N[M].stemThickness?N[M].stemThickness:Y.stemThickness,dashType:N[M].stemDashType?N[M].stemDashType:Y.stemDashType};if(Q.thickness="number"==typeof Q.thickness?0>Q.thickness?0:Math.round(Q.thickness):2,!((_=N[M].getTime?N[M].x.getTime():N[M].x)<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax)&&!W(N[M].y)&&N[M].y.length&&"number"==typeof N[M].y[0]&&"number"==typeof N[M].y[1]){var Z=t.axisX.convertValueToPixel(_);n?f=Z:T=Z,Z=t.axisY.convertValueToPixel(N[M].y[0]),n?g=Z:v=Z,Z=t.axisY.convertValueToPixel(N[M].y[1]),n?b=Z:h=Z,n?(v=t.axisX.reversed?f+(z?F:1)*P/2-(z?et-1:0)*P|0:f-(z?F:1)*P/2+(z?et-1:0)*P|0,h=t.axisX.reversed?v-P|0:v+P|0):(g=t.axisX.reversed?T+(z?F:1)*P/2-(z?et-1:0)*P|0:T-(z?F:1)*P/2+(z?et-1:0)*P|0,b=t.axisX.reversed?g-P|0:g+P|0),!n&&v>h&&(Z=v,v=h,h=Z),n&&g>b&&(Z=g,g=b,b=Z),this._eventManager.objectMap[Z=Y.dataPointIds[M]]={id:Z,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:M,x1:Math.min(g,b),y1:Math.min(v,h),x2:Math.max(b,g),y2:Math.max(h,v),isXYSwapped:n,stemProperties:Q,whiskerProperties:$},tt(o,Math.min(g,b),Math.min(v,h),Math.max(b,g),Math.max(h,v),l,$,Q,n),j&&tt(this._eventManager.ghostCtx,g,v,b,h,l,$,Q,n),(N[M].indexLabel||Y.indexLabel||N[M].indexLabelFormatter||Y.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:N[M],dataSeries:Y,indexKeyword:0,point:{x:n?N[M].y[1]>=N[M].y[0]?g:b:g+(b-g)/2,y:n?v+(h-v)/2:N[M].y[1]>=N[M].y[0]?h:v},direction:N[M].y[1]>=N[M].y[0]?-1:1,bounds:{x1:n?Math.min(g,b):g,y1:n?v:Math.min(v,h),x2:n?Math.max(g,b):b,y2:n?h:Math.max(v,h)},color:l,axisSwapped:n}),this._indexLabels.push({chartType:"error",dataPoint:N[M],dataSeries:Y,indexKeyword:1,point:{x:n?N[M].y[1]>=N[M].y[0]?b:g:g+(b-g)/2,y:n?v+(h-v)/2:N[M].y[1]>=N[M].y[0]?v:h},direction:N[M].y[1]>=N[M].y[0]?1:-1,bounds:{x1:n?Math.min(g,b):g,y1:n?v:Math.min(v,h),x2:n?Math.max(g,b):b,y2:n?h:Math.max(v,h)},color:l,axisSwapped:n}))}}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.fadeInAnimation,easingFunction:Dt.easing.easeInQuad,animationBase:0}}},A.prototype.renderRangeBar=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,m,M,T,n=null,l=this.plotArea,f=0;f=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9);var g=t.axisX.dataInfo.minDiff;isFinite(g)||(g=.3*Math.abs(t.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(g)/Math.log(t.axisX.range):Math.abs(g)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&f>p&&(f=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<f&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,f)),g<f&&(g=f),g>p&&(g=p),o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var v=t.dataSeriesIndexes[b],h=this.data[v],_=h.dataPoints;if(0<_.length){var B=!!(5<g&&h.bevelEnabled);for(o.strokeStyle="#4572A7 ",f=0;f<_.length;f++)if(!((T=_[f].getTime?_[f].x.getTime():_[f].x)<t.axisX.dataInfo.viewPortMin||T>t.axisX.dataInfo.viewPortMax)&&!W(_[f].y)&&_[f].y.length&&"number"==typeof _[f].y[0]&&"number"==typeof _[f].y[1]){p=t.axisY.convertValueToPixel(_[f].y[0]),m=t.axisY.convertValueToPixel(_[f].y[1]),M=t.axisX.convertValueToPixel(T),M=t.axisX.reversed?M+t.plotType.totalDataSeries*g/2-(t.previousDataSeriesCount+b)*g|0:M-t.plotType.totalDataSeries*g/2+(t.previousDataSeriesCount+b)*g|0;var F=t.axisX.reversed?M-g|0:M+g|0;p>m&&(n=p,p=m,m=n),_e(o,p,t.axisX.reversed?F:M,m,t.axisX.reversed?M:F,n=_[f].color?_[f].color:h._colorSet[f%h._colorSet.length],0,null,B,!1,!1,!1,h.fillOpacity),this._eventManager.objectMap[n=h.dataPointIds[f]]={id:n,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:f,x1:p,y1:M,x2:m,y2:F},n=zt(n),j&&_e(this._eventManager.ghostCtx,p,t.axisX.reversed?F:M,m,t.axisX.reversed?M:F,n,0,null,!1,!1,!1,!1),(_[f].indexLabel||h.indexLabel||_[f].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:_[f],dataSeries:h,indexKeyword:0,point:{x:_[f].y[1]>=_[f].y[0]?p:m,y:M+(F-M)/2},direction:_[f].y[1]>=_[f].y[0]?-1:1,bounds:{x1:Math.min(p,m),y1:M,x2:Math.max(p,m),y2:F},color:n}),this._indexLabels.push({chartType:"rangeBar",dataPoint:_[f],dataSeries:h,indexKeyword:1,point:{x:_[f].y[1]>=_[f].y[0]?m:p,y:M+(F-M)/2},direction:_[f].y[1]>=_[f].y[0]?1:-1,bounds:{x1:Math.min(p,m),y1:M,x2:Math.max(p,m),y2:F},color:n}))}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.fadeInAnimation,easingFunction:Dt.easing.easeInQuad,animationBase:0}}},A.prototype.renderRangeArea=function(t){function d(){if(I){for(var J=null,X=T.length-1;0<=X;X--)n.lineTo((J=T[X]).x,J.y2),l.lineTo(J.x,J.y2);if(n.closePath(),n.globalAlpha=g.fillOpacity,n.fill(),n.globalAlpha=1,l.fill(),0<g.lineThickness){for(n.beginPath(),n.moveTo(J.x,J.y2),X=0;X<T.length;X++)n.lineTo((J=T[X]).x,J.y2);for(n.moveTo(T[0].x,T[0].y1),X=0;X<T.length;X++)n.lineTo((J=T[X]).x,J.y1);n.stroke()}n.beginPath(),n.moveTo(_,B),l.beginPath(),l.moveTo(_,B),I={x:_,y:B},(T=[]).push({x:_,y1:B,y2:F})}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=j?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=[],m=this.plotArea;n.save(),j&&l.save(),n.beginPath(),n.rect(m.x1,m.y1,m.width,m.height),n.clip(),j&&(l.beginPath(),l.rect(m.x1,m.y1,m.width,m.height),l.clip());for(var M=0;M<t.dataSeriesIndexes.length;M++){var T=[],f=t.dataSeriesIndexes[M],g=this.data[f],b=g.dataPoints;this._eventManager.objectMap[p=g.id]={objectType:"dataSeries",dataSeriesIndex:f},p=zt(p),l.fillStyle=p,p=[];var _,B,F,P,v=!0,h=0,I=null;if(0<b.length){var w=g._colorSet[h%g._colorSet.length],Y=g.lineColor=g.options.lineColor||w,N=Y;n.fillStyle=w,n.strokeStyle=Y,n.lineWidth=g.lineThickness;var z="solid";if(n.setLineDash){var et=xt(g.nullDataLineDashType,g.lineThickness),dt=xt(z=g.lineDashType,g.lineThickness);n.setLineDash(dt)}for(var $=!0;h<b.length;h++)if(!((P=b[h].x.getTime?b[h].x.getTime():b[h].x)<t.axisX.dataInfo.viewPortMin||P>t.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!$)))if(null!==b[h].y&&b[h].y.length&&"number"==typeof b[h].y[0]&&"number"==typeof b[h].y[1]){if(_=t.axisX.convertValueToPixel(P),B=t.axisY.convertValueToPixel(b[h].y[0]),F=t.axisY.convertValueToPixel(b[h].y[1]),v||$?(g.connectNullData&&!v?(n.setLineDash&&(g.options.nullDataLineDashType||z===g.lineDashType&&g.lineDashType!==g.nullDataLineDashType)&&(T[T.length-1].newLineDashArray=dt,z=g.nullDataLineDashType,n.setLineDash(et)),n.lineTo(_,B),j&&l.lineTo(_,B),T.push({x:_,y1:B,y2:F})):(n.beginPath(),n.moveTo(_,B),I={x:_,y:B},(T=[]).push({x:_,y1:B,y2:F}),j&&(l.beginPath(),l.moveTo(_,B))),$=v=!1):(n.lineTo(_,B),T.push({x:_,y1:B,y2:F}),j&&l.lineTo(_,B),h%250==0&&d()),this._eventManager.objectMap[P=g.dataPointIds[h]]={id:P,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:h,x1:_,y1:B,y2:F},h<b.length-1&&(N!==(b[h].lineColor||Y)||z!==(b[h].lineDashType||g.lineDashType))&&(d(),T[T.length-1].newStrokeStyle=N=b[h].lineColor||Y,n.strokeStyle=N,n.setLineDash&&(b[h].lineDashType?(T[T.length-1].newLineDashArray=xt(z=b[h].lineDashType,g.lineThickness),n.setLineDash(T[T.length-1].newLineDashArray)):(z=g.lineDashType,T[T.length-1].newLineDashArray=dt,n.setLineDash(dt)))),0!==b[h].markerSize&&(0<b[h].markerSize||0<g.markerSize)){var Q=g.getMarkerProperties(h,_,F,n);p.push(Q);var Z=zt(P);j&&p.push({x:_,y:F,ctx:l,type:Q.type,size:Q.size,color:Z,borderColor:Z,borderThickness:Q.borderThickness}),Q=g.getMarkerProperties(h,_,B,n),p.push(Q),Z=zt(P),j&&p.push({x:_,y:B,ctx:l,type:Q.type,size:Q.size,color:Z,borderColor:Z,borderThickness:Q.borderThickness})}(b[h].indexLabel||g.indexLabel||b[h].indexLabelFormatter||g.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:b[h],dataSeries:g,indexKeyword:0,point:{x:_,y:B},direction:b[h].y[0]>b[h].y[1]===t.axisY.reversed?-1:1,color:w}),this._indexLabels.push({chartType:"rangeArea",dataPoint:b[h],dataSeries:g,indexKeyword:1,point:{x:_,y:F},direction:b[h].y[0]>b[h].y[1]===t.axisY.reversed?1:-1,color:w}))}else $||v||d(),$=!0;d(),ue.drawMarkers(p)}}return j&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Dt.xClipAnimation,easingFunction:Dt.easing.linear,animationBase:0}}},A.prototype.renderRangeSplineArea=function(t){function d(Q,Z){var J=O(B,2);if(0<J.length){if(0<f.lineThickness){n.strokeStyle=Z,n.setLineDash&&n.setLineDash(Q),n.beginPath(),n.moveTo(J[0].x,J[0].y);for(var X=0;X<J.length-3;X+=3)(J[X].newStrokeStyle||J[X].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(J[X].x,J[X].y),J[X].newStrokeStyle&&(n.strokeStyle=J[X].newStrokeStyle),J[X].newLineDashArray&&n.setLineDash(J[X].newLineDashArray)),n.bezierCurveTo(J[X+1].x,J[X+1].y,J[X+2].x,J[X+2].y,J[X+3].x,J[X+3].y)}for(n.beginPath(),n.moveTo(J[0].x,J[0].y),j&&(l.beginPath(),l.moveTo(J[0].x,J[0].y)),X=0;X<J.length-3;X+=3)n.bezierCurveTo(J[X+1].x,J[X+1].y,J[X+2].x,J[X+2].y,J[X+3].x,J[X+3].y),j&&l.bezierCurveTo(J[X+1].x,J[X+1].y,J[X+2].x,J[X+2].y,J[X+3].x,J[X+3].y);for(J=O(F,2),n.lineTo(F[F.length-1].x,F[F.length-1].y),X=J.length-1;2<X;X-=3)n.bezierCurveTo(J[X-1].x,J[X-1].y,J[X-2].x,J[X-2].y,J[X-3].x,J[X-3].y),j&&l.bezierCurveTo(J[X-1].x,J[X-1].y,J[X-2].x,J[X-2].y,J[X-3].x,J[X-3].y);if(n.closePath(),n.globalAlpha=f.fillOpacity,n.fill(),j&&(l.closePath(),l.fill()),n.globalAlpha=1,0<f.lineThickness){n.strokeStyle=Z,n.setLineDash&&n.setLineDash(Q),n.beginPath(),n.moveTo(J[0].x,J[0].y);for(var q=X=0;X<J.length-3;X+=3,q++)(B[q].newStrokeStyle||B[q].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(J[X].x,J[X].y),B[q].newStrokeStyle&&(n.strokeStyle=B[q].newStrokeStyle),B[q].newLineDashArray&&n.setLineDash(B[q].newLineDashArray)),n.bezierCurveTo(J[X+1].x,J[X+1].y,J[X+2].x,J[X+2].y,J[X+3].x,J[X+3].y);for(J=O(B,2),n.moveTo(J[0].x,J[0].y),q=X=0;X<J.length-3;X+=3,q++)(B[q].newStrokeStyle||B[q].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(J[X].x,J[X].y),B[q].newStrokeStyle&&(n.strokeStyle=B[q].newStrokeStyle),B[q].newLineDashArray&&n.setLineDash(B[q].newLineDashArray)),n.bezierCurveTo(J[X+1].x,J[X+1].y,J[X+2].x,J[X+2].y,J[X+3].x,J[X+3].y);n.stroke()}n.beginPath()}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=j?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=[],m=this.plotArea;n.save(),j&&l.save(),n.beginPath(),n.rect(m.x1,m.y1,m.width,m.height),n.clip(),j&&(l.beginPath(),l.rect(m.x1,m.y1,m.width,m.height),l.clip());for(var M=0;M<t.dataSeriesIndexes.length;M++){var T=t.dataSeriesIndexes[M],f=this.data[T],g=f.dataPoints;this._eventManager.objectMap[p=f.id]={objectType:"dataSeries",dataSeriesIndex:T},p=zt(p),l.fillStyle=p,p=[];var v,h,_,b=0,B=[],F=[];if(0<g.length){var P=f._colorSet[b%f._colorSet.length],I=f.lineColor=f.options.lineColor||P,w=I;n.fillStyle=P,n.lineWidth=f.lineThickness;var N,Y="solid";if(n.setLineDash){var z=xt(f.nullDataLineDashType,f.lineThickness);N=xt(Y=f.lineDashType,f.lineThickness)}for(h=!1;b<g.length;b++)if(!((v=g[b].x.getTime?g[b].x.getTime():g[b].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!h)))if(null!==g[b].y&&g[b].y.length&&"number"==typeof g[b].y[0]&&"number"==typeof g[b].y[1]){v=t.axisX.convertValueToPixel(v),h=t.axisY.convertValueToPixel(g[b].y[0]),_=t.axisY.convertValueToPixel(g[b].y[1]);var et=f.dataPointIds[b];if(this._eventManager.objectMap[et]={id:et,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:b,x1:v,y1:h,y2:_},B[B.length]={x:v,y:h},F[F.length]={x:v,y:_},b<g.length-1&&(w!==(g[b].lineColor||I)||Y!==(g[b].lineDashType||f.lineDashType))&&(B[B.length-1].newStrokeStyle=w=g[b].lineColor||I,n.setLineDash&&(g[b].lineDashType?B[B.length-1].newLineDashArray=xt(Y=g[b].lineDashType,f.lineThickness):(Y=f.lineDashType,B[B.length-1].newLineDashArray=N))),0!==g[b].markerSize&&(0<g[b].markerSize||0<f.markerSize)){var dt=f.getMarkerProperties(b,v,h,n);p.push(dt);var $=zt(et);j&&p.push({x:v,y:h,ctx:l,type:dt.type,size:dt.size,color:$,borderColor:$,borderThickness:dt.borderThickness}),dt=f.getMarkerProperties(b,v,_,n),p.push(dt),$=zt(et),j&&p.push({x:v,y:_,ctx:l,type:dt.type,size:dt.size,color:$,borderColor:$,borderThickness:dt.borderThickness})}(g[b].indexLabel||f.indexLabel||g[b].indexLabelFormatter||f.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:g[b],dataSeries:f,indexKeyword:0,point:{x:v,y:h},direction:g[b].y[0]<=g[b].y[1]?-1:1,color:P}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:g[b],dataSeries:f,indexKeyword:1,point:{x:v,y:_},direction:g[b].y[0]<=g[b].y[1]?1:-1,color:P})),h=!1}else 0<b&&!h&&(f.connectNullData?n.setLineDash&&0<B.length&&(f.options.nullDataLineDashType||!g[b-1].lineDashType)&&(B[B.length-1].newLineDashArray=z,Y=f.nullDataLineDashType):(d(N,I),B=[],F=[])),h=!0;d(N,I),ue.drawMarkers(p)}}return j&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Dt.xClipAnimation,easingFunction:Dt.easing.linear,animationBase:0}}},A.prototype.renderWaterfall=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=j?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var m,M,T,f,n=this._eventManager.ghostCtx,l=null,p=this.plotArea,b=0,g=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9);var v=t.axisX.dataInfo.minDiff;isFinite(v)||(v=.3*Math.abs(t.axisX.range)),v=this.options.dataPointWidth?this.dataPointWidth:p.width*(t.axisX.logarithmic?Math.log(v)/Math.log(t.axisX.range):Math.abs(v)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.6|0,this.dataPointMaxWidth&&b>M&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,M)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&M<b&&(M=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),v<b&&(v=b),v>M&&(v=M),o.save(),j&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(p.x1,p.y1,p.width,p.height),o.clip(),j&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var _=t.dataSeriesIndexes[h],B=this.data[_],F=B.dataPoints;l=B._colorSet[0],B.risingColor=B.options.risingColor?B.options.risingColor:l,B.fallingColor=B.options.fallingColor?B.options.fallingColor:"#e40a0a";var P="number"==typeof B.options.lineThickness?Math.round(B.lineThickness):1,I=Math.round(P)%2==1?-.5:0;if(0<F.length){var w=!!(5<v&&B.bevelEnabled),Y=!1,N=null,z=null;for(b=0;b<F.length;b++)if(f=F[b].getTime?F[b].x.getTime():F[b].x,"number"!=typeof F[b].y){if(0<b&&!Y&&B.connectNullData)var et=B.options.nullDataLineDashType||!F[b-1].lineDashType?B.nullDataLineDashType:F[b-1].lineDashType;Y=!0}else{m=t.axisX.convertValueToPixel(f),M=0===B.dataPointEOs[b].cumulativeSum?g:t.axisY.convertValueToPixel(B.dataPointEOs[b].cumulativeSum),T=0===B.dataPointEOs[b].cumulativeSumYStartValue?g:t.axisY.convertValueToPixel(B.dataPointEOs[b].cumulativeSumYStartValue),m=t.axisX.reversed?m+t.plotType.totalDataSeries*v/2-(t.previousDataSeriesCount+h)*v|0:m-t.plotType.totalDataSeries*v/2+(t.previousDataSeriesCount+h)*v|0;var dt=t.axisX.reversed?m-v|0:m+v|0;M>T&&(l=M,M=T,T=l),t.axisY.reversed&&(l=M,M=T,T=l),this._eventManager.objectMap[l=B.dataPointIds[b]]={id:l,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:b,x1:m,y1:M,x2:dt,y2:T},_e(o,t.axisX.reversed?dt:m,t.axisY.reversed?T:M,t.axisX.reversed?m:dt,t.axisY.reversed?M:T,Q=F[b].color?F[b].color:0<F[b].y?B.risingColor:B.fallingColor,0,Q,w,w,!1,!1,B.fillOpacity),l=zt(l),j&&_e(this._eventManager.ghostCtx,t.axisX.reversed?dt:m,M,t.axisX.reversed?m:dt,T,l,0,null,!1,!1,!1,!1);var $,Q=m;$=typeof F[b].isIntermediateSum<"u"&&!0===F[b].isIntermediateSum||typeof F[b].isCumulativeSum<"u"&&!0===F[b].isCumulativeSum?0<F[b].y?M:T:0<F[b].y?T:M,0<b&&N&&(!Y||B.connectNullData)&&(Y&&o.setLineDash&&o.setLineDash(xt(et,P)),o.beginPath(),o.moveTo(N,z-I),o.lineTo(Q,$-I),0<P&&o.stroke(),j&&(n.beginPath(),n.moveTo(N,z-I),n.lineTo(Q,$-I),0<P&&n.stroke())),Y=!1,N=dt,z=0<F[b].y?M:T,Q=F[b].lineDashType?F[b].lineDashType:B.options.lineDashType?B.options.lineDashType:"shortDash",o.strokeStyle=F[b].lineColor?F[b].lineColor:B.options.lineColor?B.options.lineColor:"#9e9e9e",o.lineWidth=P,o.setLineDash&&(Q=xt(Q,P),o.setLineDash(Q)),(F[b].indexLabel||B.indexLabel||F[b].indexLabelFormatter||B.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:F[b],dataSeries:B,point:{x:m+(dt-m)/2,y:0<=F[b].y?M:T},direction:0>F[b].y===t.axisY.reversed?1:-1,bounds:{x1:m,y1:Math.min(M,T),x2:dt,y2:Math.max(M,T)},color:l})}}}return j&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:Dt.fadeInAnimation,easingFunction:Dt.easing.easeInQuad,animationBase:0}}};var Ne=function(t,d,o,n,l,p,m,M,T){if(!(0>o)){if(typeof M>"u"&&(M=1),!j){var f=Number((m%(2*Math.PI)).toFixed(8));Number((p%(2*Math.PI)).toFixed(8))===f&&(m-=1e-4)}t.save(),t.globalAlpha=M,"pie"===l?(t.beginPath(),t.moveTo(d.x,d.y),t.arc(d.x,d.y,o,p,m,!1),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===l&&(t.beginPath(),t.arc(d.x,d.y,o,p,m,!1),0<=T&&t.arc(d.x,d.y,T*o,m,p,!0),t.closePath(),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};A.prototype.renderPie=function(t){function o($,Q){var Z=T.plotArea.ctx;for(Z.clearRect(v.x1,v.y1,v.width,v.height),Z.fillStyle=T.backgroundColor,Z.fillRect(v.x1,v.y1,v.width,v.height),Z=0;Z<g.length;Z++){var J=h[Z].startAngle,X=h[Z].endAngle;if(X>J){var q=.07*z*Math.cos(h[Z].midAngle),ht=.07*z*Math.sin(h[Z].midAngle),R=!1;g[Z].exploded?(1e-9<Math.abs(h[Z].center.x-(w.x+q))||1e-9<Math.abs(h[Z].center.y-(w.y+ht)))&&(h[Z].center.x=w.x+q*$,h[Z].center.y=w.y+ht*$,R=!0):(0<Math.abs(h[Z].center.x-w.x)||0<Math.abs(h[Z].center.y-w.y))&&(h[Z].center.x=w.x+q*(1-$),h[Z].center.y=w.y+ht*(1-$),R=!0),R&&Q&&((q={}).dataSeries=f,q.dataPoint=f.dataPoints[Z],q.index=Z,T.toolTip.highlightObjects([q])),Ne(T.plotArea.ctx,h[Z].center,h[Z].radius,g[Z].color?g[Z].color:f._colorSet[Z%f._colorSet.length],f.type,J,X,f.fillOpacity,h[Z].percentInnerRadius)}}for((Z=T.plotArea.ctx).save(),Z.fillStyle="black",Z.strokeStyle="grey",Z.textBaseline="middle",Z.lineJoin="round",J=J=0;J<g.length;J++)(X=h[J]).indexLabelText&&(X.indexLabelTextBlock.y-=X.indexLabelTextBlock.height/2-X.indexLabelTextBlock.fontSize/2,q=0,X.indexLabelTextBlock.x+=q="left"===X.hemisphere?"inside"!==f.indexLabelPlacement?-(X.indexLabelTextBlock.width+b):-X.indexLabelTextBlock.width/2:"inside"!==f.indexLabelPlacement?b:-X.indexLabelTextBlock.width/2,X.indexLabelTextBlock.render(!0),X.indexLabelTextBlock.x-=q,X.indexLabelTextBlock.y+=X.indexLabelTextBlock.height/2-X.indexLabelTextBlock.fontSize/2,"inside"!==X.indexLabelPlacement&&0<X.indexLabelLineThickness&&(q=X.center.x+z*Math.cos(X.midAngle),ht=X.center.y+z*Math.sin(X.midAngle),Z.strokeStyle=X.indexLabelLineColor,Z.lineWidth=X.indexLabelLineThickness,Z.setLineDash&&Z.setLineDash(xt(X.indexLabelLineDashType,X.indexLabelLineThickness)),Z.beginPath(),Z.moveTo(q,ht),Z.lineTo(X.indexLabelTextBlock.x,X.indexLabelTextBlock.y),Z.lineTo(X.indexLabelTextBlock.x+("left"===X.hemisphere?-b:b),X.indexLabelTextBlock.y),Z.stroke()),Z.lineJoin="miter");Z.save()}function n($,Q){return Q.indexLabelTextBlock.y>$.indexLabelTextBlock.y?Q.indexLabelTextBlock.y-Q.indexLabelTextBlock.height/2-($.indexLabelTextBlock.y+$.indexLabelTextBlock.height/2):$.indexLabelTextBlock.y-$.indexLabelTextBlock.height/2-(Q.indexLabelTextBlock.y+Q.indexLabelTextBlock.height/2)}function l($){for(var Q=null,Z=1;Z<g.length;Z++){if(h[Q=($+Z+h.length)%h.length].hemisphere!==h[$].hemisphere){Q=null;break}if(h[Q].indexLabelText&&Q!==$&&(0>n(h[Q],h[$])||("right"===h[$].hemisphere?h[Q].indexLabelTextBlock.y>=h[$].indexLabelTextBlock.y:h[Q].indexLabelTextBlock.y<=h[$].indexLabelTextBlock.y)))break;Q=null}return Q}function p($,Q,Z){if(1e3<(Z=(Z||0)+1))return 0;Q=Q||0;var J=0,X=w.y-1*B,q=w.y+1*B;if(0<=$&&$<g.length){var ht=h[$];if(0>Q&&ht.indexLabelTextBlock.y<X||0<Q&&ht.indexLabelTextBlock.y>q)return 0;var R=0,Ht=0;for(Ht=R=R=0,0>Q?ht.indexLabelTextBlock.y-ht.indexLabelTextBlock.height/2>X&&ht.indexLabelTextBlock.y-ht.indexLabelTextBlock.height/2+Q<X&&(Q=-(X-(ht.indexLabelTextBlock.y-ht.indexLabelTextBlock.height/2+Q))):ht.indexLabelTextBlock.y+ht.indexLabelTextBlock.height/2<X&&ht.indexLabelTextBlock.y+ht.indexLabelTextBlock.height/2+Q>q&&(Q=ht.indexLabelTextBlock.y+ht.indexLabelTextBlock.height/2+Q-q),Q=ht.indexLabelTextBlock.y+Q,X=0,X="right"===ht.hemisphere?w.x+Math.sqrt(Math.pow(B,2)-Math.pow(Q-w.y,2)):w.x-Math.sqrt(Math.pow(B,2)-Math.pow(Q-w.y,2)),Ht=w.x+z*Math.cos(ht.midAngle),R=w.y+z*Math.sin(ht.midAngle),R=Math.sqrt(Math.pow(X-Ht,2)+Math.pow(Q-R,2)),Ht=Math.acos(z/B),Q=(R=Math.acos((B*B+z*z-R*R)/(2*z*B)))<Ht?Q-ht.indexLabelTextBlock.y:0,X=null,q=1;q<g.length;q++){if(h[X=($-q+h.length)%h.length].hemisphere!==h[$].hemisphere){X=null;break}if(h[X].indexLabelText&&h[X].hemisphere===h[$].hemisphere&&X!==$&&(0>n(h[X],h[$])||("right"===h[$].hemisphere?h[X].indexLabelTextBlock.y<=h[$].indexLabelTextBlock.y:h[X].indexLabelTextBlock.y>=h[$].indexLabelTextBlock.y)))break;X=null}Ht=X,R=l($),q=X=0,0>Q?(J=Q,null!==(q="right"===ht.hemisphere?Ht:R)&&(Ht=-Q,(Q=ht.indexLabelTextBlock.y-ht.indexLabelTextBlock.height/2-(h[q].indexLabelTextBlock.y+h[q].indexLabelTextBlock.height/2))-Ht<_&&+(q=p(q,X=-Ht,Z+1)).toFixed(I)>+X.toFixed(I)&&(J=Q>_?-(Q-_):-(Ht-(q-X))))):0<Q&&(J=Q,null!==(q="right"===ht.hemisphere?R:Ht)&&(Ht=Q,(Q=h[q].indexLabelTextBlock.y-h[q].indexLabelTextBlock.height/2-(ht.indexLabelTextBlock.y+ht.indexLabelTextBlock.height/2))-Ht<_&&+(q=p(q,X=Ht,Z+1)).toFixed(I)<+X.toFixed(I)&&(J=Q>_?Q-_:Ht-(X-q)))),J&&(Z=ht.indexLabelTextBlock.y+J,Q=0,Q="right"===ht.hemisphere?w.x+Math.sqrt(Math.pow(B,2)-Math.pow(Z-w.y,2)):w.x-Math.sqrt(Math.pow(B,2)-Math.pow(Z-w.y,2)),ht.midAngle>Math.PI/2-P&&ht.midAngle<Math.PI/2+P?(X=h[X=($-1+h.length)%h.length],$=h[($+1+h.length)%h.length],"left"===ht.hemisphere&&"right"===X.hemisphere&&Q>X.indexLabelTextBlock.x?Q=X.indexLabelTextBlock.x-15:"right"===ht.hemisphere&&"left"===$.hemisphere&&Q<$.indexLabelTextBlock.x&&(Q=$.indexLabelTextBlock.x+15)):ht.midAngle>3*Math.PI/2-P&&ht.midAngle<3*Math.PI/2+P&&(X=h[X=($-1+h.length)%h.length],$=h[($+1+h.length)%h.length],"right"===ht.hemisphere&&"left"===X.hemisphere&&Q<X.indexLabelTextBlock.x?Q=X.indexLabelTextBlock.x+15:"left"===ht.hemisphere&&"right"===$.hemisphere&&Q>$.indexLabelTextBlock.x&&(Q=$.indexLabelTextBlock.x-15)),ht.indexLabelTextBlock.y=Z,ht.indexLabelTextBlock.x=Q,ht.indexLabelAngle=Math.atan2(ht.indexLabelTextBlock.y-w.y,ht.indexLabelTextBlock.x-w.x))}return J}function m(){($=T.plotArea.ctx).fillStyle="grey",$.strokeStyle="grey",$.font="16px Arial",$.textBaseline="middle";var J=$=0,Q=0,Z=!0;for(J=0;10>J&&(1>J||0<Q);J++){if((f.radius||!f.radius&&typeof f.innerRadius<"u"&&null!==f.innerRadius&&z-Q<=et)&&(Z=!1),Z&&(z-=Q),Q=0,"inside"!==f.indexLabelPlacement){for(B=z*F,$=0;$<g.length;$++)(X=h[$]).indexLabelTextBlock.x=w.x+B*Math.cos(X.midAngle),X.indexLabelTextBlock.y=w.y+B*Math.sin(X.midAngle),X.indexLabelAngle=X.midAngle,X.radius=z,X.percentInnerRadius=dt;for(var q,ht,$=0;$<g.length;$++){var X=h[$],R=l($);if(null!==R){var Ht=0;if(0>(Ht=n(q=h[$],ht=h[R])-_)){for(var re=ht=0,Jt=0;Jt<g.length;Jt++)Jt!==$&&h[Jt].hemisphere===X.hemisphere&&(h[Jt].indexLabelTextBlock.y<X.indexLabelTextBlock.y?ht++:re++);re=-1*(Ht-(ht=Ht/(ht+re||1)*re));var se=Jt=0;"right"===X.hemisphere?(Jt=p($,ht),+(se=p(R,re=-1*(Ht-Jt))).toFixed(I)<+re.toFixed(I)&&+Jt.toFixed(I)<=+ht.toFixed(I)&&p($,-(re-se))):(Jt=p(R,ht),+(se=p($,re=-1*(Ht-Jt))).toFixed(I)<+re.toFixed(I)&&+Jt.toFixed(I)<=+ht.toFixed(I)&&p(R,-(re-se)))}}}}else for($=0;$<g.length;$++)X=h[$],R=w.x+(B="pie"===f.type?.7*z:.85*z)*Math.cos(X.midAngle),ht=w.y+B*Math.sin(X.midAngle),X.indexLabelTextBlock.x=R,X.indexLabelTextBlock.y=ht;for($=0;$<g.length;$++)0!==(R=(X=h[$]).indexLabelTextBlock.measureText()).height&&0!==R.width&&(R=R=0,"right"===X.hemisphere?(R=v.x2-(X.indexLabelTextBlock.x+X.indexLabelTextBlock.width+b),R*=-1):R=v.x1-(X.indexLabelTextBlock.x-X.indexLabelTextBlock.width-b),0<R&&(!Z&&X.indexLabelText&&(.3*X.indexLabelTextBlock.maxWidth>(ht="right"===X.hemisphere?v.x2-X.indexLabelTextBlock.x:X.indexLabelTextBlock.x-v.x1)?X.indexLabelText="":X.indexLabelTextBlock.maxWidth=.85*ht,.3*X.indexLabelTextBlock.maxWidth<ht&&(X.indexLabelTextBlock.x-="right"===X.hemisphere?2:-2)),Math.abs(X.indexLabelTextBlock.y-X.indexLabelTextBlock.height/2-w.y)<z||Math.abs(X.indexLabelTextBlock.y+X.indexLabelTextBlock.height/2-w.y)<z)&&(9<(R/=Math.abs(Math.cos(X.indexLabelAngle)))&&(R*=.3),R>Q&&(Q=R)),R=R=0,0<X.indexLabelAngle&&X.indexLabelAngle<Math.PI?(R=v.y2-(X.indexLabelTextBlock.y+X.indexLabelTextBlock.height/2+5),R*=-1):R=v.y1-(X.indexLabelTextBlock.y-X.indexLabelTextBlock.height/2-5),0<R&&(!Z&&X.indexLabelText&&0===p($,R*(ht=0<X.indexLabelAngle&&X.indexLabelAngle<Math.PI?-1:1))&&p($,2*ht),Math.abs(X.indexLabelTextBlock.x-w.x)<z&&(9<(R/=Math.abs(Math.sin(X.indexLabelAngle)))&&(R*=.3),R>Q&&(Q=R))));var At=function(we,te,Gt){for(var Bt=[],Pe=0;Bt.push(h[te]),te!==Gt;te=(te+1+g.length)%g.length);for(Bt.sort(function(Qe,Ee){return Qe.y-Ee.y}),te=0;te<Bt.length&&(Gt=Bt[te],Pe<.7*we);te++)Pe+=Gt.indexLabelTextBlock.height,Gt.indexLabelTextBlock.text="",Gt.indexLabelText="",Gt.indexLabelTextBlock.measureText()};!function(){for(var we=-1,te=-1,Gt=0,Bt=!1,Pe=0;Pe<g.length;Pe++)if(Bt=!1,(q=h[Pe]).indexLabelText){var Qe=l(Pe);if(null!==Qe){var Pi,Ee=h[Qe];Ht=0,(Pi=0>(Ht=n(q,Ee)))&&(Pi=q.indexLabelTextBlock.x,Pi=!(q.indexLabelTextBlock.x+q.indexLabelTextBlock.width<Ee.indexLabelTextBlock.x-b||Pi>Ee.indexLabelTextBlock.x+Ee.indexLabelTextBlock.width+b||q.indexLabelTextBlock.y-q.indexLabelTextBlock.height/2>Ee.indexLabelTextBlock.y+Ee.indexLabelTextBlock.height/2+b||q.indexLabelTextBlock.y+q.indexLabelTextBlock.height/2<Ee.indexLabelTextBlock.y-Ee.indexLabelTextBlock.height/2-b)),Pi?(0>we&&(we=Pe),Qe!==we&&(te=Qe,Gt+=-Ht),Pe%Math.max(g.length/10,3)==0&&(Bt=!0)):Bt=!0,Bt&&0<Gt&&0<=we&&0<=te&&(At(Gt,we,te),te=we=-1,Gt=0)}}0<Gt&&At(Gt,we,te)}()}}function M(){if(T.plotArea.layoutManager.reset(),T.title&&(T.title.dockInsidePlotArea||"center"===T.title.horizontalAlign&&"center"===T.title.verticalAlign)&&T.title.render(),T.subtitles)for(var $=0;$<T.subtitles.length;$++){var Q=T.subtitles[$];(Q.dockInsidePlotArea||"center"===Q.horizontalAlign&&"center"===Q.verticalAlign)&&Q.render()}T.legend&&(T.legend.dockInsidePlotArea||"center"===T.legend.horizontalAlign&&"center"===T.legend.verticalAlign)&&(T.legend.setLayout(),T.legend.render())}var T=this;if(!(0>=t.dataSeriesIndexes.length)){var B,f=this.data[t.dataSeriesIndexes[0]],g=f.dataPoints,b=10,v=this.plotArea,h=f.dataPointEOs,_=2,F=1.3,P=20/180*Math.PI,I=6,w={x:(v.x2+v.x1)/2,y:(v.y2+v.y1)/2},Y=0;t=!1;for(var N=0;N<g.length;N++)Y+=Math.abs(g[N].y),!t&&typeof g[N].indexLabel<"u"&&null!==g[N].indexLabel&&0<g[N].indexLabel.toString().length&&(t=!0),!t&&typeof g[N].label<"u"&&null!==g[N].label&&0<g[N].label.toString().length&&(t=!0);if(0!==Y){t=t||typeof f.indexLabel<"u"&&null!==f.indexLabel&&0<f.indexLabel.toString().length;var z="inside"!==f.indexLabelPlacement&&t?.75*Math.min(v.width,v.height)/2:.92*Math.min(v.width,v.height)/2;f.radius&&(z=Oi(f.radius,z));var et=typeof f.innerRadius<"u"&&null!==f.innerRadius?Oi(f.innerRadius,z):.7*z;f.radius=z,"doughnut"===f.type&&(f.innerRadius=et);var dt=Math.min(et/z,(z-1)/z);this.pieDoughnutClickHandler=function($){T.isAnimating||!W(this.explodeOnClick)&&!this.explodeOnClick||(($=$.dataPoint).exploded=!$.exploded,1<this.dataPoints.length&&T._animator.animate(0,500,function(Q){o(Q,!0),M(),T.dispatchEvent("dataAnimationIterationEnd",{chart:T}),T.dispatchEvent("dataAnimationEnd",{chart:T})}))},function d(){if(f&&g){var $=0,Q=0,Z=0,J=0;W(f.options.indexLabelMaxWidth)&&(f.indexLabelMaxWidth=.33*v.width);for(var X=0;X<g.length;X++){var q=g[X],ht=f.dataPointIds[X];h[X].id=ht,h[X].objectType="dataPoint",h[X].dataPointIndex=X,h[X].dataSeriesIndex=0;var R=h[X],Jt={percent:null,total:null},Ht=null;Jt=T.getPercentAndTotal(f,q),(f.indexLabelFormatter||q.indexLabelFormatter)&&(Ht={chart:T.options,dataSeries:f,dataPoint:q,total:Jt.total,percent:Jt.percent}),Jt=q.indexLabelFormatter?q.indexLabelFormatter(Ht):q.indexLabel?T.replaceKeywordsWithValue(q.indexLabel,q,f,X):f.indexLabelFormatter?f.indexLabelFormatter(Ht):f.indexLabel?T.replaceKeywordsWithValue(f.indexLabel,q,f,X):q.label?q.label:"",T._eventManager.objectMap[ht]=R,R.center={x:w.x,y:w.y},R.y=q.y,R.radius=z,R.percentInnerRadius=dt,R.indexLabelText=Jt,R.indexLabelPlacement=f.indexLabelPlacement,R.indexLabelLineColor=q.indexLabelLineColor?q.indexLabelLineColor:f.options.indexLabelLineColor?f.options.indexLabelLineColor:q.color?q.color:f._colorSet[X%f._colorSet.length],R.indexLabelLineThickness=W(q.indexLabelLineThickness)?f.indexLabelLineThickness:q.indexLabelLineThickness,R.indexLabelLineDashType=q.indexLabelLineDashType?q.indexLabelLineDashType:f.indexLabelLineDashType,R.indexLabelFontColor=q.indexLabelFontColor?q.indexLabelFontColor:f.indexLabelFontColor,R.indexLabelFontStyle=q.indexLabelFontStyle?q.indexLabelFontStyle:f.indexLabelFontStyle,R.indexLabelFontWeight=q.indexLabelFontWeight?q.indexLabelFontWeight:f.indexLabelFontWeight,R.indexLabelFontSize=W(q.indexLabelFontSize)?f.indexLabelFontSize:q.indexLabelFontSize,R.indexLabelFontFamily=q.indexLabelFontFamily?q.indexLabelFontFamily:f.indexLabelFontFamily,R.indexLabelBackgroundColor=q.indexLabelBackgroundColor?q.indexLabelBackgroundColor:f.options.indexLabelBackgroundColor?f.options.indexLabelBackgroundColor:f.indexLabelBackgroundColor,R.indexLabelBorderColor=q.indexLabelBorderColor?q.indexLabelBorderColor:f.options.indexLabelBorderColor?f.options.indexLabelBorderColor:f.indexLabelBorderColor,R.indexLabelBorderThickness=q.indexLabelBorderThickness?q.indexLabelBorderThickness:f.options.indexLabelBorderThickness?f.options.indexLabelBorderThickness:f.indexLabelBorderThickness,R.indexLabelMaxWidth=q.indexLabelMaxWidth?q.indexLabelMaxWidth:f.indexLabelMaxWidth,R.indexLabelWrap=typeof q.indexLabelWrap<"u"?q.indexLabelWrap:f.indexLabelWrap,R.indexLabelTextAlign=q.indexLabelTextAlign?q.indexLabelTextAlign:f.indexLabelTextAlign?f.indexLabelTextAlign:"left",R.startAngle=0===X?f.startAngle?f.startAngle/180*Math.PI:0:h[X-1].endAngle,R.startAngle=(R.startAngle+2*Math.PI)%(2*Math.PI),R.endAngle=R.startAngle+2*Math.PI/Y*Math.abs(q.y),q=((q=(R.endAngle+R.startAngle)/2)+2*Math.PI)%(2*Math.PI),R.midAngle=q,R.midAngle>Math.PI/2-P&&R.midAngle<Math.PI/2+P?((0===$||h[Z].midAngle>R.midAngle)&&(Z=X),$++):R.midAngle>3*Math.PI/2-P&&R.midAngle<3*Math.PI/2+P&&((0===Q||h[J].midAngle>R.midAngle)&&(J=X),Q++),R.hemisphere=q>Math.PI/2&&q<=3*Math.PI/2?"left":"right",R.indexLabelTextBlock=new ee(T.plotArea.ctx,{fontSize:R.indexLabelFontSize,fontFamily:R.indexLabelFontFamily,fontColor:R.indexLabelFontColor,fontStyle:R.indexLabelFontStyle,fontWeight:R.indexLabelFontWeight,textAlign:R.indexLabelTextAlign,backgroundColor:R.indexLabelBackgroundColor,borderColor:R.indexLabelBorderColor,borderThickness:R.indexLabelBorderThickness,maxWidth:R.indexLabelMaxWidth,maxHeight:R.indexLabelWrap?5*R.indexLabelFontSize:1.5*R.indexLabelFontSize,text:R.indexLabelText,padding:0,textBaseline:"middle"}),R.indexLabelTextBlock.measureText()}for(ht=q=0,Jt=!1,X=0;X<g.length;X++)R=h[(Z+X)%g.length],1<$&&R.midAngle>Math.PI/2-P&&R.midAngle<Math.PI/2+P&&(q<=$/2&&!Jt?(R.hemisphere="right",q++):(R.hemisphere="left",Jt=!0));for(Jt=!1,X=0;X<g.length;X++)R=h[(J+X)%g.length],1<Q&&R.midAngle>3*Math.PI/2-P&&R.midAngle<3*Math.PI/2+P&&(ht<=Q/2&&!Jt?(R.hemisphere="left",ht++):(R.hemisphere="right",Jt=!0))}}(),m(),m(),m(),m(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function($){(Q=T.plotArea.ctx).clearRect(v.x1,v.y1,v.width,v.height),Q.fillStyle=T.backgroundColor,Q.fillRect(v.x1,v.y1,v.width,v.height);for(var Q=h[0].startAngle+2*Math.PI*$,Z=0;Z<g.length;Z++){var J=0===Z?h[Z].startAngle:X,X=J+(h[Z].endAngle-h[Z].startAngle),q=!1;if(X>Q&&(X=Q,q=!0),X>J&&Ne(T.plotArea.ctx,h[Z].center,h[Z].radius,g[Z].color?g[Z].color:f._colorSet[Z%f._colorSet.length],f.type,J,X,f.fillOpacity,h[Z].percentInnerRadius),q)break}M(),T.dispatchEvent("dataAnimationIterationEnd",{chart:T}),1<=$&&T.dispatchEvent("dataAnimationEnd",{chart:T})},function(){T.disableToolTip=!1,T._animator.animate(0,T.animatedRender?500:0,function($){o($,!1),M(),T.dispatchEvent("dataAnimationIterationEnd",{chart:T})}),T.dispatchEvent("dataAnimationEnd",{chart:T})})}}};var Ke=function(t,d,o,n){typeof o>"u"&&(o=1),0>=Math.round(d.y4-d.y1)||(t.save(),t.globalAlpha=o,t.beginPath(),t.moveTo(Math.round(d.x1),Math.round(d.y1)),t.lineTo(Math.round(d.x2),Math.round(d.y2)),t.lineTo(Math.round(d.x3),Math.round(d.y3)),t.lineTo(Math.round(d.x4),Math.round(d.y4)),"undefined"!==d.x5&&(t.lineTo(Math.round(d.x5),Math.round(d.y5)),t.lineTo(Math.round(d.x6),Math.round(d.y6))),t.closePath(),t.fillStyle=n||d.color,t.fill(),t.globalAplha=1,t.restore())};A.prototype.renderFunnel=function(t){function p(){var ut,ct,gt,Kt;if("inside"!==P.indexLabelPlacement)for(var _t=0;_t<Bt.length;_t++)0==rt[_t].textBlock.text.length?rt[_t].isDirty=!0:(gt=typeof(ut=Bt[_t]).x5<"u"?(ut.y2+ut.y4)/2:(ut.y2+ut.y3)/2,ct=P.reversed?typeof ut.x5<"u"&&gt>te?h(gt).x2+1:(ut.x2+ut.x3)/2+1:typeof ut.x5<"u"?gt<te?h(gt).x2+1:(ut.x4+ut.x3)/2+1:(ut.x2+ut.x3)/2+1,rt[_t].textBlock.x=ct+Ht,rt[_t].textBlock.y=gt-rt[_t].height/2,P.reversed?(rt[_t].textBlock.y+rt[_t].height>se+Y&&(rt[_t].textBlock.y=se+Y-rt[_t].height),rt[_t].textBlock.y<Gt-Y&&(rt[_t].textBlock.y=Gt-Y)):(rt[_t].textBlock.y<se-Y&&(rt[_t].textBlock.y=se-Y),rt[_t].textBlock.y+rt[_t].height>Gt+Y&&(rt[_t].textBlock.y=Gt+Y-rt[_t].height)));else for(_t=0;_t<Bt.length;_t++)0==rt[_t].textBlock.text.length?rt[_t].isDirty=!0:(Kt=rt[_t].width,(ct=(ut=Bt[_t]).height)>=(gt=rt[_t].height)?(gt=_t!=Qe?(ut.y1+ut.y3)/2-gt/2:(ut.y1+ut.y4)/2-gt/2,rt[_t].textBlock.x=ct=_t!=Qe?(ut.x4+ut.x3)/2-Kt/2:(ut.x5+ut.x4)/2-Kt/2,rt[_t].textBlock.y=gt):rt[_t].isDirty=!0)}function M(ut,ct){return(ct<Bt.length?rt[ct].textBlock.y:P.reversed?se+Y:Gt+Y)-(0>ut?P.reversed?Gt-Y:se-Y:rt[ut].textBlock.y+rt[ut].height+oi)}function T(ut,ct,gt){var Kt,_t,oe,Le=[],pe=Y,St=[];if(-1!==ct&&(0<=Oe.indexOf(ct)?(_t=Oe.indexOf(ct),Oe.splice(_t,1)):(Oe.push(ct),Oe=Oe.sort(function(he,Nt){return he-Nt}))),0===Oe.length)Le=Ci;else{_t=Y*(1!=Oe.length||0!=Oe[0]&&Oe[0]!=Bt.length-1?2:1)/function f(){for(var ut=0,ct=0;ct<Bt.length-1;ct++)(0<=Oe.indexOf(ct)||0<=Oe.indexOf(ct+1))&&ut++;return ut}();for(var Ce=0;Ce<Bt.length;Ce++){if(1==Oe.length&&0==Oe[0]){if(0===Ce){Le.push(Ci[Ce]),Kt=pe;continue}}else 0===Ce&&(Kt=-1*pe);Le.push(Ci[Ce]+Kt),(0<=Oe.indexOf(Ce)||Ce<Bt.length&&0<=Oe.indexOf(Ce+1))&&(Kt+=_t)}}oe=function(){for(var he=[],Nt=0;Nt<Bt.length;Nt++)he.push(Le[Nt]-Bt[Nt].y1);return he}(),(new Date).getTime();ut._animator.animate(0,gt,function(he){var Nt=ut.plotArea.ctx||ut.ctx;bi=!0,Nt.clearRect(w.x1,w.y1,w.x2-w.x1,w.y2-w.y1),Nt.fillStyle=ut.backgroundColor,Nt.fillRect(w.x1,w.y1,w.width,w.height),function(he){for(var Nt,Zt,Ft=0;Ft<Bt.length;Ft++)Nt=oe[Ft],Zt=Bt[Ft],Nt*=he,typeof St[Ft]>"u"&&(St[Ft]=0),0>St&&(St*=-1),Zt.y1+=Nt-St[Ft],Zt.y2+=Nt-St[Ft],Zt.y3+=Nt-St[Ft],Zt.y4+=Nt-St[Ft],Zt.y5&&(Zt.y5+=Nt-St[Ft],Zt.y6+=Nt-St[Ft]),St[Ft]=Nt}(he);var Zt={};for(Zt.dataSeries=P,Zt.dataPoint=P.reversed?P.dataPoints[I.length-1-ct]:P.dataPoints[ct],Zt.index=P.reversed?I.length-1-ct:ct,ut.toolTip.highlightObjects([Zt]),Zt=0;Zt<Bt.length;Zt++)Ke(Nt,Bt[Zt],P.fillOpacity);B(Nt),$&&("inside"!==P.indexLabelPlacement?g(Nt):p(),_(Nt)),1<=he&&(bi=!1)},null,Dt.easing.easeOutQuart)}function g(ut){for(var ct,gt,Kt,_t,oe=0;oe<Bt.length;oe++)ct=h(gt=((Bt[oe].y2+Bt[oe].y4)/2|0)+(_t=rt[oe].lineThickness%2==1?.5:0)).x2-1,Kt=rt[oe].textBlock.x,_t=(rt[oe].textBlock.y+rt[oe].height/2|0)+_t,rt[oe].isDirty||0==rt[oe].lineThickness||(ut.strokeStyle=rt[oe].lineColor,ut.lineWidth=rt[oe].lineThickness,ut.setLineDash&&ut.setLineDash(xt(rt[oe].lineDashType,rt[oe].lineThickness)),ut.beginPath(),ut.moveTo(ct,gt),ut.lineTo(Kt,_t),ut.stroke())}function b(ut){for(ut-=1;-1<=ut&&-1!=ut&&rt[ut].isDirty;ut--);return ut}function v(ut){for(ut+=1;ut<=Bt.length&&ut!=Bt.length&&rt[ut].isDirty;ut++);return ut}function h(ut){for(var ct,gt=0;gt<I.length;gt++)if(Bt[gt].y1<ut&&Bt[gt].y4>ut){ct=Bt[gt];break}return ct?{x1:ut=ct.y6&&ut>ct.y6?ct.x3+(ct.x4-ct.x3)/(ct.y4-ct.y3)*(ut-ct.y3):ct.x2+(ct.x3-ct.x2)/(ct.y3-ct.y2)*(ut-ct.y2),x2:ut}:-1}function _(ut){for(var ct=0;ct<Bt.length;ct++)rt[ct].isDirty||(ut&&(rt[ct].textBlock.ctx=ut),rt[ct].textBlock.y+=rt[ct].textBlock._lineHeight/2,rt[ct].textBlock.render(!0),rt[ct].textBlock.y-=rt[ct].textBlock._lineHeight/2)}function B(ut){if(F.plotArea.layoutManager.reset(),ut.roundRect||je(ut),F.title&&(F.title.dockInsidePlotArea||"center"===F.title.horizontalAlign&&"center"===F.title.verticalAlign)&&(F.title.ctx=ut,F.title.render()),F.subtitles)for(var ct=0;ct<F.subtitles.length;ct++){var gt=F.subtitles[ct];(gt.dockInsidePlotArea||"center"===gt.horizontalAlign&&"center"===gt.verticalAlign)&&(F.subtitles.ctx=ut,gt.render())}F.legend&&(F.legend.dockInsidePlotArea||"center"===F.legend.horizontalAlign&&"center"===F.legend.verticalAlign)&&(F.legend.ctx=ut,F.legend.setLayout(),F.legend.render()),ei.fNg&&ei.fNg(F)}var F=this;if(!(0>=t.dataSeriesIndexes.length)){for(var P=this.data[t.dataSeriesIndexes[0]],I=P.dataPoints,w=this.plotArea,Y=.025*w.width,N=.01*w.width,z=0,et=w.height-2*Y,dt=Math.min(w.width-2*N,2.8*w.height),$=!1,Q=0;Q<I.length;Q++)!$&&typeof I[Q].indexLabel<"u"&&null!==I[Q].indexLabel&&0<I[Q].indexLabel.toString().length&&($=!0),!$&&typeof I[Q].label<"u"&&null!==I[Q].label&&0<I[Q].label.toString().length&&($=!0),(!$&&"function"==typeof P.indexLabelFormatter||"function"==typeof I[Q].indexLabelFormatter)&&($=!0);$=$||typeof P.indexLabel<"u"&&null!==P.indexLabel&&0<P.indexLabel.toString().length,"inside"!==P.indexLabelPlacement&&$||(N=(w.width-.75*dt)/2),Q=w.x1+N;var Z=w.x2-N,J=w.y1+Y,X=w.y2-Y,q=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=P.length&&P.dataPoints&&P.visible&&0!==I.length){var ht,R,Ht=30*(Z-(t=75*dt/100))/100;"funnel"===P.type?(ht=W(P.options.neckHeight)?.35*et:P.neckHeight,R=W(P.options.neckWidth)?.25*t:P.neckWidth,ht="string"==typeof ht&&ht.match(/%$/)?(ht=parseInt(ht))*et/100:parseInt(ht),R="string"==typeof R&&R.match(/%$/)?(R=parseInt(R))*t/100:parseInt(R),ht>et?ht=et:0>=ht&&(ht=0),R>t?R=t-.5:0>=R&&(R=0)):"pyramid"===P.type&&(R=ht=0,P.reversed=!P.reversed);var Jt=Q,re=Q+t,se=P.reversed?X:J,At=(N=Q+t/2)-R/2,we=N+R/2,te=P.reversed?J+ht:X-ht,Gt=P.reversed?J:X;R=P.valueRepresents=P.valueRepresents?P.valueRepresents:"height",Q=[],t=[];var Qe,Bt=[],Pe=(N=[],J),Ee=(te-se)/(At-Jt),Pi=-Ee;if(-1!==(dt="area"===R?function o(){var _t,oe,ut=Jt,ct=re,gt=At,Kt=we;_t=J,oe=X-ht,Kt=Math.abs((oe-_t)*(ct-ut+(Kt-gt))/2),_t=oe-_t,oe=(gt=we-At)*(oe-X),oe=Kt+(oe=Math.abs(oe)),Kt=[];for(var Le=0,pe=0;pe<I.length;pe++){if(typeof I[pe].y>"u")return-1;I[pe].y="number"==typeof I[pe].y?I[pe].y:0,Le+=Math.abs(I[pe].y)}if(0===Le)return-1;var Ce,Me,he=Kt[0]=0,St=0;for(ct-=ut,he=!1,pe=0;pe<I.length;pe++)ut=Math.abs(I[pe].y)*oe/Le,he?Ce=0==Number(gt.toFixed(3))?0:ut/gt:0>(Me=Ee*Ee*ct*ct-4*Math.abs(Ee)*ut)?(ut-=he=(ct+(Me=gt))*(_t-St)/2,Ce=_t-St,St+=_t-St,Ce+=0==Me?0:ut/Me,St+=ut/Me,he=!0):(Me=ct-2*(Ce=(Math.abs(Ee)*ct-Math.sqrt(Me))/2)/Math.abs(Ee),(St+=Ce)>_t&&(he=(ct+(Me=gt))*(_t-(St-=Ce))/2,Ce=_t-St,St+=_t-St,Ce+=(ut-=he)/Me,St+=ut/Me,he=!0),ct=Me),Kt.push(Ce);return Kt}():function d(){for(var ut=0,ct=[],gt=0;gt<I.length;gt++){if(typeof I[gt].y>"u")return-1;I[gt].y="number"==typeof I[gt].y?I[gt].y:0,ut+=Math.abs(I[gt].y)}if(0===ut)return-1;for(gt=ct[0]=0;gt<I.length;gt++)ct.push(Math.abs(I[gt].y)*et/ut);return ct}())){if(P.reversed)for(N.push(Pe),R=dt.length-1;0<R;R--)N.push(Pe+=dt[R]);else for(R=0;R<dt.length;R++)N.push(Pe+=dt[R]);if(P.reversed)for(R=0;R<dt.length;R++)N[R]<te?(Q.push(At),t.push(we),Qe=R):(Q.push((N[R]-se+Ee*Jt)/Ee),t.push((N[R]-se+Pi*re)/Pi));else for(R=0;R<dt.length;R++)N[R]<te?(Q.push((N[R]-se+Ee*Jt)/Ee),t.push((N[R]-se+Pi*re)/Pi),Qe=R):(Q.push(At),t.push(we));for(R=0;R<dt.length-1;R++)Pe=P.reversed?I[I.length-1-R].color?I[I.length-1-R].color:P._colorSet[(I.length-1-R)%P._colorSet.length]:I[R].color?I[R].color:P._colorSet[R%P._colorSet.length],Bt.push(R===Qe?{x1:Q[R],y1:N[R],x2:t[R],y2:N[R],x3:we,y3:te,x4:t[R+1],y4:N[R+1],x5:Q[R+1],y5:N[R+1],x6:At,y6:te,id:R,height:N[R+1]-N[R],color:Pe}:{x1:Q[R],y1:N[R],x2:t[R],y2:N[R],x3:t[R+1],y3:N[R+1],x4:Q[R+1],y4:N[R+1],id:R,height:N[R+1]-N[R],color:Pe});var oi=2,rt=[],bi=!1,Oe=[],Ci=[];for(Q=!1,t=t=0,mi(Oe),R=0;R<I.length;R++)I[R].exploded&&(Q=!0,Oe.push(P.reversed?I.length-1-R:R));if(q.clearRect(w.x1,w.y1,w.width,w.height),q.fillStyle=F.backgroundColor,q.fillRect(w.x1,w.y1,w.width,w.height),$&&P.visible&&(function n(){if(P&&I){for(var ut,ct,gt,Kt,_t,oe,Le,pe,St,Ce,Me,he,Nt,Zt,Ft,be,Ae,Ye=[],Ie=[],ui={percent:null,total:null},Ze=null,ie=0;ie<I.length;ie++)Ae=h(Ae=typeof(Ae=Bt[ie]).x5<"u"?(Ae.y2+Ae.y4)/2:(Ae.y2+Ae.y3)/2).x2+1,Ye[ie]=Z-Ae-Ht;Ae=.5*Ht,ie=0;for(var rs=I.length-1;ie<I.length||0<=rs;ie++,rs--)ut=(ct=P.reversed?I[rs]:I[ie]).color?ct.color:P.reversed?P._colorSet[(I.length-1-ie)%P._colorSet.length]:P._colorSet[ie%P._colorSet.length],gt=ct.indexLabelPlacement||P.indexLabelPlacement||"outside",be=ct.indexLabelTextAlign||P.indexLabelTextAlign||"left",Kt=ct.indexLabelBackgroundColor||P.indexLabelBackgroundColor||(j?"transparent":null),_t=ct.indexLabelBorderColor||P.indexLabelBorderColor||(j?"transparent":null),oe=W(ct.indexLabelBorderThickness)?P.indexLabelBorderThickness:ct.indexLabelBorderThickness,Le=ct.indexLabelFontColor||P.indexLabelFontColor||"#979797",pe=W(ct.indexLabelFontSize)?P.indexLabelFontSize:ct.indexLabelFontSize,St=ct.indexLabelFontStyle||P.indexLabelFontStyle||"normal",Ce=ct.indexLabelFontFamily||P.indexLabelFontFamily||"arial",Me=ct.indexLabelFontWeight||P.indexLabelFontWeight||"normal",ut=ct.indexLabelLineColor||P.options.indexLabelLineColor||ut,he="number"==typeof ct.indexLabelLineThickness?ct.indexLabelLineThickness:"number"==typeof P.indexLabelLineThickness?P.indexLabelLineThickness:2,Nt=ct.indexLabelLineDashType||P.indexLabelLineDashType||"solid",Zt=typeof ct.indexLabelWrap<"u"?ct.indexLabelWrap:!(typeof P.indexLabelWrap<"u")||P.indexLabelWrap,F._eventManager.objectMap[Ft=P.dataPointIds[ie]]={id:Ft,objectType:"dataPoint",dataPointIndex:ie,dataSeriesIndex:0,funnelSection:Bt[P.reversed?I.length-1-ie:ie]},"inside"===P.indexLabelPlacement&&(Ye[ie]=ie!==Qe?P.reversed?Bt[ie].x2-Bt[ie].x1:Bt[ie].x3-Bt[ie].x4:Bt[ie].x3-Bt[ie].x6,20>Ye[ie]&&(Ye[ie]=ie!==Qe&&P.reversed?Bt[ie].x3-Bt[ie].x4:Bt[ie].x2-Bt[ie].x1,Ye[ie]/=2)),((Ft=ct.indexLabelMaxWidth?ct.indexLabelMaxWidth:P.options.indexLabelMaxWidth?P.indexLabelMaxWidth:Ye[ie])>Ye[ie]||0>Ft)&&(Ft=Ye[ie]),Ie[ie]="inside"===P.indexLabelPlacement&&(Zt?Math.max(Bt[ie].height,pe):1.5*pe),ui=F.getPercentAndTotal(P,ct),(P.indexLabelFormatter||ct.indexLabelFormatter)&&(Ze={chart:F.options,dataSeries:P,dataPoint:ct,total:ui.total,percent:ui.percent}),ct=ct.indexLabelFormatter?ct.indexLabelFormatter(Ze):ct.indexLabel?F.replaceKeywordsWithValue(ct.indexLabel,ct,P,ie):P.indexLabelFormatter?P.indexLabelFormatter(Ze):P.indexLabel?F.replaceKeywordsWithValue(P.indexLabel,ct,P,ie):ct.label?ct.label:"",0>=he&&(he=0),1e3>Ft&&1e3-Ft<Ae&&(Ft+=1e3-Ft),W(P.options.indexLabelMaxWidth)&&(P.indexLabelMaxWidth=W(P.indexLabelMaxWidth)?Ft:Math.max(Ft,P.indexLabelMaxWidth)),q.roundRect||je(q),(gt=new ee(q,{fontSize:pe,fontFamily:Ce,fontColor:Le,fontStyle:St,fontWeight:Me,horizontalAlign:gt,textAlign:be,backgroundColor:Kt,borderColor:_t,borderThickness:oe,maxWidth:Ft,maxHeight:!1===Ie[ie]?Zt?4.28571429*pe:1.5*pe:Ie[ie],text:ct,padding:oi,textBaseline:"middle"})).measureText(),gt.height=gt.height===2*gt.padding?0:gt.height,gt.width=gt.width===2*gt.padding?0:gt.width,rt.push({textBlock:gt,id:P.reversed?rs:ie,isDirty:!1,lineColor:ut,lineThickness:he,lineDashType:Nt,height:gt.height<gt.maxHeight?gt.height:gt.maxHeight,width:gt.width<gt.maxWidth?gt.width:gt.maxWidth})}}(),p(),"inside"!==P.indexLabelPlacement)){for(function l(){var ut,ct,gt,Kt,_t,oe=[];_t=!1,gt=0;for(var Le,pe=Z-re-Ht/2,St=(pe=P.options.indexLabelMaxWidth?P.indexLabelMaxWidth>pe?pe:P.indexLabelMaxWidth:pe,rt.length-1);0<=St;St--)Le=I[rt[St].id],Kt=(gt=rt[St]).textBlock,ct=(ut=v(St)<Bt.length?rt[v(St)]:null)?ut.textBlock:null,gt=gt.height,ut&&Kt.y+gt+oi>ct.y&&(_t=!0),((gt=Le.indexLabelMaxWidth||pe)>pe||0>gt)&&(gt=pe),oe.push(gt);if(_t)for(St=rt.length-1;0<=St;St--)ut=Bt[St],rt[St].textBlock.maxWidth=oe[oe.length-(St+1)],rt[St].textBlock.measureText(),rt[St].textBlock.height=rt[St].textBlock.height===2*rt[St].textBlock.padding?0:rt[St].textBlock.height,rt[St].textBlock.width=rt[St].textBlock.width===2*rt[St].textBlock.padding?0:rt[St].textBlock.width,rt[St].textBlock.x=Z-pe,_t=rt[St].textBlock.width<rt[St].textBlock.maxWidth?rt[St].textBlock.width:rt[St].textBlock.maxWidth,rt[St].height=gt=rt[St].textBlock.height<rt[St].textBlock.maxHeight?rt[St].textBlock.height:rt[St].textBlock.maxHeight,rt[St].width=_t,rt[St].textBlock.y=(gt=typeof ut.x5<"u"?(ut.y2+ut.y4)/2:(ut.y2+ut.y3)/2)-rt[St].height/2,P.reversed?(rt[St].textBlock.y+rt[St].height>se+Y&&(rt[St].textBlock.y=se+Y-rt[St].height),rt[St].textBlock.y<Gt-Y&&(rt[St].textBlock.y=Gt-Y)):(rt[St].textBlock.y<se-Y&&(rt[St].textBlock.y=se-Y),rt[St].textBlock.y+rt[St].height>Gt+Y&&(rt[St].textBlock.y=Gt+Y-rt[St].height))}(),function m(){function ut(Nt,Zt){var Ft;if(0>Nt||Nt>=rt.length)return 0;var be,Ae=rt[Nt].textBlock;return 0>Zt?(Zt*=-1,(Ft=M(be=b(Nt),Nt))>=Zt?(Ae.y-=Zt,Zt):0==Nt?(0<Ft&&(Ae.y-=Ft),Ft):(0<(Ft+=ut(be,-(Zt-Ft)))&&(Ae.y-=Ft),Ft)):(Ft=M(Nt,be=v(Nt)))>=Zt?(Ae.y+=Zt,Zt):Nt==Bt.length-1?(0<Ft&&(Ae.y+=Ft),Ft):(0<(Ft+=ut(be,Zt-Ft))&&(Ae.y+=Ft),Ft)}function ct(){var Nt,Zt,Ft,be,Ye,Ae=0;be=(X-J+2*Y)/Ce,Ye=Ce;for(var Ie,ui=1;ui<Ye;ui++){Ft=ui*be;for(var Ze=rt.length-1;0<=Ze;Ze--)!rt[Ze].isDirty&&rt[Ze].textBlock.y<Ft&&rt[Ze].textBlock.y+rt[Ze].height>Ft&&!((Ie=v(Ze))>=rt.length-1)&&rt[Ze].textBlock.y+rt[Ze].height+oi>rt[Ie].textBlock.y&&(rt[Ze].textBlock.y=rt[Ze].textBlock.y+rt[Ze].height-Ft>Ft-rt[Ze].textBlock.y?Ft+1:Ft-rt[Ze].height-1)}for(Ie=Bt.length-1;0<Ie;Ie--)if(!rt[Ie].isDirty){if(0>(Ft=b(Ie))&&rt[Ft=0].isDirty)break;if(rt[Ie].textBlock.y<rt[Ft].textBlock.y+rt[Ft].height){for(Zt=Zt||Ie,be=Ie,Ye=0;rt[be].textBlock.y<rt[Ft].textBlock.y+rt[Ft].height+oi;){if(Nt=Nt||rt[be].textBlock.y+rt[be].height,Ye+=rt[be].height,Ye+=oi,0>=(be=Ft)){Ye+=rt[be=0].height;break}if(0>(Ft=b(be))){Ye+=rt[be=0].height;break}}if(be!=Ie){Ae=gt(Nt=Ye-(Nt-=Ae=rt[be].textBlock.y),Zt,be);break}}}return Ae}function gt(Nt,Zt,Ft){var be=[],Ae=0,Ye=0;for(Nt=Math.abs(Nt);Ft<=Zt;Ft++)be.push(Bt[Ft]);for(be.sort(function(Ie,ui){return Ie.height-ui.height}),Ft=0;Ft<be.length&&(Zt=be[Ft],Ae<Nt);Ft++)Ye++,Ae+=rt[Zt.id].height+oi,rt[Zt.id].textBlock.text="",rt[Zt.id].indexLabelText="",rt[Zt.id].isDirty=!0,rt[Zt.id].textBlock.measureText();return Ye}for(var Kt,_t,oe,Le,pe,St,Ce=1,Me=0;Me<2*Ce;Me++){for(var he=rt.length-1;0<=he&&(0<=b(he)&&b(he),Le=(oe=rt[he]).textBlock,St=(pe=v(he)<Bt.length?rt[v(he)]:null)?pe.textBlock:null,Kt=+oe.height.toFixed(6),_t=+Le.y.toFixed(6),!(!oe.isDirty&&pe&&_t+Kt+oi>+St.y.toFixed(6)&&(Kt=Le.y+Kt+oi-St.y,_t=ut(he,-Kt),_t<Kt&&(0<_t&&(Kt-=_t),_t=ut(v(he),Kt),_t!=Kt))));he--);ct()}}(),R=0;R<I.length;R++)rt[R].isDirty||(t=(Z-(t=rt[R].textBlock.x+rt[R].width))/2,0==R&&(z=t),z>t&&(z=t));for(R=0;R<Bt.length;R++)Bt[R].x1+=z,Bt[R].x2+=z,Bt[R].x3+=z,Bt[R].x4+=z,Bt[R].x5&&(Bt[R].x5+=z,Bt[R].x6+=z),rt[R].textBlock.x+=z}for(R=0;R<Bt.length;R++)Ke(q,z=Bt[R],P.fillOpacity),Ci.push(z.y1);if(B(q),$&&P.visible&&("inside"===P.indexLabelPlacement||F.animationEnabled||g(q),F.animationEnabled||_()),!$)for(R=0;R<I.length;R++)F._eventManager.objectMap[z=P.dataPointIds[R]]=t={id:z,objectType:"dataPoint",dataPointIndex:R,dataSeriesIndex:0,funnelSection:Bt[P.reversed?I.length-1-R:R]};return(!F.animationEnabled&&Q||F.animationEnabled&&!F.animatedRender)&&T(F,-1,0),this.funnelPyramidClickHandler=function(Kt){var _t=-1;!bi&&!F.isAnimating&&(W(Kt.dataSeries.explodeOnClick)||Kt.dataSeries.explodeOnClick)&&0<=(_t=P.reversed?I.length-1-Kt.dataPointIndex:Kt.dataPointIndex)&&(Kt=_t,("funnel"===P.type||"pyramid"===P.type)&&(P.reversed?I[I.length-1-Kt].exploded=!I[I.length-1-Kt].exploded:I[Kt].exploded=!I[Kt].exploded),T(F,_t,500))},{source:q,dest:this.plotArea.ctx,animationCallback:function(Kt,_t){Dt.fadeInAnimation(Kt,_t),1<=Kt&&(T(F,-1,500),B(F.plotArea.ctx||F.ctx))},easingFunction:Dt.easing.easeInQuad,animationBase:0}}}}},A.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},A.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,A.prototype.set=function(t,d,o){o=typeof o>"u"||o,"options"===t?(this.options=d,o&&this.render()):A.base.set.call(this,t,d,o)},A.prototype.exportChart=function(t){var d=(t=typeof t>"u"?{}:t).format?t.format:"png",o=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+d);if((n=this.canvas)&&d&&o){o=o+"."+d;var n=n.toDataURL(t="image/"+d),l=!1,p=document.createElement("a");if(p.download=o,p.href=n,typeof Blob<"u"&&new Blob){for(var m=n.replace(/^data:[a-z\/]*;base64,/,""),M=(m=atob(m),new ArrayBuffer(m.length)),T=(M=new Uint8Array(M),0);T<m.length;T++)M[T]=m.charCodeAt(T);d=new Blob([M.buffer],{type:"image/"+d});try{window.navigator.msSaveBlob(d,o),l=!0}catch{p.dataset.downloadurl=[t,p.download,p.href].join(":"),p.href=window.URL.createObjectURL(d)}}if(!l)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),p.dispatchEvent?p.dispatchEvent(event):p.fireEvent&&p.fireEvent("onclick")}catch{(d=window.open()).document.write("<img src='"+n+"'></img><div>Please right click on the image and save it to your device</div>"),d.document.close()}}},A.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),d=document.createElement("iframe");d.setAttribute("class","canvasjs-chart-print-frame"),ne(d,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),d.style.height=this.height+"px",this._canvasJSContainer.appendChild(d);var o=this,n=d.contentWindow||d.contentDocument.document||d.contentDocument;n.document.open(),n.document.write('<!DOCTYPE HTML>\n<html><body><img src="'+t+'"/><body/></html>'),n.document.body&&n.document.body.style&&(n.document.body.style.margin="0px 0px 0px 0px",n.document.body.style.padding="0px 0px 0px 0px"),n.document.close(),setTimeout(function(){n.focus(),n.print(),setTimeout(function(){o._canvasJSContainer.removeChild(d)},1e3)},500)},A.prototype.getPercentAndTotal=function(t,d){var o=null,n=null,l=o=null;if(0<=t.type.indexOf("stacked"))n=0,(o=d.x.getTime?d.x.getTime():d.x)in t.plotUnit.yTotals&&(n=t.plotUnit.yTotals[o],o=t.plotUnit.yAbsTotals[o],l=isNaN(d.y)||0===o?0:d.y/o*100);else if("pie"===t.type||"doughnut"===t.type||"funnel"===t.type||"pyramid"===t.type){for(o=n=0;o<t.dataPoints.length;o++)isNaN(t.dataPoints[o].y)||(n+=t.dataPoints[o].y);l=isNaN(d.y)?0:d.y/n*100}return{percent:l,total:n}},A.prototype.replaceKeywordsWithValue=function(t,d,o,n,l){var p=this;if(l=typeof l>"u"?0:l,(0<=o.type.indexOf("stacked")||"pie"===o.type||"doughnut"===o.type||"funnel"===o.type||"pyramid"===o.type)&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var T="#percent",M="#total",m=this.getPercentAndTotal(o,d);M=isNaN(m.total)?M:m.total,T=isNaN(m.percent)?T:m.percent;do{if(m="",o.percentFormatString)m=o.percentFormatString;else{m="#,##0.";var f=Math.max(Math.ceil(Math.log(1/Math.abs(T))/Math.LN10),2);(isNaN(f)||!isFinite(f))&&(f=2);for(var g=0;g<f;g++)m+="#";o.percentFormatString=m}t=(t=t.replace("#percent",Be(T,m,p._cultureInfo))).replace("#total",Be(M,o.yValueFormatString?o.yValueFormatString:"#,##0.########",p._cultureInfo))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(b){if('"'===b[0]&&'"'===b[b.length-1]||"'"===b[0]&&"'"===b[b.length-1])return b.slice(1,b.length-1);b=(b=Ge(b.slice(1,b.length-1))).replace("#index",l);var v=null;try{var h=b.match(/(.*?)\s*\[\s*(.*?)\s*\]/);h&&0<h.length&&(v=Ge(h[2]),b=Ge(h[1]))}catch{}if(h=null,"color"===b)return"waterfall"===o.type?d.color?d.color:0<d.y?o.risingColor:o.fallingColor:"error"===o.type?o.color?o.color:o._colorSet[v%o._colorSet.length]:d.color?d.color:o.color?o.color:o._colorSet[n%o._colorSet.length];if(d.hasOwnProperty(b))h=d;else{if(!o.hasOwnProperty(b))return"";h=o}return h=h[b],null!==v&&(h=h[v]),"x"===b?(o.axisX&&"dateTime"===o.axisX.valueType||"dateTime"===o.xValueType||d.x&&d.x.getTime)&&!o.axisX.logarithmic?Ti(h,d.xValueFormatString?d.xValueFormatString:o.xValueFormatString?o.xValueFormatString:o.xValueFormatString=p.axisX&&p.axisX.autoValueFormatString?p.axisX.autoValueFormatString:"DD MMM YY",p._cultureInfo):Be(h,d.xValueFormatString?d.xValueFormatString:o.xValueFormatString?o.xValueFormatString:o.xValueFormatString="#,##0.########",p._cultureInfo):"y"===b?Be(h,d.yValueFormatString?d.yValueFormatString:o.yValueFormatString?o.yValueFormatString:o.yValueFormatString="#,##0.########",p._cultureInfo):"z"===b?Be(h,d.zValueFormatString?d.zValueFormatString:o.zValueFormatString?o.zValueFormatString:o.zValueFormatString="#,##0.########",p._cultureInfo):h})},De(lt,ve),lt.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,d=t.layoutManager.getFreeSpace(),o=null,n=0,l=0,p=0,m=0,M=this.markerMargin=this.chart.options.legend&&!W(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var T=[],f=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",o=this.verticalAlign,p=this.maxWidth=null!==this.maxWidth?this.maxWidth:d.width,m=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*d.height):"center"===this.verticalAlign&&(this.orientation="vertical",("left"===this.horizontalAlign||"center"===this.horizontalAlign||"right"===this.horizontalAlign)&&(o=this.horizontalAlign),p=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*d.width,m=this.maxHeight=null!==this.maxHeight?this.maxHeight:d.height),this.errorMarkerColor=[];for(var g=0;g<this.dataSeries.length;g++){var b=this.dataSeries[g];if(b.dataPoints&&b.dataPoints.length){if("pie"!==b.type&&"doughnut"!==b.type&&"funnel"!==b.type&&"pyramid"!==b.type){var v=b.legendMarkerType=b.legendMarkerType?b.legendMarkerType:"line"!==b.type&&"stepLine"!==b.type&&"spline"!==b.type&&"scatter"!==b.type&&"bubble"!==b.type||!b.markerType?"error"===b.type&&b._linkedSeries?b._linkedSeries.legendMarkerType?b._linkedSeries.legendMarkerType:pt.getDefaultLegendMarker(b._linkedSeries.type):pt.getDefaultLegendMarker(b.type):b.markerType,h=b.legendText?b.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:b,dataPoint:null}):b.name,_=b.legendMarkerColor=b.legendMarkerColor?b.legendMarkerColor:b.markerColor?b.markerColor:"error"===b.type?W(b.whiskerColor)?b._colorSet[0]:b.whiskerColor:b._colorSet[0],B=b.markerSize||"line"!==b.type&&"stepLine"!==b.type&&"spline"!==b.type?.75*this.lineHeight:0,F=b.legendMarkerBorderColor?b.legendMarkerBorderColor:b.markerBorderColor,P=b.legendMarkerBorderThickness?b.legendMarkerBorderThickness:b.markerBorderThickness?Math.max(1,Math.round(.2*B)):0;"error"===b.type&&this.errorMarkerColor.push(_),h=b.legendText=this.chart.replaceKeywordsWithValue(h,b.dataPoints[0],b,g),T.push(v={markerType:v,markerColor:_,text:h,textBlock:null,chartType:b.type,markerSize:B,lineColor:b._colorSet[0],dataSeriesIndex:b.index,dataPointIndex:null,markerBorderColor:F,markerBorderThickness:P})}else for(var I=0;I<b.dataPoints.length;I++){var w=b.dataPoints[I];v=w.legendMarkerType?w.legendMarkerType:b.legendMarkerType?b.legendMarkerType:pt.getDefaultLegendMarker(b.type),h=w.legendText?w.legendText:b.legendText?b.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:b,dataPoint:w}):w.name?w.name:"DataPoint: "+(I+1),_=w.legendMarkerColor?w.legendMarkerColor:b.legendMarkerColor?b.legendMarkerColor:w.color?w.color:b.color?b.color:b._colorSet[I%b._colorSet.length],B=.75*this.lineHeight,F=w.legendMarkerBorderColor?w.legendMarkerBorderColor:b.legendMarkerBorderColor?b.legendMarkerBorderColor:w.markerBorderColor?w.markerBorderColor:b.markerBorderColor,P=w.legendMarkerBorderThickness?w.legendMarkerBorderThickness:b.legendMarkerBorderThickness?b.legendMarkerBorderThickness:w.markerBorderThickness||b.markerBorderThickness?Math.max(1,Math.round(.2*B)):0,v={markerType:v,markerColor:_,text:h=this.chart.replaceKeywordsWithValue(h,w,b,I),textBlock:null,chartType:b.type,markerSize:B,dataSeriesIndex:g,dataPointIndex:I,markerBorderColor:F,markerBorderThickness:P},(w.showInLegend||b.showInLegend&&!1!==w.showInLegend)&&T.push(v)}W(b.legendText)&&(b.legendText=b.name)}}if(!0===this.reversed&&T.reverse(),0<T.length){for(b=null,h=w=I=0,w=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,p):this.itemMaxWidth=Math.min(this.itemWidth,p):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,p):this.itemMaxWidth=p,w=(this.itemMaxWidth?this.itemMaxWidth:w)-((B=0===B?.75*this.lineHeight:B)+M),g=0;g<T.length;g++)_=w,("line"===(v=T[g]).chartType||"spline"===v.chartType||"stepLine"===v.chartType)&&(_-=.2*this.lineHeight),0>=m||typeof m>"u"||0>=_||typeof _>"u"||("horizontal"===this.orientation?(v.textBlock=new ee(this.ctx,{x:0,y:0,maxWidth:_,maxHeight:this.itemWrap?m:this.lineHeight,angle:0,text:v.text,textAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),v.textBlock.measureText(),null!==this.itemWidth&&(v.textBlock.width=this.itemWidth-(B+M+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0))),(!b||b.width+Math.round(v.textBlock.width+B+M+(0===b.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0))>p)&&(f.push(b={items:[],width:0}),this.height+=h,h=0),h=Math.max(h,v.textBlock.height?v.textBlock.height:this.lineHeight),v.textBlock.x=b.width,v.textBlock.y=0,b.width+=Math.round(v.textBlock.width+B+M+(0===b.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0)),b.items.push(v),this.width=Math.max(b.width,this.width)):(v.textBlock=new ee(this.ctx,{x:0,y:0,maxWidth:w,maxHeight:!0===this.itemWrap?m:1.5*this.fontSize,angle:0,text:v.text,textAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),v.textBlock.measureText(),null!==this.itemWidth&&(v.textBlock.width=this.itemWidth-(B+M+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0))),this.height<m-this.lineHeight?f.push(b={items:[],width:0}):(b=f[I],I=(I+1)%f.length),b&&(this.height+=v.textBlock.height?v.textBlock.height:this.lineHeight,v.textBlock.x=b.width,v.textBlock.y=0,b.width+=Math.round(v.textBlock.width+B+M+(0===b.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0)),b.items.push(v),this.width=Math.max(b.width,this.width))));this.height=!1===this.itemWrap?f.length*this.lineHeight:this.height+h,this.height=Math.min(m,this.height),this.width=Math.min(p,this.width)}for("top"===this.verticalAlign?(l="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,n=d.y1):"center"===this.verticalAlign?(l="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,n=d.y1+d.height/2-this.height/2):"bottom"===this.verticalAlign&&(l="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,n=d.y2-this.height),this.items=T,g=0;g<this.items.length;g++)(v=T[g]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[v.id]={id:v.id,objectType:"legendItem",legendItemIndex:g,dataSeriesIndex:v.dataSeriesIndex,dataPointIndex:v.dataPointIndex};this.markerSize=B,this.rows=f,0<T.length&&t.layoutManager.registerSpace(o,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:l,y1:n,x2:l+this.width,y2:n+this.height}},lt.prototype.render=function(){var t=this.bounds.x1,d=this.bounds.y1,o=this.markerMargin,n=this.maxWidth,l=this.maxHeight,p=this.markerSize,m=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,d,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var M=0,T=0;T<m.length;T++){for(var f=m[T],g=0,b=0;b<f.items.length;b++){var v=f.items[b],h=v.textBlock.x+t+(0===b?.2*p:this.horizontalSpacing),_=d+M,B=h;if(this.chart.data[v.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,d,n,Math.max(l-l%this.lineHeight,0)),this.ctx.clip(),("line"===v.chartType||"stepLine"===v.chartType||"spline"===v.chartType)&&(this.ctx.strokeStyle=v.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(h-.1*this.lineHeight,_+this.lineHeight/2),this.ctx.lineTo(h+.85*this.lineHeight,_+this.lineHeight/2),this.ctx.stroke(),B-=.1*this.lineHeight),"error"===v.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=p/8,this.ctx.beginPath();var F=h-.08*this.lineHeight+.1*this.lineHeight,P=_+.15*this.lineHeight,I=.7*this.lineHeight,w=I+.02*this.lineHeight;this.ctx.moveTo(F,P),this.ctx.lineTo(F+I,P),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(F+I/2,P),this.ctx.lineTo(F+I/2,P+w),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(F,P+w),this.ctx.lineTo(F+I,P+w),this.ctx.stroke(),this.errorMarkerColor.shift()}ue.drawMarker(h+p/2,_+this.lineHeight/2,this.ctx,v.markerType,"error"===v.chartType||"line"===v.chartType||"spline"===v.chartType?v.markerSize/2:v.markerSize,v.markerColor,v.markerBorderColor,v.markerBorderThickness),v.textBlock.x=h+o+p,("line"===v.chartType||"stepLine"===v.chartType||"spline"===v.chartType)&&(v.textBlock.x+=.1*this.lineHeight),v.textBlock.y=Math.round(_+this.lineHeight/2),v.textBlock.render(!0),this.ctx.restore(),g=0<b?Math.max(g,v.textBlock.height?v.textBlock.height:this.lineHeight):v.textBlock.height?v.textBlock.height:this.lineHeight,this.chart.data[v.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),h=zt(v.id),this.ghostCtx.fillStyle=h,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(B,v.textBlock.y-this.lineHeight/2,v.textBlock.x+v.textBlock.width-B,v.textBlock.height?v.textBlock.height:this.lineHeight),v.x1=this.chart._eventManager.objectMap[v.id].x1=B,v.y1=this.chart._eventManager.objectMap[v.id].y1=v.textBlock.y-this.lineHeight/2,v.x2=this.chart._eventManager.objectMap[v.id].x2=v.textBlock.x+v.textBlock.width,v.y2=this.chart._eventManager.objectMap[v.id].y2=v.textBlock.y+(v.textBlock.height?v.textBlock.height:this.lineHeight)-this.lineHeight/2}M+=g}},De(pt,ve),pt.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t||"pyramid"===t?"none":("error"!==t&&window.console.log("Unknown Chart Type: "+t),null)},pt.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t||"funnel"===t||"pyramid"===t?"triangle":"error"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},pt.prototype.getDataPointAtX=function(t,d){if(!this.dataPoints||0===this.dataPoints.length)return null;var o={dataPoint:null,distance:1/0,index:NaN},n=null,l=0,p=0,m=1,M=1/0,T=0,f=0,g=0;for("none"!==this.chart.plotInfo.axisPlacement&&(g=this.axisX.logarithmic?1<(g=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/g*Math.log(t/this.dataPoints[0].x)|0,0),this.dataPoints.length):0:0<(g=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/g*(t-this.dataPoints[0].x)|0,0),this.dataPoints.length):0);;){if(0<=(p=0<m?g+l:g-l)&&p<this.dataPoints.length){n=this.dataPoints[p];var b=this.axisX.logarithmic?n.x>t?n.x/t:t/n.x:Math.abs(n.x-t);if(b<o.distance&&(o.dataPoint=n,o.distance=b,o.index=p),(n=b)<=M?M=n:0<m?T++:f++,1e3<T&&1e3<f)break}else if(0>g-l&&g+l>=this.dataPoints.length)break;-1===m?(l++,m=1):m=-1}return d||(o.dataPoint.x.getTime?o.dataPoint.x.getTime():o.dataPoint.x)!==(t.getTime?t.getTime():t)?d&&null!==o.dataPoint?o:null:o},pt.prototype.getDataPointAtXY=function(t,d,o){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||d<this.chart.plotArea.y1||d>this.chart.plotArea.y2)return null;o=o||!1;var n=[],l=0,p=0,m=1,M=!1,T=1/0,f=0,g=0,v=0;for("none"!==this.chart.plotInfo.axisPlacement&&(v=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:d}),v=this.axisX.logarithmic?1<(b=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/b*Math.log(v/this.dataPoints[0].x)|0,0),this.dataPoints.length):0:0<(b=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/b*(v-this.dataPoints[0].x)|0,0),this.dataPoints.length):0);;){if(0<=(p=0<m?v+l:v-l)&&p<this.dataPoints.length){var b,h=this.dataPoints[p],_=null;if(b=this.chart._eventManager.objectMap[this.dataPointIds[p]]){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=b.x1&&t<=b.x2&&d>=b.y1&&d<=b.y2&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(b.x1-t),Math.abs(b.x2-t),Math.abs(b.y1-d),Math.abs(b.y2-d))}),M=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var B=qt("markerSize",h,this)||4,F=o?20:B;(_=Math.sqrt(Math.pow(b.x1-t,2)+Math.pow(b.y1-d,2)))<=F&&n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:_}),(b=Math.abs(b.x1-t))<=T?T=b:0<m?f++:g++,_<=B/2&&(M=!0);break;case"rangeArea":case"rangeSplineArea":B=qt("markerSize",h,this)||4,F=o?20:B,(_=Math.min(Math.sqrt(Math.pow(b.x1-t,2)+Math.pow(b.y1-d,2)),Math.sqrt(Math.pow(b.x1-t,2)+Math.pow(b.y2-d,2))))<=F&&n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:_}),(b=Math.abs(b.x1-t))<=T?T=b:0<m?f++:g++,_<=B/2&&(M=!0);break;case"bubble":B=b.size,(_=Math.sqrt(Math.pow(b.x1-t,2)+Math.pow(b.y1-d,2)))<=B/2&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:_}),M=!0);break;case"pie":case"doughnut":B=b.center,F="doughnut"===this.type?b.percentInnerRadius*b.radius:0,(_=Math.sqrt(Math.pow(B.x-t,2)+Math.pow(B.y-d,2)))<b.radius&&_>F&&(0>(_=Math.atan2(d-B.y,t-B.x))&&(_+=2*Math.PI),_=Number(((_/Math.PI*180%360+360)%360).toFixed(12)),B=Number(((b.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(F=Number(((b.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<b.endAngle&&(F=360),B>=F&&0!==h.y&&!W(h.y)&&(F+=360,_<B&&(_+=360)),_>B&&_<F&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:0}),M=!0));break;case"funnel":case"pyramid":d>(_=b.funnelSection).y1&&d<_.y4&&(_.y6?d>_.y6?(p=_.x6+(_.x5-_.x6)/(_.y5-_.y6)*(d-_.y6),_=_.x3+(_.x4-_.x3)/(_.y4-_.y3)*(d-_.y3)):(p=_.x1+(_.x6-_.x1)/(_.y6-_.y1)*(d-_.y1),_=_.x2+(_.x3-_.x2)/(_.y3-_.y2)*(d-_.y2)):(p=_.x1+(_.x4-_.x1)/(_.y4-_.y1)*(d-_.y1),_=_.x2+(_.x3-_.x2)/(_.y3-_.y2)*(d-_.y2)),t>p&&t<_&&(n.push({dataPoint:h,dataPointIndex:b.dataPointIndex,dataSeries:this,distance:0}),M=!0));break;case"boxAndWhisker":(t>=b.x1-b.borderThickness/2&&t<=b.x2+b.borderThickness/2&&d>=b.y4-b.borderThickness/2&&d<=b.y1+b.borderThickness/2||Math.abs(b.x2-t+b.x1-t)<b.borderThickness&&d>=b.y1&&d<=b.y4)&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(b.x1-t),Math.abs(b.x2-t),Math.abs(b.y2-d),Math.abs(b.y3-d))}),M=!0);break;case"candlestick":(t>=b.x1-b.borderThickness/2&&t<=b.x2+b.borderThickness/2&&d>=b.y2-b.borderThickness/2&&d<=b.y3+b.borderThickness/2||Math.abs(b.x2-t+b.x1-t)<b.borderThickness&&d>=b.y1&&d<=b.y4)&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(b.x1-t),Math.abs(b.x2-t),Math.abs(b.y2-d),Math.abs(b.y3-d))}),M=!0);break;case"ohlc":(Math.abs(b.x2-t+b.x1-t)<b.borderThickness&&d>=b.y2&&d<=b.y3||t>=b.x1&&t<=(b.x2+b.x1)/2&&d>=b.y1-b.borderThickness/2&&d<=b.y1+b.borderThickness/2||t>=(b.x1+b.x2)/2&&t<=b.x2&&d>=b.y4-b.borderThickness/2&&d<=b.y4+b.borderThickness/2)&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(b.x1-t),Math.abs(b.x2-t),Math.abs(b.y2-d),Math.abs(b.y3-d))}),M=!0)}if(M||1e3<f&&1e3<g)break}}else if(0>v-l&&v+l>=this.dataPoints.length)break;-1===m?(l++,m=1):m=-1}for(t=null,d=0;d<n.length;d++)t?n[d].distance<=t.distance&&(t=n[d]):t=n[d];return t},pt.prototype.getMarkerProperties=function(t,d,o,n){var l=this.dataPoints,p=l[t].markerColor?l[t].markerColor:this.markerColor?this.markerColor:l[t].color?l[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],m=l[t].markerBorderColor?l[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,M=W(l[t].markerBorderThickness)?this.markerBorderThickness?this.markerBorderThickness:null:l[t].markerBorderThickness;return{x:d,y:o,ctx:n,type:l[t].markerType?l[t].markerType:this.markerType,size:t=W(l[t].markerSize)?this.markerSize:l[t].markerSize,color:p,borderColor:m,borderThickness:M}},De(st,ve),st.prototype.createExtraLabelsForLog=function(t){if(!(5<(t=(t||0)+1))){var d=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(d/this.viewportMinimum)<this.noTicks-1){for(var o=st.getNiceNumber((d-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),n=Math.ceil(this.viewportMinimum/o)*o;n<d;n+=o)n<this.viewportMinimum||this.logLabelValues.push(n);this.logLabelValues.sort(vi),this.createExtraLabelsForLog(t)}}},st.prototype.createLabels=function(){var t,d,n,T,g,o=0,m=0,l=0,p=0,M=(m=0,m=this.interval,0),f=.6*this.chart.height;t=!1;var b=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],v=b.length?W(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(n=this.viewportMaximum,this.labels){t=Math.ceil(m);var h=!1;for(o=m=Math.ceil(this.intervalStartPosition);o<this.viewportMaximum;o+=t){if(!this.labels[o]){h=!1;break}h=!0}h&&(this.interval=t,this.intervalStartPosition=m)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),m=0,h=v;m<this.logLabelValues.length;m++)if((o=this.logLabelValues[m])<this.viewportMinimum)m++;else{for(;h<b.length&&o>b[h].endValue;h++);g=o,(t=h<b.length&&o>=b[h].startValue&&o<=b[h].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:g,label:this.labels[g]?this.labels[g]:null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:Be(g,this.valueFormatString,this.chart._cultureInfo),t=new ee(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:p,angle:this.labelAngle,text:this.prefix+t+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:this.labelBorderThickness}),this._labels.push({position:g,textBlock:t,effectiveHeight:null}))}for(h=v,o=this.intervalStartPosition;o<=n;o=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?o*Math.pow(this.logarithmBase,this.interval):o+this.interval:(this.logarithmic&&this.equidistantInterval?o*Math.pow(this.logarithmBase,this.interval):o+this.interval).toFixed(12))){for(;h<b.length&&o>b[h].endValue;h++);g=o,(t=h<b.length&&o>=b[h].startValue&&o<=b[h].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:g,label:this.labels[g]?this.labels[g]:null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:Be(g,this.valueFormatString,this.chart._cultureInfo),t=new ee(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:p,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:g,textBlock:t,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),n=di(new Date(this.viewportMaximum),this.interval,this.intervalType),h=v,o=this.intervalStartPosition;o<n;di(o,m,this.intervalType)){for(t=o.getTime();h<b.length&&t>b[h].endValue;h++);g=t,(t=h<b.length&&t>=b[h].startValue&&t<=b[h].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(g),label:this.labels[g]?this.labels[g]:null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:Ti(g,this.valueFormatString,this.chart._cultureInfo),t=new ee(this.ctx,{x:0,y:0,maxWidth:l,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:p,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:g,textBlock:t,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(M=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Vt[this.intervalType+"Duration"]*this.interval,l=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width|0:this.options.labelMaxWidth,this.chart.panEnabled||(p=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height|0:1.5*this.labelFontSize)):("left"===this._position||"right"===this._position)&&(M=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Vt[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(l=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width|0:this.options.labelMaxWidth),p=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height|0:1.5*this.labelFontSize),m=0;m<this._labels.length;m++){(t=this._labels[m].textBlock).maxWidth=l,t.maxHeight=p;var _=t.measureText();T=_.height}if(n=[],v=b=0,this.labelAutoFit||this.options.labelAutoFit)if(W(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(l=.9*M|0,v=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,o=0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){var B;for(h=(t=this._labels[o].textBlock).text.split(" "),m=0;m<h.length;m++)g=h[m],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,(g=this.ctx.measureText(g)).width>v&&(B=o,v=g.width)}for(o=0,o=this.intervalStartPosition<this.viewportMinimum?1:0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){for(_=(t=this._labels[o].textBlock).measureText(),h=o+1;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){d=(d=this._labels[h].textBlock).measureText();break}if(n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),m=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(p-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),W(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:Math.min((m-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),m),g=(f-(T+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),W(this.options.labelWrap)){if(W(this.options.labelWrap))if(W(this.options.labelMaxWidth)){if(!W(d))if(m=_.width+d.width|0,h=this.labelFontSize,v<l)m-2*l>b&&(b=m-2*l,m>=2*l&&m<2.2*l?(this.sessionVariables.labelMaxWidth=l,W(this.options.labelFontSize)&&12<h&&(h=Math.floor(12/13*h),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):m>=2.2*l&&m<2.8*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelFontSize=h):m>=2.8*l&&m<3.2*l?(this.sessionVariables.labelMaxWidth=Math.max(l,v),this.sessionVariables.labelWrap=!0,W(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):m>=3.2*l&&m<3.6*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelFontSize=this.labelFontSize):m>3.6*l&&m<5*l?(W(this.options.labelFontSize)&&12<h&&(h=Math.floor(12/13*h),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g):m>5*l&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelFontSize=h,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=this.labelAngle));else if(B===o&&(0===B&&v+this._labels[B+1].textBlock.measureText().width-2*l>b||B===this._labels.length-1&&v+this._labels[B-1].textBlock.measureText().width-2*l>b||0<B&&B<this._labels.length-1&&v+this._labels[B+1].textBlock.measureText().width-2*l>b&&v+this._labels[B-1].textBlock.measureText().width-2*l>b))b=0===B?v+this._labels[B+1].textBlock.measureText().width-2*l:v+this._labels[B-1].textBlock.measureText().width-2*l,this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g;else if(0===b)for(this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,m=0;m<this._labels.length;m++)(t=this._labels[m].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),g),_=t.measureText(),m<this._labels.length-1&&((d=this._labels[h=m+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),g),d=d.measureText(),(_.width+d.width|0)>2*l&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<l?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=m):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=p)}else this.labelWrap?W(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),g),this.sessionVariables.labelWrap=this.labelWrap,d&&(_.width+d.width|0)>2*l&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle):W(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=l,d&&(_.width+d.width|0)>2*l&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=g)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:Math.min((m-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),m),g=0!=this.labelAngle?(f-(T+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):l,this.sessionVariables.labelMaxHeight=this.labelWrap?(f-g*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,W(this.options.labelWrap)?W(this.options.labelWrap)&&(this.labelWrap&&!W(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:g,this.sessionVariables.labelMaxHeight=p):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=g,this.sessionVariables.labelMaxHeight=m<.9*M?.9*M:m,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:g):(W(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:g,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=p)}for(m=0;m<this._labels.length;m++)(t=this._labels[m].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(o=0;o<this._labels.length;o++)(t=this._labels[o].textBlock).maxWidth=this.labelMaxWidth=W(this.options.labelMaxWidth)?W(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=l:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=W(this.options.labelFontSize)?W(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=W(this.options.labelAngle)?W(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=W(this.options.labelWrap)?W(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=W(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=p:this.sessionVariables.labelMaxHeight,t.measureText();else if("left"===this._position||"right"===this._position)if(l=W(this.options.labelMaxWidth)?.3*this.chart.width|0:this.options.labelMaxWidth,p=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height|0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=W(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,o=0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){for(_=(t=this._labels[o].textBlock).measureText(),h=o+1;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){d=(d=this._labels[h].textBlock).measureText();break}n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),m=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(p-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),W(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?W(this.options.labelWrap)?W(this.options.labelWrap)&&(W(this.options.labelMaxWidth)?W(d)||(M=_.height+d.height|0)-2*p>v&&(v=M-2*p,M>=2*p&&M<2.4*p?(W(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):M>=2.4*p&&M<2.8*p?(this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):M>=2.8*p&&M<3.2*p?(this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelWrap=!0,W(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=W(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):M>=3.2*p&&M<3.6*p?(this.sessionVariables.labelMaxHeight=m,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):M>3.6*p&&M<10*p?(W(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=W(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):M>10*p&&M<50*p&&(W(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelAngle=W(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap||this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=p):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?l:Math.min((m-p*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),p),W(this.options.labelWrap)?W(this.options.labelWrap)&&(this.labelWrap&&!W(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=m):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:m,W(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:m,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=l):(this.sessionVariables.labelMaxHeight=p,W(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(m=0;m<this._labels.length;m++)(t=this._labels[m].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(W(this.chart.stockChart)||this.chart.isNavigator||(this.sessionVariables.labelMaxHeight=p),o=0;o<this._labels.length;o++)(t=this._labels[o].textBlock).maxWidth=this.labelMaxWidth=W(this.options.labelMaxWidth)?W(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=l:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=W(this.options.labelFontSize)?W(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=W(this.options.labelAngle)?W(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=W(this.options.labelWrap)?W(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=W(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=p:this.sessionVariables.labelMaxHeight,t.measureText();for(o=0;o<this.stripLines.length;o++){var F;"outside"===(l=this.stripLines[o]).labelPlacement?(p=this.sessionVariables.labelMaxWidth,("bottom"===this._position||"top"===this._position)&&(W(l.options.labelWrap)&&!W(this.sessionVariables.stripLineLabelMaxHeight)?F=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=F=l.labelWrap?.8*this.chart.height|0:1.5*this.labelFontSize),("left"===this._position||"right"===this._position)&&(W(l.options.labelWrap)&&!W(this.sessionVariables.stripLineLabelMaxHeight)?F=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=F=l.labelWrap?.8*this.chart.width|0:1.5*this.labelFontSize),W(l.labelBackgroundColor)&&(l.labelBackgroundColor="#EEEEEE")):(p="bottom"===this._position||"top"===this._position?.9*this.chart.width|0:.9*this.chart.height|0,F=W(l.options.labelWrap)||l.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width|0:.8*this.chart.height|0:1.5*this.labelFontSize,W(l.labelBackgroundColor)&&(l.labelBackgroundColor=W(l.startValue)&&0!==l.startValue?j?"transparent":null:"#EEEEEE")),l.labelFontSize="outside"===l.labelPlacement&&W(l.options.labelFontSize)?this.labelFontSize:l.labelFontSize,l.labelFontFamily="outside"===l.labelPlacement&&W(l.options.labelFontFamily)?this.labelFontFamily:l.labelFontFamily,l.labelFontWeight="outside"===l.labelPlacement&&W(l.options.labelFontWeight)?this.labelFontWeight:l.labelFontWeight,l.labelFontStyle="outside"===l.labelPlacement&&W(l.options.labelFontStyle)?this.labelFontStyle:l.labelFontStyle,t=new ee(this.ctx,{x:0,y:0,backgroundColor:l.labelBackgroundColor,borderColor:l.labelBorderColor,borderThickness:l.labelBorderThickness,cornerRadius:l.labelCornerRadius,maxWidth:l.options.labelMaxWidth?l.options.labelMaxWidth:p,maxHeight:F,angle:this.labelAngle,text:l.labelFormatter?l.labelFormatter({chart:this.chart,axis:this,stripLine:l}):l.label,textAlign:l.labelTextAlign,fontSize:l.labelFontSize,fontFamily:l.labelFontFamily,fontWeight:l.labelFontWeight,fontColor:l.labelFontColor||l.color,fontStyle:l.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:l.value,textBlock:t,effectiveHeight:null,stripLine:l})}},st.prototype.createLabelsAndCalculateWidth=function(){var t=0,d=0;this._labels=[],this._stripLineLabels=[];var o=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(d=0;d<this._labels.length;d++){var n=(n=this._labels[d].textBlock).measureText(),l=0;t<(l=0===this.labelAngle?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+n.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(this.labelEffectiveWidth=t=l),this._labels[d].effectiveWidth=l}for(d=0;d<this._stripLineLabels.length;d++)"outside"===this._stripLineLabels[d].stripLine.labelPlacement&&this._stripLineLabels[d].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[d].stripLine.value<=this.viewportMaximum&&(n=(n=this._stripLineLabels[d].textBlock).measureText(),l=0===this.labelAngle?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+n.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),"inside"===this.tickPlacement&&(l+=this.tickLength),"inside"===this.labelPlacement&&(t+=0<this._index?l:0),t<l&&(t=l),this.stripLineLabelEffectiveWidth=this._stripLineLabels[d].effectiveWidth=l)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+("inside"===this.tickPlacement?0<this._index?this.tickLength:0:this.tickLength)+o},st.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var d,o=0,n=this.chart.isNavigator?0:5;if("bottom"===this._position||"top"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(o=0;o<this._labels.length;o++){d=(d=this._labels[o].textBlock).measureText();var l=0;t<(l=0===this.labelAngle?d.height:d.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+d.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(this.labelEffectiveHeight=t=l),this._labels[o].effectiveHeight=l}for(o=0;o<this._stripLineLabels.length;o++)"outside"===this._stripLineLabels[o].stripLine.labelPlacement&&this._stripLineLabels[o].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[o].stripLine.value<=this.viewportMaximum&&(d=(d=this._stripLineLabels[o].textBlock).measureText(),l=0===this.labelAngle?d.height:d.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+d.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),"inside"===this.tickPlacement&&(l+=this.tickLength),"inside"===this.labelPlacement&&(t+=0<this._index?l:0),t<l&&(t=l),this.stripLineLabelEffectiveHeight=this._stripLineLabels[o].effectiveHeight=l)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+("inside"===this.tickPlacement?0<this._index?this.tickLength:0:this.tickLength)+n},st.setLayout=function(t,d,o,n,l,p){var m,M,T,f,g=t[0]?t[0].chart:d[0].chart,b=g.isNavigator?0:10,v=g._axes;if(t&&0<t.length)for(var h=0;h<t.length;h++)t[h]&&t[h].calculateAxisParameters();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateAxisParameters();if(o&&0<o.length)for(h=0;h<o.length;h++)o[h].calculateAxisParameters();if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].calculateAxisParameters();for(h=0;h<v.length;h++)if(v[h]&&v[h].scaleBreaks&&v[h].scaleBreaks._appliedBreaks.length)for(var _=v[h].scaleBreaks._appliedBreaks,B=0;B<_.length&&!(_[B].startValue>v[h].viewportMaximum);B++)_[B].endValue<v[h].viewportMinimum||(W(v[h].scaleBreaks.firstBreakIndex)&&(v[h].scaleBreaks.firstBreakIndex=B),_[B].startValue>=v[h].viewPortMinimum&&(v[h].scaleBreaks.lastBreakIndex=B));var z,et,$,Q,Z,F=B=0,P=0,I=0,w=0,Y=0,N=0,dt=M=0;for(_=$=Q=Z=!1,h=0;h<v.length;h++)v[h]&&v[h].title&&(v[h]._titleTextBlock=new ee(v[h].ctx,{text:v[h].title,fontSize:v[h].titleFontSize,fontFamily:v[h].titleFontFamily,fontWeight:v[h].titleFontWeight,fontColor:v[h].titleFontColor,fontStyle:v[h].titleFontStyle,borderColor:v[h].titleBorderColor,borderThickness:v[h].titleBorderThickness,backgroundColor:v[h].titleBackgroundColor,cornerRadius:v[h].titleCornerRadius,textBaseline:"middle",textAlign:v[h].titleTextAlign}));for(h=0;h<v.length;h++)if(v[h].title)switch(v[h]._position){case"left":v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.height,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.width:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=-90;break;case"right":v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.height,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.width:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=90;break;default:v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.width,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.height:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=0}if("normal"===l){I=[],w=[],Y=[],N=[];for(var J=[],X=[],q=[],ht=[];4>B;){var R=0,Ht=0,Jt=0,re=0,se=l=0,At=0,we=0,te=0,Gt=0,Bt=0,Pe=0;if(o&&0<o.length)for(Y=[],h=Bt=0;h<o.length;h++)Y.push(Math.ceil(o[h]?o[h].createLabelsAndCalculateWidth():0)),Bt+=Y[h],At+=o[h]&&!g.isNavigator?o[h].margin:0;else Y.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateWidth():0));if(q.push(Y),n&&0<n.length)for(N=[],h=Pe=0;h<n.length;h++)N.push(Math.ceil(n[h]?n[h].createLabelsAndCalculateWidth():0)),Pe+=N[h],we+=n[h]?n[h].margin:0;else N.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(ht.push(N),m=Math.round(p.x1+Bt+At),T=Math.round(p.x2-Pe-we>g.width-b?g.width-b:p.x2-Pe-we),t&&0<t.length)for(I=[],h=te=0;h<t.length;h++)t[h]&&(t[h].lineCoordinates={}),t[h].lineCoordinates.width=Math.abs(T-m),t[h].title&&(t[h]._titleTextBlock.maxWidth=0<t[h].titleMaxWidth&&t[h].titleMaxWidth<t[h].lineCoordinates.width?t[h].titleMaxWidth:t[h].lineCoordinates.width),I.push(Math.ceil(t[h]?t[h].createLabelsAndCalculateHeight():0)),te+=I[h],l+=t[h]&&!g.isNavigator?t[h].margin:0;else I.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(J.push(I),d&&0<d.length)for(w=[],h=Gt=0;h<d.length;h++)d[h]&&(d[h].lineCoordinates={}),d[h].lineCoordinates.width=Math.abs(T-m),d[h].title&&(d[h]._titleTextBlock.maxWidth=0<d[h].titleMaxWidth&&d[h].titleMaxWidth<d[h].lineCoordinates.width?d[h].titleMaxWidth:d[h].lineCoordinates.width),w.push(Math.ceil(d[h]?d[h].createLabelsAndCalculateHeight():0)),Gt+=w[h],se+=d[h]&&!g.isNavigator?d[h].margin:0;else w.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateHeight():0));if(X.push(w),t&&0<t.length)for(h=0;h<t.length;h++)t[h]&&(t[h].lineCoordinates.x1=m,T=Math.round(p.x2-Pe-we>g.width-b?g.width-b:p.x2-Pe-we),t[h]._labels&&1<t[h]._labels.length&&(M=f=0,M="dateTime"===t[h].valueType?t[h]._labels[t[h]._labels.length-2]:t[h]._labels[t[h]._labels.length-1],F=(f=t[h]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),P=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle))),!t[h]||!t[h].labelAutoFit||W(z)||W(et)||g.isNavigator||g.stockChart||(M=0,0<t[h].labelAngle?et+P>T&&(M+=0<t[h].labelAngle?et+P-T-Pe:0):0>t[h].labelAngle?z-F<m&&z-F<t[h].viewportMinimum&&(dt=m-(At+t[h].tickLength+Y+z-F+t[h].labelFontSize/2)):0===t[h].labelAngle&&(et+P>T&&(M=et+P/2-T-Pe),z-F<m&&z-F<t[h].viewportMinimum&&(dt=m-At-t[h].tickLength-Y-z+F/2)),t[h].viewportMaximum===t[h].maximum&&t[h].viewportMinimum===t[h].minimum&&0<t[h].labelAngle&&0<M?T-=M:t[h].viewportMaximum===t[h].maximum&&t[h].viewportMinimum===t[h].minimum&&0>t[h].labelAngle&&0<dt?m+=dt:t[h].viewportMaximum===t[h].maximum&&t[h].viewportMinimum===t[h].minimum&&0===t[h].labelAngle&&(0<dt&&(m+=dt),0<M&&(T-=M))),g.panEnabled?te=W(g.sessionVariables.axisX.height)||g.stockChart?g.sessionVariables.axisX.height=te:g.sessionVariables.axisX.height:g.sessionVariables.axisX.height=te,M=Math.round(p.y2-te-l+R),f=Math.round(p.y2),t[h].lineCoordinates.x2=T,t[h].lineCoordinates.width=T-m,t[h].lineCoordinates.y1=M,t[h].lineCoordinates.y2=M,"inside"===t[h].labelPlacement&&0<h&&(t[h].lineCoordinates.y1=t[0].lineCoordinates.y2+R+(t[h].labelEffectiveHeight||0),t[h].lineCoordinates.y2=t[h].lineCoordinates.y1+t[h].lineThickness/2),"inside"===t[h].tickPlacement&&0<h&&(t[h].lineCoordinates.y1+=t[h].tickLength,t[h].lineCoordinates.y2=t[h].lineCoordinates.y1+t[h].lineThickness/2),t[h].bounds={x1:m,y1:M,x2:T,y2:f-(te+l-I[h]-R),width:T-m},t[h].bounds.height=t[h].bounds.y2-t[h].bounds.y1),R+=I[h]+t[h].margin;if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].lineCoordinates.x1=Math.round(p.x1+Bt+At),d[h].lineCoordinates.x2=Math.round(p.x2-Pe-we>g.width-b?g.width-b:p.x2-Pe-we),d[h].lineCoordinates.width=Math.abs(T-m),d[h]._labels&&1<d[h]._labels.length&&(M="dateTime"===d[h].valueType?d[h]._labels[d[h]._labels.length-2]:d[h]._labels[d[h]._labels.length-1],F=(f=d[h]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),P=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle))),g.panEnabled?Gt=W(g.sessionVariables.axisX2.height)||g.stockChart?g.sessionVariables.axisX2.height=Gt:g.sessionVariables.axisX2.height:g.sessionVariables.axisX2.height=Gt,M=Math.round(p.y1),f=d[h].lineCoordinates.y1=M+Gt+se-Ht,d[h].lineCoordinates.y2=M,"inside"===d[h].labelPlacement&&0<h&&(d[h].lineCoordinates.y1=d[0].lineCoordinates.y1-Ht-(d[h].labelEffectiveHeight||0)-5),"inside"===d[h].tickPlacement&&0<h&&(d[h].lineCoordinates.y1-=d[h].tickLength),d[h].bounds={x1:m,y1:M+(Gt+se-("inside"===d[h].labelPlacement&&0===h?w[h]-5:w[h])-Ht),x2:T,y2:f,width:T-m},d[h].bounds.height=d[h].bounds.y2-d[h].bounds.y1,Ht+=("inside"===d[h].labelPlacement&&0===h?w[h]-5:w[h])+d[h].margin;if(o&&0<o.length)for(h=0;h<o.length;h++)At=g.isNavigator?0:10,o[h]&&(m=Math.round(t[0]?t[0].lineCoordinates.x1:d[0].lineCoordinates.x1),At=o[h]._labels&&0<o[h]._labels.length?o[h]._labels[o[h]._labels.length-1].textBlock.height/2:b,M=Math.round(p.y1+Gt+se<Math.max(At,b)?Math.max(At,b):p.y1+Gt+se),T=Math.round(t[0]?t[0].lineCoordinates.x1:d[0].lineCoordinates.x1),At=0<t.length?0:o[h]._labels&&0<o[h]._labels.length?o[h]._labels[0].textBlock.height/2:b,f=Math.round(p.y2-te-l-At),o[h].lineCoordinates={x1:m-Jt,y1:M,x2:T-Jt,y2:f,height:Math.abs(f-M)},"inside"===o[h].labelPlacement&&0<h&&(o[h].lineCoordinates.x1=o[0].lineCoordinates.x1-Jt-(o[h].labelEffectiveWidth||0)-5,o[h].lineCoordinates.x2=o[h].lineCoordinates.x1+o[h].lineThickness/2),"inside"===o[h].tickPlacement&&0<h&&(o[h].lineCoordinates.x1-=o[h].tickLength,o[h].lineCoordinates.x2=o[h].lineCoordinates.x1+o[h].lineThickness/2),o[h].bounds={x1:m-(("inside"===o[h].labelPlacement&&0===h?Y[h]-5:Y[h])+Jt),y1:M,x2:T-Jt,y2:f,height:f-M},o[h].bounds.width=o[h].bounds.x2-o[h].bounds.x1,o[h].title&&(o[h]._titleTextBlock.maxWidth=0<o[h].titleMaxWidth&&o[h].titleMaxWidth<o[h].lineCoordinates.height?o[h].titleMaxWidth:o[h].lineCoordinates.height),Jt+=("inside"===o[h].labelPlacement&&0===h?Y[h]-5:Y[h])+o[h].margin);if(n&&0<n.length)for(h=0;h<n.length;h++)n[h]&&(m=Math.round(t[0]?t[0].lineCoordinates.x2:d[0].lineCoordinates.x2),T=Math.round(m),At=n[h]._labels&&0<n[h]._labels.length?n[h]._labels[n[h]._labels.length-1].textBlock.height/2:0,M=Math.round(p.y1+Gt+se<Math.max(At,b)?Math.max(At,b):p.y1+Gt+se),At=0<t.length?0:n[h]._labels&&0<n[h]._labels.length?n[h]._labels[0].textBlock.height/2:0,f=Math.round(p.y2-(te+l+At)),n[h].lineCoordinates={x1:m+re,y1:M,x2:m+re,y2:f,height:Math.abs(f-M)},"inside"===n[h].labelPlacement&&0<h&&(n[h].lineCoordinates.x1=n[0].lineCoordinates.x2+re+(n[h].labelEffectiveWidth||0)+5,n[h].lineCoordinates.x2=n[h].lineCoordinates.x1+n[h].lineThickness/2),"inside"===n[h].tickPlacement&&0<h&&(n[h].lineCoordinates.x1+=n[h].tickLength,n[h].lineCoordinates.x2=n[h].lineCoordinates.x1+n[h].lineThickness/2),n[h].bounds={x1:m+re,y1:M,x2:T+(("inside"===n[h].labelPlacement&&0===h?N[h]-5:N[h])+re),y2:f,height:f-M},n[h].bounds.width=n[h].bounds.x2-n[h].bounds.x1,n[h].title&&(n[h]._titleTextBlock.maxWidth=0<n[h].titleMaxWidth&&n[h].titleMaxWidth<n[h].lineCoordinates.height?n[h].titleMaxWidth:n[h].lineCoordinates.height),re+=("inside"===n[h].labelPlacement&&0===h?N[h]-5:N[h])+n[h].margin);if(t&&0<t.length)for(h=0;h<t.length;h++)t[h]&&(t[h].calculateValueToPixelConversionParameters(),t[h].calculateBreaksSizeInValues(),t[h]._labels&&1<t[h]._labels.length&&(z=(t[h].logarithmic?Math.log(t[h]._labels[1].position/t[h].viewportMinimum)/t[h].conversionParameters.lnLogarithmBase:t[h]._labels[1].position-t[h].viewportMinimum)*Math.abs(t[h].conversionParameters.pixelPerUnit)+t[h].lineCoordinates.x1,m=t[h].getApparentDifference(t[h].viewportMinimum,m=t[h]._labels[t[h]._labels.length-("dateTime"===t[h].valueType?2:1)].position),et=t[h].logarithmic?(1<m?Math.log(m)/t[h].conversionParameters.lnLogarithmBase*Math.abs(t[h].conversionParameters.pixelPerUnit):0)+t[h].lineCoordinates.x1:(0<m?m*Math.abs(t[h].conversionParameters.pixelPerUnit):0)+t[h].lineCoordinates.x1));if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateValueToPixelConversionParameters(),d[h].calculateBreaksSizeInValues(),d[h]._labels&&1<d[h]._labels.length&&(z=(d[h].logarithmic?Math.log(d[h]._labels[1].position/d[h].viewportMinimum)/d[h].conversionParameters.lnLogarithmBase:d[h]._labels[1].position-d[h].viewportMinimum)*Math.abs(d[h].conversionParameters.pixelPerUnit)+d[h].lineCoordinates.x1,m=d[h].getApparentDifference(d[h].viewportMinimum,m=d[h]._labels[d[h]._labels.length-("dateTime"===d[h].valueType?2:1)].position),et=d[h].logarithmic?(1<m?Math.log(m)/d[h].conversionParameters.lnLogarithmBase*Math.abs(d[h].conversionParameters.pixelPerUnit):0)+d[h].lineCoordinates.x1:(0<m?m*Math.abs(d[h].conversionParameters.pixelPerUnit):0)+d[h].lineCoordinates.x1);for(h=0;h<v.length;h++)"axisY"===v[h].type&&(v[h].calculateValueToPixelConversionParameters(),v[h].calculateBreaksSizeInValues());if(0<B){if(t&&0<t.length)for(h=0;h<t.length;h++)_=J[B-1][h]===J[B][h];else _=!0;if(d&&0<d.length)for(h=0;h<d.length;h++)$=X[B-1][h]===X[B][h];else $=!0;if(o&&0<o.length)for(h=0;h<o.length;h++)Q=q[B-1][h]===q[B][h];else Q=!0;if(n&&0<n.length)for(h=0;h<n.length;h++)Z=ht[B-1][h]===ht[B][h];else Z=!0}if(_&&$&&Q&&Z)break;B++}if(t&&0<t.length)for(h=0;h<t.length;h++)t[h].calculateStripLinesThicknessInValues(),t[h].calculateBreaksInPixels();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateStripLinesThicknessInValues(),d[h].calculateBreaksInPixels();if(o&&0<o.length)for(h=0;h<o.length;h++)o[h].calculateStripLinesThicknessInValues(),o[h].calculateBreaksInPixels();if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].calculateStripLinesThicknessInValues(),n[h].calculateBreaksInPixels()}else{for(b=[],z=[],dt=[],F=[],et=[],P=[],J=[],X=[];4>B;){if(te=re=Jt=we=At=se=l=ht=q=R=Gt=0,t&&0<t.length)for(dt=[],h=re=0;h<t.length;h++)dt.push(Math.ceil(t[h]?t[h].createLabelsAndCalculateWidth():0)),re+=dt[h],l+=t[h]&&!g.isNavigator?t[h].margin:0;else dt.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(J.push(dt),d&&0<d.length)for(F=[],h=te=0;h<d.length;h++)F.push(Math.ceil(d[h]?d[h].createLabelsAndCalculateWidth():0)),te+=F[h],se+=d[h]?d[h].margin:0;else F.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateWidth():0));if(X.push(F),o&&0<o.length)for(h=0;h<o.length;h++)o[h].lineCoordinates={},m=Math.round(p.x1+re+l),T=Math.round(p.x2-te-se>g.width-10?g.width-10:p.x2-te-se),o[h].labelAutoFit&&!W(I)&&(0<!t.length&&(m=0>o[h].labelAngle?Math.max(m,I):0===o[h].labelAngle?Math.max(m,I/2):m),0<!d.length&&(T=0<o[h].labelAngle||0===o[h].labelAngle?T-w/2:T)),o[h].lineCoordinates.x1=m,o[h].lineCoordinates.x2=T,o[h].lineCoordinates.width=Math.abs(T-m),o[h].title&&(o[h]._titleTextBlock.maxWidth=0<o[h].titleMaxWidth&&o[h].titleMaxWidth<o[h].lineCoordinates.width?o[h].titleMaxWidth:o[h].lineCoordinates.width);if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].lineCoordinates={},m=Math.round(p.x1+re+l),T=Math.round(p.x2-te-se>n[h].chart.width-10?n[h].chart.width-10:p.x2-te-se),n[h]&&n[h].labelAutoFit&&!W(Y)&&(0<!t.length&&(m=0<n[h].labelAngle?Math.max(m,Y):0===n[h].labelAngle?Math.max(m,Y/2):m),0<!d.length&&(T-=N/2)),n[h].lineCoordinates.x1=m,n[h].lineCoordinates.x2=T,n[h].lineCoordinates.width=Math.abs(T-m),n[h].title&&(n[h]._titleTextBlock.maxWidth=0<n[h].titleMaxWidth&&n[h].titleMaxWidth<n[h].lineCoordinates.width?n[h].titleMaxWidth:n[h].lineCoordinates.width);if(o&&0<o.length)for(b=[],h=Jt=0;h<o.length;h++)b.push(Math.ceil(o[h]?o[h].createLabelsAndCalculateHeight():0)),Jt+=b[h]+o[h].margin,At+=o[h].margin;else b.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateHeight():0));if(et.push(b),n&&0<n.length)for(z=[],h=0;h<n.length;h++)z.push(Math.ceil(n[h]?n[h].createLabelsAndCalculateHeight():0)),we+=n[h].margin;else z.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(P.push(z),o&&0<o.length)for(h=0;h<o.length;h++)0<o[h]._labels.length&&(M=o[h]._labels[o[h]._labels.length-1],I=(f=o[h]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),w=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)));if(n&&0<n.length)for(h=0;h<n.length;h++)n[h]&&0<n[h]._labels.length&&(M=n[h]._labels[n[h]._labels.length-1],Y=(f=n[h]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),N=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)));if(g.panEnabled)for(h=0;h<o.length;h++)b[h]=W(g.sessionVariables.axisY[h].height)?g.sessionVariables.axisY[h].height=b[h]:g.sessionVariables.axisY[h].height;else for(h=0;h<o.length;h++)g.sessionVariables.axisY[h].height=b[h];if(o&&0<o.length)for(h=o.length-1;0<=h;h--)M=Math.round(p.y2),f=Math.round(p.y2>o[h].chart.height?o[h].chart.height:p.y2),o[h].lineCoordinates.y1=M-(b[h]+o[h].margin+Gt),o[h].lineCoordinates.y2=M-(b[h]+o[h].margin+Gt),"inside"===o[h].labelPlacement&&0<h&&(o[h].lineCoordinates.y1=o[h].lineCoordinates.y1+b[h]-(o[h]._titleTextBlock?o[h]._titleTextBlock.height:0)-o[h].tickLength-(o[h].stripLineLabelEffectiveHeight||0)-5,o[h].lineCoordinates.y2=o[h].lineCoordinates.y1+o[h].lineThickness/2),"inside"===o[h].tickPlacement&&0<h&&(o[h].lineCoordinates.y1+=o[h].tickLength,o[h].lineCoordinates.y2=o[h].lineCoordinates.y1+o[h].lineThickness/2),o[h].bounds={x1:m,y1:M-(b[h]+Gt+o[h].margin),x2:T,y2:f-(Gt+o[h].margin),width:T-m,height:b[h]},o[h].title&&(o[h]._titleTextBlock.maxWidth=0<o[h].titleMaxWidth&&o[h].titleMaxWidth<o[h].lineCoordinates.width?o[h].titleMaxWidth:o[h].lineCoordinates.width),Gt+=b[h]+o[h].margin;if(n&&0<n.length)for(h=n.length-1;0<=h;h--)n[h]&&(M=Math.round(p.y1),f=Math.round(p.y1+(z[h]+n[h].margin+R)),n[h].lineCoordinates.y1=f,n[h].lineCoordinates.y2=f,"inside"===n[h].labelPlacement&&0<h&&(n[h].lineCoordinates.y1=f-z[h]+(n[h]._titleTextBlock?n[h]._titleTextBlock.height:0)+n[h].tickLength+(n[h].stripLineLabelEffectiveHeight||0),n[h].lineCoordinates.y2=n[h].lineCoordinates.y1-n[h].lineThickness/2),"inside"===n[h].tickPlacement&&0<h&&(n[h].lineCoordinates.y1-=n[h].tickLength,n[h].lineCoordinates.y2=n[h].lineCoordinates.y1-n[h].lineThickness/2),n[h].bounds={x1:m,y1:M+(n[h].margin+R),x2:T,y2:f,width:T-m},n[h].bounds.height=n[h].bounds.y2-n[h].bounds.y1,n[h].title&&(n[h]._titleTextBlock.maxWidth=0<n[h].titleMaxWidth&&n[h].titleMaxWidth<n[h].lineCoordinates.width?n[h].titleMaxWidth:n[h].lineCoordinates.width),R+=z[h]+n[h].margin);if(t&&0<t.length)for(h=0;h<t.length;h++){if(At=t[h]._labels&&0<t[h]._labels.length?t[h]._labels[0].textBlock.fontSize/2:0,m=Math.round(p.x1+l),M=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y2:p.y1<Math.max(At,10)?Math.max(At,10):p.y1):p.y1<Math.max(At,10)?Math.max(At,10):p.y1,T=Math.round(p.x1+re+l),f=o&&0<o.length?Math.round(o[0]?o[0].lineCoordinates.y1:p.y2-Jt>g.height-Math.max(At,10)?g.height-Math.max(At,10):p.y2-Jt):p.y2>g.height-Math.max(At,10)?g.height-Math.max(At,10):p.y2,o&&0<o.length)for(At=0;At<o.length;At++)o[At]&&o[At].labelAutoFit&&(T=o[At].lineCoordinates.x1,m=0>o[At].labelAngle||0===o[At].labelAngle?T-re:m);if(n&&0<n.length)for(At=0;At<n.length;At++)n[At]&&n[At].labelAutoFit&&(m=(T=n[At].lineCoordinates.x1)-re);t[h].lineCoordinates={x1:T-q,y1:M,x2:T-q,y2:f,height:Math.abs(f-M)},"inside"===t[h].labelPlacement&&0<h&&(t[h].lineCoordinates.x1=t[h].lineCoordinates.x1-(dt[h]-(t[h]._titleTextBlock?t[h]._titleTextBlock.height:0))+t[h].tickLength+(t[h].stripLineLabelEffectiveWidth||0),t[h].lineCoordinates.x2=t[h].lineCoordinates.x1+t[h].lineThickness/2),"inside"===t[h].tickPlacement&&0<h&&(t[h].lineCoordinates.x1-=t[h].tickLength,t[h].lineCoordinates.x2=t[h].lineCoordinates.x1+t[h].lineThickness/2),t[h].bounds={x1:T-(dt[h]+q),y1:M,x2:T-q,y2:f,height:f-M},t[h].bounds.width=t[h].bounds.x2-t[h].bounds.x1,t[h].title&&(t[h]._titleTextBlock.maxWidth=0<t[h].titleMaxWidth&&t[h].titleMaxWidth<t[h].lineCoordinates.height?t[h].titleMaxWidth:t[h].lineCoordinates.height),t[h].calculateValueToPixelConversionParameters(),t[h].calculateBreaksSizeInValues(),q+=dt[h]+t[h].margin}if(d&&0<d.length)for(h=0;h<d.length;h++){if(At=d[h]._labels&&0<d[h]._labels.length?d[h]._labels[0].textBlock.fontSize/2:0,m=Math.round(p.x1-l),M=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y2:p.y1<Math.max(At,10)?Math.max(At,10):p.y1):p.y1<Math.max(At,10)?Math.max(At,10):p.y1,T=Math.round(p.x2-te-se),f=o&&0<o.length?Math.round(o[0]?o[0].lineCoordinates.y1:p.y2-Jt>g.height-Math.max(At,10)?g.height-Math.max(At,10):p.y2-Jt):p.y2>g.height-Math.max(At,10)?g.height-Math.max(At,10):p.y2,o&&0<o.length)for(At=0;At<o.length;At++)o[At]&&o[At].labelAutoFit&&(T=0>o[At].labelAngle?Math.max(T,I):0===o[At].labelAngle?Math.max(T,I/2):T,m=0>o[At].labelAngle||0===o[At].labelAngle?T-te:m);if(n&&0<n.length)for(At=0;At<n.length;At++)n[At]&&n[At].labelAutoFit&&(m=(T=n[At].lineCoordinates.x2)-te);d[h].lineCoordinates={x1:T+ht,y1:M,x2:T+ht,y2:f,height:Math.abs(f-M)},"inside"===d[h].labelPlacement&&0<h&&(d[h].lineCoordinates.x1=d[h].lineCoordinates.x1+(F[h]-(d[h]._titleTextBlock?d[h]._titleTextBlock.height:0)-2)-d[h].tickLength-(d[h].stripLineLabelEffectiveWidth||0),d[h].lineCoordinates.x2=d[h].lineCoordinates.x1+d[h].lineThickness/2),"inside"===d[h].tickPlacement&&0<h&&(d[h].lineCoordinates.x1+=d[h].tickLength,d[h].lineCoordinates.x2=d[h].lineCoordinates.x1+d[h].lineThickness/2),d[h].bounds={x1:d[h].lineCoordinates.x1,y1:M,x2:T+F[h]+ht,y2:f,width:T-m,height:f-M},d[h].bounds.width=d[h].bounds.x2-d[h].bounds.x1,d[h].title&&(d[h]._titleTextBlock.maxWidth=0<d[h].titleMaxWidth&&d[h].titleMaxWidth<d[h].lineCoordinates.height?d[h].titleMaxWidth:d[h].lineCoordinates.height),d[h].calculateValueToPixelConversionParameters(),d[h].calculateBreaksSizeInValues(),ht+=F[h]+d[h].margin}for(h=0;h<v.length;h++)"axisY"===v[h].type&&(v[h].calculateValueToPixelConversionParameters(),v[h].calculateBreaksSizeInValues());if(0<B){if(t&&0<t.length)for(h=0;h<t.length;h++)_=J[B-1][h]===J[B][h];else _=!0;if(d&&0<d.length)for(h=0;h<d.length;h++)$=X[B-1][h]===X[B][h];else $=!0;if(o&&0<o.length)for(h=0;h<o.length;h++)Q=et[B-1][h]===et[B][h];else Q=!0;if(n&&0<n.length)for(h=0;h<n.length;h++)Z=P[B-1][h]===P[B][h];else Z=!0}if(_&&$&&Q&&Z)break;B++}if(o&&0<o.length)for(h=0;h<o.length;h++)o[h].calculateStripLinesThicknessInValues(),o[h].calculateBreaksInPixels();if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].calculateStripLinesThicknessInValues(),n[h].calculateBreaksInPixels();if(t&&0<t.length)for(h=0;h<t.length;h++)t[h].calculateStripLinesThicknessInValues(),t[h].calculateBreaksInPixels();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateStripLinesThicknessInValues(),d[h].calculateBreaksInPixels()}},st.render=function(t,d,o,n,l){var p=(l=t[0]?t[0].chart:d[0].chart).ctx;if(l.alignVerticalAxes&&l.alignVerticalAxes(),p.save(),p.beginPath(),t&&t.length&&p.rect(2,t[0].bounds.y1,t[0].chart.width-4,t[t.length-1].bounds.y2),d&&d.length&&p.rect(2,d[d.length-1].bounds.y1,d[0].chart.width-4,d[0].bounds.y2),p.clip(),t&&0<t.length)for(var m=0;m<t.length;m++)t[m].renderLabelsTicksAndTitle();if(d&&0<d.length)for(m=0;m<d.length;m++)d[m].renderLabelsTicksAndTitle();if(p.restore(),o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderLabelsTicksAndTitle();if(n&&0<n.length)for(m=0;m<n.length;m++)n[m].renderLabelsTicksAndTitle();if(l.preparePlotArea(),m=l.plotArea,p.save(),p.beginPath(),p.rect(m.x1,m.y1,Math.abs(m.x2-m.x1),Math.abs(m.y2-m.y1)),p.clip(),t&&0<t.length)for(m=0;m<t.length;m++)t[m].renderStripLinesOfThicknessType("value");if(d&&0<d.length)for(m=0;m<d.length;m++)d[m].renderStripLinesOfThicknessType("value");if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(m=0;m<n.length;m++)n[m].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(m=0;m<t.length;m++)t[m].renderInterlacedColors();if(d&&0<d.length)for(m=0;m<d.length;m++)d[m].renderInterlacedColors();if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderInterlacedColors();if(n&&0<n.length)for(m=0;m<n.length;m++)n[m].renderInterlacedColors();if(p.restore(),t&&0<t.length)for(m=0;m<t.length;m++)t[m].renderGrid(),j&&(t[m].createMask(),t[m].renderBreaksBackground());if(d&&0<d.length)for(m=0;m<d.length;m++)d[m].renderGrid(),j&&(d[m].createMask(),d[m].renderBreaksBackground());if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderGrid(),j&&(o[m].createMask(),o[m].renderBreaksBackground());if(n&&0<n.length)for(m=0;m<n.length;m++)n[m].renderGrid(),j&&(n[m].createMask(),n[m].renderBreaksBackground());if(t&&0<t.length)for(m=0;m<t.length;m++)t[m].renderAxisLine();if(d&&0<d.length)for(m=0;m<d.length;m++)d[m].renderAxisLine();if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderAxisLine();if(n&&0<n.length)for(m=0;m<n.length;m++)n[m].renderAxisLine();if(p=!1,t&&0<t.length)for(m=0;m<t.length;m++)t[m].renderStripLinesOfThicknessType("pixel"),t[m].crosshair&&t[m].crosshair.enabled&&(p=!0,l.clearedOverlayedCanvas=t[m].type);if(d&&0<d.length)for(m=0;m<d.length;m++)d[m].renderStripLinesOfThicknessType("pixel"),d[m].crosshair&&d[m].crosshair.enabled&&(p=!0,l.clearedOverlayedCanvas=d[m].type);if(o&&0<o.length)for(m=0;m<o.length;m++)o[m].renderStripLinesOfThicknessType("pixel"),o[m].crosshair&&o[m].crosshair.enabled&&(p=!0,l.clearedOverlayedCanvas=o[m].type);if(n&&0<n.length)for(m=0;m<n.length;m++)n[m].renderStripLinesOfThicknessType("pixel"),n[m].crosshair&&n[m].crosshair.enabled&&(p=!0,l.clearedOverlayedCanvas=n[m].type);p&&(l.resetOverlayedCanvas(),l.renderCrosshairs())},st.prototype.calculateStripLinesThicknessInValues=function(){for(var t=0;t<this.stripLines.length;t++)if(null!==this.stripLines[t].startValue&&null!==this.stripLines[t].endValue){var d=Math.min(this.stripLines[t].startValue,this.stripLines[t].endValue),o=Math.max(this.stripLines[t].startValue,this.stripLines[t].endValue),n=this.getApparentDifference(d,o);this.stripLines[t].value=this.convertPixelToValue(Math.abs(this.convertValueToPixel(d)+this.convertValueToPixel(o))/2),this.stripLines[t].thickness=n,this.stripLines[t]._thicknessType="value"}},st.prototype.calculateBreaksSizeInValues=function(){for(var l,t="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,d=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],o=this.conversionParameters.pixelPerUnit||t/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),n=this.scaleBreaks&&!W(this.scaleBreaks.options.spacing),p=0;p<d.length;p++)l=n||!W(d[p].options.spacing),d[p].spacing=0|Oi(d[p].spacing,t,8,l?.1*t:8,l?0:3),d[p].size=0>d[p].spacing?0:Math.abs(d[p].spacing/o),this.logarithmic&&(d[p].size=Math.pow(this.logarithmBase,d[p].size))},st.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var d=0;d<t.length&&!(t[d].startValue>this.conversionParameters.maximum);d++)t[d].endValue<this.conversionParameters.minimum||(W(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=d),t[d].startValue>=this.conversionParameters.minimum&&(t[d].startPixel=this.convertValueToPixel(t[d].startValue),this.scaleBreaks.lastBreakIndex=d),t[d].endValue<=this.conversionParameters.maximum&&(t[d].endPixel=this.convertValueToPixel(t[d].endValue)))}},st.prototype.renderLabelsTicksAndTitle=function(){var b,v,t=this,d=!1,o=0,n=0,l=1,p=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(l=1.2),typeof this.options.interval>"u"){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){o=[],l=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var m,M=this.viewportMaximum,T=this.lineCoordinates.width/Math.log(this.range),g=this._labels.length-1;0<=g&&!((b=this._labels[g]).position<this.viewportMinimum);g--)b.position>this.viewportMaximum||!(g===this._labels.length-1||m<Math.log(M/b.position)*T/l)||(o.push(b),M=b.position,m=b.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=o}else{for(g=0;g<this._labels.length;g++)(b=this._labels[g]).position<this.viewportMinimum||(o+=m=b.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));o>this.lineCoordinates.width*l&&this.labelAutoFit&&(d=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var f;for(o=[],M=this.viewportMaximum,T=this.lineCoordinates.height/Math.log(this.range),g=this._labels.length-1;0<=g&&!((b=this._labels[g]).position<this.viewportMinimum);g--)b.position>this.viewportMaximum||!(g===this._labels.length-1||f<Math.log(M/b.position)*T)||(o.push(b),M=b.position,f=b.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=o}else{for(g=0;g<this._labels.length;g++)(b=this._labels[g]).position<this.viewportMinimum||(n+=f=b.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));n>this.lineCoordinates.height*l&&this.labelAutoFit&&(d=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(h,_){return h.position-_.position}),g=0,"bottom"===this._position){for(g=0;g<this._labels.length;g++)(b=this._labels[g]).position<this.viewportMinimum||b.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x,this.ctx.beginPath(),this.ctx.moveTo(n,0|v.y),this.ctx.lineTo(n,v.y+this.tickLength|0),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===b.textBlock.angle?(v.x-=b.textBlock.width/2,v.y="inside"===this.labelPlacement?v.y-(("inside"===this.tickPlacement?this.tickLength:0)+b.textBlock.height-b.textBlock.fontSize/2):v.y+("inside"===this.tickPlacement?0:this.tickLength)+b.textBlock.fontSize/2+5):0>this.labelAngle?(v.x-="inside"===this.labelPlacement?0:b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle),v.y="inside"===this.labelPlacement?v.y-("inside"===this.tickPlacement?this.tickLength:0)-(b.textBlock.height-b.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle):v.y+("inside"===this.tickPlacement?0:this.tickLength)+5+Math.abs(b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-b.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))):(v.x-="inside"===this.labelPlacement?b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,v.y="inside"===this.labelPlacement?v.y-("inside"===this.tickPlacement?this.tickLength:0)-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-(b.textBlock.height-b.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle):v.y+("inside"===this.tickPlacement?0:this.tickLength)+5+Math.abs(b.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))),b.textBlock.x=v.x,b.textBlock.y=v.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(g=0;g<t._labels.length;g++)if(!((b=t._labels[g]).position<t.viewportMinimum||b.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(b.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(h,0|v.y),t.ctx.lineTo(h,v.y-t.tickLength|0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height+this._titleTextBlock._lineHeight/2-1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(g=0;g<this._labels.length;g++)(b=this._labels[g]).position<this.viewportMinimum||b.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x,this.ctx.beginPath(),this.ctx.moveTo(n,0|v.y),this.ctx.lineTo(n,v.y-this.tickLength|0),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===b.textBlock.angle?(v.x-=b.textBlock.width/2,v.y="inside"===this.labelPlacement?v.y+this.labelFontSize/2+("inside"===this.tickPlacement?this.tickLength:0)+5:v.y-(("inside"===this.tickPlacement?0:this.tickLength)+b.textBlock.height-b.textBlock.fontSize/2)):0>this.labelAngle?(v.x-="inside"===this.labelPlacement?b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,v.y="inside"===this.labelPlacement?v.y+("inside"===this.tickPlacement?this.tickLength:0)+5-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+b.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle):v.y-("inside"===this.tickPlacement?0:this.tickLength)-2-(b.textBlock.height-b.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)):(v.x-="inside"===this.labelPlacement?0:b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle),v.y="inside"===this.labelPlacement?v.y+("inside"===this.tickPlacement?this.tickLength:0)+5+b.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle):v.y-("inside"===this.tickPlacement?0:this.tickLength)-2-((b.textBlock.height-b.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle))),b.textBlock.x=v.x,b.textBlock.y=v.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(g=0;g<t._labels.length;g++)if(!((b=t._labels[g]).position<t.viewportMinimum||b.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(b.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(h,0|v.y),t.ctx.lineTo(h,v.y+t.tickLength|0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+this._titleTextBlock._lineHeight/2+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(g=0;g<this._labels.length;g++)(b=this._labels[g]).position<this.viewportMinimum||b.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y,this.ctx.beginPath(),this.ctx.moveTo(0|v.x,n),this.ctx.lineTo(v.x-this.tickLength|0,n),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(b.textBlock.y=v.y,b.textBlock.x="inside"===this.labelPlacement?v.x+("inside"===this.tickPlacement?this.tickLength:0)+5:v.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):0>this.labelAngle?(b.textBlock.y="inside"===this.labelPlacement?v.y:v.y-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),b.textBlock.x="inside"===this.labelPlacement?v.x-b.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:v.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(b.textBlock.height-b.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):(b.textBlock.y="inside"===this.labelPlacement?v.y:v.y-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),b.textBlock.x="inside"===this.labelPlacement?v.x+(b.textBlock.height-b.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:v.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-b.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(g=0;g<t._labels.length;g++)if(!((b=t._labels[g]).position<t.viewportMinimum||b.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(b.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(0|v.x,h),t.ctx.lineTo(v.x+t.tickLength|0,h),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+this._titleTextBlock._lineHeight/2,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(g=0;g<this._labels.length;g++)(b=this._labels[g]).position<this.viewportMinimum||b.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y,this.ctx.beginPath(),this.ctx.moveTo(0|v.x,n),this.ctx.lineTo(v.x+this.tickLength|0,n),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(b.textBlock.y=v.y,b.textBlock.x="inside"===this.labelPlacement?v.x-b.textBlock.width-("inside"===this.tickPlacement?this.tickLength:0)-5:v.x+("inside"===this.tickPlacement?0:this.tickLength)+5):0>this.labelAngle?(b.textBlock.y="inside"===this.labelPlacement?v.y-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):v.y,b.textBlock.x="inside"===this.labelPlacement?v.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(b.textBlock.height-b.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:v.x-b.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength)+5):(b.textBlock.y="inside"===this.labelPlacement?v.y-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):v.y,b.textBlock.x="inside"===this.labelPlacement?v.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-b.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:v.x+(b.textBlock.height-b.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength)+5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(g=0;g<t._labels.length;g++)if(!((b=t._labels[g]).position<t.viewportMinimum||b.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(b.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(0|v.x,h),t.ctx.lineTo(v.x-t.tickLength|0,h),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-this._titleTextBlock._lineHeight/2,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(p=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",function(){for(g=0;g<t._labels.length;g++)(b=t._labels[g]).position<t.viewportMinimum||b.position>t.viewportMaximum||d&&p++%2!=0&&t.labelAutoFit||(t.ctx.save(),t.ctx.beginPath(),b.textBlock.render(!0),t.ctx.restore())},this);else for(g=0;g<this._labels.length;g++)(b=this._labels[g]).position<this.viewportMinimum||b.position>this.viewportMaximum||d&&p++%2!=0&&this.labelAutoFit||b.textBlock.render(!0)},st.prototype.renderInterlacedColors=function(){var d,o,t=this.chart.plotArea.ctx,n=this.chart.plotArea,l=0;if(d=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(t.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)d?(o=this.getPixelCoordinatesOnAxis(this._labels[l].position),d=this.getPixelCoordinatesOnAxis(l+1>this._labels.length-1?this.viewportMaximum:this._labels[l+1].position),t.fillRect(n.x1,Math.min(o.y,d.y),Math.abs(n.x1-n.x2),Math.abs(d.y-o.y)),d=!1):d=!0}else for(t.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)d?(d=this.getPixelCoordinatesOnAxis(this._labels[l].position),o=this.getPixelCoordinatesOnAxis(l+1>this._labels.length-1?this.viewportMaximum:this._labels[l+1].position),t.fillRect(Math.min(o.x,d.x),n.y1,Math.abs(o.x-d.x),Math.abs(n.y1-n.y2)),d=!1):d=!0;t.beginPath()},st.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){var o,n,d=this,l=0,p=0,m=!1;n=!1;var M=[],T=[],f=!1;for(l=0;l<this.stripLines.length;l++){var g=this.stripLines[l];g._thicknessType===t&&("pixel"===t&&(g.value<this.viewportMinimum||g.value>this.viewportMaximum||W(g.value)||isNaN(this.range))||"value"===t&&(g.startValue<=this.viewportMinimum&&g.endValue<=this.viewportMinimum||g.startValue>=this.viewportMaximum&&g.endValue>=this.viewportMaximum||W(g.startValue)||W(g.endValue)||isNaN(this.range))||M.push(g))}for(l=0;l<this._stripLineLabels.length;l++)if(g=this.stripLines[l],!((o=this._stripLineLabels[l]).position<this.viewportMinimum||o.position>this.viewportMaximum||isNaN(this.range)))if(n=this.getPixelCoordinatesOnAxis(o.position),"outside"===o.stripLine.labelPlacement){if(g&&(this.ctx.strokeStyle=g.color,this.ctx.lineWidth="pixel"===g._thicknessType?g.thickness:this.tickThickness),"bottom"===this._position){var b=this.ctx.lineWidth%2==1?.5+(0|n.x):0|n.x;this.ctx.beginPath(),this.ctx.moveTo(b,0|n.y),this.ctx.lineTo(b,n.y+this.tickLength|0),this.ctx.stroke(),0===this.labelAngle?(n.x-=o.textBlock.width/2,n.y+=this.tickLength+o.textBlock.fontSize/2+5):(n.x-=0>this.labelAngle?o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,n.y+=this.tickLength+5+(0>this.labelAngle?Math.abs(o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-o.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle)):Math.abs(o.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))))}else"top"===this._position?(b=this.ctx.lineWidth%2==1?.5+(0|n.x):0|n.x,this.ctx.beginPath(),this.ctx.moveTo(b,0|n.y),this.ctx.lineTo(b,n.y-this.tickLength|0),this.ctx.stroke(),0===this.labelAngle?(n.x-=o.textBlock.width/2,n.y-=this.tickLength+o.textBlock.height-o.textBlock.fontSize/2):(n.x-=0<this.labelAngle?o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,n.y-=this.tickLength+2+(0<this.labelAngle?(o.textBlock.height-o.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):(o.textBlock.height-o.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)))):"left"===this._position?(b=this.ctx.lineWidth%2==1?.5+(0|n.y):0|n.y,this.ctx.beginPath(),this.ctx.moveTo(0|n.x,b),this.ctx.lineTo(n.x-this.tickLength|0,b),this.ctx.stroke(),0===this.labelAngle?n.x=n.x-o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(n.y-=o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),n.x-=this.tickLength+5+(0<this.labelAngle?o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+o.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle):o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)))):"right"===this._position&&(b=this.ctx.lineWidth%2==1?.5+(0|n.y):0|n.y,this.ctx.beginPath(),this.ctx.moveTo(0|n.x,b),this.ctx.lineTo(n.x+this.tickLength|0,b),this.ctx.stroke(),n.x=0===this.labelAngle?n.x+this.tickLength+5:this.tickLength+5+(0<this.labelAngle?n.x+(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle):n.x-o.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)));o.textBlock.x=n.x,o.textBlock.y=n.y,T.push(o)}else g._thicknessType===t&&(o.textBlock.angle=-90,"bottom"===this._position?(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.height-3,o.textBlock.measureText(),n.x-o.textBlock.height-g.thickness/2>this.chart.plotArea.x1?W(g.startValue)?n.x-=o.textBlock.height-o.textBlock.fontSize/2+g.thickness/2:n.x-=o.textBlock.height/2-o.textBlock.fontSize/2:(o.textBlock.angle=90,W(g.startValue)?n.x+=o.textBlock.height-o.textBlock.fontSize/2+g.thickness/2:n.x+=o.textBlock.height/2-o.textBlock.fontSize/2),n.y=-90===o.textBlock.angle?"near"===o.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+o.textBlock.width)/2:this.chart.plotArea.y1+o.textBlock.width+3:"near"===o.stripLine.labelAlign?this.chart.plotArea.y2-o.textBlock.width-3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-o.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.height-3,o.textBlock.measureText(),n.x-o.textBlock.height-g.thickness/2>this.chart.plotArea.x1?W(g.startValue)?n.x-=o.textBlock.height-o.textBlock.fontSize/2+g.thickness/2:n.x-=o.textBlock.height/2-o.textBlock.fontSize/2:(o.textBlock.angle=90,W(g.startValue)?n.x+=o.textBlock.height-o.textBlock.fontSize/2+g.thickness/2:n.x+=o.textBlock.height/2-o.textBlock.fontSize/2),n.y=-90===o.textBlock.angle?"near"===o.stripLine.labelAlign?this.chart.plotArea.y1+o.textBlock.width+3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+o.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===o.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-o.textBlock.width)/2:this.chart.plotArea.y2-o.textBlock.width-3):"left"===this._position?(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.width-3,o.textBlock.angle=0,o.textBlock.measureText(),n.y-o.textBlock.height-g.thickness/2>this.chart.plotArea.y1?W(g.startValue)?n.y-=o.textBlock.height-o.textBlock.fontSize/2+g.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2:W(g.startValue)?n.y+=o.textBlock.height-o.textBlock.fontSize/2+g.thickness/2:n.y+=o.textBlock.height/2-o.textBlock.fontSize+3,n.x="near"===o.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-o.textBlock.width/2:this.chart.plotArea.x2-o.textBlock.width-3):"right"===this._position&&(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.width-3,o.textBlock.angle=0,o.textBlock.measureText(),n.y-o.textBlock.height-g.thickness/2>this.chart.plotArea.y1?W(g.startValue)?n.y-=o.textBlock.height-o.textBlock.fontSize/2+g.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2:W(g.startValue)?n.y+=o.textBlock.height-o.textBlock.fontSize/2+g.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2+3,n.x="near"===o.stripLine.labelAlign?this.chart.plotArea.x2-o.textBlock.width-3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-o.textBlock.width/2:this.chart.plotArea.x1+3),o.textBlock.x=n.x,o.textBlock.y=n.y,T.push(o));if(!f){for(n=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),l=0;l<M.length;l++)(g=M[l]).showOnTop?m||(m=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),p=0;p<M.length;p++)(g=M[p]).showOnTop&&g.render();this.ctx.restore()},g)):g.render();for(l=0;l<T.length;l++)(o=T[l]).stripLine.showOnTop?n||(n=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<T.length;p++)"inside"===(o=T[p]).stripLine.labelPlacement&&o.stripLine.showOnTop&&(d.ctx.save(),d.ctx.beginPath(),d.ctx.rect(d.chart.plotArea.x1,d.chart.plotArea.y1,d.chart.plotArea.width,d.chart.plotArea.height),d.ctx.clip(),o.textBlock.render(!0),d.ctx.restore())},o.textBlock)):"inside"===o.stripLine.labelPlacement&&o.textBlock.render(!0);this.ctx.restore(),f=!0}if(f)for(n=!1,l=0;l<T.length;l++)"outside"===(o=T[l]).stripLine.labelPlacement&&o.textBlock.render(!0)}},st.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},st.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;j?(this.maskCanvas=qe(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var d=0;d<t.length;d++)t[d].endValue<this.viewportMinimum||t[d].startValue>this.viewportMaximum||isNaN(this.range)||t[d].render(this.maskCtx);this.maskCtx.restore()}},st.prototype.renderCrosshair=function(t,d){isFinite(this.minimum)&&isFinite(this.maximum)&&this.crosshair.render(t,d)},st.prototype.showCrosshair=function(t){W(t)||t<this.viewportMinimum||t>this.viewportMaximum||("top"===this._position||"bottom"===this._position?this.crosshair.render(this.convertValueToPixel(t),null,t):this.crosshair.render(null,this.convertValueToPixel(t),t))},st.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var d,o=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(xt(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(t.beginPath(),d=this.getPixelCoordinatesOnAxis(this._labels[n].position),t.moveTo(d=t.lineWidth%2==1?.5+(0|d.x):0|d.x,0|o.y1),t.lineTo(d,0|o.y2),t.stroke());else if("left"===this._position||"right"===this._position)for(var n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(t.beginPath(),d=this.getPixelCoordinatesOnAxis(this._labels[n].position),t.moveTo(0|o.x1,d=t.lineWidth%2==1?.5+(0|d.y):0|d.y),t.lineTo(0|o.x2,d),t.stroke());t.restore()}},st.prototype.renderAxisLine=function(){var l,p,t=this.chart.ctx,d=j?this.chart._preRenderCtx:t,o=Math.ceil(this.tickThickness/(this.reversed?-2:2)),n=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(d.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(l=this.lineCoordinates.x2,p=this.lineCoordinates.x1):(l=this.lineCoordinates.x1,p=this.lineCoordinates.x2),d.lineWidth=this.lineThickness,d.strokeStyle=this.lineColor?this.lineColor:"black",d.setLineDash&&d.setLineDash(xt(this.lineDashType,this.lineThickness));var m=this.lineThickness%2==1?.5+(0|this.lineCoordinates.y1):0|this.lineCoordinates.y1;if(d.beginPath(),this.scaleBreaks&&!W(this.scaleBreaks.firstBreakIndex))if(W(this.scaleBreaks.lastBreakIndex))l=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+n;else for(var M=this.scaleBreaks.firstBreakIndex;M<=this.scaleBreaks.lastBreakIndex;M++)d.moveTo(l,m),d.lineTo(this.scaleBreaks._appliedBreaks[M].startPixel+o,m),l=this.scaleBreaks._appliedBreaks[M].endPixel+n;l&&(d.moveTo(l,m),d.lineTo(p,m)),d.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(l=this.lineCoordinates.y1,p=this.lineCoordinates.y2):(l=this.lineCoordinates.y2,p=this.lineCoordinates.y1),d.lineWidth=this.lineThickness,d.strokeStyle=this.lineColor,d.setLineDash&&d.setLineDash(xt(this.lineDashType,this.lineThickness)),m=this.lineThickness%2==1?.5+(0|this.lineCoordinates.x1):0|this.lineCoordinates.x1,d.beginPath(),this.scaleBreaks&&!W(this.scaleBreaks.firstBreakIndex))if(W(this.scaleBreaks.lastBreakIndex))l=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+o;else for(M=this.scaleBreaks.firstBreakIndex;M<=this.scaleBreaks.lastBreakIndex;M++)d.moveTo(m,l),d.lineTo(m,this.scaleBreaks._appliedBreaks[M].startPixel+n),l=this.scaleBreaks._appliedBreaks[M].endPixel+o;l&&(d.moveTo(m,l),d.lineTo(m,p)),d.stroke()}j&&(t.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),d.clearRect(0,0,this.chart.width,this.chart.height)),d.restore()},st.prototype.getPixelCoordinatesOnAxis=function(t){var d={};return("bottom"===this._position||"top"===this._position)&&(d.x=this.convertValueToPixel(t),d.y=this.lineCoordinates.y1),("left"===this._position||"right"===this._position)&&(d.y=this.convertValueToPixel(t),d.x=this.lineCoordinates.x2),d},st.prototype.convertPixelToValue=function(t){if(typeof t>"u")return null;var d,o=0,l=0,n=(o=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(l="number"==typeof t?t:"left"===this._position||"right"===this._position?t.y:t.x,this.logarithmic){if(t=d=Math.pow(this.logarithmBase,(l-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),l<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(l=0;l<n.length;l++)if(!(n[l].endValue<this.conversionParameters.minimum))if(o)if(n[l].startValue<this.conversionParameters.minimum){if(1<n[l].size&&this.conversionParameters.minimum*Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size))<n[l].endValue){t=Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size));break}t*=n[l].endValue/this.conversionParameters.minimum/Math.pow(n[l].size,Math.log(n[l].endValue/this.conversionParameters.minimum)/Math.log(n[l].endValue/n[l].startValue)),d/=Math.pow(n[l].size,Math.log(n[l].endValue/this.conversionParameters.minimum)/Math.log(n[l].endValue/n[l].startValue)),o=!1}else{if(!(d>n[l].startValue/this.conversionParameters.minimum))break;if((d/=n[l].startValue/this.conversionParameters.minimum)<n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1===n[l].size?1:Math.log(d)/Math.log(n[l].size))/d;break}t*=n[l].endValue/n[l].startValue/n[l].size,d/=n[l].size,o=!1}else{if(!(d>n[l].startValue/n[l-1].endValue))break;if((d/=n[l].startValue/n[l-1].endValue)<n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1===n[l].size?1:Math.log(d)/Math.log(n[l].size))/d;break}t*=n[l].endValue/n[l].startValue/n[l].size,d/=n[l].size}}else for(l=n.length-1;0<=l;l--)if(!(n[l].startValue>this.conversionParameters.minimum))if(o)if(n[l].endValue>this.conversionParameters.minimum){if(1<n[l].size&&this.conversionParameters.minimum*Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size))>n[l].startValue){t=Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size));break}t*=n[l].startValue/this.conversionParameters.minimum*Math.pow(n[l].size,Math.log(n[l].startValue/this.conversionParameters.minimum)/Math.log(n[l].endValue/n[l].startValue))*d,d*=Math.pow(n[l].size,Math.log(this.conversionParameters.minimum/n[l].startValue)/Math.log(n[l].endValue/n[l].startValue)),o=!1}else{if(!(d<n[l].endValue/this.conversionParameters.minimum))break;if((d/=n[l].endValue/this.conversionParameters.minimum)>1/n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1>=n[l].size?1:Math.log(d)/Math.log(n[l].size))*d;break}t/=n[l].endValue/n[l].startValue/n[l].size,d*=n[l].size,o=!1}else{if(!(d<n[l].endValue/n[l+1].startValue))break;if((d/=n[l].endValue/n[l+1].startValue)>1/n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1>=n[l].size?1:Math.log(d)/Math.log(n[l].size))*d;break}t/=n[l].endValue/n[l].startValue/n[l].size,d*=n[l].size}o=t*this.viewportMinimum}else{if(t=d=(l-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,l<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(l=0;l<n.length;l++)if(!(n[l].endValue<this.conversionParameters.minimum))if(o)if(n[l].startValue<this.conversionParameters.minimum){if(n[l].size&&this.conversionParameters.minimum+d*(n[l].endValue-n[l].startValue)/n[l].size<n[l].endValue){t=0>=n[l].size?0:d*(n[l].endValue-n[l].startValue)/n[l].size;break}t+=n[l].endValue-this.conversionParameters.minimum-n[l].size*(n[l].endValue-this.conversionParameters.minimum)/(n[l].endValue-n[l].startValue),d-=n[l].size*(n[l].endValue-this.conversionParameters.minimum)/(n[l].endValue-n[l].startValue),o=!1}else{if(!(d>n[l].startValue-this.conversionParameters.minimum))break;if((d-=n[l].startValue-this.conversionParameters.minimum)<n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)-d;break}t+=n[l].endValue-n[l].startValue-n[l].size,d-=n[l].size,o=!1}else{if(!(d>n[l].startValue-n[l-1].endValue))break;if((d-=n[l].startValue-n[l-1].endValue)<n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)-d;break}t+=n[l].endValue-n[l].startValue-n[l].size,d-=n[l].size}}else for(l=n.length-1;0<=l;l--)if(!(n[l].startValue>this.conversionParameters.minimum))if(o)if(n[l].endValue>this.conversionParameters.minimum){if(n[l].size&&this.conversionParameters.minimum+d*(n[l].endValue-n[l].startValue)/n[l].size>n[l].startValue){t=0>=n[l].size?0:d*(n[l].endValue-n[l].startValue)/n[l].size;break}t+=n[l].startValue-this.conversionParameters.minimum+n[l].size*(this.conversionParameters.minimum-n[l].startValue)/(n[l].endValue-n[l].startValue),d+=n[l].size*(this.conversionParameters.minimum-n[l].startValue)/(n[l].endValue-n[l].startValue),o=!1}else{if(!(d<n[l].endValue-this.conversionParameters.minimum))break;if((d-=n[l].endValue-this.conversionParameters.minimum)>-1*n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)+d;break}t-=n[l].endValue-n[l].startValue-n[l].size,d+=n[l].size,o=!1}else{if(!(d<n[l].endValue-n[l+1].startValue))break;if((d-=n[l].endValue-n[l+1].startValue)>-1*n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)+d;break}t-=n[l].endValue-n[l].startValue-n[l].size,d+=n[l].size}o=this.conversionParameters.minimum+t}return o},st.prototype.convertValueToPixel=function(t){return t=this.getApparentDifference(this.conversionParameters.minimum,t,t),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5|0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5|0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5},st.prototype.getApparentDifference=function(t,d,o,n){var l=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){o=W(o)?d/t:o;for(var p=0;p<l.length&&!(d<l[p].startValue);p++)t>l[p].endValue||(t<=l[p].startValue&&d>=l[p].endValue?o=o/l[p].endValue*l[p].startValue*l[p].size:t>=l[p].startValue&&d>=l[p].endValue?o=o/l[p].endValue*t*Math.pow(l[p].size,Math.log(l[p].endValue/t)/Math.log(l[p].endValue/l[p].startValue)):t<=l[p].startValue&&d<=l[p].endValue?o=o/d*l[p].startValue*Math.pow(l[p].size,Math.log(d/l[p].startValue)/Math.log(l[p].endValue/l[p].startValue)):!n&&t>l[p].startValue&&d<l[p].endValue&&(o=t*Math.pow(l[p].size,Math.log(d/t)/Math.log(l[p].endValue/l[p].startValue))))}else for(o=W(o)?Math.abs(d-t):o,p=0;p<l.length&&!(d<l[p].startValue);p++)t>l[p].endValue||(t<=l[p].startValue&&d>=l[p].endValue?o=o-l[p].endValue+l[p].startValue+l[p].size:t>l[p].startValue&&d>=l[p].endValue?o=o-l[p].endValue+t+l[p].size*(l[p].endValue-t)/(l[p].endValue-l[p].startValue):t<=l[p].startValue&&d<l[p].endValue?o=o-d+l[p].startValue+l[p].size*(d-l[p].startValue)/(l[p].endValue-l[p].startValue):!n&&t>l[p].startValue&&d<l[p].endValue&&(o=t+l[p].size*(d-t)/(l[p].endValue-l[p].startValue)));return o},st.prototype.setViewPortRange=function(t,d){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,d),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,d)},st.prototype.getXValueAt=function(t){if(!t)return null;var d=null;return"left"===this._position?d=this.convertPixelToValue(t.y):"bottom"===this._position&&(d=this.convertPixelToValue(t.x)),d},st.prototype.calculateValueToPixelConversionParameters=function(t){t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var d={pixelPerUnit:null,minimum:null,reference:null},o=this.lineCoordinates.width,n=this.lineCoordinates.height;if(o="bottom"===this._position||"top"===this._position?o:n,n=Math.abs(this.range),this.logarithmic)for(var l=0;l<t.length&&!(this.viewportMaximum<t[l].startValue);l++)this.viewportMinimum>t[l].endValue||(this.viewportMinimum>=t[l].startValue&&this.viewportMaximum<=t[l].endValue?o=0:this.viewportMinimum<=t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n/t[l].endValue*t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100):o-Math.min(t[l].spacing,.1*o)):this.viewportMinimum>t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n/t[l].endValue*this.viewportMinimum,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*Math.log(t[l].endValue/this.viewportMinimum)/Math.log(t[l].endValue/t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*Math.log(t[l].endValue/this.viewportMinimum)/Math.log(t[l].endValue/t[l].startValue)):this.viewportMinimum<=t[l].startValue&&this.viewportMaximum<t[l].endValue&&(n=n/this.viewportMaximum*t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*Math.log(this.viewportMaximum/t[l].startValue)/Math.log(t[l].endValue/t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*Math.log(this.viewportMaximum/t[l].startValue)/Math.log(t[l].endValue/t[l].startValue)));else for(l=0;l<t.length&&!(this.viewportMaximum<t[l].startValue);l++)this.viewportMinimum>t[l].endValue||(this.viewportMinimum>=t[l].startValue&&this.viewportMaximum<=t[l].endValue?o=0:this.viewportMinimum<=t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n-t[l].endValue+t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100):o-Math.min(t[l].spacing,.1*o)):this.viewportMinimum>t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n-t[l].endValue+this.viewportMinimum,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*(t[l].endValue-this.viewportMinimum)/(t[l].endValue-t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*(t[l].endValue-this.viewportMinimum)/(t[l].endValue-t[l].startValue)):this.viewportMinimum<=t[l].startValue&&this.viewportMaximum<t[l].endValue&&(n=n-this.viewportMaximum+t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*(this.viewportMaximum-t[l].startValue)/(t[l].endValue-t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*(this.viewportMaximum-t[l].startValue)/(t[l].endValue-t[l].startValue)));d.minimum=this.viewportMinimum,d.maximum=this.viewportMaximum,d.range=n,("bottom"===this._position||"top"===this._position)&&(this.logarithmic?(d.lnLogarithmBase=Math.log(this.logarithmBase),d.pixelPerUnit=(this.reversed?-1:1)*o*d.lnLogarithmBase/Math.log(Math.abs(n))):d.pixelPerUnit=(this.reversed?-1:1)*o/Math.abs(n),d.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),("left"===this._position||"right"===this._position)&&(this.logarithmic?(d.lnLogarithmBase=Math.log(this.logarithmBase),d.pixelPerUnit=(this.reversed?1:-1)*o*d.lnLogarithmBase/Math.log(Math.abs(n))):d.pixelPerUnit=(this.reversed?1:-1)*o/Math.abs(n),d.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=d},st.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var o=this.chart.layoutManager.getFreeSpace(),t=!1,d=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=o.width,this.maxHeight=o.height):(this.maxWidth=o.height,this.maxHeight=o.width),o="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var n,l,p,m=4;if("axisX"===this.type&&(m=600>this.maxWidth?8:6),o=Math.max(m,Math.floor(this.maxWidth/o)),m=0,!W(this.options.viewportMinimum)&&!W(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!W(this.options.viewportMinimum)||W(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!W(this.options.viewportMaximum)||W(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(m=0;m<this.scaleBreaks._appliedBreaks.length;m++)if((!W(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue||!W(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[m].startValue||!W(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue)&&(!W(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue||!W(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[m].endValue||!W(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue)){this.scaleBreaks._appliedBreaks.splice(m,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(n=0;n<this.dataSeries.length;n++)"dateTime"===this.dataSeries[n].xValueType&&(d=!0);(l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==0&&(l+=m=typeof this.options.interval>"u"?.4:this.options.interval,n-=m),this.dataInfo.minDiff!==1/0?p=this.dataInfo.minDiff:1<l-n?p=.5*Math.abs(l-n):(p=1,d&&(t=!0))}else"axisY"===this.type&&(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(n)||isFinite(l)?isFinite(n)?isFinite(l)||(l=n):n=l:(l=typeof this.options.interval>"u"?-1/0:this.options.interval,n=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),0===n&&0===l?(l+=9,n=0):l-n==0?(l+=m=Math.min(Math.abs(.01*Math.abs(l)),5),n-=m):n>l?(m=Math.min(.01*Math.abs(this.getApparentDifference(l,n,null,!0)),5),0<=l?n=l-m:l=isFinite(n)?n+m:0):(m=Math.min(.01*Math.abs(this.getApparentDifference(n,l,null,!0)),.05),0!==l&&(l+=m),0!==n&&(n-=m)),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-n?.5*Math.abs(l-n):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<n&&(n=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>l&&(l=0));m=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?l:this.viewportMaximum,null,!0),"axisX"===this.type&&d?(this.valueType="dateTime",this.intervalType||(m/1<=o?(this.interval=1,this.intervalType="millisecond"):m/2<=o?(this.interval=2,this.intervalType="millisecond"):m/5<=o?(this.interval=5,this.intervalType="millisecond"):m/10<=o?(this.interval=10,this.intervalType="millisecond"):m/20<=o?(this.interval=20,this.intervalType="millisecond"):m/50<=o?(this.interval=50,this.intervalType="millisecond"):m/100<=o?(this.interval=100,this.intervalType="millisecond"):m/200<=o?(this.interval=200,this.intervalType="millisecond"):m/250<=o?(this.interval=250,this.intervalType="millisecond"):m/300<=o?(this.interval=300,this.intervalType="millisecond"):m/400<=o?(this.interval=400,this.intervalType="millisecond"):m/500<=o?(this.interval=500,this.intervalType="millisecond"):m/(1*Vt.secondDuration)<=o?(this.interval=1,this.intervalType="second"):m/(2*Vt.secondDuration)<=o?(this.interval=2,this.intervalType="second"):m/(5*Vt.secondDuration)<=o?(this.interval=5,this.intervalType="second"):m/(10*Vt.secondDuration)<=o?(this.interval=10,this.intervalType="second"):m/(15*Vt.secondDuration)<=o?(this.interval=15,this.intervalType="second"):m/(20*Vt.secondDuration)<=o?(this.interval=20,this.intervalType="second"):m/(30*Vt.secondDuration)<=o?(this.interval=30,this.intervalType="second"):m/(1*Vt.minuteDuration)<=o?(this.interval=1,this.intervalType="minute"):m/(2*Vt.minuteDuration)<=o?(this.interval=2,this.intervalType="minute"):m/(5*Vt.minuteDuration)<=o?(this.interval=5,this.intervalType="minute"):m/(10*Vt.minuteDuration)<=o?(this.interval=10,this.intervalType="minute"):m/(15*Vt.minuteDuration)<=o?(this.interval=15,this.intervalType="minute"):m/(20*Vt.minuteDuration)<=o?(this.interval=20,this.intervalType="minute"):m/(30*Vt.minuteDuration)<=o?(this.interval=30,this.intervalType="minute"):m/(1*Vt.hourDuration)<=o?(this.interval=1,this.intervalType="hour"):m/(2*Vt.hourDuration)<=o?(this.interval=2,this.intervalType="hour"):m/(3*Vt.hourDuration)<=o?(this.interval=3,this.intervalType="hour"):m/(6*Vt.hourDuration)<=o?(this.interval=6,this.intervalType="hour"):m/(1*Vt.dayDuration)<=o?(this.interval=1,this.intervalType="day"):m/(2*Vt.dayDuration)<=o?(this.interval=2,this.intervalType="day"):m/(4*Vt.dayDuration)<=o?(this.interval=4,this.intervalType="day"):m/(1*Vt.weekDuration)<=o?(this.interval=1,this.intervalType="week"):m/(2*Vt.weekDuration)<=o?(this.interval=2,this.intervalType="week"):m/(3*Vt.weekDuration)<=o?(this.interval=3,this.intervalType="week"):m/(1*Vt.monthDuration)<=o?(this.interval=1,this.intervalType="month"):m/(2*Vt.monthDuration)<=o?(this.interval=2,this.intervalType="month"):m/(3*Vt.monthDuration)<=o?(this.interval=3,this.intervalType="month"):m/(6*Vt.monthDuration)<=o?(this.interval=6,this.intervalType="month"):(this.interval=m/(1*Vt.yearDuration)<=o?1:m/(2*Vt.yearDuration)<=o?2:m/(4*Vt.yearDuration)<=o?4:Math.floor(st.getNiceNumber(m/(o-1),!0)/Vt.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=n-p/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=l+p/2),t?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",m=st.getNiceNumber(m,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:st.getNiceNumber(m/(o-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?n-p/2:Math.floor(n/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?l+p/2:Math.ceil(l/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=st.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(o-1),!0)))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((l=null!==this.maximum?this.maximum:this.dataInfo.max)-(n=null!==this.minimum?this.minimum:this.dataInfo.min)==0&&(l+=m=typeof this.options.interval>"u"?.4:this.options.interval,n-=m),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-n?.5*Math.abs(l-n):1):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,l=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(l)?0===n&&0===l?(l+=9,n=0):l-n==0?(l+=m=Math.min(Math.abs(.01*Math.abs(l)),5),n-=m):n>l?(m=Math.min(.01*Math.abs(this.getApparentDifference(l,n,null,!0)),5),0<=l?n=l-m:l=isFinite(n)?n+m:0):(m=Math.min(.01*Math.abs(this.getApparentDifference(n,l,null,!0)),.05),0!==l&&(l+=m),0!==n&&(n-=m)):(l=typeof this.options.interval>"u"?-1/0:this.options.interval,n=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-n?.5*Math.abs(l-n):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<n&&(n=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>l&&(l=0)),Math.abs(this.getApparentDifference(n,l,null,!0)),"axisX"===this.type&&d?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=n-p/2,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=l+p/2,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?n-p/2:Math.floor(n/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?l+p/2:Math.ceil(l/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),W(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),W(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&d?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=st.generateValueFormatString(this.range,2))}},st.prototype.calculateLogarithmicAxisParameters=function(){var d,n,l,p,m,o=this.chart.layoutManager.getFreeSpace(),t=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=o.width,this.maxHeight=o.height):(this.maxWidth=o.height,this.maxHeight=o.width),o="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),m=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(m=0;m<this.scaleBreaks._appliedBreaks.length;m++)if((!W(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue||!W(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[m].startValue||!W(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[m].startValue)&&(!W(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue||!W(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[m].endValue||!W(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[m].endValue)){this.scaleBreaks._appliedBreaks.splice(m,1);break}"axisX"===this.type?((l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==1&&(l*=m=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),n/=m),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&!isFinite(l)?(l=typeof this.options.interval>"u"?0:this.options.interval,n=1):0>=n?n=l:isFinite(l)||(l=n),1===n&&1===l?(l*=this.logarithmBase-1/this.logarithmBase,n=1):l/n==1?(l*=m=Math.min(l*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),n/=m):n>l?(m=Math.min(n/l*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=l?n=l/m:l=n*m):(m=Math.min(l/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==l&&(l*=m),1!==n&&(n/=m)),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<n&&(n=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>l&&(l=1)),m=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?l:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum);var M=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?l:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum);if(this.intervalType="number",m=Math.pow(this.logarithmBase,st.getNiceNumber(Math.abs(Math.log(m)/t),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=st.getNiceExponent(Math.log(m)/t/(o-1),!0),d=st.getNiceNumber(M/(o-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?n/Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/t/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?l*Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(l)/t/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=st.getNiceExponent(Math.ceil(Math.log(m)/t)/(o-1)),d=st.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(o-1),!0))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((l=null!==this.maximum?this.maximum:this.dataInfo.max)/(n=null!==this.minimum?this.minimum:this.dataInfo.min)==1&&(l*=m=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),n/=m),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,l=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(l)?1===n&&1===l?(l*=this.logarithmBase,n/=this.logarithmBase):l/n==1?(l*=m=Math.pow(this.logarithmBase,this.interval),n/=m):n>l?(m=Math.min(n/l*.01,5),1<=l?n=l/m:l=n*m):(m=Math.min(l/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==l&&(l*=m),1!==n&&(n/=m)):(l=typeof this.options.interval>"u"?0:this.options.interval,n=1),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<n&&(n=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>l&&(l=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?n/Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/t/this.interval)),W(null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),null===this.maximum&&(this.maximum="axisX"===this.type?l*Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(l)/t/this.interval)),W(null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=o,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>o?2:3)){for(t=Math.floor(this.viewportMinimum/d+.5)*d;t<this.viewportMinimum;)t+=d;this.equidistantInterval=!1,this.intervalStartPosition=t,this.interval=d}else this.options.interval||(d=Math.ceil(this.interval),this.range>this.interval&&(this.interval=d,n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=n;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(t=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(t)||!isFinite(t))&&(t=2),2<t))for(m=0;m<t-2;m++)this.valueFormatString+="#"},st.generateValueFormatString=function(t,d){var o="#,##0.",n=d;1>t&&(n+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),isNaN(n)||!isFinite(n))&&(n=d);for(var l=0;l<n;l++)o+="#";return o},st.getNiceExponent=function(t,d){var o=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,o);return n=0>o?1>=n?1:5>=n?5:10:Math.max(Math.floor(n),1),Number(-20>o?n*Math.pow(10,o):(n*Math.pow(10,o)).toFixed(20))},st.getNiceNumber=function(t,d){var o=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,o);return n=d?1.5>n?1:3>n?2:7>n?5:10:1>=n?1:2>=n?2:5>=n?5:10,Number(-20>o?n*Math.pow(10,o):(n*Math.pow(10,o)).toFixed(20))},st.prototype.getLabelStartPoint=function(){var t=Vt[this.intervalType+"Duration"]*this.interval;return t=new Date(Math.floor(this.viewportMinimum/t)*t),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):"minute"===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):"hour"===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"day"===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"week"===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"month"===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"year"===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},De(Ut,ve),De(ce,ve),ce.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var d=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(mi(this.parent[this.optionsName]),d=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options[this.optionsName][d]=this.options}},ce.prototype.render=function(t){if(0!==this.spacing||0!==this.options.lineThickness&&(typeof this.options.lineThickness<"u"||0!==this.parent.lineThickness)){var d=this.ctx,o=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var p,m,M,T,f,g,n=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),l=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,zt(this.id),t=Math.max(this.spacing,3);var b=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=b,this.ctx.setLineDash&&this.ctx.setLineDash(xt(this.lineDashType,b)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(m=b%2==1?.5+(0|l.x):0|l.x,"top"===this.scaleBreaks.parent._position?(l=this.chart.plotArea.y1,M=this.chart.plotArea.y2+b/2+.5|0):(l=this.chart.plotArea.y2,M=this.chart.plotArea.y1-b/2+.5|0,t*=-1),this.bounds={x1:(n=b%2==1?.5+(0|n.x):0|n.x)-b/2,y1:l,x2:m+b/2,y2:M},this.ctx.moveTo(n,l),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=t||"bottom"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(n,M),this.ctx.lineTo(m,M),this.ctx.lineTo(m,l);else if("wavy"===this.type){T=n,p=.5,g=(M-(f=l))/t/3;for(var v=0;v<g;v++)this.ctx.bezierCurveTo(T+p*t,f+t,T+p*t,f+2*t,T,f+3*t),f+=3*t,p*=-1;for(this.ctx.bezierCurveTo(T+p*t,f+t,T+p*t,f+2*t,T,f+3*t),p*=-1,this.ctx.lineTo(T=m,f),v=0;v<g;v++)this.ctx.bezierCurveTo(T+p*t,f-t,T+p*t,f-2*t,T,f-3*t),f-=3*t,p*=-1}else if("zigzag"===this.type){for(p=-1,T=n+t,g=(M-(f=l+t))/t/2,v=0;v<g;v++)this.ctx.lineTo(T,f),T+=2*p*t,f+=2*t,p*=-1;for(this.ctx.lineTo(T,f),T+=m-n,v=0;v<g+1;v++)this.ctx.lineTo(T,f),T+=2*p*t,f-=2*t,p*=-1;this.ctx.lineTo(T+p*t,f+t)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(M=b%2==1?.5+(0|n.y):0|n.y,"left"===this.scaleBreaks.parent._position?(n=this.chart.plotArea.x1,m=this.chart.plotArea.x2+b/2+.5|0):(n=this.chart.plotArea.x2,m=this.chart.plotArea.x1-b/2+.5|0,t*=-1),this.bounds={x1:n,y1:(l=b%2==1?.5+(0|l.y):0|l.y)-b/2,x2:m,y2:M+b/2},this.ctx.moveTo(n,l),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=t||"right"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(m,l),this.ctx.lineTo(m,M),this.ctx.lineTo(n,M);else if("wavy"===this.type){for(f=l,p=.5,g=(m-(T=n))/t/3,v=0;v<g;v++)this.ctx.bezierCurveTo(T+t,f+p*t,T+2*t,f+p*t,T+3*t,f),T+=3*t,p*=-1;for(this.ctx.bezierCurveTo(T+t,f+p*t,T+2*t,f+p*t,T+3*t,f),p*=-1,this.ctx.lineTo(T,f=M),v=0;v<g;v++)this.ctx.bezierCurveTo(T-t,f+p*t,T-2*t,f+p*t,T-3*t,f),T-=3*t,p*=-1}else if("zigzag"===this.type){for(p=1,f=l-t,g=(m-(T=n+t))/t/2,v=0;v<g;v++)this.ctx.lineTo(T,f),f+=2*p*t,T+=2*t,p*=-1;for(this.ctx.lineTo(T,f),f+=M-l,v=0;v<g+1;v++)this.ctx.lineTo(T,f),f+=2*p*t,T-=2*t,p*=-1;this.ctx.lineTo(T+t,f+p*t)}0<b&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=o,this.ctx=d}},De(It,ve),It.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var d=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(mi(this.parent.stripLines),d=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options.stripLines[d]=this.options}},It.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),d=Math.abs("pixel"===this._thicknessType?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<d){var o=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var l,p,m,M,n=this.ctx.globalAlpha;this.ctx.globalAlpha=o,zt(this.id),this.ctx.lineWidth=d,this.ctx.setLineDash&&this.ctx.setLineDash(xt(this.lineDashType,d)),"bottom"===this.parent._position||"top"===this.parent._position?(l=p=this.ctx.lineWidth%2==1?.5+(0|t.x):0|t.x,this.bounds={x1:l-d/2,y1:m=this.chart.plotArea.y1,x2:p+d/2,y2:M=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(m=M=this.ctx.lineWidth%2==1?.5+(0|t.y):0|t.y,this.bounds={x1:l=this.chart.plotArea.x1,y1:m-d/2,x2:p=this.chart.plotArea.x2,y2:M+d/2}),this.ctx.moveTo(l,m),this.ctx.lineTo(p,M),this.ctx.stroke(),this.ctx.globalAlpha=n}this.ctx.restore()},De(We,ve),We.prototype.showAt=function(t){if(!this.enabled)return!1;var d=this.chart,o=!1;if(d.resetOverlayedCanvas(),d.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),"xySwapped"===d.plotInfo.axisPlacement){if("bottom"===this.parent._position)for(var n=0;n<d.axisY.length;n++)this.parent===d.axisY[n]&&(d.axisY[n]._crosshairValue=t>=d.axisY[n].viewportMinimum&&t<=d.axisY[n].viewportMaximum?t:null);else if("top"===this.parent._position)for(n=0;n<d.axisY2.length;n++)this.parent===d.axisY2[n]&&(d.axisY2[n]._crosshairValue=t>=d.axisY2[n].viewportMinimum&&t<=d.axisY2[n].viewportMaximum?t:null);else if("left"===this.parent._position)for(n=0;n<d.axisX.length;n++)this.parent===d.axisX[n]&&(d.axisX[n]._crosshairValue=t>=d.axisX[n].viewportMinimum&&t<=d.axisX[n].viewportMaximum?t:null);else if("right"===this.parent._position)for(n=0;n<d.axisX2.length;n++)this.parent===d.axisX2[n]&&(d.axisX2[n]._crosshairValue=t>=d.axisX2[n].viewportMinimum&&t<=d.axisX2[n].viewportMaximum?t:null)}else if("bottom"===this.parent._position)for(n=0;n<d.axisX.length;n++)this.parent===d.axisX[n]&&(d.axisX[n]._crosshairValue=t>=d.axisX[n].viewportMinimum&&t<=d.axisX[n].viewportMaximum?t:null);else if("top"===this.parent._position)for(n=0;n<d.axisX2.length;n++)this.parent===d.axisX2[n]&&(d.axisX2[n]._crosshairValue=t>=d.axisX2[n].viewportMinimum&&t<=d.axisX2[n].viewportMaximum?t:null);else if("left"===this.parent._position)for(n=0;n<d.axisY.length;n++)this.parent===d.axisY[n]&&(d.axisY[n]._crosshairValue=t>=d.axisY[n].viewportMinimum&&t<=d.axisY[n].viewportMaximum?t:null);else if("right"===this.parent._position)for(n=0;n<d.axisY2.length;n++)this.parent===d.axisY2[n]&&(d.axisY2[n]._crosshairValue=t>=d.axisY2[n].viewportMinimum&&t<=d.axisY2[n].viewportMaximum?t:null);for(n=0;n<d.axisX.length;n++)t=d.axisX[n]._crosshairValue,d.axisX[n].crosshair&&d.axisX[n].crosshair.enabled&&!W(t)&&t>=d.axisX[n].viewportMinimum&&t<=d.axisX[n].viewportMaximum&&(d.axisX[n].showCrosshair(t),d.axisX[n].sessionVariables.crosshairValue=d.axisX[n].crosshair._updatedValue=t,this===d.axisX[n].crosshair&&(o=!0));for(n=0;n<d.axisX2.length;n++)t=d.axisX2[n]._crosshairValue,d.axisX2[n].crosshair&&d.axisX2[n].crosshair.enabled&&!W(t)&&t>=d.axisX2[n].viewportMinimum&&t<=d.axisX2[n].viewportMaximum&&(d.axisX2[n].showCrosshair(t),d.axisX2[n].sessionVariables.crosshairValue=d.axisX2[n].crosshair._updatedValue=t,this===d.axisX2[n].crosshair&&(o=!0));for(n=0;n<d.axisY.length;n++)t=d.axisY[n]._crosshairValue,d.axisY[n].crosshair&&d.axisY[n].crosshair.enabled&&!W(t)&&t>=d.axisY[n].viewportMinimum&&t<=d.axisY[n].viewportMaximum&&(d.axisY[n].showCrosshair(t),d.axisY[n].sessionVariables.crosshairValue=d.axisY[n].crosshair._updatedValue=t,this===d.axisY[n].crosshair&&(o=!0));for(n=0;n<d.axisY2.length;n++)t=d.axisY2[n]._crosshairValue,d.axisY2[n].crosshair&&d.axisY2[n].crosshair.enabled&&!W(t)&&t>=d.axisY2[n].viewportMinimum&&t<=d.axisY2[n].viewportMaximum&&(d.axisY2[n].showCrosshair(t),d.axisY2[n].sessionVariables.crosshairValue=d.axisY2[n].crosshair._updatedValue=t,this===d.axisY2[n].crosshair&&(o=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),o},We.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},We.prototype.render=function(t,d,o){var n,l,p,m,M=null,T=null,f=null,g="";this.valueFormatString||("dateTime"===this.parent.valueType?this.valueFormatString=this.parent.valueFormatString:(f=0,f="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=st.generateValueFormatString(this.parent.range,f)));var b=null===this.opacity?1:this.opacity,v=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),h=this.chart.overlaidCanvasCtx,_=h.globalAlpha;if(h.beginPath(),h.strokeStyle=this.color,h.lineWidth=v,h.save(),this.labelFontSize=Math.abs(W(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=W(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=W(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<v&&h.setLineDash&&h.setLineDash(xt(this.lineDashType,v)),f=new ee(h,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:g,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var B=0;if(g=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var F=null;"bottom"===this.parent._position||"top"===this.parent._position?B=this.parent.dataSeries[0].axisX.convertPixelToValue({y:d}):("left"===this.parent._position||"right"===this.parent._position)&&(B=this.parent.convertPixelToValue({y:d}));for(var P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(B,!0))&&0<=F.index&&(F.dataSeries=this.parent.dataSeries[P],null!==F.dataPoint.y&&F.dataSeries.visible&&g.push(F));if(F=null,0===g.length)return;g.sort(function(z,et){return z.distance-et.distance});var w,I=F=0;for(yPercent=cumulativeY=0,B=1/0,P=0;P<g.length;P++){if("rangeBar"===g[P].dataSeries.type||"error"===g[P].dataSeries.type){if(g[P].dataPoint.y)for(var Y=0;Y<g[P].dataPoint.y.length;Y++)(I=Math.abs(t-this.parent.convertValueToPixel(g[P].dataPoint.y[Y])))<=B&&(B=I,F=P)}else"stackedBar"===g[P].dataSeries.type?(cumulativeY=g[P].dataSeries.dataPointEOs[g[P].index].cumulativeY,(I=Math.abs(t-this.parent.convertValueToPixel(cumulativeY)))<=B&&(B=I,F=P)):"stackedBar100"===g[P].dataSeries.type?(I=g[0].dataPoint.x.getTime?g[0].dataPoint.x.getTime():g[0].dataPoint.x,W(w)&&(w=Math.abs(t-this.parent.convertValueToPixel(g[0].dataSeries.dataPointEOs[g[0].index].cumulativeY/g[0].dataSeries.plotUnit.dataPointYSums[I]*100))),cumulativeY=g[P].dataSeries.dataPointEOs[g[P].index].cumulativeY,I=g[P].dataPoint.x.getTime?g[P].dataPoint.x.getTime():g[P].dataPoint.x,yPercent=cumulativeY/g[P].dataSeries.plotUnit.dataPointYSums[I]*100,(I=Math.abs(t-this.parent.convertValueToPixel(yPercent)))<=w&&(w=I,F=P)):(I=Math.abs(t-this.parent.convertValueToPixel(g[P].dataPoint.y)))<=B&&(B=I,F=P);W(w)||(B=Math.min(B,w))}if(w=g[F],P=0,"bottom"===this.parent._position||"top"===this.parent._position){if("rangeBar"===w.dataSeries.type||"error"===w.dataSeries.type){for(B=Math.abs(t-this.parent.convertValueToPixel(w.dataPoint.y[0])),g=0;g<w.dataPoint.y.length;g++)(I=Math.abs(t-this.parent.convertValueToPixel(w.dataPoint.y[g])))<B&&(B=I,P=g);M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(w.dataPoint.y[P])):0|this.parent.convertValueToPixel(w.dataPoint.y[P]),this.value=w.dataPoint.y[P],f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.y[P]}):W(this.options.label)?Be(W(o)?w.dataPoint.y[P]:o,this.valueFormatString,this.chart._cultureInfo):this.label}else"stackedBar"===w.dataSeries.type?(B=Math.abs(t-this.parent.convertValueToPixel(g[0].dataPoint.y)),cumulativeY=w.dataSeries.dataPointEOs[w.index].cumulativeY,M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(cumulativeY)):0|this.parent.convertValueToPixel(cumulativeY),this.value=cumulativeY,f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:cumulativeY}):W(this.options.label)?Be(W(o)?cumulativeY:o,this.valueFormatString,this.chart._cultureInfo):this.label):"stackedBar100"===w.dataSeries.type?(B=Math.abs(t-this.parent.convertValueToPixel(g[0].dataPoint.y)),cumulativeY=w.dataSeries.dataPointEOs[w.index].cumulativeY,I=w.dataPoint.x.getTime?w.dataPoint.x.getTime():w.dataPoint.x,yPercent=cumulativeY/w.dataSeries.plotUnit.dataPointYSums[I]*100,M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(yPercent)):0|this.parent.convertValueToPixel(yPercent),this.value=yPercent,f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:yPercent}):W(this.options.label)?Be(W(o)?yPercent:o,this.valueFormatString,this.chart._cultureInfo):this.label):(M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(w.dataPoint.y)):0|this.parent.convertValueToPixel(w.dataPoint.y),this.value=w.dataPoint.y,f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.y}):W(this.options.label)?Be(W(o)?w.dataPoint.y:o,this.valueFormatString,this.chart._cultureInfo):this.label);n=l=M,this.bounds={x1:n-v/2,y1:p=this.chart.plotArea.y1,x2:l+v/2,y2:m=this.chart.plotArea.y2},f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2?f.x=this.chart.bounds.x2-f.width:f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),f.y=this.parent.lineCoordinates.y2+("top"===this.parent._position?-f.height+this.parent.tickLength:f.fontSize/2)+2,f.y+f.height>this.chart.bounds.y2?f.y=this.chart.bounds.y2-f.height:f.y<this.chart.bounds.y1&&(f.y=this.chart.bounds.y1)}else if("left"===this.parent._position||"right"===this.parent._position){if(p=m=T=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(w.dataPoint.x)):0|this.parent.convertValueToPixel(w.dataPoint.x),this.bounds={x1:n=this.chart.plotArea.x1,y1:p-v/2,x2:l=this.chart.plotArea.x2,y2:m+v/2},P=!1,this.parent.labels)for(B=Math.ceil(this.parent.interval),g=0;g<this.parent.viewportMaximum;g+=B){if(!this.parent.labels[g]){P=!1;break}P=!0}if(P){if("axisX"===this.parent.type)for(B=this.parent.convertPixelToValue({y:d}),F=null,P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(B,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):W(this.options.label)?F.dataPoint.label:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):W(this.options.label)?Be(w.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):W(this.options.label)?Ti(w.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=w.dataPoint.x,f.y=m+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x2-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(B=this.parent.convertPixelToValue({x:t}),P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(B,!0))&&0<=F.index&&(F.dataSeries=this.parent.dataSeries[P],null!==F.dataPoint.y&&F.dataSeries.visible&&g.push(F));if(0===g.length)return;if(g.sort(function(z,et){return z.distance-et.distance}),w=g[0],n=l=M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(w.dataPoint.x)):0|this.parent.convertValueToPixel(w.dataPoint.x),this.bounds={x1:n-v/2,y1:p=this.chart.plotArea.y1,x2:l+v/2,y2:m=this.chart.plotArea.y2},P=!1,this.parent.labels)for(B=Math.ceil(this.parent.interval),g=0;g<this.parent.viewportMaximum;g+=B){if(!this.parent.labels[g]){P=!1;break}P=!0}if(P){if("axisX"===this.parent.type)for(B=this.parent.convertPixelToValue({x:t}),F=null,P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(B,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):W(this.options.label)?F.dataPoint.label:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):W(this.options.label)?Be(w.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.x}):W(this.options.label)?Ti(w.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=w.dataPoint.x,f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.width),f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"bottom"===this.parent._position?f.y=this.parent.lineCoordinates.y2+f.fontSize/2+2:"top"===this.parent._position&&(f.y=this.parent.lineCoordinates.y1-f.height+f.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!W(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(B=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t})),P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(B,!0))&&0<=F.index&&(F.dataSeries=this.parent.dataSeries[P],null!==F.dataPoint.y&&F.dataSeries.visible&&g.push(F));if(0===g.length)return;for(g.sort(function(z,et){return z.distance-et.distance}),I=F=0,B=1/0,P=0;P<g.length;P++){if("rangeColumn"===g[P].dataSeries.type||"rangeArea"===g[P].dataSeries.type||"error"===g[P].dataSeries.type||"rangeSplineArea"===g[P].dataSeries.type||"candlestick"===g[P].dataSeries.type||"ohlc"===g[P].dataSeries.type||"boxAndWhisker"===g[P].dataSeries.type){if(g[P].dataPoint.y)for(Y=0;Y<g[P].dataPoint.y.length;Y++)(I=Math.abs(d-this.parent.convertValueToPixel(g[P].dataPoint.y[Y])))<=B&&(B=I,F=P)}else"stackedColumn"===g[P].dataSeries.type||"stackedArea"===g[P].dataSeries.type?(n=g[P].dataSeries.dataPointEOs[g[P].index].cumulativeY,(I=Math.abs(d-this.parent.convertValueToPixel(n)))<=B&&(B=I,F=P)):"stackedColumn100"===g[P].dataSeries.type||"stackedArea100"===g[P].dataSeries.type?(I=g[0].dataPoint.x.getTime?g[0].dataPoint.x.getTime():g[0].dataPoint.x,W(w)&&(w=Math.abs(d-this.parent.convertValueToPixel(g[0].dataSeries.dataPointEOs[g[0].index].cumulativeY/g[0].dataSeries.plotUnit.dataPointYSums[I]*100))),("stackedColumn100"===g[P].dataSeries.type||"stackedArea100"===g[P].dataSeries.type)&&(T=g[P].dataSeries.dataPointEOs[g[P].index].cumulativeY,I=g[P].dataPoint.x.getTime?g[P].dataPoint.x.getTime():g[P].dataPoint.x,n=T/g[P].dataSeries.plotUnit.dataPointYSums[I]*100,(I=Math.abs(d-this.parent.convertValueToPixel(n)))<=w&&(w=I,F=P))):"waterfall"===g[P].dataSeries.type?(I=Math.abs(d-this.parent.convertValueToPixel(g[P].dataSeries.dataPointEOs[g[P].index].cumulativeSum)))<=B&&(w=B=I,F=P):(I=Math.abs(d-this.parent.convertValueToPixel(g[P].dataPoint.y)))<=B&&(B=I,F=P);W(w)||(B=Math.min(B,w))}if(P=0,"rangeColumn"===(w=g[F]).dataSeries.type||"rangeArea"===w.dataSeries.type||"error"===w.dataSeries.type||"rangeSplineArea"===w.dataSeries.type||"candlestick"===w.dataSeries.type||"ohlc"===w.dataSeries.type||"boxAndWhisker"===w.dataSeries.type){for(B=Math.abs(d-this.parent.convertValueToPixel(w.dataPoint.y[0])),g=0;g<w.dataPoint.y.length;g++)(I=Math.abs(d-this.parent.convertValueToPixel(w.dataPoint.y[g])))<B&&(B=I,P=g);T=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(w.dataPoint.y[P])):0|this.parent.convertValueToPixel(w.dataPoint.y[P]),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataPoint.y[P]}):W(this.options.label)?Be(W(o)?w.dataPoint.y[P]:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=w.dataPoint.y[P]}else"stackedColumn"===w.dataSeries.type||"stackedArea"===w.dataSeries.type?(n=w.dataSeries.dataPointEOs[w.index].cumulativeY,T=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(n)):0|this.parent.convertValueToPixel(n),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:n}):W(this.options.label)?Be(W(o)?n:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=n):"stackedColumn100"===w.dataSeries.type||"stackedArea100"===w.dataSeries.type?(T=w.dataSeries.dataPointEOs[w.index].cumulativeY,I=w.dataPoint.x.getTime?w.dataPoint.x.getTime():w.dataPoint.x,n=T/w.dataSeries.plotUnit.dataPointYSums[I]*100,T=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(n)):0|this.parent.convertValueToPixel(n),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:n}):W(this.options.label)?Be(W(o)?n:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=n):"waterfall"===w.dataSeries.type?(T=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(w.dataSeries.dataPointEOs[w.index].cumulativeSum)):0|this.parent.convertValueToPixel(w.dataSeries.dataPointEOs[w.index].cumulativeSum),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:w.dataSeries.dataPointEOs[w.index].cumulativeSum}):W(this.options.label)?Be(W(o)?w.dataSeries.dataPointEOs[w.index].cumulativeSum:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=w.dataSeries.dataPointEOs[w.index].cumulativeSum):(T=h.lineWidth%2==1?(W(t)?d:0|this.parent.convertValueToPixel(w.dataPoint.y))+.5:W(t)?d:0|this.parent.convertValueToPixel(w.dataPoint.y),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?w.dataPoint.y:o}):W(this.options.label)?Be(W(o)?w.dataPoint.y:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=w.dataPoint.y);p=m=T,this.bounds={x1:n=this.chart.plotArea.x1,y1:p-v/2,x2:l=this.chart.plotArea.x2,y2:m+v/2},f.y=m+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x2-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2)}g=null,h.globalAlpha=b,("bottom"===this.parent._position||"top"===this.parent._position)&&("top"===this.parent._position&&f.y-f.fontSize/2<this.chart.bounds.y1&&(f.y=this.chart.bounds.y1+f.fontSize/2),"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-f.fontSize/2+f.measureText().height>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.height+f.fontSize/2+2),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<v&&(h.moveTo(n,p),h.lineTo(l,m),h.stroke(),this._hidden=!1)),("left"===this.parent._position||"right"===this.parent._position)&&("left"===this.parent._position&&f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"right"===this.parent._position&&f.x+f.measureText().width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.measureText().width),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<v&&(h.moveTo(n,p),h.lineTo(l,m),h.stroke(),this._hidden=!1))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(n=l=M=h.lineWidth%2==1?.5+(0|t):0|t,this.bounds={x1:n-v/2,y1:p=this.chart.plotArea.y1,x2:l+v/2,y2:m=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(p=m=T=h.lineWidth%2==1?.5+(0|d):0|d,this.bounds={x1:n=this.chart.plotArea.x1,y1:p-v/2,x2:l=this.chart.plotArea.x2,y2:m+v/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(P=!1,this.parent.labels)for(B=Math.ceil(this.parent.interval),g=0;g<this.parent.viewportMaximum;g+=B){if(!this.parent.labels[g]){P=!1;break}P=!0}if(P){if("axisX"===this.parent.type)for(B=this.parent.convertPixelToValue({y:d}),F=null,P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(B,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(t):o}):W(this.options.label)?F.dataPoint.label:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(d):o}):W(this.options.label)?Be(W(o)?this.parent.convertPixelToValue(d):o,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(d):o}):W(this.options.label)?Ti(W(o)?this.parent.convertPixelToValue(d):o,this.valueFormatString,this.chart._cultureInfo):this.label;f.y=d+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x1-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2)}else("bottom"===this.parent._position||"top"===this.parent._position)&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(t):o}):W(this.options.label)?Be(W(o)?this.parent.convertPixelToValue(t):o,this.valueFormatString,this.chart._cultureInfo):this.label,f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.width),f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"bottom"===this.parent._position?f.y=this.parent.lineCoordinates.y2+f.fontSize/2+2:"top"===this.parent._position&&(f.y=this.parent.lineCoordinates.y1-f.height+f.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(P=!1,g="",this.parent.labels)for(B=Math.ceil(this.parent.interval),g=0;g<this.parent.viewportMaximum;g+=B){if(!this.parent.labels[g]){P=!1;break}P=!0}if(P){if("axisX"===this.parent.type)for(B=this.parent.convertPixelToValue({x:t}),F=null,P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(B,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(t):o}):W(this.options.label)?W(o)?F.dataPoint.label:o:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):"":o}):W(this.options.label)?Be(W(o)?this.parent.convertPixelToValue(t):o,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(t):o}):W(this.options.label)?Ti(W(o)?this.parent.convertPixelToValue(t):o,this.valueFormatString,this.chart._cultureInfo):this.label;f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.width),f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"bottom"===this.parent._position?f.y=this.parent.lineCoordinates.y2+f.fontSize/2+2:"top"===this.parent._position&&(f.y=this.parent.lineCoordinates.y1-f.height+f.fontSize/2+2)}else("left"===this.parent._position||"right"===this.parent._position)&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(d):o}):W(this.options.label)?Be(W(o)?this.parent.convertPixelToValue(d):o,this.valueFormatString,this.chart._cultureInfo):this.label,f.y=d+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x2-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2));"left"===this.parent._position&&f.x<this.chart.bounds.x1?f.x=this.chart.bounds.x1:"right"===this.parent._position&&f.x+f.measureText().width>this.chart.bounds.x2?f.x=this.chart.bounds.x2-f.measureText().width:"top"===this.parent._position&&f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2:"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-f.fontSize/2+f.measureText().height>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.height+f.fontSize/2+2),h.globalAlpha=b,0<v&&(h.moveTo(n,p),h.lineTo(l,m),h.stroke(),this._hidden=!1),this.value=this.parent.convertPixelToValue("bottom"===this.parent._position||"top"===this.parent._position?t:d)}("bottom"===this.parent._position||"top"===this.parent._position)&&(this.parent.sessionVariables.crosshairValue=this._updatedValue=this.parent.convertPixelToValue(M)),("left"===this.parent._position||"right"===this.parent._position)&&(this.parent.sessionVariables.crosshairValue=this._updatedValue=this.parent.convertPixelToValue(T)),this._textBlock=f,this._label=o,W(o)||this.renderLabel(),h.restore(),h.globalAlpha=_},We.prototype.renderLabel=function(){this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&(W(this._textBlock)||W(this._textBlock.text)||!("number"==typeof this._textBlock.text.valueOf()||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0),W(this._label)&&this.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this.parent,value:this.value},this.parent))},De(Te,ve),Te.prototype._updateOptions=function(){this.updateOption("enabled"),this.updateOption("shared"),this.updateOption("animationEnabled"),this.updateOption("content"),this.updateOption("contentFormatter"),this.updateOption("reversed"),this.updateOption("backgroundColor"),this.updateOption("borderColor"),this.updateOption("borderThickness"),this.updateOption("cornerRadius"),this.updateOption("fontSize"),this.updateOption("fontColor"),this.updateOption("fontFamily"),this.updateOption("fontWeight"),this.updateOption("fontStyle")},Te.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var t=document.createElement("div");t.style.width="auto",t.style.height="auto",t.style.minWidth="50px",t.style.lineHeight="normal",t.style.margin="0px 0px 0px 0px",t.style.padding="5px",t.style.fontFamily="Calibri, Arial, Georgia, serif",t.style.fontWeight="normal",t.style.fontStyle=j?"italic":"normal",t.style.fontSize="14px",t.style.color="#000000",t.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",t.style.textAlign="left",t.style.border="2px solid gray",t.style.background=j?"rgba(255,255,255,.9)":"rgb(255,255,255)",t.style.textIndent="0px",t.style.whiteSpace="nowrap",t.style.borderRadius="5px",t.style.MozUserSelect="none",t.style.WebkitUserSelect="none",t.style.msUserSelect="none",t.style.userSelect="none",j||(t.style.filter="alpha(opacity = 90)",t.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),t.innerText="Sample Tooltip",this.container.appendChild(t),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},Te.prototype.mouseMoveHandler=function(t,d){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,d),this.enabled&&this._updatedEventParameters&&!isNaN(this._prevX)&&!isNaN(this._prevY)&&this.dispatchEvent("updated",this._updatedEventParameters,this))},Te.prototype._updateToolTip=function(t,d,o){if(o=typeof o>"u"||o,this._updateOptions(),this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof t>"u"||typeof d>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,d=this._prevY}else this._prevX=t,this._prevY=d;var n=null,l=null,p=[],m=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){var M=[];if(this.chart.axisX)for(var T=0;T<this.chart.axisX.length;T++){m=this.chart.axisX[T].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:d}:{x:t});var f=null;for(n=0;n<this.chart.axisX[T].dataSeries.length;n++)(f=this.chart.axisX[T].dataSeries[n].getDataPointAtX(m,o))&&0<=f.index&&(f.dataSeries=this.chart.axisX[T].dataSeries[n],null!==f.dataPoint.y&&f.dataSeries.visible&&M.push(f));f=null}if(this.chart.axisX2)for(T=0;T<this.chart.axisX2.length;T++){for(m=this.chart.axisX2[T].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:d}:{x:t}),f=null,n=0;n<this.chart.axisX2[T].dataSeries.length;n++)(f=this.chart.axisX2[T].dataSeries[n].getDataPointAtX(m,o))&&0<=f.index&&(f.dataSeries=this.chart.axisX2[T].dataSeries[n],null!==f.dataPoint.y&&f.dataSeries.visible&&M.push(f));f=null}if(0===M.length)return;for(M.sort(function(g,b){return g.dataSeries.axisX.logarithmic||b.dataSeries.axisX.logarithmic?g.distance-b.distance:g.distance/g.dataSeries.axisX.range-b.distance/b.dataSeries.axisX.range}),o=M[0],n=0;n<M.length;n++)M[n].dataPoint.x.valueOf()===o.dataPoint.x.valueOf()&&p.push(M[n]);M=null}else{if(n=this.chart.getDataPointAtXY(t,d,o))this.currentDataPointIndex=n.dataPointIndex,this.currentSeriesIndex=n.dataSeries.index;else if(j)if(0<(n=Re(t,d,this.chart._eventManager.ghostCtx))&&typeof this.chart._eventManager.objectMap[n]<"u"){if("legendItem"===(n=this.chart._eventManager.objectMap[n]).objectType)return;this.currentSeriesIndex=n.dataSeriesIndex,this.currentDataPointIndex=0<=n.dataPointIndex?n.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(l=this.chart.data[this.currentSeriesIndex],f={},0<=this.currentDataPointIndex)n=l.dataPoints[this.currentDataPointIndex],f.dataSeries=l,f.dataPoint=n,f.index=this.currentDataPointIndex,f.distance=Math.abs(n.x-m),"waterfall"===l.type&&(f.cumulativeSumYStartValue=l.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,f.cumulativeSum=l.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||!l||"line"!==l.type&&"stepLine"!==l.type&&"spline"!==l.type&&"area"!==l.type&&"stepArea"!==l.type&&"splineArea"!==l.type&&"stackedArea"!==l.type&&"stackedArea100"!==l.type&&"rangeArea"!==l.type&&"rangeSplineArea"!==l.type&&"candlestick"!==l.type&&"ohlc"!==l.type&&"boxAndWhisker"!==l.type)return void("toolTip"===this.chart.clearedOverlayedCanvas&&(this.chart.resetOverlayedCanvas(),this.chart.clearedOverlayedCanvas=null,this.container.style.display="none"));m=l.axisX.convertPixelToValue({x:t}),W(f=l.getDataPointAtX(m,o))||(f.dataSeries=l,this.currentDataPointIndex=f.index,n=f.dataPoint)}if(!W(f)&&!W(f.dataPoint)&&!W(f.dataPoint.y))if(f.dataSeries.axisY)if(0<f.dataPoint.y.length){for(n=o=0;n<f.dataPoint.y.length;n++)f.dataPoint.y[n]<f.dataSeries.axisY.viewportMinimum?o--:f.dataPoint.y[n]>f.dataSeries.axisY.viewportMaximum&&o++;o<f.dataPoint.y.length&&o>-f.dataPoint.y.length&&p.push(f)}else"column"===l.type||"bar"===l.type?0>f.dataPoint.y?0>f.dataSeries.axisY.viewportMinimum&&f.dataSeries.axisY.viewportMaximum>=f.dataPoint.y&&p.push(f):f.dataSeries.axisY.viewportMinimum<=f.dataPoint.y&&0<=f.dataSeries.axisY.viewportMaximum&&p.push(f):"bubble"===l.type?f.dataPoint.y>=f.dataSeries.axisY.viewportMinimum-(o=this.chart._eventManager.objectMap[l.dataPointIds[f.index]].size/2)&&f.dataPoint.y<=f.dataSeries.axisY.viewportMaximum+o&&p.push(f):"waterfall"===l.type?(o=0,f.cumulativeSumYStartValue<f.dataSeries.axisY.viewportMinimum?o--:f.cumulativeSumYStartValue>f.dataSeries.axisY.viewportMaximum&&o++,f.cumulativeSum<f.dataSeries.axisY.viewportMinimum?o--:f.cumulativeSum>f.dataSeries.axisY.viewportMaximum&&o++,2>o&&-2<o&&p.push(f)):(0<=f.dataSeries.type.indexOf("100")||"stackedColumn"===l.type||"stackedBar"===l.type||f.dataPoint.y>=f.dataSeries.axisY.viewportMinimum&&f.dataPoint.y<=f.dataSeries.axisY.viewportMaximum)&&p.push(f);else p.push(f)}}if(0<p.length){if(this.highlightObjects(p),this.enabled){if(o="",null!==(o=this.getToolTipInnerHTML({entries:p}))){if(this.contentDiv.innerHTML=o,this.isToolTipDefinedInData&&W(this.options.content)&&W(this.options.contentFormatter))for(m=this.contentDiv.getElementsByTagName("span"),n=0;n<m.length;n++)m[n]&&(m[n].style.color=m[n].getAttribute("data-color"));m=!1,"none"===this.container.style.display&&(m=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:j?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:0<p[0].dataPoint.y?p[0].dataSeries.risingColor:p[0].dataSeries.fallingColor:"error"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[l.index%p[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[p[0].index%p[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:j?"italic":"normal"}catch{}"pie"===p[0].dataSeries.type||"doughnut"===p[0].dataSeries.type||"funnel"===p[0].dataSeries.type||"pyramid"===p[0].dataSeries.type||"bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?t=t-10-this.container.clientWidth:(t=p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)-this.container.clientWidth|0,t-=10),0>t&&(t+=this.container.clientWidth+20),t+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(t=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(d=10-(d=1!==p.length||this.shared||"line"!==p[0].dataSeries.type&&"stepLine"!==p[0].dataSeries.type&&"spline"!==p[0].dataSeries.type&&"area"!==p[0].dataSeries.type&&"stepArea"!==p[0].dataSeries.type&&"splineArea"!==p[0].dataSeries.type?"bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x):d:p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y)))+this.container.clientHeight+5&&(d-=d+this.container.clientHeight+5-0),this.fixMozTransitionDelay(t,d),!this.animationEnabled||m?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=t,this.positionBottom=d,this.container.style.left=t+"px",this.container.style.bottom=d+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(d=[],n=0;n<p.length;n++)d.push({xValue:p[n].dataPoint.x,dataPoint:p[n].dataPoint,dataSeries:p[n].dataSeries,dataPointIndex:p[n].index,dataSeriesIndex:p[n].dataSeries._index});this._updatedEventParameters={chart:this.chart,toolTip:this.options,content:o,entries:d},this._entries=p}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);this._dataSeriesIndex=this._xValue=null}},Te.prototype.highlightObjects=function(t){var d=this.chart.overlaidCanvasCtx;W(this.chart.clearedOverlayedCanvas)||"toolTip"===this.chart.clearedOverlayedCanvas?(this.chart.resetOverlayedCanvas(),d.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"):this.chart.clearedOverlayedCanvas=null,d.save();var o=this.chart.plotArea,n=0;for(d.beginPath(),d.rect(o.x1,o.y1,o.x2-o.x1,o.y2-o.y1),d.clip(),o=0;o<t.length;o++){var l=t[o];if((l=this.chart._eventManager.objectMap[l.dataSeries.dataPointIds[l.index]])&&l.objectType&&"dataPoint"===l.objectType){var p=(n=this.chart.data[l.dataSeriesIndex]).dataPoints[l.dataPointIndex],m=l.dataPointIndex;!1===p.highlightEnabled||!0!==n.highlightEnabled&&!0!==p.highlightEnabled||("line"===n.type||"stepLine"===n.type||"spline"===n.type||"scatter"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type?((p=n.getMarkerProperties(m,l.x1,l.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*p.size|0,10),p.borderColor=p.borderColor||"#FFFFFF",p.borderThickness=p.borderThickness||Math.ceil(.1*p.size),ue.drawMarkers([p]),typeof l.y2<"u"&&((p=n.getMarkerProperties(m,l.x1,l.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*p.size|0,10),p.borderColor=p.borderColor||"#FFFFFF",p.borderThickness=p.borderThickness||Math.ceil(.1*p.size),ue.drawMarkers([p]))):"bubble"===n.type?((p=n.getMarkerProperties(m,l.x1,l.y1,this.chart.overlaidCanvasCtx)).size=l.size,p.color="white",p.borderColor="white",d.globalAlpha=.3,ue.drawMarkers([p]),d.globalAlpha=1):"column"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"bar"===n.type||"rangeBar"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"rangeColumn"===n.type||"waterfall"===n.type?_e(d,l.x1,l.y1,l.x2,l.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===n.type||"doughnut"===n.type?Ne(d,l.center,l.radius,"white",n.type,l.startAngle,l.endAngle,.3,l.percentInnerRadius):"funnel"===n.type||"pyramid"===n.type?Ke(d,l.funnelSection,.3,"white"):"candlestick"===n.type?(d.globalAlpha=1,d.strokeStyle=l.color,d.lineWidth=2*l.borderThickness,n=d.lineWidth%2==0?0:.5,d.beginPath(),d.moveTo(l.x3-n,Math.min(l.y2,l.y3)),d.lineTo(l.x3-n,Math.min(l.y1,l.y4)),d.stroke(),d.beginPath(),d.moveTo(l.x3-n,Math.max(l.y1,l.y4)),d.lineTo(l.x3-n,Math.max(l.y2,l.y3)),d.stroke(),_e(d,l.x1,Math.min(l.y1,l.y4),l.x2,Math.max(l.y1,l.y4),"transparent",2*l.borderThickness,l.color,!1,!1,!1,!1),d.globalAlpha=1):"ohlc"===n.type?(d.globalAlpha=1,d.strokeStyle=l.color,d.lineWidth=2*l.borderThickness,n=d.lineWidth%2==0?0:.5,d.beginPath(),d.moveTo(l.x3-n,l.y2),d.lineTo(l.x3-n,l.y3),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y1),d.lineTo(l.x1,l.y1),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y4),d.lineTo(l.x2,l.y4),d.stroke(),d.globalAlpha=1):"boxAndWhisker"===n.type?(d.save(),d.globalAlpha=1,d.strokeStyle=l.stemColor,d.lineWidth=2*l.stemThickness,0<l.stemThickness&&(d.beginPath(),d.moveTo(l.x3,l.y2+l.borderThickness/2),d.lineTo(l.x3,l.y1+l.whiskerThickness/2),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y4-l.whiskerThickness/2),d.lineTo(l.x3,l.y3-l.borderThickness/2),d.stroke()),d.beginPath(),_e(d,l.x1,Math.max(l.y2,l.y3),l.x2,Math.min(l.y2,l.y3),"transparent",2*l.borderThickness,l.color,!1,!1,!1,!1),d.globalAlpha=1,d.strokeStyle=l.whiskerColor,d.lineWidth=2*l.whiskerThickness,0<l.whiskerThickness&&(d.beginPath(),d.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y4),d.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y4),d.stroke(),d.beginPath(),d.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y1),d.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y1),d.stroke()),d.globalAlpha=1,d.strokeStyle=l.lineColor,d.lineWidth=2*l.lineThickness,0<l.lineThickness&&(d.beginPath(),d.moveTo(l.x1,l.y5),d.lineTo(l.x2,l.y5),d.stroke()),d.restore(),d.globalAlpha=1):"error"===n.type&&tt(d,l.x1,l.y1,l.x2,l.y2,"white",l.whiskerProperties,l.stemProperties,l.isXYSwapped,.3))}}d.restore(),d.globalAlpha=1,d.beginPath()},Te.prototype.getToolTipInnerHTML=function(t){t=t.entries;var d=null,o=null,n=null,l=0,p="";this.isToolTipDefinedInData=!0;for(var m=0;m<t.length;m++)if(t[m].dataSeries.toolTipContent||t[m].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&"function"==typeof this.content||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:t},d=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var M=null,T="";for(m=0;m<t.length;m++){if(o=t[m].dataSeries,n=t[m].dataPoint,l=t[m].index,p="",0===m&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?T+=typeof this.chart.axisX[0].labels[n.x]<"u"?this.chart.axisX[0].labels[n.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(T+=typeof this.chart.axisX2[0].labels[n.x]<"u"?this.chart.axisX2[0].labels[n.x]:"{x}"),T+="</br>",!o.visible)continue;T=this.chart.replaceKeywordsWithValue(T,n,o,l)}null===n.toolTipContent||typeof n.toolTipContent>"u"&&null===o.options.toolTipContent||("line"===o.type||"stepLine"===o.type||"spline"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"column"===o.type||"bar"===o.type||"scatter"===o.type||"stackedColumn"===o.type||"stackedColumn100"===o.type||"stackedBar"===o.type||"stackedBar100"===o.type||"stackedArea"===o.type||"stackedArea100"===o.type||"waterfall"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",M=o.axisXIndex):"bubble"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===o.type||"rangeBar"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"error"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===o.type||"ohlc"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===o.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===d&&(d=""),o.visible&&(!0===this.reversed?(d=this.chart.replaceKeywordsWithValue(p,n,o,l)+d,m<t.length-1&&(d="</br>"+d)):(d+=this.chart.replaceKeywordsWithValue(p,n,o,l),m<t.length-1&&(d+="</br>"))))}null!==d&&(d=T+d)}else{if(o=t[0].dataSeries,null===(n=t[0].dataPoint).toolTipContent||typeof n.toolTipContent>"u"&&null===o.options.toolTipContent)return null;"line"===o.type||"stepLine"===o.type||"spline"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"column"===o.type||"bar"===o.type||"scatter"===o.type||"stackedColumn"===o.type||"stackedColumn100"===o.type||"stackedBar"===o.type||"stackedBar100"===o.type||"stackedArea"===o.type||"stackedArea100"===o.type||"waterfall"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===o.type||"doughnut"===o.type||"funnel"===o.type||"pyramid"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.name?"{name}:</span>&nbsp;&nbsp;":n.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===o.type||"rangeBar"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"error"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===o.type||"ohlc"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===o.type&&(p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===d&&(d=""),d+=this.chart.replaceKeywordsWithValue(p,n,o,l=t[0].index)}return d},Te.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var t=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition}},Te.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Te.prototype.hide=function(t){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._entries=this._dataSeriesIndex=this._xValue=null,this._prevY=this._prevX=NaN,this._updatedEventParameters=null,(typeof t>"u"||t)&&this.chart.resetOverlayedCanvas())},Te.prototype.show=function(t,d,o){this._updateToolTip(t,d,!(typeof o>"u")&&o)},Te.prototype.showAtIndex=function(t,d){},Te.prototype.showAtX=function(t,d){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null,this._updateOptions();var o,n,l,p=[];if(l=!1,d=!W(d)&&0<=d&&d<this.chart.data.length?d:0,this.shared)for(var m=0;m<this.chart.data.length;m++)(n=(o=this.chart.data[m]).getDataPointAtX(t,!1))&&n.dataPoint&&!W(n.dataPoint.y)&&o.visible&&(n.dataSeries=o,this.chart.data[d].axisX.convertValueToPixel(t)===o.axisX.convertValueToPixel(n.dataPoint.x)&&p.push(n));else(n=(o=this.chart.data[d]).getDataPointAtX(t,!1))&&n.dataPoint&&!W(n.dataPoint.y)&&o.visible&&(n.dataSeries=o,p.push(n));if(!(0<p.length))return this.hide(),!1;for(m=0;m<p.length;m++){if(n=p[m],(this.shared||0<=n.dataSeries.type.indexOf("100"))&&n.dataPoint.x>=n.dataSeries.axisX.viewportMinimum&&n.dataPoint.x<=n.dataSeries.axisX.viewportMaximum){l=!1;break}if(!(n.dataPoint.x<n.dataSeries.axisX.viewportMinimum||n.dataPoint.x>n.dataSeries.axisX.viewportMaximum||n.dataPoint.y<n.dataSeries.axisY.viewportMinimum||n.dataPoint.y>n.dataSeries.axisY.viewportMaximum)){l=!1;break}l=!0}if(l)return this.hide(),!1;if(this.highlightObjects(p),this._entries=p,m="",null===(m=this.getToolTipInnerHTML({entries:p})))return this.hide(!1),!1;if(this.contentDiv.innerHTML=m,this.isToolTipDefinedInData&&W(this.options.content)&&W(this.options.contentFormatter))for(n=this.contentDiv.getElementsByTagName("span"),m=0;m<n.length;m++)n[m]&&(n[m].style.color=n[m].getAttribute("data-color"));m=!1,"none"===this.container.style.display&&(m=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:j?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:0<p[0].dataPoint.y?p[0].dataSeries.risingColor:p[0].dataSeries.fallingColor:"error"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[o.index%p[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[p[0].index%p[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:j?"italic":"normal"}catch{}return"pie"===p[0].dataSeries.type||"doughnut"===p[0].dataSeries.type||"funnel"===p[0].dataSeries.type||"pyramid"===p[0].dataSeries.type?o=mouseX-10-this.container.clientWidth:(o="bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y)-this.container.clientWidth|0:p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)-this.container.clientWidth|0,o-=10),0>o&&(o+=this.container.clientWidth+20),o+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(o=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(p=10-(p=!(1!==p.length||this.shared||"line"!==p[0].dataSeries.type&&"stepLine"!==p[0].dataSeries.type&&"spline"!==p[0].dataSeries.type&&"area"!==p[0].dataSeries.type&&"stepArea"!==p[0].dataSeries.type&&"splineArea"!==p[0].dataSeries.type)||"bar"!==p[0].dataSeries.type&&"rangeBar"!==p[0].dataSeries.type&&"stackedBar"!==p[0].dataSeries.type&&"stackedBar100"!==p[0].dataSeries.type?p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y):p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)))+this.container.clientHeight+5&&(p-=p+this.container.clientHeight+5-0),this.fixMozTransitionDelay(o,p),!this.animationEnabled||m?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=o+"px",this.container.style.bottom=p+"px",this._xValue=t,this._dataSeriesIndex=d,this._prevY=this._prevX=NaN,!0},Te.prototype.fixMozTransitionDelay=function(t,d){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var o=parseFloat(this.container.style.left),n=(o=isNaN(o)?0:o,parseFloat(this.container.style.bottom));n=isNaN(n)?0:n,this.mozContainerTransition=10<Math.sqrt(Math.pow(o-t,2)+Math.pow(n-d,2))?this.getContainerTransition(.1):this.getContainerTransition(0)}},Te.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},Se.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],j&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},Se.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},Se.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var d=[],o=as(t),n=null;if((n=this.chart.getObjectAtXY(o.x,o.y,!1))&&typeof this.objectMap[n]<"u")if("dataPoint"===(n=this.objectMap[n]).objectType){var l=this.chart.data[n.dataSeriesIndex],p=l.dataPoints[n.dataPointIndex],m=n.dataPointIndex;n.eventParameter={x:o.x,y:o.y,dataPoint:p,dataSeries:l.options,dataPointIndex:m,dataSeriesIndex:l.index,chart:this.chart},n.eventContext={context:p,userContext:p,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},d.push(n),(n=this.objectMap[l.id]).eventParameter={x:o.x,y:o.y,dataPoint:p,dataSeries:l.options,dataPointIndex:m,dataSeriesIndex:l.index,chart:this.chart},n.eventContext={context:l,userContext:l.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},d.push(this.objectMap[l.id])}else"legendItem"===n.objectType&&(n.eventParameter={x:o.x,y:o.y,dataSeries:(l=this.chart.data[n.dataSeriesIndex]).options,dataPoint:p=null!==n.dataPointIndex?l.dataPoints[n.dataPointIndex]:null,dataPointIndex:n.dataPointIndex,dataSeriesIndex:n.dataSeriesIndex,chart:this.chart},n.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},d.push(n));for(l=[],o=0;o<this.mouseoveredObjectMaps.length;o++){for(p=!0,n=0;n<d.length;n++)if(d[n].id===this.mouseoveredObjectMaps[o].id){p=!1;break}p?this.fireEvent(this.mouseoveredObjectMaps[o],"mouseout",t):l.push(this.mouseoveredObjectMaps[o])}for(this.mouseoveredObjectMaps=l,o=0;o<d.length;o++){for(l=!1,n=0;n<this.mouseoveredObjectMaps.length;n++)if(d[o].id===this.mouseoveredObjectMaps[n].id){l=!0;break}l||(this.fireEvent(d[o],"mouseover",t),this.mouseoveredObjectMaps.push(d[o])),"click"===t.type?this.fireEvent(d[o],"click",t):"mousemove"===t.type&&this.fireEvent(d[o],"mousemove",t)}}},Se.prototype.fireEvent=function(t,d,o){if(t&&d){var n=t.eventParameter,l=t.eventContext,p=t.eventContext.userContext;p&&l&&p[l[d]]&&p[l[d]].call(p,n),"mouseout"!==d?p.cursor&&p.cursor!==o.target.style.cursor&&(o.target.style.cursor=p.cursor):(o.target.style.cursor=this.chart.panEnabled&&("itemmouseout"!==l.mouseout||p.dockInsidePlotArea)?"move":this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===d&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],n),"click"===d&&"dataPoint"===t.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],n)}},Qt.prototype.animate=function(t,d,o,n,l){var p=this;for(this.chart.isAnimating=!0,l=l||Dt.easing.linear,o&&this.animations.push({startTime:(new Date).getTime()+(t||0),duration:d,animationCallback:o,onComplete:n}),t=[];0<this.animations.length;)d=this.animations.shift(),o=(new Date).getTime(),n=0,d.startTime<=o&&(n=l(Math.min(o-d.startTime,d.duration),0,1,d.duration),n=Math.min(n,1),isNaN(n)||!isFinite(n))&&(n=1),1>n&&t.push(d),d.animationCallback(n),1<=n&&d.onComplete&&d.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){p.animate.call(p)}):this.chart.isAnimating=!1},Qt.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var Dt={yScaleAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas,l=d.animationBase;o.drawImage(n,0,0,n.width,n.height,0,l-l*t,o.canvas.width/Je,t*o.canvas.height/Je)}},xScaleAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas,l=d.animationBase;o.drawImage(n,0,0,n.width,n.height,l-l*t,0,t*o.canvas.width/Je,o.canvas.height/Je)}},xClipAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas;o.save(),0<t&&o.drawImage(n,0,0,n.width*t,n.height,0,0,n.width*t/Je,n.height/Je),o.restore()}},fadeInAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas;o.save(),o.globalAlpha=t,o.drawImage(n,0,0,n.width,n.height,0,0,o.canvas.width/Je,o.canvas.height/Je),o.restore()}},easing:{linear:function(t,d,o,n){return o*t/n+d},easeOutQuad:function(t,d,o,n){return-o*(t/=n)*(t-2)+d},easeOutQuart:function(t,d,o,n){return-o*((t=t/n-1)*t*t*t-1)+d},easeInQuad:function(t,d,o,n){return o*(t/=n)*t+d},easeInQuart:function(t,d,o,n){return o*(t/=n)*t*t*t+d}}},ue={drawMarker:function(t,d,o,n,l,p,m,M){if(o){var T=1;o.fillStyle=p||"#000000",o.strokeStyle=m||"#000000",o.lineWidth=M||0,o.setLineDash&&o.setLineDash(xt("solid",M)),"circle"===n?(o.moveTo(t,d),o.beginPath(),o.arc(t,d,l/2,0,2*Math.PI,!1),p&&o.fill(),M&&(m?o.stroke():(T=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=T))):"square"===n?(o.beginPath(),o.rect(t-l/2,d-l/2,l,l),p&&o.fill(),M&&(m?o.stroke():(T=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=T))):"triangle"===n?(o.beginPath(),o.moveTo(t-l/2,d+l/2),o.lineTo(t+l/2,d+l/2),o.lineTo(t,d-l/2),o.closePath(),p&&o.fill(),M&&(m?o.stroke():(T=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=T)),o.beginPath()):"cross"===n&&(o.strokeStyle=p,o.lineWidth=l/4,o.beginPath(),o.moveTo(t-l/2,d-l/2),o.lineTo(t+l/2,d+l/2),o.stroke(),o.moveTo(t+l/2,d-l/2),o.lineTo(t-l/2,d+l/2),o.stroke())}},drawMarkers:function(t){for(var d=0;d<t.length;d++){var o=t[d];ue.drawMarker(o.x,o.y,o.ctx,o.type,o.size,o.color,o.borderColor,o.borderThickness)}}};return A}(),V.version="v3.10.4 GA",window.CanvasJS&&V&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=V)})(),document.createElement("canvas").getContext||function(){function De(){return this.context_||(this.context_=new xt(this))}function di(V){return String(V).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function kt(V){V.namespaces.g_vml_||V.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),V.namespaces.g_o_||V.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),V.styleSheets.ex_canvas_||((V=V.createStyleSheet()).owningElement.id="ex_canvas_",V.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function Ge(V){var G=V.srcElement;switch(V.propertyName){case"width":G.getContext().clearRect(),G.style.width=G.attributes.width.nodeValue+"px",G.firstChild.style.width=G.clientWidth+"px";break;case"height":G.getContext().clearRect(),G.style.height=G.attributes.height.nodeValue+"px",G.firstChild.style.height=G.clientHeight+"px"}}function je(V){(V=V.srcElement).firstChild&&(V.firstChild.style.width=V.clientWidth+"px",V.firstChild.style.height=V.clientHeight+"px")}function zt(V,G){for(var it=[[1,0,0],[0,1,0],[0,0,1]],at=0;3>at;at++)for(var ft=0;3>ft;ft++){for(var bt=0,Xt=0;3>Xt;Xt++)bt+=V[at][Xt]*G[Xt][ft];it[at][ft]=bt}return it}function Vi(V,G){G.fillStyle=V.fillStyle,G.lineCap=V.lineCap,G.lineJoin=V.lineJoin,G.lineWidth=V.lineWidth,G.miterLimit=V.miterLimit,G.shadowBlur=V.shadowBlur,G.shadowColor=V.shadowColor,G.shadowOffsetX=V.shadowOffsetX,G.shadowOffsetY=V.shadowOffsetY,G.strokeStyle=V.strokeStyle,G.globalAlpha=V.globalAlpha,G.font=V.font,G.textAlign=V.textAlign,G.textBaseline=V.textBaseline,G.arcScaleX_=V.arcScaleX_,G.arcScaleY_=V.arcScaleY_,G.lineScale_=V.lineScale_}function W(V){var it=V.indexOf("(",3),G=V.indexOf(")",it+1);return(4!=(it=V.substring(it+1,G).split(",")).length||"a"!=V.charAt(3))&&(it[3]=1),it}function mi(V,G,it){return Math.min(it,Math.max(G,V))}function Mi(V,G,it){return 0>it&&it++,1<it&&it--,1>6*it?V+6*(G-V)*it:1>2*it?G:2>3*it?V+6*(G-V)*(2/3-it):V}function Bi(V){if(V in ei)return ei[V];var G,it=1;if("#"==(V=String(V)).charAt(0))G=V;else if(/^rgb/.test(V)){it=W(V),G="#";for(var at,ft=0;3>ft;ft++)at=-1!=it[ft].indexOf("%")?Math.floor(parseFloat(it[ft])/100*255):+it[ft],G+=Si[mi(at,0,255)];it=+it[3]}else if(/^hsl/.test(V)){if(ft=it=W(V),0>(G=parseFloat(ft[0])/360%360)&&G++,at=mi(parseFloat(ft[1])/100,0,1),ft=mi(parseFloat(ft[2])/100,0,1),0==at)at=ft=G=ft;else{var bt=.5>ft?ft*(1+at):ft+at-ft*at,Xt=2*ft-bt;at=Mi(Xt,bt,G+1/3),ft=Mi(Xt,bt,G),G=Mi(Xt,bt,G-1/3)}G="#"+Si[Math.floor(255*at)]+Si[Math.floor(255*ft)]+Si[Math.floor(255*G)],it=it[3]}else G=Ei[V]||V;return ei[V]={color:G,alpha:it}}function xt(V){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*ee,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=V;var G="width:"+V.clientWidth+"px;height:"+V.clientHeight+"px;overflow:hidden;position:absolute",it=V.ownerDocument.createElement("div");it.style.cssText=G,V.appendChild(it),(G=it.cloneNode(!1)).style.backgroundColor="red",G.style.filter="alpha(opacity=0)",V.appendChild(G),this.element_=it,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function Rt(V,G,it,at){V.currentPath_.push({type:"bezierCurveTo",cp1x:G.x,cp1y:G.y,cp2x:it.x,cp2y:it.y,x:at.x,y:at.y}),V.currentX_=at.x,V.currentY_=at.y}function Ue(V,G){var it=(at=Bi(V.strokeStyle)).color,at=at.alpha*V.globalAlpha,ft=V.lineScale_*V.lineWidth;1>ft&&(at*=ft),G.push("<g_vml_:stroke",' opacity="',at,'"',' joinstyle="',V.lineJoin,'"',' miterlimit="',V.miterLimit,'"',' endcap="',pi[V.lineCap]||"square",'"',' weight="',ft,'px"',' color="',it,'" />')}function Re(V,G,it,at){var ft=V.fillStyle,bt=V.arcScaleX_,Xt=V.arcScaleY_,ae=at.x-it.x,me=at.y-it.y;if(ft instanceof Wi){var $t=0,Ct=at=0,yt=0,Ot=1;if("gradient"==ft.type_){$t=ft.x1_/bt,it=ft.y1_/Xt;var Vt=qt(V,ft.x0_/bt,ft.y0_/Xt);$t=qt(V,$t,it),0>($t=180*Math.atan2($t.x-Vt.x,$t.y-Vt.y)/Math.PI)&&($t+=360),1e-6>$t&&($t=0)}else at=((Vt=qt(V,ft.x0_,ft.y0_)).x-it.x)/ae,Ct=(Vt.y-it.y)/me,Ot=Ve.max(ae/=bt*ee,me/=Xt*ee),Ot=2*ft.r1_/Ot-(yt=2*ft.r0_/Ot);(bt=ft.colors_).sort(function(ai,ss){return ai.offset-ss.offset}),Vt=bt[0].color,it=bt[(Xt=bt.length)-1].color,ae=bt[0].alpha*V.globalAlpha,V=bt[Xt-1].alpha*V.globalAlpha,me=[];for(var ze=0;ze<Xt;ze++){var jt=bt[ze];me.push(jt.offset*Ot+yt+" "+jt.color)}G.push('<g_vml_:fill type="',ft.type_,'"',' method="none" focus="100%"',' color="',Vt,'"',' color2="',it,'"',' colors="',me.join(","),'"',' opacity="',V,'"',' g_o_:opacity2="',ae,'"',' angle="',$t,'"',' focusposition="',at,",",Ct,'" />')}else ft instanceof qe?ae&&me&&G.push("<g_vml_:fill",' position="',-it.x/ae*bt*bt,",",-it.y/me*Xt*Xt,'"',' type="tile"',' src="',ft.src_,'" />'):(ft=Bi(V.fillStyle),G.push('<g_vml_:fill color="',ft.color,'" opacity="',ft.alpha*V.globalAlpha,'" />'))}function qt(V,G,it){return{x:ee*(G*(V=V.m_)[0][0]+it*V[1][0]+V[2][0])-ki,y:ee*(G*V[0][1]+it*V[1][1]+V[2][1])-ki}}function ni(V,G,it){isFinite(G[0][0])&&isFinite(G[0][1])&&isFinite(G[1][0])&&isFinite(G[1][1])&&isFinite(G[2][0])&&isFinite(G[2][1])&&(V.m_=G,it&&(V.lineScale_=Fi(ve(G[0][0]*G[1][1]-G[0][1]*G[1][0]))))}function Wi(V){this.type_=V,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function qe(V,G){if(!V||1!=V.nodeType||"IMG"!=V.tagName)throw new ne("TYPE_MISMATCH_ERR");if("complete"!=V.readyState)throw new ne("INVALID_STATE_ERR");switch(G){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=G;break;default:throw new ne("SYNTAX_ERR")}this.src_=V.src,this.width_=V.width,this.height_=V.height}function ne(V){this.code=this[V],this.message=V+": DOM Exception "+this.code}var Ve=Math,ge=Ve.round,ti=Ve.sin,Oi=Ve.cos,ve=Ve.abs,Fi=Ve.sqrt,ee=10,ki=ee/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var fi=Array.prototype.slice;kt(document);var _i={init:function(V){(V=V||document).createElement("canvas"),V.attachEvent("onreadystatechange",function ye(V,G,it){var at=fi.call(arguments,2);return function(){return V.apply(G,at.concat(fi.call(arguments)))}}(this.init_,this,V))},init_:function(V){V=V.getElementsByTagName("canvas");for(var G=0;G<V.length;G++)this.initElement(V[G])},initElement:function(V){if(!V.getContext){V.getContext=De,kt(V.ownerDocument),V.innerHTML="",V.attachEvent("onpropertychange",Ge),V.attachEvent("onresize",je);var G=V.attributes;G.width&&G.width.specified?V.style.width=G.width.nodeValue+"px":V.width=V.clientWidth,G.height&&G.height.specified?V.style.height=G.height.nodeValue+"px":V.height=V.clientHeight}return V}};_i.init();for(var Si=[],Et=0;16>Et;Et++)for(var ci=0;16>ci;ci++)Si[16*Et+ci]=Et.toString(16)+ci.toString(16);var Ei={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},ei={},j={},pi={butt:"flat",round:"round"};(Et=xt.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Et.beginPath=function(){this.currentPath_=[]},Et.moveTo=function(V,G){var it=qt(this,V,G);this.currentPath_.push({type:"moveTo",x:it.x,y:it.y}),this.currentX_=it.x,this.currentY_=it.y},Et.lineTo=function(V,G){var it=qt(this,V,G);this.currentPath_.push({type:"lineTo",x:it.x,y:it.y}),this.currentX_=it.x,this.currentY_=it.y},Et.bezierCurveTo=function(V,G,it,at,ft,bt){ft=qt(this,ft,bt),Rt(this,V=qt(this,V,G),it=qt(this,it,at),ft)},Et.quadraticCurveTo=function(V,G,it,at){V=qt(this,V,G),it=qt(this,it,at),Rt(this,at={x:this.currentX_+2/3*(V.x-this.currentX_),y:this.currentY_+2/3*(V.y-this.currentY_)},{x:at.x+(it.x-this.currentX_)/3,y:at.y+(it.y-this.currentY_)/3},it)},Et.arc=function(V,G,it,at,ft,bt){it*=ee;var Xt=bt?"at":"wa",ae=V+Oi(at)*it-ki,me=G+ti(at)*it-ki;at=V+Oi(ft)*it-ki,ft=G+ti(ft)*it-ki,ae!=at||bt||(ae+=.125),V=qt(this,V,G),ae=qt(this,ae,me),at=qt(this,at,ft),this.currentPath_.push({type:Xt,x:V.x,y:V.y,radius:it,xStart:ae.x,yStart:ae.y,xEnd:at.x,yEnd:at.y})},Et.rect=function(V,G,it,at){this.moveTo(V,G),this.lineTo(V+it,G),this.lineTo(V+it,G+at),this.lineTo(V,G+at),this.closePath()},Et.strokeRect=function(V,G,it,at){var ft=this.currentPath_;this.beginPath(),this.moveTo(V,G),this.lineTo(V+it,G),this.lineTo(V+it,G+at),this.lineTo(V,G+at),this.closePath(),this.stroke(),this.currentPath_=ft},Et.fillRect=function(V,G,it,at){var ft=this.currentPath_;this.beginPath(),this.moveTo(V,G),this.lineTo(V+it,G),this.lineTo(V+it,G+at),this.lineTo(V,G+at),this.closePath(),this.fill(),this.currentPath_=ft},Et.createLinearGradient=function(V,G,it,at){var ft=new Wi("gradient");return ft.x0_=V,ft.y0_=G,ft.x1_=it,ft.y1_=at,ft},Et.createRadialGradient=function(V,G,it,at,ft,bt){var Xt=new Wi("gradientradial");return Xt.x0_=V,Xt.y0_=G,Xt.r0_=it,Xt.x1_=at,Xt.y1_=ft,Xt.r1_=bt,Xt},Et.drawImage=function(V,G){var it,at,ft,bt,Xt,ae,me,$t;ft=V.runtimeStyle.width,bt=V.runtimeStyle.height,V.runtimeStyle.width="auto",V.runtimeStyle.height="auto";var Ct=V.width,yt=V.height;if(V.runtimeStyle.width=ft,V.runtimeStyle.height=bt,3==arguments.length)it=arguments[1],at=arguments[2],Xt=ae=0,me=ft=Ct,$t=bt=yt;else if(5==arguments.length)it=arguments[1],at=arguments[2],ft=arguments[3],bt=arguments[4],Xt=ae=0,me=Ct,$t=yt;else{if(9!=arguments.length)throw Error("Invalid number of arguments");Xt=arguments[1],ae=arguments[2],me=arguments[3],$t=arguments[4],it=arguments[5],at=arguments[6],ft=arguments[7],bt=arguments[8]}var Ot=qt(this,it,at),Vt=[];if(Vt.push(" <g_vml_:group",' coordsize="',10*ee,",",10*ee,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var ze=[];ze.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",ge(Ot.x/ee),",","Dy=",ge(Ot.y/ee),"");var jt=qt(this,it+ft,at),ai=qt(this,it,at+bt);it=qt(this,it+ft,at+bt),Ot.x=Ve.max(Ot.x,jt.x,ai.x,it.x),Ot.y=Ve.max(Ot.y,jt.y,ai.y,it.y),Vt.push("padding:0 ",ge(Ot.x/ee),"px ",ge(Ot.y/ee),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",ze.join(""),", sizingmethod='clip');")}else Vt.push("top:",ge(Ot.y/ee),"px;left:",ge(Ot.x/ee),"px;");Vt.push(' ">','<g_vml_:image src="',V.src,'"',' style="width:',ee*ft,"px;"," height:",ee*bt,'px"',' cropleft="',Xt/Ct,'"',' croptop="',ae/yt,'"',' cropright="',(Ct-Xt-me)/Ct,'"',' cropbottom="',(yt-ae-$t)/yt,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",Vt.join(""))},Et.stroke=function(V){var G=[];G.push("<g_vml_:shape",' filled="',!!V,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*ee,",",10*ee,'"',' stroked="',!V,'"',' path="');for(var it={x:null,y:null},at={x:null,y:null},ft=0;ft<this.currentPath_.length;ft++){var bt=this.currentPath_[ft];switch(bt.type){case"moveTo":G.push(" m ",ge(bt.x),",",ge(bt.y));break;case"lineTo":G.push(" l ",ge(bt.x),",",ge(bt.y));break;case"close":G.push(" x "),bt=null;break;case"bezierCurveTo":G.push(" c ",ge(bt.cp1x),",",ge(bt.cp1y),",",ge(bt.cp2x),",",ge(bt.cp2y),",",ge(bt.x),",",ge(bt.y));break;case"at":case"wa":G.push(" ",bt.type," ",ge(bt.x-this.arcScaleX_*bt.radius),",",ge(bt.y-this.arcScaleY_*bt.radius)," ",ge(bt.x+this.arcScaleX_*bt.radius),",",ge(bt.y+this.arcScaleY_*bt.radius)," ",ge(bt.xStart),",",ge(bt.yStart)," ",ge(bt.xEnd),",",ge(bt.yEnd))}bt&&((null==it.x||bt.x<it.x)&&(it.x=bt.x),(null==at.x||bt.x>at.x)&&(at.x=bt.x),(null==it.y||bt.y<it.y)&&(it.y=bt.y),(null==at.y||bt.y>at.y)&&(at.y=bt.y))}G.push(' ">'),V?Re(this,G,it,at):Ue(this,G),G.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",G.join(""))},Et.fill=function(){this.stroke(!0)},Et.closePath=function(){this.currentPath_.push({type:"close"})},Et.save=function(){var V={};Vi(this,V),this.aStack_.push(V),this.mStack_.push(this.m_),this.m_=zt([[1,0,0],[0,1,0],[0,0,1]],this.m_)},Et.restore=function(){this.aStack_.length&&(Vi(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Et.translate=function(V,G){ni(this,zt([[1,0,0],[0,1,0],[V,G,1]],this.m_),!1)},Et.rotate=function(V){var G=Oi(V);ni(this,zt([[G,V=ti(V),0],[-V,G,0],[0,0,1]],this.m_),!1)},Et.scale=function(V,G){this.arcScaleX_*=V,this.arcScaleY_*=G,ni(this,zt([[V,0,0],[0,G,0],[0,0,1]],this.m_),!0)},Et.transform=function(V,G,it,at,ft,bt){ni(this,zt([[V,G,0],[it,at,0],[ft,bt,1]],this.m_),!0)},Et.setTransform=function(V,G,it,at,ft,bt){ni(this,[[V,G,0],[it,at,0],[ft,bt,1]],!0)},Et.drawText_=function(V,G,it,at,ft){var bt=this.m_;at=0;var $t,Xt=1e3,ae=0,me=[];if(j[$t=this.font])$t=j[$t];else{var Ct=document.createElement("div").style;try{Ct.font=$t}catch{}$t=j[$t]={style:Ct.fontStyle||"normal",variant:Ct.fontVariant||"normal",weight:Ct.fontWeight||"normal",size:Ct.fontSize||10,family:Ct.fontFamily||"sans-serif"}}Ct=$t;var yt=this.element_;for(var Ot in $t={},Ct)$t[Ot]=Ct[Ot];switch(Ot=parseFloat(yt.currentStyle.fontSize),yt=parseFloat(Ct.size),$t.size="number"==typeof Ct.size?Ct.size:-1!=Ct.size.indexOf("px")?yt:-1!=Ct.size.indexOf("em")?Ot*yt:-1!=Ct.size.indexOf("%")?Ot/100*yt:-1!=Ct.size.indexOf("pt")?yt/.75:Ot,$t.size*=.981,Ot=$t.style+" "+$t.variant+" "+$t.weight+" "+$t.size+"px "+$t.family,yt=this.element_.currentStyle,Ct=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":Ct="ltr"==yt.direction?"right":"left";break;case"start":Ct="rtl"==yt.direction?"right":"left";break;default:Ct="left"}switch(this.textBaseline){case"hanging":case"top":ae=$t.size/1.75;break;case"middle":break;default:ae=-$t.size/2.25}switch(Ct){case"right":at=1e3,Xt=.05;break;case"center":at=Xt=500}G=qt(this,G+0,it+ae),me.push('<g_vml_:line from="',-at,' 0" to="',Xt,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!ft,'" stroked="',!!ft,'" style="position:absolute;width:1px;height:1px;">'),ft?Ue(this,me):Re(this,me,{x:-at,y:0},{x:Xt,y:$t.size}),ft=bt[0][0].toFixed(3)+","+bt[1][0].toFixed(3)+","+bt[0][1].toFixed(3)+","+bt[1][1].toFixed(3)+",0,0",G=ge(G.x/ee)+","+ge(G.y/ee),me.push('<g_vml_:skew on="t" matrix="',ft,'" ',' offset="',G,'" origin="',at,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',di(V),'" style="v-text-align:',Ct,";font:",di(Ot),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",me.join(""))},Et.fillText=function(V,G,it,at){this.drawText_(V,G,it,at,!1)},Et.strokeText=function(V,G,it,at){this.drawText_(V,G,it,at,!0)},Et.measureText=function(V){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var G=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(G.createTextNode(V)),{width:this.textMeasureEl_.offsetWidth}},Et.clip=function(){},Et.arcTo=function(){},Et.createPattern=function(V,G){return new qe(V,G)},Wi.prototype.addColorStop=function(V,G){G=Bi(G),this.colors_.push({offset:V,color:G.color,alpha:G.alpha})},(Et=ne.prototype=Error()).INDEX_SIZE_ERR=1,Et.DOMSTRING_SIZE_ERR=2,Et.HIERARCHY_REQUEST_ERR=3,Et.WRONG_DOCUMENT_ERR=4,Et.INVALID_CHARACTER_ERR=5,Et.NO_DATA_ALLOWED_ERR=6,Et.NO_MODIFICATION_ALLOWED_ERR=7,Et.NOT_FOUND_ERR=8,Et.NOT_SUPPORTED_ERR=9,Et.INUSE_ATTRIBUTE_ERR=10,Et.INVALID_STATE_ERR=11,Et.SYNTAX_ERR=12,Et.INVALID_MODIFICATION_ERR=13,Et.NAMESPACE_ERR=14,Et.INVALID_ACCESS_ERR=15,Et.VALIDATION_ERR=16,Et.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=_i,CanvasRenderingContext2D=xt,CanvasGradient=Wi,CanvasPattern=qe,DOMException=ne}()},1549:(xs,is,Lt)=>{"use strict";Lt.r(is),Lt.d(is,{FolderPageModule:()=>Bi});var Pt=Lt(177),De=Lt(4341),ye=Lt(4488),di=Lt(8986),kt=Lt(4438),Ge=Lt(4378);const vi=[{path:"folder",component:(()=>{var xt;class Rt{constructor(Re,qt,ni){this.menuController=Re,this.loadingController=qt,this.toastController=ni,this.activatedRoute=(0,kt.WQX)(di.nX)}ngOnInit(){this.folder=this.activatedRoute.snapshot.paramMap.get("id"),this.createChart()}createChart(){this.chart=new Ge.Ay("MyChart",{type:"bar",data:{labels:["2022-05-10","2022-05-11","2022-05-12","2022-05-13","2022-05-14","2022-05-15","2022-05-16","2022-05-17"],datasets:[{label:"Sales",data:["467","576","572","79","92","574","573","576"],backgroundColor:"blue"},{label:"Profit",data:["542","542","536","327","17","0.00","538","541"],backgroundColor:"limegreen"}]},options:{aspectRatio:2.5}})}onSearchChange(Re){console.log(Re.detail.value)}viewNotifications(){}}return(xt=Rt).\u0275fac=function(Re){return new(Re||xt)(kt.rXU(ye._t),kt.rXU(ye.Xi),kt.rXU(ye.K_))},xt.\u0275cmp=kt.VBU({type:xt,selectors:[["app-folder"]],decls:71,vars:2,consts:[[3,"translucent"],["slot","start"],["color","primary","slot","end","fill","clear",3,"click"],["slot","icon-only","name","notifications-circle-outline"],["slot","icon-only","name","chatbox-ellipses-outline"],[3,"fullscreen"],["size","3"],["fixed",""],["size","6"],["src","assets/Icon_Order.svg","alt","","srcset",""],["src","assets/icon Delivered.svg","alt","","srcset",""],["src","assets/total_cancelled.svg","alt","","srcset",""],["src","assets/total_revenue.svg","alt","","srcset",""],["size","4"],[2,"display","flex","flex-direction","row"]],template:function(Re,qt){1&Re&&(kt.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),kt.nrm(3,"ion-menu-button"),kt.k0s(),kt.j41(4,"ion-title"),kt.EFF(5,"Dashboard"),kt.k0s(),kt.j41(6,"ion-button",2),kt.bIt("click",function(){return qt.viewNotifications()}),kt.nrm(7,"ion-icon",3),kt.k0s(),kt.j41(8,"ion-button",2),kt.bIt("click",function(){return qt.viewNotifications()}),kt.nrm(9,"ion-icon",4),kt.k0s()()(),kt.j41(10,"ion-content",5)(11,"ion-grid")(12,"ion-row")(13,"ion-col",6)(14,"ion-card")(15,"ion-card-header")(16,"ion-grid",7)(17,"ion-row")(18,"ion-col",8),kt.nrm(19,"img",9),kt.k0s(),kt.j41(20,"ion-col",8)(21,"ion-card-subtitle"),kt.EFF(22,"Total Orders"),kt.k0s(),kt.j41(23,"ion-card-title"),kt.EFF(24,"12345677"),kt.k0s()()()()()()(),kt.j41(25,"ion-col",6)(26,"ion-card")(27,"ion-card-header")(28,"ion-grid",7)(29,"ion-row")(30,"ion-col",8),kt.nrm(31,"img",10),kt.k0s(),kt.j41(32,"ion-col",8)(33,"ion-card-subtitle"),kt.EFF(34,"Total Delivered"),kt.k0s(),kt.j41(35,"ion-card-title"),kt.EFF(36,"12345677"),kt.k0s()()()()()()(),kt.j41(37,"ion-col",6)(38,"ion-card")(39,"ion-card-header")(40,"ion-grid",7)(41,"ion-row")(42,"ion-col",8),kt.nrm(43,"img",11),kt.k0s(),kt.j41(44,"ion-col",8)(45,"ion-card-subtitle"),kt.EFF(46,"Total Canceled"),kt.k0s(),kt.j41(47,"ion-card-title"),kt.EFF(48,"12345677"),kt.k0s()()()()()()(),kt.j41(49,"ion-col",6)(50,"ion-card")(51,"ion-card-header")(52,"ion-grid",7)(53,"ion-row")(54,"ion-col",8),kt.nrm(55,"img",12),kt.k0s(),kt.j41(56,"ion-col",8)(57,"ion-card-subtitle"),kt.EFF(58,"Total Revenue"),kt.k0s(),kt.j41(59,"ion-card-title"),kt.EFF(60,"12345677"),kt.k0s()()()()()()()()(),kt.j41(61,"ion-grid")(62,"ion-row")(63,"ion-col",13),kt.nrm(64,"ion-card"),kt.k0s(),kt.j41(65,"ion-col",13)(66,"ion-card"),kt.nrm(67,"div",14),kt.k0s()(),kt.j41(68,"ion-col",13)(69,"ion-card"),kt.nrm(70,"div",14),kt.k0s()()()()()),2&Re&&(kt.Y8G("translucent",!0),kt.R7$(10),kt.Y8G("fullscreen",!0))},dependencies:[ye.Jm,ye.QW,ye.b_,ye.ME,ye.HW,ye.tN,ye.hU,ye.W9,ye.lO,ye.eU,ye.iq,ye.MC,ye.ln,ye.BC,ye.ai],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),Rt})()},{path:"login",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(2887)]).then(Lt.bind(Lt,2887)).then(xt=>xt.LoginPageModule)},{path:"orders",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(1541)]).then(Lt.bind(Lt,1541)).then(xt=>xt.OrdersPageModule)},{path:"partners",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(2469)]).then(Lt.bind(Lt,2469)).then(xt=>xt.PartnersPageModule)},{path:"reviews",loadChildren:()=>Lt.e(8962).then(Lt.bind(Lt,8962)).then(xt=>xt.ReviewsPageModule)},{path:"delivery-boy",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(152)]).then(Lt.bind(Lt,152)).then(xt=>xt.DeliveryBoyPageModule)},{path:"customer",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(2008)]).then(Lt.bind(Lt,2008)).then(xt=>xt.CustomerPageModule)},{path:"chat",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(1634)]).then(Lt.bind(Lt,1634)).then(xt=>xt.ChatPageModule)},{path:"promo-code",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(4907)]).then(Lt.bind(Lt,4907)).then(xt=>xt.PromoCodePageModule)},{path:"settings",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(8422)]).then(Lt.bind(Lt,8422)).then(xt=>xt.SettingsPageModule)},{path:"register",loadChildren:()=>Lt.e(2296).then(Lt.bind(Lt,2296)).then(xt=>xt.RegisterPageModule)},{path:"dash",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(5249)]).then(Lt.bind(Lt,5249)).then(xt=>xt.DashPageModule)},{path:"category",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(3272)]).then(Lt.bind(Lt,3272)).then(xt=>xt.CategoryPageModule)},{path:"banner",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(4310)]).then(Lt.bind(Lt,4310)).then(xt=>xt.BannerPageModule)},{path:"pincode",loadChildren:()=>Promise.all([Lt.e(2076),Lt.e(6759)]).then(Lt.bind(Lt,6759)).then(xt=>xt.PincodePageModule)},{path:"notifications",loadChildren:()=>Lt.e(9696).then(Lt.bind(Lt,9696)).then(xt=>xt.NotificationsPageModule)},{path:"messages",loadChildren:()=>Lt.e(3429).then(Lt.bind(Lt,3429)).then(xt=>xt.MessagesPageModule)}];let zt=(()=>{var xt;class Rt{}return(xt=Rt).\u0275fac=function(Re){return new(Re||xt)},xt.\u0275mod=kt.$C({type:xt}),xt.\u0275inj=kt.G2t({imports:[di.iI.forChild(vi),di.iI]}),Rt})();"object"==typeof document&&document&&Lt(7636);let Mi=(()=>{class xt{}return xt.\u0275fac=function(Ue){return new(Ue||xt)},xt.\u0275mod=kt.$C({type:xt}),xt.\u0275inj=kt.G2t({imports:[[Pt.MD]]}),xt})(),Bi=(()=>{var xt;class Rt{}return(xt=Rt).\u0275fac=function(Re){return new(Re||xt)},xt.\u0275mod=kt.$C({type:xt}),xt.\u0275inj=kt.G2t({imports:[Pt.MD,De.YN,ye.bv,Mi,zt]}),Rt})()},4378:(xs,is,Lt)=>{"use strict";Lt.d(is,{Ay:()=>Sd});var Pt=Lt(9842);function De(s){return s+.5|0}const ye=(s,i,e)=>Math.max(Math.min(s,e),i);function di(s){return ye(De(2.55*s),0,255)}function Ge(s){return ye(De(255*s),0,255)}function je(s){return ye(De(s/2.55)/100,0,1)}function vi(s){return ye(De(100*s),0,100)}const zt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vi=[..."0123456789ABCDEF"],W=s=>Vi[15&s],mi=s=>Vi[(240&s)>>4]+Vi[15&s],Mi=s=>(240&s)>>4==(15&s);const Re=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qt(s,i,e){const a=i*Math.min(e,1-e),r=(c,u=(c+s/30)%12)=>e-a*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function ni(s,i,e){const a=(r,c=(r+s/60)%6)=>e-e*i*Math.max(Math.min(c,4-c,1),0);return[a(5),a(3),a(1)]}function Wi(s,i,e){const a=qt(s,1,.5);let r;for(i+e>1&&(r=1/(i+e),i*=r,e*=r),r=0;r<3;r++)a[r]*=1-i-e,a[r]+=i;return a}function ne(s){const e=s.r/255,a=s.g/255,r=s.b/255,c=Math.max(e,a,r),u=Math.min(e,a,r),x=(c+u)/2;let y,k,S;return c!==u&&(S=c-u,k=x>.5?S/(2-c-u):S/(c+u),y=function qe(s,i,e,a,r){return s===r?(i-e)/a+(i<e?6:0):i===r?(e-s)/a+2:(s-i)/a+4}(e,a,r,S,c),y=60*y+.5),[0|y,k||0,x]}function Ve(s,i,e,a){return(Array.isArray(i)?s(i[0],i[1],i[2]):s(i,e,a)).map(Ge)}function ge(s,i,e){return Ve(qt,s,i,e)}function ve(s){return(s%360+360)%360}const fi={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_i={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ci;const ei=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Et=s=>s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055,V=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function it(s,i,e){if(s){let a=ne(s);a[i]=Math.max(0,Math.min(a[i]+a[i]*e,0===i?360:1)),a=ge(a),s.r=a[0],s.g=a[1],s.b=a[2]}}function at(s,i){return s&&Object.assign(i||{},s)}function ft(s){var i={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(i={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(i.a=Ge(s[3]))):(i=at(s,{r:0,g:0,b:0,a:1})).a=Ge(i.a),i}function bt(s){return"r"===s.charAt(0)?function j(s){const i=ei.exec(s);let a,r,c,e=255;if(i){if(i[7]!==a){const u=+i[7];e=i[8]?di(u):ye(255*u,0,255)}return a=+i[1],r=+i[3],c=+i[5],a=255&(i[2]?di(a):ye(a,0,255)),r=255&(i[4]?di(r):ye(r,0,255)),c=255&(i[6]?di(c):ye(c,0,255)),{r:a,g:r,b:c,a:e}}}(s):function Fi(s){const i=Re.exec(s);let a,e=255;if(!i)return;i[5]!==a&&(e=i[6]?di(+i[5]):Ge(+i[5]));const r=ve(+i[2]),c=+i[3]/100,u=+i[4]/100;return a="hwb"===i[1]?function ti(s,i,e){return Ve(Wi,s,i,e)}(r,c,u):"hsv"===i[1]?function Oi(s,i,e){return Ve(ni,s,i,e)}(r,c,u):ge(r,c,u),{r:a[0],g:a[1],b:a[2],a:e}}(s)}class Xt{constructor(i){if(i instanceof Xt)return i;const e=typeof i;let a;"object"===e?a=ft(i):"string"===e&&(a=function xt(s){var e,i=s.length;return"#"===s[0]&&(4===i||5===i?e={r:255&17*zt[s[1]],g:255&17*zt[s[2]],b:255&17*zt[s[3]],a:5===i?17*zt[s[4]]:255}:(7===i||9===i)&&(e={r:zt[s[1]]<<4|zt[s[2]],g:zt[s[3]]<<4|zt[s[4]],b:zt[s[5]]<<4|zt[s[6]],a:9===i?zt[s[7]]<<4|zt[s[8]]:255})),e}(i)||function Ei(s){ci||(ci=function Si(){const s={},i=Object.keys(_i),e=Object.keys(fi);let a,r,c,u,x;for(a=0;a<i.length;a++){for(u=x=i[a],r=0;r<e.length;r++)c=e[r],x=x.replace(c,fi[c]);c=parseInt(_i[u],16),s[x]=[c>>16&255,c>>8&255,255&c]}return s}(),ci.transparent=[0,0,0,0]);const i=ci[s.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||bt(i)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var i=at(this._rgb);return i&&(i.a=je(i.a)),i}set rgb(i){this._rgb=ft(i)}rgbString(){return this._valid?function pi(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${je(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Ue(s){var i=(s=>Mi(s.r)&&Mi(s.g)&&Mi(s.b)&&Mi(s.a))(s)?W:mi;return s?"#"+i(s.r)+i(s.g)+i(s.b)+((s,i)=>s<255?i(s):"")(s.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function ki(s){if(!s)return;const i=ne(s),e=i[0],a=vi(i[1]),r=vi(i[2]);return s.a<255?`hsla(${e}, ${a}%, ${r}%, ${je(s.a)})`:`hsl(${e}, ${a}%, ${r}%)`}(this._rgb):void 0}mix(i,e){if(i){const a=this.rgb,r=i.rgb;let c;const u=e===c?.5:e,x=2*u-1,y=a.a-r.a,k=((x*y==-1?x:(x+y)/(1+x*y))+1)/2;c=1-k,a.r=255&k*a.r+c*r.r+.5,a.g=255&k*a.g+c*r.g+.5,a.b=255&k*a.b+c*r.b+.5,a.a=u*a.a+(1-u)*r.a,this.rgb=a}return this}interpolate(i,e){return i&&(this._rgb=function G(s,i,e){const a=V(je(s.r)),r=V(je(s.g)),c=V(je(s.b));return{r:Ge(Et(a+e*(V(je(i.r))-a))),g:Ge(Et(r+e*(V(je(i.g))-r))),b:Ge(Et(c+e*(V(je(i.b))-c))),a:s.a+e*(i.a-s.a)}}(this._rgb,i._rgb,e)),this}clone(){return new Xt(this.rgb)}alpha(i){return this._rgb.a=Ge(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,e=De(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=e,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return it(this._rgb,2,i),this}darken(i){return it(this._rgb,2,-i),this}saturate(i){return it(this._rgb,1,i),this}desaturate(i){return it(this._rgb,1,-i),this}rotate(i){return function ee(s,i){var e=ne(s);e[0]=ve(e[0]+i),e=ge(e),s.r=e[0],s.g=e[1],s.b=e[2]}(this._rgb,i),this}}function me(){}const $t=(()=>{let s=0;return()=>s++})();function Ct(s){return null===s||typeof s>"u"}function yt(s){if(Array.isArray&&Array.isArray(s))return!0;const i=Object.prototype.toString.call(s);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function Ot(s){return null!==s&&"[object Object]"===Object.prototype.toString.call(s)}function Vt(s){return("number"==typeof s||s instanceof Number)&&isFinite(+s)}function ze(s,i){return Vt(s)?s:i}function jt(s,i){return typeof s>"u"?i:s}const ss=(s,i)=>"string"==typeof s&&s.endsWith("%")?parseFloat(s)/100*i:+s;function fe(s,i,e){if(s&&"function"==typeof s.call)return s.apply(e,i)}function ke(s,i,e,a){let r,c,u;if(yt(s))if(c=s.length,a)for(r=c-1;r>=0;r--)i.call(e,s[r],r);else for(r=0;r<c;r++)i.call(e,s[r],r);else if(Ot(s))for(u=Object.keys(s),c=u.length,r=0;r<c;r++)i.call(e,s[u[r]],u[r])}function Ti(s,i){let e,a,r,c;if(!s||!i||s.length!==i.length)return!1;for(e=0,a=s.length;e<a;++e)if(r=s[e],c=i[e],r.datasetIndex!==c.datasetIndex||r.index!==c.index)return!1;return!0}function ns(s){if(yt(s))return s.map(ns);if(Ot(s)){const i=Object.create(null),e=Object.keys(s),a=e.length;let r=0;for(;r<a;++r)i[e[r]]=ns(s[e[r]]);return i}return s}function Be(s){return-1===["__proto__","prototype","constructor"].indexOf(s)}function as(s,i,e,a){if(!Be(s))return;const r=i[s],c=e[s];Ot(r)&&Ot(c)?Ri(r,c,a):i[s]=ns(c)}function Ri(s,i,e){const a=yt(i)?i:[i],r=a.length;if(!Ot(s))return s;const c=(e=e||{}).merger||as;let u;for(let x=0;x<r;++x){if(u=a[x],!Ot(u))continue;const y=Object.keys(u);for(let k=0,S=y.length;k<S;++k)c(y[k],s,u,e)}return s}function Xi(s,i){return Ri(s,i,{merger:os})}function os(s,i,e){if(!Be(s))return;const a=i[s],r=e[s];Ot(a)&&Ot(r)?Xi(a,r):Object.prototype.hasOwnProperty.call(i,s)||(i[s]=ns(r))}const _e={"":s=>s,x:s=>s.x,y:s=>s.y};function Li(s,i){return(_e[i]||(_e[i]=function $s(s){const i=function ii(s){const i=s.split("."),e=[];let a="";for(const r of i)a+=r,a.endsWith("\\")?a=a.slice(0,-1)+".":(e.push(a),a="");return e}(s);return e=>{for(const a of i){if(""===a)break;e=e&&e[a]}return e}}(i)))(s)}function Ui(s){return s.charAt(0).toUpperCase()+s.slice(1)}const C=s=>typeof s<"u",A=s=>"function"==typeof s,O=(s,i)=>{if(s.size!==i.size)return!1;for(const e of s)if(!i.has(e))return!1;return!0},lt=Math.PI,pt=2*lt,st=pt+lt,Ut=Number.POSITIVE_INFINITY,ce=lt/180,It=lt/2,We=lt/4,Te=2*lt/3,Se=Math.log10,Qt=Math.sign;function Ne(s,i,e){return Math.abs(s-i)<e}function Ke(s){const i=Math.round(s);s=Ne(s,i,s/1e3)?i:s;const e=Math.pow(10,Math.floor(Se(s))),a=s/e;return(a<=1?1:a<=2?2:a<=5?5:10)*e}function ue(s){return!isNaN(parseFloat(s))&&isFinite(s)}function d(s,i,e){let a,r,c;for(a=0,r=s.length;a<r;a++)c=s[a][e],isNaN(c)||(i.min=Math.min(i.min,c),i.max=Math.max(i.max,c))}function o(s){return s*(lt/180)}function n(s){return s*(180/lt)}function l(s){if(!Vt(s))return;let i=1,e=0;for(;Math.round(s*i)/i!==s;)i*=10,e++;return e}function p(s,i){const e=i.x-s.x,a=i.y-s.y,r=Math.sqrt(e*e+a*a);let c=Math.atan2(a,e);return c<-.5*lt&&(c+=pt),{angle:c,distance:r}}function m(s,i){return Math.sqrt(Math.pow(i.x-s.x,2)+Math.pow(i.y-s.y,2))}function M(s,i){return(s-i+st)%pt-lt}function T(s){return(s%pt+pt)%pt}function f(s,i,e,a){const r=T(s),c=T(i),u=T(e),x=T(c-r),y=T(u-r),k=T(r-c),S=T(r-u);return r===c||r===u||a&&c===u||x>y&&k<S}function g(s,i,e){return Math.max(i,Math.min(e,s))}function v(s,i,e,a=1e-6){return s>=Math.min(i,e)-a&&s<=Math.max(i,e)+a}function h(s,i,e){e=e||(u=>s[u]<i);let c,a=s.length-1,r=0;for(;a-r>1;)c=r+a>>1,e(c)?r=c:a=c;return{lo:r,hi:a}}const _=(s,i,e,a)=>h(s,e,a?r=>{const c=s[r][i];return c<e||c===e&&s[r+1][i]===e}:r=>s[r][i]<e),B=(s,i,e)=>h(s,e,a=>s[a][i]>=e),P=["push","pop","shift","splice","unshift"];function w(s,i){const e=s._chartjs;if(!e)return;const a=e.listeners,r=a.indexOf(i);-1!==r&&a.splice(r,1),!(a.length>0)&&(P.forEach(c=>{delete s[c]}),delete s._chartjs)}function Y(s){const i=new Set(s);return i.size===s.length?s:Array.from(i)}const z=typeof window>"u"?function(s){return s()}:window.requestAnimationFrame;function et(s,i){let e=[],a=!1;return function(...r){e=r,a||(a=!0,z.call(window,()=>{a=!1,s.apply(i,e)}))}}const $=s=>"start"===s?"left":"end"===s?"right":"center",Q=(s,i,e)=>"start"===s?i:"end"===s?e:(i+e)/2;function J(s,i,e){const a=i.length;let r=0,c=a;if(s._sorted){const{iScale:u,_parsed:x}=s,y=u.axis,{min:k,max:S,minDefined:L,maxDefined:D}=u.getUserBounds();L&&(r=g(Math.min(_(x,y,k).lo,e?a:_(i,y,u.getPixelForValue(k)).lo),0,a-1)),c=D?g(Math.max(_(x,u.axis,S,!0).hi+1,e?0:_(i,y,u.getPixelForValue(S),!0).hi+1),r,a)-r:a-r}return{start:r,count:c}}function X(s){const{xScale:i,yScale:e,_scaleRanges:a}=s,r={xmin:i.min,xmax:i.max,ymin:e.min,ymax:e.max};if(!a)return s._scaleRanges=r,!0;const c=a.xmin!==i.min||a.xmax!==i.max||a.ymin!==e.min||a.ymax!==e.max;return Object.assign(a,r),c}const q=s=>0===s||1===s,ht=(s,i,e)=>-Math.pow(2,10*(s-=1))*Math.sin((s-i)*pt/e),R=(s,i,e)=>Math.pow(2,-10*s)*Math.sin((s-i)*pt/e)+1,Ht={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>1-Math.cos(s*It),easeOutSine:s=>Math.sin(s*It),easeInOutSine:s=>-.5*(Math.cos(lt*s)-1),easeInExpo:s=>0===s?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>1===s?1:1-Math.pow(2,-10*s),easeInOutExpo:s=>q(s)?s:s<.5?.5*Math.pow(2,10*(2*s-1)):.5*(2-Math.pow(2,-10*(2*s-1))),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>q(s)?s:ht(s,.075,.3),easeOutElastic:s=>q(s)?s:R(s,.075,.3),easeInOutElastic:s=>q(s)?s:s<.5?.5*ht(2*s,.1125,.45):.5+.5*R(2*s-1,.1125,.45),easeInBack:s=>s*s*(2.70158*s-1.70158),easeOutBack:s=>(s-=1)*s*(2.70158*s+1.70158)+1,easeInOutBack(s){let i=1.70158;return(s/=.5)<1?s*s*((1+(i*=1.525))*s-i)*.5:.5*((s-=2)*s*((1+(i*=1.525))*s+i)+2)},easeInBounce:s=>1-Ht.easeOutBounce(1-s),easeOutBounce:s=>s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375,easeInOutBounce:s=>s<.5?.5*Ht.easeInBounce(2*s):.5*Ht.easeOutBounce(2*s-1)+.5};function Jt(s){if(s&&"object"==typeof s){const i=s.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function re(s){return Jt(s)?s:new Xt(s)}function se(s){return Jt(s)?s:new Xt(s).saturate(.5).darken(.1).hexString()}const At=["x","y","borderWidth","radius","tension"],we=["color","borderColor","backgroundColor"],Bt=new Map;function Qe(s,i,e){return function Pe(s,i){i=i||{};const e=s+JSON.stringify(i);let a=Bt.get(e);return a||(a=new Intl.NumberFormat(s,i),Bt.set(e,a)),a}(i,e).format(s)}const Ee={values:s=>yt(s)?s:""+s,numeric(s,i,e){if(0===s)return"0";const a=this.chart.options.locale;let r,c=s;if(e.length>1){const k=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(k<1e-4||k>1e15)&&(r="scientific"),c=function Pi(s,i){let e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}(s,e)}const u=Se(Math.abs(c)),x=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),y={notation:r,minimumFractionDigits:x,maximumFractionDigits:x};return Object.assign(y,this.options.ticks.format),Qe(s,a,y)},logarithmic(s,i,e){if(0===s)return"0";const a=e[i].significand||s/Math.pow(10,Math.floor(Se(s)));return[1,2,3,5,10,15].includes(a)||i>.8*e.length?Ee.numeric.call(this,s,i,e):""}};var oi={formatters:Ee};const bi=Object.create(null),Oe=Object.create(null);function Ci(s,i){if(!i)return s;const e=i.split(".");for(let a=0,r=e.length;a<r;++a){const c=e[a];s=s[c]||(s[c]=Object.create(null))}return s}function ut(s,i,e){return"string"==typeof i?Ri(Ci(s,i),e):Ri(Ci(s,""),i)}class ct{constructor(i,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,r)=>se(r.backgroundColor),this.hoverBorderColor=(a,r)=>se(r.borderColor),this.hoverColor=(a,r)=>se(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(e)}set(i,e){return ut(this,i,e)}get(i){return Ci(this,i)}describe(i,e){return ut(Oe,i,e)}override(i,e){return ut(bi,i,e)}route(i,e,a,r){const c=Ci(this,i),u=Ci(this,a),x="_"+e;Object.defineProperties(c,{[x]:{value:c[e],writable:!0},[e]:{enumerable:!0,get(){const y=this[x],k=u[r];return Ot(y)?Object.assign({},k,y):jt(y,k)},set(y){this[x]=y}}})}apply(i){i.forEach(e=>e(this))}}var gt=new ct({_scriptable:s=>!s.startsWith("on"),_indexable:s=>"events"!==s,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function te(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>"onProgress"!==i&&"onComplete"!==i&&"fn"!==i}),s.set("animations",{colors:{type:"color",properties:we},numbers:{type:"number",properties:At}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>0|i}}}})},function Gt(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function rt(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,e)=>e.lineWidth,tickColor:(i,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:oi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&"callback"!==i&&"parser"!==i,_indexable:i=>"borderDash"!==i&&"tickBorderDash"!==i&&"dash"!==i}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:i=>"backdropPadding"!==i&&"callback"!==i,_indexable:i=>"backdropPadding"!==i})}]);function _t(s,i,e,a,r){let c=i[r];return c||(c=i[r]=s.measureText(r).width,e.push(r)),c>a&&(a=c),a}function oe(s,i,e,a){let r=(a=a||{}).data=a.data||{},c=a.garbageCollect=a.garbageCollect||[];a.font!==i&&(r=a.data={},c=a.garbageCollect=[],a.font=i),s.save(),s.font=i;let u=0;const x=e.length;let y,k,S,L,D;for(y=0;y<x;y++)if(L=e[y],null==L||yt(L)){if(yt(L))for(k=0,S=L.length;k<S;k++)D=L[k],null!=D&&!yt(D)&&(u=_t(s,r,c,u,D))}else u=_t(s,r,c,u,L);s.restore();const E=c.length/2;if(E>e.length){for(y=0;y<E;y++)delete r[c[y]];c.splice(0,E)}return u}function Le(s,i,e){const a=s.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((i-r)*a)/a+r}function pe(s,i){!i&&!s||((i=i||s.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,s.width,s.height),i.restore())}function St(s,i,e,a){Ce(s,i,e,a,null)}function Ce(s,i,e,a,r){let c,u,x,y,k,S,L,D;const E=i.pointStyle,H=i.rotation,U=i.radius;let K=(H||0)*ce;if(E&&"object"==typeof E&&(c=E.toString(),"[object HTMLImageElement]"===c||"[object HTMLCanvasElement]"===c))return s.save(),s.translate(e,a),s.rotate(K),s.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),void s.restore();if(!(isNaN(U)||U<=0)){switch(s.beginPath(),E){default:r?s.ellipse(e,a,r/2,U,0,0,pt):s.arc(e,a,U,0,pt),s.closePath();break;case"triangle":S=r?r/2:U,s.moveTo(e+Math.sin(K)*S,a-Math.cos(K)*U),K+=Te,s.lineTo(e+Math.sin(K)*S,a-Math.cos(K)*U),K+=Te,s.lineTo(e+Math.sin(K)*S,a-Math.cos(K)*U),s.closePath();break;case"rectRounded":k=.516*U,y=U-k,u=Math.cos(K+We)*y,L=Math.cos(K+We)*(r?r/2-k:y),x=Math.sin(K+We)*y,D=Math.sin(K+We)*(r?r/2-k:y),s.arc(e-L,a-x,k,K-lt,K-It),s.arc(e+D,a-u,k,K-It,K),s.arc(e+L,a+x,k,K,K+It),s.arc(e-D,a+u,k,K+It,K+lt),s.closePath();break;case"rect":if(!H){y=Math.SQRT1_2*U,S=r?r/2:y,s.rect(e-S,a-y,2*S,2*y);break}K+=We;case"rectRot":L=Math.cos(K)*(r?r/2:U),u=Math.cos(K)*U,x=Math.sin(K)*U,D=Math.sin(K)*(r?r/2:U),s.moveTo(e-L,a-x),s.lineTo(e+D,a-u),s.lineTo(e+L,a+x),s.lineTo(e-D,a+u),s.closePath();break;case"crossRot":K+=We;case"cross":L=Math.cos(K)*(r?r/2:U),u=Math.cos(K)*U,x=Math.sin(K)*U,D=Math.sin(K)*(r?r/2:U),s.moveTo(e-L,a-x),s.lineTo(e+L,a+x),s.moveTo(e+D,a-u),s.lineTo(e-D,a+u);break;case"star":L=Math.cos(K)*(r?r/2:U),u=Math.cos(K)*U,x=Math.sin(K)*U,D=Math.sin(K)*(r?r/2:U),s.moveTo(e-L,a-x),s.lineTo(e+L,a+x),s.moveTo(e+D,a-u),s.lineTo(e-D,a+u),K+=We,L=Math.cos(K)*(r?r/2:U),u=Math.cos(K)*U,x=Math.sin(K)*U,D=Math.sin(K)*(r?r/2:U),s.moveTo(e-L,a-x),s.lineTo(e+L,a+x),s.moveTo(e+D,a-u),s.lineTo(e-D,a+u);break;case"line":u=r?r/2:Math.cos(K)*U,x=Math.sin(K)*U,s.moveTo(e-u,a-x),s.lineTo(e+u,a+x);break;case"dash":s.moveTo(e,a),s.lineTo(e+Math.cos(K)*(r?r/2:U),a+Math.sin(K)*U);break;case!1:s.closePath()}s.fill(),i.borderWidth>0&&s.stroke()}}function Me(s,i,e){return e=e||.5,!i||s&&s.x>i.left-e&&s.x<i.right+e&&s.y>i.top-e&&s.y<i.bottom+e}function he(s,i){s.save(),s.beginPath(),s.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),s.clip()}function Nt(s){s.restore()}function Zt(s,i,e,a,r){if(!i)return s.lineTo(e.x,e.y);if("middle"===r){const c=(i.x+e.x)/2;s.lineTo(c,i.y),s.lineTo(c,e.y)}else"after"===r!=!!a?s.lineTo(i.x,e.y):s.lineTo(e.x,i.y);s.lineTo(e.x,e.y)}function Ft(s,i,e,a){if(!i)return s.lineTo(e.x,e.y);s.bezierCurveTo(a?i.cp1x:i.cp2x,a?i.cp1y:i.cp2y,a?e.cp2x:e.cp1x,a?e.cp2y:e.cp1y,e.x,e.y)}function Ae(s,i,e,a,r){if(r.strikethrough||r.underline){const c=s.measureText(a),u=i-c.actualBoundingBoxLeft,x=i+c.actualBoundingBoxRight,k=e+c.actualBoundingBoxDescent,S=r.strikethrough?(e-c.actualBoundingBoxAscent+k)/2:k;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=r.decorationWidth||2,s.moveTo(u,S),s.lineTo(x,S),s.stroke()}}function Ye(s,i){const e=s.fillStyle;s.fillStyle=i.color,s.fillRect(i.left,i.top,i.width,i.height),s.fillStyle=e}function Ie(s,i,e,a,r,c={}){const u=yt(i)?i:[i],x=c.strokeWidth>0&&""!==c.strokeColor;let y,k;for(s.save(),s.font=r.string,function be(s,i){i.translation&&s.translate(i.translation[0],i.translation[1]),Ct(i.rotation)||s.rotate(i.rotation),i.color&&(s.fillStyle=i.color),i.textAlign&&(s.textAlign=i.textAlign),i.textBaseline&&(s.textBaseline=i.textBaseline)}(s,c),y=0;y<u.length;++y)k=u[y],c.backdrop&&Ye(s,c.backdrop),x&&(c.strokeColor&&(s.strokeStyle=c.strokeColor),Ct(c.strokeWidth)||(s.lineWidth=c.strokeWidth),s.strokeText(k,e,a,c.maxWidth)),s.fillText(k,e,a,c.maxWidth),Ae(s,e,a,k,c),a+=Number(r.lineHeight);s.restore()}function ui(s,i){const{x:e,y:a,w:r,h:c,radius:u}=i;s.arc(e+u.topLeft,a+u.topLeft,u.topLeft,1.5*lt,lt,!0),s.lineTo(e,a+c-u.bottomLeft),s.arc(e+u.bottomLeft,a+c-u.bottomLeft,u.bottomLeft,lt,It,!0),s.lineTo(e+r-u.bottomRight,a+c),s.arc(e+r-u.bottomRight,a+c-u.bottomRight,u.bottomRight,It,0,!0),s.lineTo(e+r,a+u.topRight),s.arc(e+r-u.topRight,a+u.topRight,u.topRight,0,-It,!0),s.lineTo(e+u.topLeft,a)}const Ze=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ie=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rs(s,i){const e=(""+s).match(Ze);if(!e||"normal"===e[1])return 1.2*i;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100}return i*s}const Mo=s=>+s||0;function Gs(s,i){const e={},a=Ot(i),r=a?Object.keys(i):i,c=Ot(s)?a?u=>jt(s[u],s[i[u]]):u=>s[u]:()=>s;for(const u of r)e[u]=Mo(c(u));return e}function An(s){return Gs(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Ji(s){return Gs(s,["topLeft","topRight","bottomLeft","bottomRight"])}function ri(s){const i=An(s);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function $e(s,i){let e=jt((s=s||{}).size,(i=i||gt.font).size);"string"==typeof e&&(e=parseInt(e,10));let a=jt(s.style,i.style);a&&!(""+a).match(ie)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const r={family:jt(s.family,i.family),lineHeight:rs(jt(s.lineHeight,i.lineHeight),e),size:e,style:a,weight:jt(s.weight,i.weight),string:""};return r.string=function Kt(s){return!s||Ct(s.size)||Ct(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}(r),r}function gs(s,i,e,a){let c,u,x,r=!0;for(c=0,u=s.length;c<u;++c)if(x=s[c],void 0!==x&&(void 0!==i&&"function"==typeof x&&(x=x(i),r=!1),void 0!==e&&yt(x)&&(x=x[e%x.length],r=!1),void 0!==x))return a&&!r&&(a.cacheable=!1),x}function Ni(s,i){return Object.assign(Object.create(s),i)}function qs(s,i=[""],e,a,r=(()=>s[0])){const c=e||s;typeof a>"u"&&(a=Dn("_fallback",s));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:c,_fallback:a,_getTarget:r,override:x=>qs([x,...s],i,c,a)};return new Proxy(u,{deleteProperty:(x,y)=>(delete x[y],delete x._keys,delete s[0][y],!0),get:(x,y)=>Fn(x,y,()=>function Bo(s,i,e,a){let r;for(const c of i)if(r=Dn(To(c,s),e),typeof r<"u")return tn(s,r)?en(e,a,s,r):r}(y,i,s,x)),getOwnPropertyDescriptor:(x,y)=>Reflect.getOwnPropertyDescriptor(x._scopes[0],y),getPrototypeOf:()=>Reflect.getPrototypeOf(s[0]),has:(x,y)=>Vn(x).includes(y),ownKeys:x=>Vn(x),set(x,y,k){const S=x._storage||(x._storage=r());return x[y]=S[y]=k,delete x._keys,!0}})}function ls(s,i,e,a){const r={_cacheable:!1,_proxy:s,_context:i,_subProxy:e,_stack:new Set,_descriptors:Bn(s,a),setContext:c=>ls(s,c,e,a),override:c=>ls(s.override(c),i,e,a)};return new Proxy(r,{deleteProperty:(c,u)=>(delete c[u],delete s[u],!0),get:(c,u,x)=>Fn(c,u,()=>function Po(s,i,e){const{_proxy:a,_context:r,_subProxy:c,_descriptors:u}=s;let x=a[i];return A(x)&&u.isScriptable(i)&&(x=function Co(s,i,e,a){const{_proxy:r,_context:c,_subProxy:u,_stack:x}=e;if(x.has(s))throw new Error("Recursion detected: "+Array.from(x).join("->")+"->"+s);x.add(s);let y=i(c,u||a);return x.delete(s),tn(s,y)&&(y=en(r._scopes,r,s,y)),y}(i,x,s,e)),yt(x)&&x.length&&(x=function _o(s,i,e,a){const{_proxy:r,_context:c,_subProxy:u,_descriptors:x}=e;if(typeof c.index<"u"&&a(s))return i[c.index%i.length];if(Ot(i[0])){const y=i,k=r._scopes.filter(S=>S!==y);i=[];for(const S of y){const L=en(k,r,s,S);i.push(ls(L,c,u&&u[s],x))}}return i}(i,x,s,u.isIndexable)),tn(i,x)&&(x=ls(x,r,c&&c[i],u)),x}(c,u,x)),getOwnPropertyDescriptor:(c,u)=>c._descriptors.allKeys?Reflect.has(s,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,u),getPrototypeOf:()=>Reflect.getPrototypeOf(s),has:(c,u)=>Reflect.has(s,u),ownKeys:()=>Reflect.ownKeys(s),set:(c,u,x)=>(s[u]=x,delete c[u],!0)})}function Bn(s,i={scriptable:!0,indexable:!0}){const{_scriptable:e=i.scriptable,_indexable:a=i.indexable,_allKeys:r=i.allKeys}=s;return{allKeys:r,scriptable:e,indexable:a,isScriptable:A(e)?e:()=>e,isIndexable:A(a)?a:()=>a}}const To=(s,i)=>s?s+Ui(i):i,tn=(s,i)=>Ot(i)&&"adapters"!==s&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function Fn(s,i,e){if(Object.prototype.hasOwnProperty.call(s,i)||"constructor"===i)return s[i];const a=e();return s[i]=a,a}function Ln(s,i,e){return A(s)?s(i,e):s}const So=(s,i)=>!0===s?i:"string"==typeof s?Li(i,s):void 0;function wo(s,i,e,a,r){for(const c of i){const u=So(e,c);if(u){s.add(u);const x=Ln(u._fallback,e,r);if(typeof x<"u"&&x!==e&&x!==a)return x}else if(!1===u&&typeof a<"u"&&e!==a)return null}return!1}function en(s,i,e,a){const r=i._rootScopes,c=Ln(i._fallback,e,a),u=[...s,...r],x=new Set;x.add(a);let y=In(x,u,e,c||e,a);return!(null===y||typeof c<"u"&&c!==e&&(y=In(x,u,c,y,a),null===y))&&qs(Array.from(x),[""],r,c,()=>function Ao(s,i,e){const a=s._getTarget();i in a||(a[i]={});const r=a[i];return yt(r)&&Ot(e)?e:r||{}}(i,e,a))}function In(s,i,e,a,r){for(;e;)e=wo(s,i,e,a,r);return e}function Dn(s,i){for(const e of i){if(!e)continue;const a=e[s];if(typeof a<"u")return a}}function Vn(s){let i=s._keys;return i||(i=s._keys=function Fo(s){const i=new Set;for(const e of s)for(const a of Object.keys(e).filter(r=>!r.startsWith("_")))i.add(a);return Array.from(i)}(s._scopes)),i}function Wn(s,i,e,a){const{iScale:r}=s,{key:c="r"}=this._parsing,u=new Array(a);let x,y,k,S;for(x=0,y=a;x<y;++x)k=x+e,S=i[k],u[x]={r:r.parse(Li(S,c),k)};return u}const Lo=Number.EPSILON||1e-14,hs=(s,i)=>i<s.length&&!s[i].skip&&s[i],On=s=>"x"===s?"y":"x";function Io(s,i,e,a){const r=s.skip?i:s,c=i,u=e.skip?i:e,x=m(c,r),y=m(u,c);let k=x/(x+y),S=y/(x+y);k=isNaN(k)?0:k,S=isNaN(S)?0:S;const L=a*k,D=a*S;return{previous:{x:c.x-L*(u.x-r.x),y:c.y-L*(u.y-r.y)},next:{x:c.x+D*(u.x-r.x),y:c.y+D*(u.y-r.y)}}}function Bs(s,i,e){return Math.max(Math.min(s,e),i)}function Eo(s,i,e,a,r){let c,u,x,y;if(i.spanGaps&&(s=s.filter(k=>!k.skip)),"monotone"===i.cubicInterpolationMode)!function Wo(s,i="x"){const e=On(i),a=s.length,r=Array(a).fill(0),c=Array(a);let u,x,y,k=hs(s,0);for(u=0;u<a;++u)if(x=y,y=k,k=hs(s,u+1),y){if(k){const S=k[i]-y[i];r[u]=0!==S?(k[e]-y[e])/S:0}c[u]=x?k?Qt(r[u-1])!==Qt(r[u])?0:(r[u-1]+r[u])/2:r[u-1]:r[u]}(function Do(s,i,e){const a=s.length;let r,c,u,x,y,k=hs(s,0);for(let S=0;S<a-1;++S)if(y=k,k=hs(s,S+1),y&&k){if(Ne(i[S],0,Lo)){e[S]=e[S+1]=0;continue}r=e[S]/i[S],c=e[S+1]/i[S],x=Math.pow(r,2)+Math.pow(c,2),!(x<=9)&&(u=3/Math.sqrt(x),e[S]=r*u*i[S],e[S+1]=c*u*i[S])}})(s,r,c),function Vo(s,i,e="x"){const a=On(e),r=s.length;let c,u,x,y=hs(s,0);for(let k=0;k<r;++k){if(u=x,x=y,y=hs(s,k+1),!x)continue;const S=x[e],L=x[a];u&&(c=(S-u[e])/3,x[`cp1${e}`]=S-c,x[`cp1${a}`]=L-c*i[k]),y&&(c=(y[e]-S)/3,x[`cp2${e}`]=S+c,x[`cp2${a}`]=L+c*i[k])}}(s,c,i)}(s,r);else{let k=a?s[s.length-1]:s[0];for(c=0,u=s.length;c<u;++c)x=s[c],y=Io(k,x,s[Math.min(c+1,u-(a?0:1))%u],i.tension),x.cp1x=y.previous.x,x.cp1y=y.previous.y,x.cp2x=y.next.x,x.cp2y=y.next.y,k=x}i.capBezierPoints&&function Oo(s,i){let e,a,r,c,u,x=Me(s[0],i);for(e=0,a=s.length;e<a;++e)u=c,c=x,x=e<a-1&&Me(s[e+1],i),c&&(r=s[e],u&&(r.cp1x=Bs(r.cp1x,i.left,i.right),r.cp1y=Bs(r.cp1y,i.top,i.bottom)),x&&(r.cp2x=Bs(r.cp2x,i.left,i.right),r.cp2y=Bs(r.cp2y,i.top,i.bottom)))}(s,e)}function sn(){return typeof window<"u"&&typeof document<"u"}function nn(s){let i=s.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function Fs(s,i,e){let a;return"string"==typeof s?(a=parseInt(s,10),-1!==s.indexOf("%")&&(a=a/100*i.parentNode[e])):a=s,a}const Ls=s=>s.ownerDocument.defaultView.getComputedStyle(s,null),zo=["top","right","bottom","left"];function Ki(s,i,e){const a={};e=e?"-"+e:"";for(let r=0;r<4;r++){const c=zo[r];a[c]=parseFloat(s[i+"-"+c+e])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const Yo=(s,i,e)=>(s>0||i>0)&&(!e||!e.shadowRoot);function Qi(s,i){if("native"in s)return s;const{canvas:e,currentDevicePixelRatio:a}=i,r=Ls(e),c="border-box"===r.boxSizing,u=Ki(r,"padding"),x=Ki(r,"border","width"),{x:y,y:k,box:S}=function Ro(s,i){const e=s.touches,a=e&&e.length?e[0]:s,{offsetX:r,offsetY:c}=a;let x,y,u=!1;if(Yo(r,c,s.target))x=r,y=c;else{const k=i.getBoundingClientRect();x=a.clientX-k.left,y=a.clientY-k.top,u=!0}return{x,y,box:u}}(s,e),L=u.left+(S&&x.left),D=u.top+(S&&x.top);let{width:E,height:H}=i;return c&&(E-=u.width+x.width,H-=u.height+x.height),{x:Math.round((y-L)/E*e.width/a),y:Math.round((k-D)/H*e.height/a)}}const Is=s=>Math.round(10*s)/10;function En(s,i,e){const a=i||1,r=Math.floor(s.height*a),c=Math.floor(s.width*a);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const u=s.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${s.height}px`,u.style.width=`${s.width}px`),(s.currentDevicePixelRatio!==a||u.height!==r||u.width!==c)&&(s.currentDevicePixelRatio=a,u.height=r,u.width=c,s.ctx.setTransform(a,0,0,a,0,0),!0)}const jo=function(){let s=!1;try{const i={get passive(){return s=!0,!1}};sn()&&(window.addEventListener("test",null,i),window.removeEventListener("test",null,i))}catch{}return s}();function Xn(s,i){const e=function Xo(s,i){return Ls(s).getPropertyValue(i)}(s,i),a=e&&e.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function Zi(s,i,e,a){return{x:s.x+e*(i.x-s.x),y:s.y+e*(i.y-s.y)}}function Uo(s,i,e,a){return{x:s.x+e*(i.x-s.x),y:"middle"===a?e<.5?s.y:i.y:"after"===a?e<1?s.y:i.y:e>0?i.y:s.y}}function Jo(s,i,e,a){const r={x:s.cp2x,y:s.cp2y},c={x:i.cp1x,y:i.cp1y},u=Zi(s,r,e),x=Zi(r,c,e),y=Zi(c,i,e),k=Zi(u,x,e),S=Zi(x,y,e);return Zi(k,S,e)}function ds(s,i,e){return s?function(s,i){return{x:e=>s+s+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,a)=>e-a,leftForLtr:(e,a)=>e-a}}(i,e):{x:s=>s,setWidth(s){},textAlign:s=>s,xPlus:(s,i)=>s+i,leftForLtr:(s,i)=>s}}function zn(s,i){let e,a;("ltr"===i||"rtl"===i)&&(e=s.canvas.style,a=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",i,"important"),s.prevTextDirection=a)}function Yn(s,i){void 0!==i&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",i[0],i[1]))}function Rn(s){return"angle"===s?{between:f,compare:M,normalize:T}:{between:v,compare:(i,e)=>i-e,normalize:i=>i}}function Nn({start:s,end:i,count:e,loop:a,style:r}){return{start:s%e,end:i%e,loop:a&&(i-s+1)%e==0,style:r}}function Hn(s,i,e){if(!e)return[s];const{property:a,start:r,end:c}=e,u=i.length,{compare:x,between:y,normalize:k}=Rn(a),{start:S,end:L,loop:D,style:E}=function Zo(s,i,e){const{property:a,start:r,end:c}=e,{between:u,normalize:x}=Rn(a),y=i.length;let D,E,{start:k,end:S,loop:L}=s;if(L){for(k+=y,S+=y,D=0,E=y;D<E&&u(x(i[k%y][a]),r,c);++D)k--,S--;k%=y,S%=y}return S<k&&(S+=y),{start:k,end:S,loop:L,style:s.style}}(s,i,e),H=[];let ot,nt,vt,U=!1,K=null;for(let wt=S,Yt=S;wt<=L;++wt)nt=i[wt%u],!nt.skip&&(ot=k(nt[a]),ot!==vt&&(U=y(ot,r,c),null===K&&(U||y(r,vt,ot)&&0!==x(r,vt))&&(K=0===x(ot,r)?wt:Yt),null!==K&&(!U||0===x(c,ot)||y(c,vt,ot))&&(H.push(Nn({start:K,end:wt,loop:D,count:u,style:E})),K=null),Yt=wt,vt=ot));return null!==K&&H.push(Nn({start:K,end:L,loop:D,count:u,style:E})),H}function jn(s,i){const e=[],a=s.segments;for(let r=0;r<a.length;r++){const c=Hn(a[r],s.points,i);c.length&&e.push(...c)}return e}function Jn(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function er(s,i){if(!i)return!1;const e=[],a=function(r,c){return Jt(c)?(e.includes(c)||e.push(c),e.indexOf(c)):c};return JSON.stringify(s,a)!==JSON.stringify(i,a)}class ir{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,e,a,r){const u=e.duration;e.listeners[r].forEach(x=>x({chart:i,initial:e.initial,numSteps:u,currentStep:Math.min(a-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=z.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let e=0;this._charts.forEach((a,r)=>{if(!a.running||!a.items.length)return;const c=a.items;let y,u=c.length-1,x=!1;for(;u>=0;--u)y=c[u],y._active?(y._total>a.duration&&(a.duration=y._total),y.tick(i),x=!0):(c[u]=c[c.length-1],c.pop());x&&(r.draw(),this._notify(r,a,i,"progress")),c.length||(a.running=!1,this._notify(r,a,i,"complete"),a.initial=!1),e+=c.length}),this._lastDate=i,0===e&&(this._running=!1)}_getAnims(i){const e=this._charts;let a=e.get(i);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(i,a)),a}listen(i,e,a){this._getAnims(i).listeners[e].push(a)}add(i,e){!e||!e.length||this._getAnims(i).items.push(...e)}has(i){return this._getAnims(i).items.length>0}start(i){const e=this._charts.get(i);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((a,r)=>Math.max(a,r._duration),0),this._refresh())}running(i){if(!this._running)return!1;const e=this._charts.get(i);return!(!e||!e.running||!e.items.length)}stop(i){const e=this._charts.get(i);if(!e||!e.items.length)return;const a=e.items;let r=a.length-1;for(;r>=0;--r)a[r].cancel();e.items=[],this._notify(i,e,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var zi=new ir;const Kn="transparent",sr={boolean:(s,i,e)=>e>.5?i:s,color(s,i,e){const a=re(s||Kn),r=a.valid&&re(i||Kn);return r&&r.valid?r.mix(a,e).hexString():i},number:(s,i,e)=>s+(i-s)*e};class nr{constructor(i,e,a,r){const c=e[a];r=gs([i.to,r,c,i.from]);const u=gs([i.from,c,r]);this._active=!0,this._fn=i.fn||sr[i.type||typeof u],this._easing=Ht[i.easing]||Ht.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=e,this._prop=a,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(i,e,a){if(this._active){this._notify(!1);const r=this._target[this._prop],c=a-this._start,u=this._duration-c;this._start=a,this._duration=Math.floor(Math.max(u,i.duration)),this._total+=c,this._loop=!!i.loop,this._to=gs([i.to,e,r,i.from]),this._from=gs([i.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const e=i-this._start,a=this._duration,r=this._prop,c=this._from,u=this._loop,x=this._to;let y;if(this._active=c!==x&&(u||e<a),!this._active)return this._target[r]=x,void this._notify(!0);e<0?this._target[r]=c:(y=e/a%2,y=u&&y>1?2-y:y,y=this._easing(Math.min(1,Math.max(0,y))),this._target[r]=this._fn(c,x,y))}wait(){const i=this._promises||(this._promises=[]);return new Promise((e,a)=>{i.push({res:e,rej:a})})}_notify(i){const e=i?"res":"rej",a=this._promises||[];for(let r=0;r<a.length;r++)a[r][e]()}}class Qn{constructor(i,e){this._chart=i,this._properties=new Map,this.configure(e)}configure(i){if(!Ot(i))return;const e=Object.keys(gt.animation),a=this._properties;Object.getOwnPropertyNames(i).forEach(r=>{const c=i[r];if(!Ot(c))return;const u={};for(const x of e)u[x]=c[x];(yt(c.properties)&&c.properties||[r]).forEach(x=>{(x===r||!a.has(x))&&a.set(x,u)})})}_animateOptions(i,e){const a=e.options,r=function or(s,i){if(!i)return;let e=s.options;if(e)return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;s.options=i}(i,a);if(!r)return[];const c=this._createAnimations(r,a);return a.$shared&&function ar(s,i){const e=[],a=Object.keys(i);for(let r=0;r<a.length;r++){const c=s[a[r]];c&&c.active()&&e.push(c.wait())}return Promise.all(e)}(i.options.$animations,a).then(()=>{i.options=a},()=>{}),c}_createAnimations(i,e){const a=this._properties,r=[],c=i.$animations||(i.$animations={}),u=Object.keys(e),x=Date.now();let y;for(y=u.length-1;y>=0;--y){const k=u[y];if("$"===k.charAt(0))continue;if("options"===k){r.push(...this._animateOptions(i,e));continue}const S=e[k];let L=c[k];const D=a.get(k);if(L){if(D&&L.active()){L.update(D,S,x);continue}L.cancel()}D&&D.duration?(c[k]=L=new nr(D,i,k,S),r.push(L)):i[k]=S}return r}update(i,e){if(0===this._properties.size)return void Object.assign(i,e);const a=this._createAnimations(i,e);return a.length?(zi.add(this._chart,a),!0):void 0}}function Zn(s,i){const e=s&&s.options||{},a=e.reverse,r=void 0===e.min?i:0,c=void 0===e.max?i:0;return{start:a?c:r,end:a?r:c}}function $n(s,i){const e=[],a=s._getSortedDatasetMetas(i);let r,c;for(r=0,c=a.length;r<c;++r)e.push(a[r].index);return e}function Gn(s,i,e,a={}){const r=s.keys,c="single"===a.mode;let u,x,y,k;if(null!==i){for(u=0,x=r.length;u<x;++u){if(y=+r[u],y===e){if(a.all)continue;break}k=s.values[y],Vt(k)&&(c||0===i||Qt(i)===Qt(k))&&(i+=k)}return i}}function qn(s,i){const e=s&&s.options.stacked;return e||void 0===e&&void 0!==i.stack}function ur(s,i,e){const a=s[i]||(s[i]={});return a[e]||(a[e]={})}function ta(s,i,e,a){for(const r of i.getMatchingVisibleMetas(a).reverse()){const c=s[r.index];if(e&&c>0||!e&&c<0)return r.index}return null}function ea(s,i){const{chart:e,_cachedMeta:a}=s,r=e._stacks||(e._stacks={}),{iScale:c,vScale:u,index:x}=a,y=c.axis,k=u.axis,S=function dr(s,i,e){return`${s.id}.${i.id}.${e.stack||e.type}`}(c,u,a),L=i.length;let D;for(let E=0;E<L;++E){const H=i[E],{[y]:U,[k]:K}=H;D=(H._stacks||(H._stacks={}))[k]=ur(r,S,U),D[x]=K,D._top=ta(D,u,!0,a.type),D._bottom=ta(D,u,!1,a.type),(D._visualValues||(D._visualValues={}))[x]=K}}function an(s,i){const e=s.scales;return Object.keys(e).filter(a=>e[a].axis===i).shift()}function ms(s,i){const e=s.controller.index,a=s.vScale&&s.vScale.axis;if(a){i=i||s._parsed;for(const r of i){const c=r._stacks;if(!c||void 0===c[a]||void 0===c[a][e])return;delete c[a][e],void 0!==c[a]._visualValues&&void 0!==c[a]._visualValues[e]&&delete c[a]._visualValues[e]}}}const on=s=>"reset"===s||"none"===s,ia=(s,i)=>i?s:Object.assign({},s);let Hi=(()=>{class s{constructor(e,a){this.chart=e,this._ctx=e.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qn(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ms(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,a=this._cachedMeta,r=this.getDataset(),c=(D,E,H,U)=>"x"===D?E:"r"===D?U:H,u=a.xAxisID=jt(r.xAxisID,an(e,"x")),x=a.yAxisID=jt(r.yAxisID,an(e,"y")),y=a.rAxisID=jt(r.rAxisID,an(e,"r")),k=a.indexAxis,S=a.iAxisID=c(k,u,x,y),L=a.vAxisID=c(k,x,u,y);a.xScale=this.getScaleForId(u),a.yScale=this.getScaleForId(x),a.rScale=this.getScaleForId(y),a.iScale=this.getScaleForId(S),a.vScale=this.getScaleForId(L)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const a=this._cachedMeta;return e===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&w(this._data,this),e._stacked&&ms(e)}_dataCheck(){const e=this.getDataset(),a=e.data||(e.data=[]),r=this._data;if(Ot(a))this._data=function hr(s,i){const{iScale:e,vScale:a}=i,r="x"===e.axis?"x":"y",c="x"===a.axis?"x":"y",u=Object.keys(s),x=new Array(u.length);let y,k,S;for(y=0,k=u.length;y<k;++y)S=u[y],x[y]={[r]:S,[c]:s[S]};return x}(a,this._cachedMeta);else if(r!==a){if(r){w(r,this);const c=this._cachedMeta;ms(c),c._parsed=[]}a&&Object.isExtensible(a)&&function I(s,i){s._chartjs?s._chartjs.listeners.push(i):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),P.forEach(e=>{const a="_onData"+Ui(e),r=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...c){const u=r.apply(this,c);return s._chartjs.listeners.forEach(x=>{"function"==typeof x[a]&&x[a](...c)}),u}})}))}(a,this),this._syncList=[],this._data=a}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const a=this._cachedMeta,r=this.getDataset();let c=!1;this._dataCheck();const u=a._stacked;a._stacked=qn(a.vScale,a),a.stack!==r.stack&&(c=!0,ms(a),a.stack=r.stack),this._resyncElements(e),(c||u!==a._stacked)&&ea(this,a._parsed)}configure(){const e=this.chart.config,a=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),a,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,a){const{_cachedMeta:r,_data:c}=this,{iScale:u,_stacked:x}=r,y=u.axis;let L,D,E,k=0===e&&a===c.length||r._sorted,S=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=c,r._sorted=!0,E=c;else{E=yt(c[e])?this.parseArrayData(r,c,e,a):Ot(c[e])?this.parseObjectData(r,c,e,a):this.parsePrimitiveData(r,c,e,a);const H=()=>null===D[y]||S&&D[y]<S[y];for(L=0;L<a;++L)r._parsed[L+e]=D=E[L],k&&(H()&&(k=!1),S=D);r._sorted=k}x&&ea(this,E)}parsePrimitiveData(e,a,r,c){const{iScale:u,vScale:x}=e,y=u.axis,k=x.axis,S=u.getLabels(),L=u===x,D=new Array(c);let E,H,U;for(E=0,H=c;E<H;++E)U=E+r,D[E]={[y]:L||u.parse(S[U],U),[k]:x.parse(a[U],U)};return D}parseArrayData(e,a,r,c){const{xScale:u,yScale:x}=e,y=new Array(c);let k,S,L,D;for(k=0,S=c;k<S;++k)L=k+r,D=a[L],y[k]={x:u.parse(D[0],L),y:x.parse(D[1],L)};return y}parseObjectData(e,a,r,c){const{xScale:u,yScale:x}=e,{xAxisKey:y="x",yAxisKey:k="y"}=this._parsing,S=new Array(c);let L,D,E,H;for(L=0,D=c;L<D;++L)E=L+r,H=a[E],S[L]={x:u.parse(Li(H,y),E),y:x.parse(Li(H,k),E)};return S}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,a,r){const u=this._cachedMeta,x=a[e.axis];return Gn({keys:$n(this.chart,!0),values:a._stacks[e.axis]._visualValues},x,u.index,{mode:r})}updateRangeFromParsed(e,a,r,c){const u=r[a.axis];let x=null===u?NaN:u;const y=c&&r._stacks[a.axis];c&&y&&(c.values=y,x=Gn(c,u,this._cachedMeta.index)),e.min=Math.min(e.min,x),e.max=Math.max(e.max,x)}getMinMax(e,a){const r=this._cachedMeta,c=r._parsed,u=r._sorted&&e===r.iScale,x=c.length,y=this._getOtherScale(e),k=((s,i,e)=>s&&!i.hidden&&i._stacked&&{keys:$n(this.chart,!0),values:null})(a,r),S={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:L,max:D}=function cr(s){const{min:i,max:e,minDefined:a,maxDefined:r}=s.getUserBounds();return{min:a?i:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(y);let E,H;function U(){H=c[E];const K=H[y.axis];return!Vt(H[e.axis])||L>K||D<K}for(E=0;E<x&&(U()||(this.updateRangeFromParsed(S,e,H,k),!u));++E);if(u)for(E=x-1;E>=0;--E)if(!U()){this.updateRangeFromParsed(S,e,H,k);break}return S}getAllParsedValues(e){const a=this._cachedMeta._parsed,r=[];let c,u,x;for(c=0,u=a.length;c<u;++c)x=a[c][e.axis],Vt(x)&&r.push(x);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const a=this._cachedMeta,r=a.iScale,c=a.vScale,u=this.getParsed(e);return{label:r?""+r.getLabelForValue(u[r.axis]):"",value:c?""+c.getLabelForValue(u[c.axis]):""}}_update(e){const a=this._cachedMeta;this.update(e||"default"),a._clip=function lr(s){let i,e,a,r;return Ot(s)?(i=s.top,e=s.right,a=s.bottom,r=s.left):i=e=a=r=s,{top:i,right:e,bottom:a,left:r,disabled:!1===s}}(jt(this.options.clip,function rr(s,i,e){if(!1===e)return!1;const a=Zn(s,e),r=Zn(i,e);return{top:r.end,right:a.end,bottom:r.start,left:a.start}}(a.xScale,a.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,c=r.data||[],u=this.chart.chartArea,x=[],y=this._drawStart||0,k=this._drawCount||c.length-y,S=this.options.drawActiveElementsOnTop;let L;for(r.dataset&&r.dataset.draw(e,u,y,k),L=y;L<y+k;++L){const D=c[L];D.hidden||(D.active&&S?x.push(D):D.draw(e,u))}for(L=0;L<x.length;++L)x[L].draw(e,u)}getStyle(e,a){const r=a?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,a,r){const c=this.getDataset();let u;if(e>=0&&e<this._cachedMeta.data.length){const x=this._cachedMeta.data[e];u=x.$context||(x.$context=function xr(s,i,e){return Ni(s,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:e,index:i,mode:"default",type:"data"})}(this.getContext(),e,x)),u.parsed=this.getParsed(e),u.raw=c.data[e],u.index=u.dataIndex=e}else u=this.$context||(this.$context=function pr(s,i){return Ni(s,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),u.dataset=c,u.index=u.datasetIndex=this.index;return u.active=!!a,u.mode=r,u}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,a){return this._resolveElementOptions(this.dataElementType.id,a,e)}_resolveElementOptions(e,a="default",r){const c="active"===a,u=this._cachedDataOpts,x=e+"-"+a,y=u[x],k=this.enableOptionSharing&&C(r);if(y)return ia(y,k);const S=this.chart.config,L=S.datasetElementScopeKeys(this._type,e),D=c?[`${e}Hover`,"hover",e,""]:[e,""],E=S.getOptionScopes(this.getDataset(),L),H=Object.keys(gt.elements[e]),K=S.resolveNamedOptions(E,H,()=>this.getContext(r,c,a),D);return K.$shared&&(K.$shared=k,u[x]=Object.freeze(ia(K,k))),K}_resolveAnimations(e,a,r){const c=this.chart,u=this._cachedDataOpts,x=`animation-${a}`,y=u[x];if(y)return y;let k;if(!1!==c.options.animation){const L=this.chart.config,D=L.datasetAnimationScopeKeys(this._type,a),E=L.getOptionScopes(this.getDataset(),D);k=L.createResolver(E,this.getContext(e,r,a))}const S=new Qn(c,k&&k.animations);return k&&k._cacheable&&(u[x]=Object.freeze(S)),S}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,a){return!a||on(e)||this.chart._animationsDisabled}_getSharedOptions(e,a){const r=this.resolveDataElementOptions(e,a),c=this._sharedOptions,u=this.getSharedOptions(r),x=this.includeOptions(a,u)||u!==c;return this.updateSharedOptions(u,a,r),{sharedOptions:u,includeOptions:x}}updateElement(e,a,r,c){on(c)?Object.assign(e,r):this._resolveAnimations(a,c).update(e,r)}updateSharedOptions(e,a,r){e&&!on(a)&&this._resolveAnimations(void 0,a).update(e,r)}_setStyle(e,a,r,c){e.active=c;const u=this.getStyle(a,c);this._resolveAnimations(a,r,c).update(e,{options:!c&&this.getSharedOptions(u)||u})}removeHoverStyle(e,a,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,a,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const a=this._data,r=this._cachedMeta.data;for(const[y,k,S]of this._syncList)this[y](k,S);this._syncList=[];const c=r.length,u=a.length,x=Math.min(u,c);x&&this.parse(0,x),u>c?this._insertElements(c,u-c,e):u<c&&this._removeElements(u,c-u)}_insertElements(e,a,r=!0){const c=this._cachedMeta,u=c.data,x=e+a;let y;const k=S=>{for(S.length+=a,y=S.length-1;y>=x;y--)S[y]=S[y-a]};for(k(u),y=e;y<x;++y)u[y]=new this.dataElementType;this._parsing&&k(c._parsed),this.parse(e,a),r&&this.updateElements(u,e,a,"reset")}updateElements(e,a,r,c){}_removeElements(e,a){const r=this._cachedMeta;if(this._parsing){const c=r._parsed.splice(e,a);r._stacked&&ms(r,c)}r.data.splice(e,a)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[a,r,c]=e;this[a](r,c)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,a){a&&this._sync(["_removeElements",e,a]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return(0,Pt.A)(s,"defaults",{}),(0,Pt.A)(s,"datasetElementType",null),(0,Pt.A)(s,"dataElementType",null),s})();function fr(s){const i=s.iScale,e=function mr(s,i){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(i);let a=[];for(let r=0,c=e.length;r<c;r++)a=a.concat(e[r].controller.getAllParsedValues(s));s._cache.$bar=Y(a.sort((r,c)=>r-c))}return s._cache.$bar}(i,s.type);let r,c,u,x,a=i._length;const y=()=>{32767===u||-32768===u||(C(x)&&(a=Math.min(a,Math.abs(u-x)||a)),x=u)};for(r=0,c=e.length;r<c;++r)u=i.getPixelForValue(e[r]),y();for(x=void 0,r=0,c=i.ticks.length;r<c;++r)u=i.getPixelForTick(r),y();return a}function sa(s,i,e,a){return yt(s)?function vr(s,i,e,a){const r=e.parse(s[0],a),c=e.parse(s[1],a),u=Math.min(r,c),x=Math.max(r,c);let y=u,k=x;Math.abs(u)>Math.abs(x)&&(y=x,k=u),i[e.axis]=k,i._custom={barStart:y,barEnd:k,start:r,end:c,min:u,max:x}}(s,i,e,a):i[e.axis]=e.parse(s,a),i}function na(s,i,e,a){const r=s.iScale,c=s.vScale,u=r.getLabels(),x=r===c,y=[];let k,S,L,D;for(k=e,S=e+a;k<S;++k)D=i[k],L={},L[r.axis]=x||r.parse(u[k],k),y.push(sa(D,L,c,k));return y}function rn(s){return s&&void 0!==s.barStart&&void 0!==s.barEnd}function Tr(s,i,e,a){let r=i.borderSkipped;const c={};if(!r)return void(s.borderSkipped=c);if(!0===r)return void(s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:u,end:x,reverse:y,top:k,bottom:S}=function kr(s){let i,e,a,r,c;return s.horizontal?(i=s.base>s.x,e="left",a="right"):(i=s.base<s.y,e="bottom",a="top"),i?(r="end",c="start"):(r="start",c="end"),{start:e,end:a,reverse:i,top:r,bottom:c}}(s);"middle"===r&&e&&(s.enableBorderRadius=!0,(e._top||0)===a?r=k:(e._bottom||0)===a?r=S:(c[aa(S,u,x,y)]=!0,r=k)),c[aa(r,u,x,y)]=!0,s.borderSkipped=c}function aa(s,i,e,a){return a?(s=function Pr(s,i,e){return s===i?e:s===e?i:s}(s,i,e),s=oa(s,e,i)):s=oa(s,i,e),s}function oa(s,i,e){return"start"===s?i:"end"===s?e:s}function Cr(s,{inflateAmount:i},e){s.inflateAmount="auto"===i?1===e?.33:0:i}let _r=(()=>{class s extends Hi{parsePrimitiveData(e,a,r,c){return na(e,a,r,c)}parseArrayData(e,a,r,c){return na(e,a,r,c)}parseObjectData(e,a,r,c){const{iScale:u,vScale:x}=e,{xAxisKey:y="x",yAxisKey:k="y"}=this._parsing,S="x"===u.axis?y:k,L="x"===x.axis?y:k,D=[];let E,H,U,K;for(E=r,H=r+c;E<H;++E)K=a[E],U={},U[u.axis]=u.parse(Li(K,S),E),D.push(sa(Li(K,L),U,x,E));return D}updateRangeFromParsed(e,a,r,c){super.updateRangeFromParsed(e,a,r,c);const u=r._custom;u&&a===this._cachedMeta.vScale&&(e.min=Math.min(e.min,u.min),e.max=Math.max(e.max,u.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const a=this._cachedMeta,{iScale:r,vScale:c}=a,u=this.getParsed(e),x=u._custom,y=rn(x)?"["+x.start+", "+x.end+"]":""+c.getLabelForValue(u[c.axis]);return{label:""+r.getLabelForValue(u[r.axis]),value:y}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,e)}updateElements(e,a,r,c){const u="reset"===c,{index:x,_cachedMeta:{vScale:y}}=this,k=y.getBasePixel(),S=y.isHorizontal(),L=this._getRuler(),{sharedOptions:D,includeOptions:E}=this._getSharedOptions(a,c);for(let H=a;H<a+r;H++){const U=this.getParsed(H),K=u||Ct(U[y.axis])?{base:k,head:k}:this._calculateBarValuePixels(H),ot=this._calculateBarIndexPixels(H,L),nt=(U._stacks||{})[y.axis],vt={horizontal:S,base:K.base,enableBorderRadius:!nt||rn(U._custom)||x===nt._top||x===nt._bottom,x:S?K.head:ot.center,y:S?ot.center:K.head,height:S?ot.size:Math.abs(K.size),width:S?Math.abs(K.size):ot.size};E&&(vt.options=D||this.resolveDataElementOptions(H,e[H].active?"active":c));const Tt=vt.options||e[H].options;Tr(vt,Tt,nt,x),Cr(vt,Tt,L.ratio),this.updateElement(e[H],H,vt,c)}}_getStacks(e,a){const{iScale:r}=this._cachedMeta,c=r.getMatchingVisibleMetas(this._type).filter(k=>k.controller.options.grouped),u=r.options.stacked,x=[],y=k=>{const S=k.controller.getParsed(a),L=S&&S[k.vScale.axis];if(Ct(L)||isNaN(L))return!0};for(const k of c)if((void 0===a||!y(k))&&((!1===u||-1===x.indexOf(k.stack)||void 0===u&&void 0===k.stack)&&x.push(k.stack),k.index===e))break;return x.length||x.push(void 0),x}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,a,r){const c=this._getStacks(e,r),u=void 0!==a?c.indexOf(a):-1;return-1===u?c.length-1:u}_getRuler(){const e=this.options,a=this._cachedMeta,r=a.iScale,c=[];let u,x;for(u=0,x=a.data.length;u<x;++u)c.push(r.getPixelForValue(this.getParsed(u)[r.axis],u));const y=e.barThickness;return{min:y||fr(a),pixels:c,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:y?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:a,_stacked:r,index:c},options:{base:u,minBarLength:x}}=this,y=u||0,k=this.getParsed(e),S=k._custom,L=rn(S);let U,K,D=k[a.axis],E=0,H=r?this.applyStack(a,k,r):D;H!==D&&(E=H-D,H=D),L&&(D=S.barStart,H=S.barEnd-S.barStart,0!==D&&Qt(D)!==Qt(S.barEnd)&&(E=0),E+=D);const ot=Ct(u)||L?E:u;let nt=a.getPixelForValue(ot);if(U=this.chart.getDataVisibility(e)?a.getPixelForValue(E+H):nt,K=U-nt,Math.abs(K)<x){K=function Mr(s,i,e){return 0!==s?Qt(s):(i.isHorizontal()?1:-1)*(i.min>=e?1:-1)}(K,a,y)*x,D===y&&(nt-=K/2);const vt=a.getPixelForDecimal(0),Tt=a.getPixelForDecimal(1),mt=Math.min(vt,Tt),Mt=Math.max(vt,Tt);nt=Math.max(Math.min(nt,Mt),mt),U=nt+K,r&&!L&&(k._stacks[a.axis]._visualValues[c]=a.getValueForPixel(U)-a.getValueForPixel(nt))}if(nt===a.getPixelForValue(y)){const vt=Qt(K)*a.getLineWidthForValue(y)/2;nt+=vt,K-=vt}return{size:K,base:nt,head:U,center:U+K/2}}_calculateBarIndexPixels(e,a){const r=a.scale,c=this.options,u=c.skipNull,x=jt(c.maxBarThickness,1/0);let y,k;if(a.grouped){const S=u?this._getStackCount(e):a.stackCount,L="flex"===c.barThickness?function yr(s,i,e,a){const r=i.pixels,c=r[s];let u=s>0?r[s-1]:null,x=s<r.length-1?r[s+1]:null;const y=e.categoryPercentage;null===u&&(u=c-(null===x?i.end-i.start:x-c)),null===x&&(x=c+c-u);const k=c-(c-Math.min(u,x))/2*y;return{chunk:Math.abs(x-u)/2*y/a,ratio:e.barPercentage,start:k}}(e,a,c,S):function br(s,i,e,a){const r=e.barThickness;let c,u;return Ct(r)?(c=i.min*e.categoryPercentage,u=e.barPercentage):(c=r*a,u=1),{chunk:c/a,ratio:u,start:i.pixels[s]-c/2}}(e,a,c,S),D=this._getStackIndex(this.index,this._cachedMeta.stack,u?e:void 0);y=L.start+L.chunk*D+L.chunk/2,k=Math.min(x,L.chunk*L.ratio)}else y=r.getPixelForValue(this.getParsed(e)[r.axis],e),k=Math.min(x,a.min*a.ratio);return{base:y-k/2,head:y+k/2,center:y,size:k}}draw(){const e=this._cachedMeta,a=e.vScale,r=e.data,c=r.length;let u=0;for(;u<c;++u)null!==this.getParsed(u)[a.axis]&&!r[u].hidden&&r[u].draw(this._ctx)}}return(0,Pt.A)(s,"id","bar"),(0,Pt.A)(s,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,Pt.A)(s,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),s})(),Sr=(()=>{class s extends Hi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,a,r,c){const u=super.parsePrimitiveData(e,a,r,c);for(let x=0;x<u.length;x++)u[x]._custom=this.resolveDataElementOptions(x+r).radius;return u}parseArrayData(e,a,r,c){const u=super.parseArrayData(e,a,r,c);for(let x=0;x<u.length;x++)u[x]._custom=jt(a[r+x][2],this.resolveDataElementOptions(x+r).radius);return u}parseObjectData(e,a,r,c){const u=super.parseObjectData(e,a,r,c);for(let x=0;x<u.length;x++){const y=a[r+x];u[x]._custom=jt(y&&y.r&&+y.r,this.resolveDataElementOptions(x+r).radius)}return u}getMaxOverflow(){const e=this._cachedMeta.data;let a=0;for(let r=e.length-1;r>=0;--r)a=Math.max(a,e[r].size(this.resolveDataElementOptions(r))/2);return a>0&&a}getLabelAndValue(e){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:c,yScale:u}=a,x=this.getParsed(e),y=c.getLabelForValue(x.x),k=u.getLabelForValue(x.y),S=x._custom;return{label:r[e]||"",value:"("+y+", "+k+(S?", "+S:"")+")"}}update(e){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,e)}updateElements(e,a,r,c){const u="reset"===c,{iScale:x,vScale:y}=this._cachedMeta,{sharedOptions:k,includeOptions:S}=this._getSharedOptions(a,c),L=x.axis,D=y.axis;for(let E=a;E<a+r;E++){const H=e[E],U=!u&&this.getParsed(E),K={},ot=K[L]=u?x.getPixelForDecimal(.5):x.getPixelForValue(U[L]),nt=K[D]=u?y.getBasePixel():y.getPixelForValue(U[D]);K.skip=isNaN(ot)||isNaN(nt),S&&(K.options=k||this.resolveDataElementOptions(E,H.active?"active":c),u&&(K.options.radius=0)),this.updateElement(H,E,K,c)}}resolveDataElementOptions(e,a){const r=this.getParsed(e);let c=super.resolveDataElementOptions(e,a);c.$shared&&(c=Object.assign({},c,{$shared:!1}));const u=c.radius;return"active"!==a&&(c.radius=0),c.radius+=jt(r&&r._custom,u),c}}return(0,Pt.A)(s,"id","bubble"),(0,Pt.A)(s,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,Pt.A)(s,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),s})(),ln=(()=>{class s extends Hi{constructor(e,a){super(e,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,a){const r=this.getDataset().data,c=this._cachedMeta;if(!1===this._parsing)c._parsed=r;else{let x,y,u=k=>+r[k];if(Ot(r[e])){const{key:k="value"}=this._parsing;u=S=>+Li(r[S],k)}for(x=e,y=e+a;x<y;++x)c._parsed[x]=u(x)}}_getRotation(){return o(this.options.rotation-90)}_getCircumference(){return o(this.options.circumference)}_getRotationExtents(){let e=pt,a=-pt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const c=this.chart.getDatasetMeta(r).controller,u=c._getRotation(),x=c._getCircumference();e=Math.min(e,u),a=Math.max(a,u+x)}return{rotation:e,circumference:a-e}}update(e){const a=this.chart,{chartArea:r}=a,c=this._cachedMeta,u=c.data,x=this.getMaxBorderWidth()+this.getMaxOffset(u)+this.options.spacing,y=Math.max((Math.min(r.width,r.height)-x)/2,0),k=Math.min(((s,i)=>"string"==typeof s&&s.endsWith("%")?parseFloat(s)/100:+s/i)(this.options.cutout,y),1),S=this._getRingWeight(this.index),{circumference:L,rotation:D}=this._getRotationExtents(),{ratioX:E,ratioY:H,offsetX:U,offsetY:K}=function wr(s,i,e){let a=1,r=1,c=0,u=0;if(i<pt){const x=s,y=x+i,k=Math.cos(x),S=Math.sin(x),L=Math.cos(y),D=Math.sin(y),E=(vt,Tt,mt)=>f(vt,x,y,!0)?1:Math.max(Tt,Tt*e,mt,mt*e),H=(vt,Tt,mt)=>f(vt,x,y,!0)?-1:Math.min(Tt,Tt*e,mt,mt*e),U=E(0,k,L),K=E(It,S,D),ot=H(lt,k,L),nt=H(lt+It,S,D);a=(U-ot)/2,r=(K-nt)/2,c=-(U+ot)/2,u=-(K+nt)/2}return{ratioX:a,ratioY:r,offsetX:c,offsetY:u}}(D,L,k),vt=Math.max(Math.min((r.width-x)/E,(r.height-x)/H)/2,0),Tt=ss(this.options.radius,vt),Mt=(Tt-Math.max(Tt*k,0))/this._getVisibleDatasetWeightTotal();this.offsetX=U*Tt,this.offsetY=K*Tt,c.total=this.calculateTotal(),this.outerRadius=Tt-Mt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Mt*S,0),this.updateElements(u,0,u.length,e)}_circumference(e,a){const r=this.options,c=this._cachedMeta,u=this._getCircumference();return a&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===c._parsed[e]||c.data[e].hidden?0:this.calculateCircumference(c._parsed[e]*u/pt)}updateElements(e,a,r,c){const u="reset"===c,x=this.chart,y=x.chartArea,L=(y.left+y.right)/2,D=(y.top+y.bottom)/2,E=u&&x.options.animation.animateScale,H=E?0:this.innerRadius,U=E?0:this.outerRadius,{sharedOptions:K,includeOptions:ot}=this._getSharedOptions(a,c);let vt,nt=this._getRotation();for(vt=0;vt<a;++vt)nt+=this._circumference(vt,u);for(vt=a;vt<a+r;++vt){const Tt=this._circumference(vt,u),mt=e[vt],Mt={x:L+this.offsetX,y:D+this.offsetY,startAngle:nt,endAngle:nt+Tt,circumference:Tt,outerRadius:U,innerRadius:H};ot&&(Mt.options=K||this.resolveDataElementOptions(vt,mt.active?"active":c)),nt+=Tt,this.updateElement(mt,vt,Mt,c)}}calculateTotal(){const e=this._cachedMeta,a=e.data;let c,r=0;for(c=0;c<a.length;c++){const u=e._parsed[c];null!==u&&!isNaN(u)&&this.chart.getDataVisibility(c)&&!a[c].hidden&&(r+=Math.abs(u))}return r}calculateCircumference(e){const a=this._cachedMeta.total;return a>0&&!isNaN(e)?pt*(Math.abs(e)/a):0}getLabelAndValue(e){const r=this.chart,c=r.data.labels||[],u=Qe(this._cachedMeta._parsed[e],r.options.locale);return{label:c[e]||"",value:u}}getMaxBorderWidth(e){let a=0;const r=this.chart;let c,u,x,y,k;if(!e)for(c=0,u=r.data.datasets.length;c<u;++c)if(r.isDatasetVisible(c)){x=r.getDatasetMeta(c),e=x.data,y=x.controller;break}if(!e)return 0;for(c=0,u=e.length;c<u;++c)k=y.resolveDataElementOptions(c),"inner"!==k.borderAlign&&(a=Math.max(a,k.borderWidth||0,k.hoverBorderWidth||0));return a}getMaxOffset(e){let a=0;for(let r=0,c=e.length;r<c;++r){const u=this.resolveDataElementOptions(r);a=Math.max(a,u.offset||0,u.hoverOffset||0)}return a}_getRingWeightOffset(e){let a=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(a+=this._getRingWeight(r));return a}_getRingWeight(e){return Math.max(jt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return(0,Pt.A)(s,"id","doughnut"),(0,Pt.A)(s,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,Pt.A)(s,"descriptors",{_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")}),(0,Pt.A)(s,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:a,color:r}}=i.legend.options;return e.labels.map((c,u)=>{const y=i.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,fontColor:r,lineWidth:y.borderWidth,pointStyle:a,hidden:!i.getDataVisibility(u),index:u}})}return[]}},onClick(i,e,a){a.chart.toggleDataVisibility(e.index),a.chart.update()}}}}),s})(),Ar=(()=>{class s extends Hi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const a=this._cachedMeta,{dataset:r,data:c=[],_dataset:u}=a,x=this.chart._animationsDisabled;let{start:y,count:k}=J(a,c,x);this._drawStart=y,this._drawCount=k,X(a)&&(y=0,k=c.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!u._decimated,r.points=c;const S=this.resolveDatasetElementOptions(e);this.options.showLine||(S.borderWidth=0),S.segment=this.options.segment,this.updateElement(r,void 0,{animated:!x,options:S},e),this.updateElements(c,y,k,e)}updateElements(e,a,r,c){const u="reset"===c,{iScale:x,vScale:y,_stacked:k,_dataset:S}=this._cachedMeta,{sharedOptions:L,includeOptions:D}=this._getSharedOptions(a,c),E=x.axis,H=y.axis,{spanGaps:U,segment:K}=this.options,ot=ue(U)?U:Number.POSITIVE_INFINITY,nt=this.chart._animationsDisabled||u||"none"===c,vt=a+r,Tt=e.length;let mt=a>0&&this.getParsed(a-1);for(let Mt=0;Mt<Tt;++Mt){const Wt=e[Mt],wt=nt?Wt:{};if(Mt<a||Mt>=vt){wt.skip=!0;continue}const Yt=this.getParsed(Mt),de=Ct(Yt[H]),le=wt[E]=x.getPixelForValue(Yt[E],Mt),xe=wt[H]=u||de?y.getBasePixel():y.getPixelForValue(k?this.applyStack(y,Yt,k):Yt[H],Mt);wt.skip=isNaN(le)||isNaN(xe)||de,wt.stop=Mt>0&&Math.abs(Yt[E]-mt[E])>ot,K&&(wt.parsed=Yt,wt.raw=S.data[Mt]),D&&(wt.options=L||this.resolveDataElementOptions(Mt,Wt.active?"active":c)),nt||this.updateElement(Wt,Mt,wt,c),mt=Yt}}getMaxOverflow(){const e=this._cachedMeta,a=e.dataset,r=a.options&&a.options.borderWidth||0,c=e.data||[];if(!c.length)return r;const u=c[0].size(this.resolveDataElementOptions(0)),x=c[c.length-1].size(this.resolveDataElementOptions(c.length-1));return Math.max(r,u,x)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return(0,Pt.A)(s,"id","line"),(0,Pt.A)(s,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,Pt.A)(s,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),s})(),ra=(()=>{class s extends Hi{constructor(e,a){super(e,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,c=r.data.labels||[],u=Qe(this._cachedMeta._parsed[e].r,r.options.locale);return{label:c[e]||"",value:u}}parseObjectData(e,a,r,c){return Wn.bind(this)(e,a,r,c)}update(e){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,e)}getMinMax(){const a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,c)=>{const u=this.getParsed(c).r;!isNaN(u)&&this.chart.getDataVisibility(c)&&(u<a.min&&(a.min=u),u>a.max&&(a.max=u))}),a}_updateRadius(){const e=this.chart,a=e.chartArea,r=e.options,c=Math.min(a.right-a.left,a.bottom-a.top),u=Math.max(c/2,0),y=(u-Math.max(r.cutoutPercentage?u/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=u-y*this.index,this.innerRadius=this.outerRadius-y}updateElements(e,a,r,c){const u="reset"===c,x=this.chart,k=x.options.animation,S=this._cachedMeta.rScale,L=S.xCenter,D=S.yCenter,E=S.getIndexAngle(0)-.5*lt;let U,H=E;const K=360/this.countVisibleElements();for(U=0;U<a;++U)H+=this._computeAngle(U,c,K);for(U=a;U<a+r;U++){const ot=e[U];let nt=H,vt=H+this._computeAngle(U,c,K),Tt=x.getDataVisibility(U)?S.getDistanceFromCenterForValue(this.getParsed(U).r):0;H=vt,u&&(k.animateScale&&(Tt=0),k.animateRotate&&(nt=vt=E));const mt={x:L,y:D,innerRadius:0,outerRadius:Tt,startAngle:nt,endAngle:vt,options:this.resolveDataElementOptions(U,ot.active?"active":c)};this.updateElement(ot,U,mt,c)}}countVisibleElements(){let a=0;return this._cachedMeta.data.forEach((r,c)=>{!isNaN(this.getParsed(c).r)&&this.chart.getDataVisibility(c)&&a++}),a}_computeAngle(e,a,r){return this.chart.getDataVisibility(e)?o(this.resolveDataElementOptions(e,a).angle||r):0}}return(0,Pt.A)(s,"id","polarArea"),(0,Pt.A)(s,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,Pt.A)(s,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:a,color:r}}=i.legend.options;return e.labels.map((c,u)=>{const y=i.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,fontColor:r,lineWidth:y.borderWidth,pointStyle:a,hidden:!i.getDataVisibility(u),index:u}})}return[]}},onClick(i,e,a){a.chart.toggleDataVisibility(e.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),s})();var Br=Object.freeze({__proto__:null,BarController:_r,BubbleController:Sr,DoughnutController:ln,LineController:Ar,PieController:(()=>{class s extends ln{}return(0,Pt.A)(s,"id","pie"),(0,Pt.A)(s,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),s})(),PolarAreaController:ra,RadarController:(()=>{class s extends Hi{getLabelAndValue(e){const a=this._cachedMeta.vScale,r=this.getParsed(e);return{label:a.getLabels()[e],value:""+a.getLabelForValue(r[a.axis])}}parseObjectData(e,a,r,c){return Wn.bind(this)(e,a,r,c)}update(e){const a=this._cachedMeta,r=a.dataset,c=a.data||[],u=a.iScale.getLabels();if(r.points=c,"resize"!==e){const x=this.resolveDatasetElementOptions(e);this.options.showLine||(x.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:u.length===c.length,options:x},e)}this.updateElements(c,0,c.length,e)}updateElements(e,a,r,c){const u=this._cachedMeta.rScale,x="reset"===c;for(let y=a;y<a+r;y++){const k=e[y],S=this.resolveDataElementOptions(y,k.active?"active":c),L=u.getPointPositionForValue(y,this.getParsed(y).r),D=x?u.xCenter:L.x,E=x?u.yCenter:L.y,H={x:D,y:E,angle:L.angle,skip:isNaN(D)||isNaN(E),options:S};this.updateElement(k,y,H,c)}}}return(0,Pt.A)(s,"id","radar"),(0,Pt.A)(s,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,Pt.A)(s,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),s})(),ScatterController:(()=>{class s extends Hi{getLabelAndValue(e){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:c,yScale:u}=a,x=this.getParsed(e),y=c.getLabelForValue(x.x),k=u.getLabelForValue(x.y);return{label:r[e]||"",value:"("+y+", "+k+")"}}update(e){const a=this._cachedMeta,{data:r=[]}=a,c=this.chart._animationsDisabled;let{start:u,count:x}=J(a,r,c);if(this._drawStart=u,this._drawCount=x,X(a)&&(u=0,x=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:y,_dataset:k}=a;y._chart=this.chart,y._datasetIndex=this.index,y._decimated=!!k._decimated,y.points=r;const S=this.resolveDatasetElementOptions(e);S.segment=this.options.segment,this.updateElement(y,void 0,{animated:!c,options:S},e)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(r,u,x,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,a,r,c){const u="reset"===c,{iScale:x,vScale:y,_stacked:k,_dataset:S}=this._cachedMeta,L=this.resolveDataElementOptions(a,c),D=this.getSharedOptions(L),E=this.includeOptions(c,D),H=x.axis,U=y.axis,{spanGaps:K,segment:ot}=this.options,nt=ue(K)?K:Number.POSITIVE_INFINITY,vt=this.chart._animationsDisabled||u||"none"===c;let Tt=a>0&&this.getParsed(a-1);for(let mt=a;mt<a+r;++mt){const Mt=e[mt],Wt=this.getParsed(mt),wt=vt?Mt:{},Yt=Ct(Wt[U]),de=wt[H]=x.getPixelForValue(Wt[H],mt),le=wt[U]=u||Yt?y.getBasePixel():y.getPixelForValue(k?this.applyStack(y,Wt,k):Wt[U],mt);wt.skip=isNaN(de)||isNaN(le)||Yt,wt.stop=mt>0&&Math.abs(Wt[H]-Tt[H])>nt,ot&&(wt.parsed=Wt,wt.raw=S.data[mt]),E&&(wt.options=D||this.resolveDataElementOptions(mt,Mt.active?"active":c)),vt||this.updateElement(Mt,mt,wt,c),Tt=Wt}this.updateSharedOptions(D,c,L)}getMaxOverflow(){const e=this._cachedMeta,a=e.data||[];if(!this.options.showLine){let y=0;for(let k=a.length-1;k>=0;--k)y=Math.max(y,a[k].size(this.resolveDataElementOptions(k))/2);return y>0&&y}const r=e.dataset,c=r.options&&r.options.borderWidth||0;if(!a.length)return c;const u=a[0].size(this.resolveDataElementOptions(0)),x=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(c,u,x)/2}}return(0,Pt.A)(s,"id","scatter"),(0,Pt.A)(s,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,Pt.A)(s,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),s})()});function $i(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hn{static override(i){Object.assign(hn.prototype,i)}constructor(i){(0,Pt.A)(this,"options",void 0),this.options=i||{}}init(){}formats(){return $i()}parse(){return $i()}format(){return $i()}add(){return $i()}diff(){return $i()}startOf(){return $i()}endOf(){return $i()}}var Fr__date=hn;function Lr(s,i,e,a){const{controller:r,data:c,_sorted:u}=s,x=r._cachedMeta.iScale;if(x&&i===x.axis&&"r"!==i&&u&&c.length){const y=x._reversePixels?B:_;if(!a)return y(c,i,e);if(r._sharedOptions){const k=c[0],S="function"==typeof k.getRange&&k.getRange(i);if(S){const L=y(c,i,e-S),D=y(c,i,e+S);return{lo:L.lo,hi:D.hi}}}}return{lo:0,hi:c.length-1}}function fs(s,i,e,a,r){const c=s.getSortedVisibleDatasetMetas(),u=e[i];for(let x=0,y=c.length;x<y;++x){const{index:k,data:S}=c[x],{lo:L,hi:D}=Lr(c[x],i,u,r);for(let E=L;E<=D;++E){const H=S[E];H.skip||a(H,k,E)}}}function dn(s,i,e,a,r){const c=[];return!r&&!s.isPointInArea(i)||fs(s,e,i,function(x,y,k){!r&&!Me(x,s.chartArea,0)||x.inRange(i.x,i.y,a)&&c.push({element:x,datasetIndex:y,index:k})},!0),c}function cn(s,i,e,a,r,c){return c||s.isPointInArea(i)?"r"!==e||a?function Vr(s,i,e,a,r,c){let u=[];const x=function Ir(s){const i=-1!==s.indexOf("x"),e=-1!==s.indexOf("y");return function(a,r){const c=i?Math.abs(a.x-r.x):0,u=e?Math.abs(a.y-r.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(u,2))}}(e);let y=Number.POSITIVE_INFINITY;return fs(s,e,i,function k(S,L,D){const E=S.inRange(i.x,i.y,r);if(a&&!E)return;const H=S.getCenterPoint(r);if(!c&&!s.isPointInArea(H)&&!E)return;const K=x(i,H);K<y?(u=[{element:S,datasetIndex:L,index:D}],y=K):K===y&&u.push({element:S,datasetIndex:L,index:D})}),u}(s,i,e,a,r,c):function Dr(s,i,e,a){let r=[];return fs(s,e,i,function c(u,x,y){const{startAngle:k,endAngle:S}=u.getProps(["startAngle","endAngle"],a),{angle:L}=p(u,{x:i.x,y:i.y});f(L,k,S)&&r.push({element:u,datasetIndex:x,index:y})}),r}(s,i,e,r):[]}function la(s,i,e,a,r){const c=[],u="x"===e?"inXRange":"inYRange";let x=!1;return fs(s,e,i,(y,k,S)=>{y[u](i[e],r)&&(c.push({element:y,datasetIndex:k,index:S}),x=x||y.inRange(i.x,i.y,r))}),a&&!x?[]:c}var Wr={evaluateInteractionItems:fs,modes:{index(s,i,e,a){const r=Qi(i,s),c=e.axis||"x",u=e.includeInvisible||!1,x=e.intersect?dn(s,r,c,a,u):cn(s,r,c,!1,a,u),y=[];return x.length?(s.getSortedVisibleDatasetMetas().forEach(k=>{const S=x[0].index,L=k.data[S];L&&!L.skip&&y.push({element:L,datasetIndex:k.index,index:S})}),y):[]},dataset(s,i,e,a){const r=Qi(i,s),c=e.axis||"xy",u=e.includeInvisible||!1;let x=e.intersect?dn(s,r,c,a,u):cn(s,r,c,!1,a,u);if(x.length>0){const y=x[0].datasetIndex,k=s.getDatasetMeta(y).data;x=[];for(let S=0;S<k.length;++S)x.push({element:k[S],datasetIndex:y,index:S})}return x},point:(s,i,e,a)=>dn(s,Qi(i,s),e.axis||"xy",a,e.includeInvisible||!1),nearest:(s,i,e,a)=>cn(s,Qi(i,s),e.axis||"xy",e.intersect,a,e.includeInvisible||!1),x:(s,i,e,a)=>la(s,Qi(i,s),"x",e.intersect,a),y:(s,i,e,a)=>la(s,Qi(i,s),"y",e.intersect,a)}};const ha=["left","top","right","bottom"];function bs(s,i){return s.filter(e=>e.pos===i)}function da(s,i){return s.filter(e=>-1===ha.indexOf(e.pos)&&e.box.axis===i)}function ys(s,i){return s.sort((e,a)=>{const r=i?a:e,c=i?e:a;return r.weight===c.weight?r.index-c.index:r.weight-c.weight})}function ca(s,i,e,a){return Math.max(s[e],i[e])+Math.max(s[a],i[a])}function ua(s,i){s.top=Math.max(s.top,i.top),s.left=Math.max(s.left,i.left),s.bottom=Math.max(s.bottom,i.bottom),s.right=Math.max(s.right,i.right)}function Yr(s,i,e,a){const{pos:r,box:c}=e,u=s.maxPadding;if(!Ot(r)){e.size&&(s[r]-=e.size);const L=a[e.stack]||{size:0,count:1};L.size=Math.max(L.size,e.horizontal?c.height:c.width),e.size=L.size/L.count,s[r]+=e.size}c.getPadding&&ua(u,c.getPadding());const x=Math.max(0,i.outerWidth-ca(u,s,"left","right")),y=Math.max(0,i.outerHeight-ca(u,s,"top","bottom")),k=x!==s.w,S=y!==s.h;return s.w=x,s.h=y,e.horizontal?{same:k,other:S}:{same:S,other:k}}function Nr(s,i){const e=i.maxPadding;return function a(r){const c={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{c[u]=Math.max(i[u],e[u])}),c}(s?["left","right"]:["top","bottom"])}function vs(s,i,e,a){const r=[];let c,u,x,y,k,S;for(c=0,u=s.length,k=0;c<u;++c){x=s[c],y=x.box,y.update(x.width||i.w,x.height||i.h,Nr(x.horizontal,i));const{same:L,other:D}=Yr(i,e,x,a);k|=L&&r.length,S=S||D,y.fullSize||r.push(x)}return k&&vs(r,i,e,a)||S}function Ds(s,i,e,a,r){s.top=e,s.left=i,s.right=i+a,s.bottom=e+r,s.width=a,s.height=r}function pa(s,i,e,a){const r=e.padding;let{x:c,y:u}=i;for(const x of s){const y=x.box,k=a[x.stack]||{count:1,placed:0,weight:1},S=x.stackWeight/k.weight||1;if(x.horizontal){const L=i.w*S,D=k.size||y.height;C(k.start)&&(u=k.start),y.fullSize?Ds(y,r.left,u,e.outerWidth-r.right-r.left,D):Ds(y,i.left+k.placed,u,L,D),k.start=u,k.placed+=L,u=y.bottom}else{const L=i.h*S,D=k.size||y.width;C(k.start)&&(c=k.start),y.fullSize?Ds(y,c,r.top,D,e.outerHeight-r.bottom-r.top):Ds(y,c,i.top+k.placed,D,L),k.start=c,k.placed+=L,c=y.right}}i.x=c,i.y=u}var li={addBox(s,i){s.boxes||(s.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(e){i.draw(e)}}]},s.boxes.push(i)},removeBox(s,i){const e=s.boxes?s.boxes.indexOf(i):-1;-1!==e&&s.boxes.splice(e,1)},configure(s,i,e){i.fullSize=e.fullSize,i.position=e.position,i.weight=e.weight},update(s,i,e,a){if(!s)return;const r=ri(s.options.layout.padding),c=Math.max(i-r.width,0),u=Math.max(e-r.height,0),x=function zr(s){const i=function Or(s){const i=[];let e,a,r,c,u,x;for(e=0,a=(s||[]).length;e<a;++e)r=s[e],({position:c,options:{stack:u,stackWeight:x=1}}=r),i.push({index:e,box:r,pos:c,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&c+u,stackWeight:x});return i}(s),e=ys(i.filter(k=>k.box.fullSize),!0),a=ys(bs(i,"left"),!0),r=ys(bs(i,"right")),c=ys(bs(i,"top"),!0),u=ys(bs(i,"bottom")),x=da(i,"x"),y=da(i,"y");return{fullSize:e,leftAndTop:a.concat(c),rightAndBottom:r.concat(y).concat(u).concat(x),chartArea:bs(i,"chartArea"),vertical:a.concat(r).concat(y),horizontal:c.concat(u).concat(x)}}(s.boxes),y=x.vertical,k=x.horizontal;ke(s.boxes,U=>{"function"==typeof U.beforeLayout&&U.beforeLayout()});const S=y.reduce((U,K)=>K.box.options&&!1===K.box.options.display?U:U+1,0)||1,L=Object.freeze({outerWidth:i,outerHeight:e,padding:r,availableWidth:c,availableHeight:u,vBoxMaxWidth:c/2/S,hBoxMaxHeight:u/2}),D=Object.assign({},r);ua(D,ri(a));const E=Object.assign({maxPadding:D,w:c,h:u,x:r.left,y:r.top},r),H=function Xr(s,i){const e=function Er(s){const i={};for(const e of s){const{stack:a,pos:r,stackWeight:c}=e;if(!a||!ha.includes(r))continue;const u=i[a]||(i[a]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=c}return i}(s),{vBoxMaxWidth:a,hBoxMaxHeight:r}=i;let c,u,x;for(c=0,u=s.length;c<u;++c){x=s[c];const{fullSize:y}=x.box,k=e[x.stack],S=k&&x.stackWeight/k.weight;x.horizontal?(x.width=S?S*a:y&&i.availableWidth,x.height=r):(x.width=a,x.height=S?S*r:y&&i.availableHeight)}return e}(y.concat(k),L);vs(x.fullSize,E,L,H),vs(y,E,L,H),vs(k,E,L,H)&&vs(y,E,L,H),function Rr(s){const i=s.maxPadding;function e(a){const r=Math.max(i[a]-s[a],0);return s[a]+=r,r}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}(E),pa(x.leftAndTop,E,L,H),E.x+=E.w,E.y+=E.h,pa(x.rightAndBottom,E,L,H),s.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},ke(x.chartArea,U=>{const K=U.box;Object.assign(K,s.chartArea),K.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class xa{acquireContext(i,e){}releaseContext(i){return!1}addEventListener(i,e,a){}removeEventListener(i,e,a){}getDevicePixelRatio(){return 1}getMaximumSize(i,e,a,r){return e=Math.max(0,e||i.width),a=a||i.height,{width:e,height:Math.max(0,r?Math.floor(e/r):a)}}isAttached(i){return!0}updateConfig(i){}}class Hr extends xa{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const Vs="$chartjs",jr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ga=s=>null===s||""===s,ma=!!jo&&{passive:!0};function Kr(s,i,e){s&&s.canvas&&s.canvas.removeEventListener(i,e,ma)}function Ws(s,i){for(const e of s)if(e===i||e.contains(i))return!0}function Zr(s,i,e){const a=s.canvas,r=new MutationObserver(c=>{let u=!1;for(const x of c)u=u||Ws(x.addedNodes,a),u=u&&!Ws(x.removedNodes,a);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function $r(s,i,e){const a=s.canvas,r=new MutationObserver(c=>{let u=!1;for(const x of c)u=u||Ws(x.removedNodes,a),u=u&&!Ws(x.addedNodes,a);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ms=new Map;let fa=0;function ba(){const s=window.devicePixelRatio;s!==fa&&(fa=s,Ms.forEach((i,e)=>{e.currentDevicePixelRatio!==s&&i()}))}function tl(s,i,e){const a=s.canvas,r=a&&nn(a);if(!r)return;const c=et((x,y)=>{const k=r.clientWidth;e(x,y),k<r.clientWidth&&e()},window),u=new ResizeObserver(x=>{const y=x[0],k=y.contentRect.width,S=y.contentRect.height;0===k&&0===S||c(k,S)});return u.observe(r),function Gr(s,i){Ms.size||window.addEventListener("resize",ba),Ms.set(s,i)}(s,c),u}function un(s,i,e){e&&e.disconnect(),"resize"===i&&function qr(s){Ms.delete(s),Ms.size||window.removeEventListener("resize",ba)}(s)}function el(s,i,e){const a=s.canvas,r=et(c=>{null!==s.ctx&&e(function Qr(s,i){const e=jr[s.type]||s.type,{x:a,y:r}=Qi(s,i);return{type:e,chart:i,native:s,x:void 0!==a?a:null,y:void 0!==r?r:null}}(c,s))},s);return function Jr(s,i,e){s&&s.addEventListener(i,e,ma)}(a,i,r),r}class il extends xa{acquireContext(i,e){const a=i&&i.getContext&&i.getContext("2d");return a&&a.canvas===i?(function Ur(s,i){const e=s.style,a=s.getAttribute("height"),r=s.getAttribute("width");if(s[Vs]={initial:{height:a,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",ga(r)){const c=Xn(s,"width");void 0!==c&&(s.width=c)}if(ga(a))if(""===s.style.height)s.height=s.width/(i||2);else{const c=Xn(s,"height");void 0!==c&&(s.height=c)}}(i,e),a):null}releaseContext(i){const e=i.canvas;if(!e[Vs])return!1;const a=e[Vs].initial;["height","width"].forEach(c=>{const u=a[c];Ct(u)?e.removeAttribute(c):e.setAttribute(c,u)});const r=a.style||{};return Object.keys(r).forEach(c=>{e.style[c]=r[c]}),e.width=e.width,delete e[Vs],!0}addEventListener(i,e,a){this.removeEventListener(i,e),(i.$proxies||(i.$proxies={}))[e]=({attach:Zr,detach:$r,resize:tl}[e]||el)(i,e,a)}removeEventListener(i,e){const a=i.$proxies||(i.$proxies={}),r=a[e];r&&(({attach:un,detach:un,resize:un}[e]||Kr)(i,e,r),a[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,e,a,r){return function Ho(s,i,e,a){const r=Ls(s),c=Ki(r,"margin"),u=Fs(r.maxWidth,s,"clientWidth")||Ut,x=Fs(r.maxHeight,s,"clientHeight")||Ut,y=function No(s,i,e){let a,r;if(void 0===i||void 0===e){const c=s&&nn(s);if(c){const u=c.getBoundingClientRect(),x=Ls(c),y=Ki(x,"border","width"),k=Ki(x,"padding");i=u.width-k.width-y.width,e=u.height-k.height-y.height,a=Fs(x.maxWidth,c,"clientWidth"),r=Fs(x.maxHeight,c,"clientHeight")}else i=s.clientWidth,e=s.clientHeight}return{width:i,height:e,maxWidth:a||Ut,maxHeight:r||Ut}}(s,i,e);let{width:k,height:S}=y;if("content-box"===r.boxSizing){const D=Ki(r,"border","width"),E=Ki(r,"padding");k-=E.width+D.width,S-=E.height+D.height}return k=Math.max(0,k-c.width),S=Math.max(0,a?k/a:S-c.height),k=Is(Math.min(k,u,y.maxWidth)),S=Is(Math.min(S,x,y.maxHeight)),k&&!S&&(S=Is(k/2)),(void 0!==i||void 0!==e)&&a&&y.height&&S>y.height&&(S=y.height,k=Is(Math.floor(S*a))),{width:k,height:S}}(i,e,a,r)}isAttached(i){const e=i&&nn(i);return!(!e||!e.isConnected)}}class wi{constructor(){(0,Pt.A)(this,"x",void 0),(0,Pt.A)(this,"y",void 0),(0,Pt.A)(this,"active",!1),(0,Pt.A)(this,"options",void 0),(0,Pt.A)(this,"$animations",void 0)}tooltipPosition(i){const{x:e,y:a}=this.getProps(["x","y"],i);return{x:e,y:a}}hasValue(){return ue(this.x)&&ue(this.y)}getProps(i,e){const a=this.$animations;if(!e||!a)return this;const r={};return i.forEach(c=>{r[c]=a[c]&&a[c].active()?a[c]._to:this[c]}),r}}function Os(s,i,e,a,r){const c=jt(a,0),u=Math.min(jt(r,s.length),s.length);let y,k,S,x=0;for(e=Math.ceil(e),r&&(y=r-a,e=y/Math.floor(y/e)),S=c;S<0;)x++,S=Math.round(c+x*e);for(k=Math.max(c,0);k<u;k++)k===S&&(i.push(s[k]),x++,S=Math.round(c+x*e))}(0,Pt.A)(wi,"defaults",{}),(0,Pt.A)(wi,"defaultRoutes",void 0);const ya=(s,i,e)=>"top"===i||"left"===i?s[i]+e:s[i]-e,va=(s,i)=>Math.min(i||s,s);function Ma(s,i){const e=[],a=s.length/i,r=s.length;let c=0;for(;c<r;c+=a)e.push(s[Math.floor(c)]);return e}function cl(s,i,e){const a=s.ticks.length,r=Math.min(i,a-1),c=s._startPixel,u=s._endPixel,x=1e-6;let k,y=s.getPixelForTick(r);if(!(e&&(k=1===a?Math.max(y-c,u-y):0===i?(s.getPixelForTick(1)-y)/2:(y-s.getPixelForTick(r-1))/2,y+=r<i?k:-k,y<c-x||y>u+x)))return y}function ks(s){return s.drawTicks?s.tickLength:0}function ka(s,i){if(!s.display)return 0;const e=$e(s.font,i),a=ri(s.padding);return(yt(s.text)?s.text.length:1)*e.lineHeight+a.height}function gl(s,i,e){let a=$(s);return(e&&"right"!==i||!e&&"right"===i)&&(a=(s=>"left"===s?"right":"right"===s?"left":s)(a)),a}class Gi extends wi{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,e){return i}getUserBounds(){let{_userMin:i,_userMax:e,_suggestedMin:a,_suggestedMax:r}=this;return i=ze(i,Number.POSITIVE_INFINITY),e=ze(e,Number.NEGATIVE_INFINITY),a=ze(a,Number.POSITIVE_INFINITY),r=ze(r,Number.NEGATIVE_INFINITY),{min:ze(i,a),max:ze(e,r),minDefined:Vt(i),maxDefined:Vt(e)}}getMinMax(i){let u,{min:e,max:a,minDefined:r,maxDefined:c}=this.getUserBounds();if(r&&c)return{min:e,max:a};const x=this.getMatchingVisibleMetas();for(let y=0,k=x.length;y<k;++y)u=x[y].controller.getMinMax(this,i),r||(e=Math.min(e,u.min)),c||(a=Math.max(a,u.max));return e=c&&e>a?a:e,a=r&&e>a?e:a,{min:ze(e,ze(a,e)),max:ze(a,ze(e,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fe(this.options.beforeUpdate,[this])}update(i,e,a){const{beginAtZero:r,grace:c,ticks:u}=this.options,x=u.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=e,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function ko(s,i,e){const{min:a,max:r}=s,c=ss(i,(r-a)/2),u=(x,y)=>e&&0===x?0:x+y;return{min:u(a,-Math.abs(c)),max:u(r,c)}}(this,c,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const y=x<this.ticks.length;this._convertTicksToLabels(y?Ma(this.ticks,x):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||"auto"===u.source)&&(this.ticks=function nl(s,i){const e=s.options.ticks,a=function al(s){const i=s.options.offset,e=s._tickSize();return Math.floor(Math.min(s._length/e+(i?0:1),s._maxLength/e))}(s),r=Math.min(e.maxTicksLimit||a,a),c=e.major.enabled?function rl(s){const i=[];let e,a;for(e=0,a=s.length;e<a;e++)s[e].major&&i.push(e);return i}(i):[],u=c.length,x=c[0],y=c[u-1],k=[];if(u>r)return function ll(s,i,e,a){let u,r=0,c=e[0];for(a=Math.ceil(a),u=0;u<s.length;u++)u===c&&(i.push(s[u]),r++,c=e[r*a])}(i,k,c,u/r),k;const S=function ol(s,i,e){const a=function hl(s){const i=s.length;let e,a;if(i<2)return!1;for(a=s[0],e=1;e<i;++e)if(s[e]-s[e-1]!==a)return!1;return a}(s),r=i.length/e;if(!a)return Math.max(r,1);const c=function Dt(s){const i=[],e=Math.sqrt(s);let a;for(a=1;a<e;a++)s%a==0&&(i.push(a),i.push(s/a));return e===(0|e)&&i.push(e),i.sort((r,c)=>r-c).pop(),i}(a);for(let u=0,x=c.length-1;u<x;u++){const y=c[u];if(y>r)return y}return Math.max(r,1)}(c,i,r);if(u>0){let L,D;const E=u>1?Math.round((y-x)/(u-1)):null;for(Os(i,k,S,Ct(E)?0:x-E,x),L=0,D=u-1;L<D;L++)Os(i,k,S,c[L],c[L+1]);return Os(i,k,S,y,Ct(E)?i.length:y+E),k}return Os(i,k,S),k}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),y&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,a,i=this.options.reverse;this.isHorizontal()?(e=this.left,a=this.right):(e=this.top,a=this.bottom,i=!i),this._startPixel=e,this._endPixel=a,this._reversePixels=i,this._length=a-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fe(this.options.afterUpdate,[this])}beforeSetDimensions(){fe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fe(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),fe(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const e=this.options.ticks;let a,r,c;for(a=0,r=i.length;a<r;a++)c=i[a],c.label=fe(e.callback,[c.value,a,i],this)}afterTickToLabelConversion(){fe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,e=i.ticks,a=va(this.ticks.length,i.ticks.maxTicksLimit),r=e.minRotation||0,c=e.maxRotation;let x,y,k,u=r;if(!this._isVisible()||!e.display||r>=c||a<=1||!this.isHorizontal())return void(this.labelRotation=r);const S=this._getLabelSizes(),L=S.widest.width,D=S.highest.height,E=g(this.chart.width-L,0,this.maxWidth);x=i.offset?this.maxWidth/a:E/(a-1),L+6>x&&(x=E/(a-(i.offset?.5:1)),y=this.maxHeight-ks(i.grid)-e.padding-ka(i.title,this.chart.options.font),k=Math.sqrt(L*L+D*D),u=n(Math.min(Math.asin(g((S.highest.height+6)/x,-1,1)),Math.asin(g(y/k,-1,1))-Math.asin(g(D/k,-1,1)))),u=Math.max(r,Math.min(c,u))),this.labelRotation=u}afterCalculateLabelRotation(){fe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fe(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:e,options:{ticks:a,title:r,grid:c}}=this,u=this._isVisible(),x=this.isHorizontal();if(u){const y=ka(r,e.options.font);if(x?(i.width=this.maxWidth,i.height=ks(c)+y):(i.height=this.maxHeight,i.width=ks(c)+y),a.display&&this.ticks.length){const{first:k,last:S,widest:L,highest:D}=this._getLabelSizes(),E=2*a.padding,H=o(this.labelRotation),U=Math.cos(H),K=Math.sin(H);x?i.height=Math.min(this.maxHeight,i.height+(a.mirror?0:K*L.width+U*D.height)+E):i.width=Math.min(this.maxWidth,i.width+(a.mirror?0:U*L.width+K*D.height)+E),this._calculatePadding(k,S,K,U)}}this._handleMargins(),x?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,e,a,r){const{ticks:{align:c,padding:u},position:x}=this.options,y=0!==this.labelRotation,k="top"!==x&&"x"===this.axis;if(this.isHorizontal()){const S=this.getPixelForTick(0)-this.left,L=this.right-this.getPixelForTick(this.ticks.length-1);let D=0,E=0;y?k?(D=r*i.width,E=a*e.height):(D=a*i.height,E=r*e.width):"start"===c?E=e.width:"end"===c?D=i.width:"inner"!==c&&(D=i.width/2,E=e.width/2),this.paddingLeft=Math.max((D-S+u)*this.width/(this.width-S),0),this.paddingRight=Math.max((E-L+u)*this.width/(this.width-L),0)}else{let S=e.height/2,L=i.height/2;"start"===c?(S=0,L=i.height):"end"===c&&(S=e.height,L=0),this.paddingTop=S+u,this.paddingBottom=L+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fe(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:e}=this.options;return"top"===e||"bottom"===e||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let e,a;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),e=0,a=i.length;e<a;e++)Ct(i[e].label)&&(i.splice(e,1),a--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const e=this.options.ticks.sampleSize;let a=this.ticks;e<a.length&&(a=Ma(a,e)),this._labelSizes=i=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,e,a){const{ctx:r,_longestTextCache:c}=this,u=[],x=[],y=Math.floor(e/va(e,a));let L,D,E,H,U,K,ot,nt,vt,Tt,mt,k=0,S=0;for(L=0;L<e;L+=y){if(H=i[L].label,U=this._resolveTickFontOptions(L),r.font=K=U.string,ot=c[K]=c[K]||{data:{},gc:[]},nt=U.lineHeight,vt=Tt=0,Ct(H)||yt(H)){if(yt(H))for(D=0,E=H.length;D<E;++D)mt=H[D],!Ct(mt)&&!yt(mt)&&(vt=_t(r,ot.data,ot.gc,vt,mt),Tt+=nt)}else vt=_t(r,ot.data,ot.gc,vt,H),Tt=nt;u.push(vt),x.push(Tt),k=Math.max(vt,k),S=Math.max(Tt,S)}!function ul(s,i){ke(s,e=>{const a=e.gc,r=a.length/2;let c;if(r>i){for(c=0;c<r;++c)delete e.data[a[c]];a.splice(0,r)}})}(c,e);const Mt=u.indexOf(k),Wt=x.indexOf(S),wt=Yt=>({width:u[Yt]||0,height:x[Yt]||0});return{first:wt(0),last:wt(e-1),widest:wt(Mt),highest:wt(Wt),widths:u,heights:x}}getLabelForValue(i){return i}getPixelForValue(i,e){return NaN}getValueForPixel(i){}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const e=this._startPixel+i*this._length;return function b(s){return g(s,-32768,32767)}(this._alignToPixels?Le(this.chart,e,0):e)}getDecimalForPixel(i){const e=(i-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:e}=this;return i<0&&e<0?e:i>0&&e>0?i:0}getContext(i){const e=this.ticks||[];if(i>=0&&i<e.length){const a=e[i];return a.$context||(a.$context=function xl(s,i,e){return Ni(s,{tick:e,index:i,type:"tick"})}(this.getContext(),i,a))}return this.$context||(this.$context=function pl(s,i){return Ni(s,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,e=o(this.labelRotation),a=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),c=this._getLabelSizes(),u=i.autoSkipPadding||0,x=c?c.widest.width+u:0,y=c?c.highest.height+u:0;return this.isHorizontal()?y*a>x*r?x/a:y/r:y*r<x*a?y/a:x/r}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const e=this.axis,a=this.chart,r=this.options,{grid:c,position:u,border:x}=r,y=c.offset,k=this.isHorizontal(),L=this.ticks.length+(y?1:0),D=ks(c),E=[],H=x.setContext(this.getContext()),U=H.display?H.width:0,K=U/2,ot=function(Xe){return Le(a,Xe,U)};let nt,vt,Tt,mt,Mt,Wt,wt,Yt,de,le,xe,si;if("top"===u)nt=ot(this.bottom),Wt=this.bottom-D,Yt=nt-K,le=ot(i.top)+K,si=i.bottom;else if("bottom"===u)nt=ot(this.top),le=i.top,si=ot(i.bottom)-K,Wt=nt+K,Yt=this.top+D;else if("left"===u)nt=ot(this.right),Mt=this.right-D,wt=nt-K,de=ot(i.left)+K,xe=i.right;else if("right"===u)nt=ot(this.left),de=i.left,xe=ot(i.right)-K,Mt=nt+K,wt=this.left+D;else if("x"===e){if("center"===u)nt=ot((i.top+i.bottom)/2+.5);else if(Ot(u)){const Xe=Object.keys(u)[0];nt=ot(this.chart.scales[Xe].getPixelForValue(u[Xe]))}le=i.top,si=i.bottom,Wt=nt+K,Yt=Wt+D}else if("y"===e){if("center"===u)nt=ot((i.left+i.right)/2);else if(Ot(u)){const Xe=Object.keys(u)[0];nt=ot(this.chart.scales[Xe].getPixelForValue(u[Xe]))}Mt=nt-K,wt=Mt-D,de=i.left,xe=i.right}const yi=jt(r.ticks.maxTicksLimit,L),Fe=Math.max(1,Math.ceil(L/yi));for(vt=0;vt<L;vt+=Fe){const Xe=this.getContext(vt),He=c.setContext(Xe),Ai=x.setContext(Xe),hi=He.lineWidth,us=He.color,Zs=Ai.dash||[],ps=Ai.dashOffset,ws=He.tickWidth,ts=He.tickColor,As=He.tickBorderDash||[],es=He.tickBorderDashOffset;Tt=cl(this,vt,y),void 0!==Tt&&(mt=Le(a,Tt,hi),k?Mt=wt=de=xe=mt:Wt=Yt=le=si=mt,E.push({tx1:Mt,ty1:Wt,tx2:wt,ty2:Yt,x1:de,y1:le,x2:xe,y2:si,width:hi,color:us,borderDash:Zs,borderDashOffset:ps,tickWidth:ws,tickColor:ts,tickBorderDash:As,tickBorderDashOffset:es}))}return this._ticksLength=L,this._borderValue=nt,E}_computeLabelItems(i){const e=this.axis,a=this.options,{position:r,ticks:c}=a,u=this.isHorizontal(),x=this.ticks,{align:y,crossAlign:k,padding:S,mirror:L}=c,D=ks(a.grid),E=D+S,H=L?-S:E,U=-o(this.labelRotation),K=[];let ot,nt,vt,Tt,mt,Mt,Wt,wt,Yt,de,le,xe,si="middle";if("top"===r)Mt=this.bottom-H,Wt=this._getXAxisLabelAlignment();else if("bottom"===r)Mt=this.top+H,Wt=this._getXAxisLabelAlignment();else if("left"===r){const Fe=this._getYAxisLabelAlignment(D);Wt=Fe.textAlign,mt=Fe.x}else if("right"===r){const Fe=this._getYAxisLabelAlignment(D);Wt=Fe.textAlign,mt=Fe.x}else if("x"===e){if("center"===r)Mt=(i.top+i.bottom)/2+E;else if(Ot(r)){const Fe=Object.keys(r)[0];Mt=this.chart.scales[Fe].getPixelForValue(r[Fe])+E}Wt=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)mt=(i.left+i.right)/2-E;else if(Ot(r)){const Fe=Object.keys(r)[0];mt=this.chart.scales[Fe].getPixelForValue(r[Fe])}Wt=this._getYAxisLabelAlignment(D).textAlign}"y"===e&&("start"===y?si="top":"end"===y&&(si="bottom"));const yi=this._getLabelSizes();for(ot=0,nt=x.length;ot<nt;++ot){vt=x[ot],Tt=vt.label;const Fe=c.setContext(this.getContext(ot));wt=this.getPixelForTick(ot)+c.labelOffset,Yt=this._resolveTickFontOptions(ot),de=Yt.lineHeight,le=yt(Tt)?Tt.length:1;const Xe=le/2,He=Fe.color,Ai=Fe.textStrokeColor,hi=Fe.textStrokeWidth;let Zs,us=Wt;if(u?(mt=wt,"inner"===Wt&&(us=ot===nt-1?this.options.reverse?"left":"right":0===ot?this.options.reverse?"right":"left":"center"),xe="top"===r?"near"===k||0!==U?-le*de+de/2:"center"===k?-yi.highest.height/2-Xe*de+de:de/2-yi.highest.height:"near"===k||0!==U?de/2:"center"===k?yi.highest.height/2-Xe*de:yi.highest.height-le*de,L&&(xe*=-1),0!==U&&!Fe.showLabelBackdrop&&(mt+=de/2*Math.sin(U))):(Mt=wt,xe=(1-le)*de/2),Fe.showLabelBackdrop){const ps=ri(Fe.backdropPadding),ws=yi.heights[ot],ts=yi.widths[ot];let As=xe-ps.top,es=0-ps.left;switch(si){case"middle":As-=ws/2;break;case"bottom":As-=ws}switch(Wt){case"center":es-=ts/2;break;case"right":es-=ts;break;case"inner":ot===nt-1?es-=ts:ot>0&&(es-=ts/2)}Zs={left:es,top:As,width:ts+ps.width,height:ws+ps.height,color:Fe.backdropColor}}K.push({label:Tt,font:Yt,textOffset:xe,options:{rotation:U,color:He,strokeColor:Ai,strokeWidth:hi,textAlign:us,textBaseline:si,translation:[mt,Mt],backdrop:Zs}})}return K}_getXAxisLabelAlignment(){const{position:i,ticks:e}=this.options;if(-o(this.labelRotation))return"top"===i?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(i){const{position:e,ticks:{crossAlign:a,mirror:r,padding:c}}=this.options,x=i+c,y=this._getLabelSizes().widest.width;let k,S;return"left"===e?r?(S=this.right+c,"near"===a?k="left":"center"===a?(k="center",S+=y/2):(k="right",S+=y)):(S=this.right-x,"near"===a?k="right":"center"===a?(k="center",S-=y/2):(k="left",S=this.left)):"right"===e?r?(S=this.left+c,"near"===a?k="right":"center"===a?(k="center",S-=y/2):(k="left",S-=y)):(S=this.left+x,"near"===a?k="left":"center"===a?(k="center",S+=y/2):(k="right",S=this.right)):k="right",{textAlign:k,x:S}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:e},left:a,top:r,width:c,height:u}=this;e&&(i.save(),i.fillStyle=e,i.fillRect(a,r,c,u),i.restore())}getLineWidthForValue(i){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(c=>c.value===i);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(i){const e=this.options.grid,a=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let c,u;const x=(y,k,S)=>{!S.width||!S.color||(a.save(),a.lineWidth=S.width,a.strokeStyle=S.color,a.setLineDash(S.borderDash||[]),a.lineDashOffset=S.borderDashOffset,a.beginPath(),a.moveTo(y.x,y.y),a.lineTo(k.x,k.y),a.stroke(),a.restore())};if(e.display)for(c=0,u=r.length;c<u;++c){const y=r[c];e.drawOnChartArea&&x({x:y.x1,y:y.y1},{x:y.x2,y:y.y2},y),e.drawTicks&&x({x:y.tx1,y:y.ty1},{x:y.tx2,y:y.ty2},{color:y.tickColor,width:y.tickWidth,borderDash:y.tickBorderDash,borderDashOffset:y.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:e,options:{border:a,grid:r}}=this,c=a.setContext(this.getContext()),u=a.display?c.width:0;if(!u)return;const x=r.setContext(this.getContext(0)).lineWidth,y=this._borderValue;let k,S,L,D;this.isHorizontal()?(k=Le(i,this.left,u)-u/2,S=Le(i,this.right,x)+x/2,L=D=y):(L=Le(i,this.top,u)-u/2,D=Le(i,this.bottom,x)+x/2,k=S=y),e.save(),e.lineWidth=c.width,e.strokeStyle=c.color,e.beginPath(),e.moveTo(k,L),e.lineTo(S,D),e.stroke(),e.restore()}drawLabels(i){if(!this.options.ticks.display)return;const a=this.ctx,r=this._computeLabelArea();r&&he(a,r);const c=this.getLabelItems(i);for(const u of c)Ie(a,u.label,0,u.textOffset,u.font,u.options);r&&Nt(a)}drawTitle(){const{ctx:i,options:{position:e,title:a,reverse:r}}=this;if(!a.display)return;const c=$e(a.font),u=ri(a.padding),x=a.align;let y=c.lineHeight/2;"bottom"===e||"center"===e||Ot(e)?(y+=u.bottom,yt(a.text)&&(y+=c.lineHeight*(a.text.length-1))):y+=u.top;const{titleX:k,titleY:S,maxWidth:L,rotation:D}=function ml(s,i,e,a){const{top:r,left:c,bottom:u,right:x,chart:y}=s,{chartArea:k,scales:S}=y;let D,E,H,L=0;const U=u-r,K=x-c;if(s.isHorizontal()){if(E=Q(a,c,x),Ot(e)){const ot=Object.keys(e)[0];H=S[ot].getPixelForValue(e[ot])+U-i}else H="center"===e?(k.bottom+k.top)/2+U-i:ya(s,e,i);D=x-c}else{if(Ot(e)){const ot=Object.keys(e)[0];E=S[ot].getPixelForValue(e[ot])-K+i}else E="center"===e?(k.left+k.right)/2-K+i:ya(s,e,i);H=Q(a,u,r),L="left"===e?-It:It}return{titleX:E,titleY:H,maxWidth:D,rotation:L}}(this,y,e,x);Ie(i,a.text,0,0,c,{color:a.color,maxWidth:L,rotation:D,textAlign:gl(x,e,r),textBaseline:"middle",translation:[k,S]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,e=i.ticks&&i.ticks.z||0,a=jt(i.grid&&i.grid.z,-1),r=jt(i.border&&i.border.z,0);return this._isVisible()&&this.draw===Gi.prototype.draw?[{z:a,draw:c=>{this.drawBackground(),this.drawGrid(c),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:c=>{this.drawLabels(c)}}]:[{z:e,draw:c=>{this.draw(c)}}]}getMatchingVisibleMetas(i){const e=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",r=[];let c,u;for(c=0,u=e.length;c<u;++c){const x=e[c];x[a]===this.id&&(!i||x.type===i)&&r.push(x)}return r}_resolveTickFontOptions(i){return $e(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class Es{constructor(i,e,a){this.type=i,this.scope=e,this.override=a,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const e=Object.getPrototypeOf(i);let a;(function yl(s){return"id"in s&&"defaults"in s})(e)&&(a=this.register(e));const r=this.items,c=i.id,u=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+i);return c in r||(r[c]=i,function fl(s,i,e){const a=Ri(Object.create(null),[e?gt.get(e):{},gt.get(i),s.defaults]);gt.set(i,a),s.defaultRoutes&&function bl(s,i){Object.keys(i).forEach(e=>{const a=e.split("."),r=a.pop(),c=[s].concat(a).join("."),u=i[e].split("."),x=u.pop(),y=u.join(".");gt.route(c,r,y,x)})}(i,s.defaultRoutes),s.descriptors&&gt.describe(i,s.descriptors)}(i,u,a),this.override&&gt.override(i.id,i.overrides)),u}get(i){return this.items[i]}unregister(i){const e=this.items,a=i.id,r=this.scope;a in e&&delete e[a],r&&a in gt[r]&&(delete gt[r][a],this.override&&delete bi[a])}}class vl{constructor(){this.controllers=new Es(Hi,"datasets",!0),this.elements=new Es(wi,"elements"),this.plugins=new Es(Object,"plugins"),this.scales=new Es(Gi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,e,a){[...e].forEach(r=>{const c=a||this._getRegistryForType(r);a||c.isForType(r)||c===this.plugins&&r.id?this._exec(i,c,r):ke(r,u=>{const x=a||this._getRegistryForType(u);this._exec(i,x,u)})})}_exec(i,e,a){const r=Ui(i);fe(a["before"+r],[],a),e[i](a),fe(a["after"+r],[],a)}_getRegistryForType(i){for(let e=0;e<this._typedRegistries.length;e++){const a=this._typedRegistries[e];if(a.isForType(i))return a}return this.plugins}_get(i,e,a){const r=e.get(i);if(void 0===r)throw new Error('"'+i+'" is not a registered '+a+".");return r}}var Ii=new vl;class Ml{constructor(){this._init=[]}notify(i,e,a,r){"beforeInit"===e&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const c=r?this._descriptors(i).filter(r):this._descriptors(i),u=this._notify(c,i,e,a);return"afterDestroy"===e&&(this._notify(c,i,"stop"),this._notify(this._init,i,"uninstall")),u}_notify(i,e,a,r){r=r||{};for(const c of i){const u=c.plugin;if(!1===fe(u[a],[e,r,c.options],u)&&r.cancelable)return!1}return!0}invalidate(){Ct(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),e}_createDescriptors(i,e){const a=i&&i.config,r=jt(a.options&&a.options.plugins,{}),c=function kl(s){const i={},e=[],a=Object.keys(Ii.plugins.items);for(let c=0;c<a.length;c++)e.push(Ii.getPlugin(a[c]));const r=s.plugins||[];for(let c=0;c<r.length;c++){const u=r[c];-1===e.indexOf(u)&&(e.push(u),i[u.id]=!0)}return{plugins:e,localIds:i}}(a);return!1!==r||e?function Pl(s,{plugins:i,localIds:e},a,r){const c=[],u=s.getContext();for(const x of i){const y=x.id,k=Tl(a[y],r);null!==k&&c.push({plugin:x,options:Cl(s.config,{plugin:x,local:e[y]},k,u)})}return c}(i,c,r,e):[]}_notifyStateChanges(i){const e=this._oldCache||[],a=this._cache,r=(c,u)=>c.filter(x=>!u.some(y=>x.plugin.id===y.plugin.id));this._notify(r(e,a),i,"stop"),this._notify(r(a,e),i,"start")}}function Tl(s,i){return i||!1!==s?!0===s?{}:s:null}function Cl(s,{plugin:i,local:e},a,r){const c=s.pluginScopeKeys(i),u=s.getOptionScopes(a,c);return e&&i.defaults&&u.push(i.defaults),s.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pn(s,i){return((i.datasets||{})[s]||{}).indexAxis||i.indexAxis||(gt.datasets[s]||{}).indexAxis||"x"}function Ta(s){if("x"===s||"y"===s||"r"===s)return s}function wl(s){return"top"===s||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0}function xn(s,...i){if(Ta(s))return s;for(const e of i){const a=e.axis||wl(e.position)||s.length>1&&Ta(s[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function Pa(s,i,e){if(e[i+"AxisID"]===s)return{axis:i}}function Ca(s){const i=s.options||(s.options={});i.plugins=jt(i.plugins,{}),i.scales=function Bl(s,i){const e=bi[s.type]||{scales:{}},a=i.scales||{},r=pn(s.type,i),c=Object.create(null);return Object.keys(a).forEach(u=>{const x=a[u];if(!Ot(x))return console.error(`Invalid scale configuration for scale: ${u}`);if(x._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const y=xn(u,x,function Al(s,i){if(i.data&&i.data.datasets){const e=i.data.datasets.filter(a=>a.xAxisID===s||a.yAxisID===s);if(e.length)return Pa(s,"x",e[0])||Pa(s,"y",e[0])}return{}}(u,s),gt.scales[x.type]),k=function Sl(s,i){return s===i?"_index_":"_value_"}(y,r),S=e.scales||{};c[u]=Xi(Object.create(null),[{axis:y},x,S[y],S[k]])}),s.data.datasets.forEach(u=>{const x=u.type||s.type,y=u.indexAxis||pn(x,i),S=(bi[x]||{}).scales||{};Object.keys(S).forEach(L=>{const D=function _l(s,i){let e=s;return"_index_"===s?e=i:"_value_"===s&&(e="x"===i?"y":"x"),e}(L,y),E=u[D+"AxisID"]||D;c[E]=c[E]||Object.create(null),Xi(c[E],[{axis:D},a[E],S[L]])})}),Object.keys(c).forEach(u=>{const x=c[u];Xi(x,[gt.scales[x.type],gt.scale])}),c}(s,i)}function _a(s){return(s=s||{}).datasets=s.datasets||[],s.labels=s.labels||[],s}const Sa=new Map,wa=new Set;function Xs(s,i){let e=Sa.get(s);return e||(e=i(),Sa.set(s,e),wa.add(e)),e}const Ts=(s,i,e)=>{const a=Li(i,e);void 0!==a&&s.add(a)};class Ll{constructor(i){this._config=function Fl(s){return(s=s||{}).data=_a(s.data),Ca(s),s}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=_a(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),Ca(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return Xs(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,e){return Xs(`${i}.transition.${e}`,()=>[[`datasets.${i}.transitions.${e}`,`transitions.${e}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,e){return Xs(`${i}-${e}`,()=>[[`datasets.${i}.elements.${e}`,`datasets.${i}`,`elements.${e}`,""]])}pluginScopeKeys(i){const e=i.id;return Xs(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,e){const a=this._scopeCache;let r=a.get(i);return(!r||e)&&(r=new Map,a.set(i,r)),r}getOptionScopes(i,e,a){const{options:r,type:c}=this,u=this._cachedScopes(i,a),x=u.get(e);if(x)return x;const y=new Set;e.forEach(S=>{i&&(y.add(i),S.forEach(L=>Ts(y,i,L))),S.forEach(L=>Ts(y,r,L)),S.forEach(L=>Ts(y,bi[c]||{},L)),S.forEach(L=>Ts(y,gt,L)),S.forEach(L=>Ts(y,Oe,L))});const k=Array.from(y);return 0===k.length&&k.push(Object.create(null)),wa.has(e)&&u.set(e,k),k}chartOptionScopes(){const{options:i,type:e}=this;return[i,bi[e]||{},gt.datasets[e]||{},{type:e},gt,Oe]}resolveNamedOptions(i,e,a,r=[""]){const c={$shared:!0},{resolver:u,subPrefixes:x}=Aa(this._resolverCache,i,r);let y=u;(function Dl(s,i){const{isScriptable:e,isIndexable:a}=Bn(s);for(const r of i){const c=e(r),u=a(r),x=(u||c)&&s[r];if(c&&(A(x)||Il(x))||u&&yt(x))return!0}return!1})(u,e)&&(c.$shared=!1,y=ls(u,a=A(a)?a():a,this.createResolver(i,a,x)));for(const k of e)c[k]=y[k];return c}createResolver(i,e,a=[""],r){const{resolver:c}=Aa(this._resolverCache,i,a);return Ot(e)?ls(c,e,void 0,r):c}}function Aa(s,i,e){let a=s.get(i);a||(a=new Map,s.set(i,a));const r=e.join();let c=a.get(r);return c||(c={resolver:qs(i,e),subPrefixes:e.filter(x=>!x.toLowerCase().includes("hover"))},a.set(r,c)),c}const Il=s=>Ot(s)&&Object.getOwnPropertyNames(s).some(i=>A(s[i])),Wl=["top","bottom","left","right","chartArea"];function Ba(s,i){return"top"===s||"bottom"===s||-1===Wl.indexOf(s)&&"x"===i}function Fa(s,i){return function(e,a){return e[s]===a[s]?e[i]-a[i]:e[s]-a[s]}}function La(s){const i=s.chart,e=i.options.animation;i.notifyPlugins("afterRender"),fe(e&&e.onComplete,[s],i)}function Ol(s){const i=s.chart,e=i.options.animation;fe(e&&e.onProgress,[s],i)}function Ia(s){return sn()&&"string"==typeof s?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const zs={},Da=s=>{const i=Ia(s);return Object.values(zs).filter(e=>e.canvas===i).pop()};function El(s,i,e){const a=Object.keys(s);for(const r of a){const c=+r;if(c>=i){const u=s[r];delete s[r],(e>0||c>i)&&(s[c+e]=u)}}}function Ys(s,i,e){return s.options.clip?s[e]:i[e]}let gn=(()=>{class s{static register(...e){Ii.add(...e),Va()}static unregister(...e){Ii.remove(...e),Va()}constructor(e,a){const r=this.config=new Ll(a),c=Ia(e),u=Da(c);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");const x=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function sl(s){return!sn()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Hr:il}(c)),this.platform.updateConfig(r);const y=this.platform.acquireContext(c,x.aspectRatio),k=y&&y.canvas,S=k&&k.height,L=k&&k.width;this.id=$t(),this.ctx=y,this.canvas=k,this.width=L,this.height=S,this._options=x,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ml,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function dt(s,i){let e;return function(...a){return i?(clearTimeout(e),e=setTimeout(s,i,a)):s.apply(this,a),i}}(D=>this.update(D),x.resizeDelay||0),this._dataChanges=[],zs[this.id]=this,y&&k?(zi.listen(this,"complete",La),zi.listen(this,"progress",Ol),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:a},width:r,height:c,_aspectRatio:u}=this;return Ct(e)?a&&u?u:c?r/c:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ii}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():En(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pe(this.canvas,this.ctx),this}stop(){return zi.stop(this),this}resize(e,a){zi.running(this)?this._resizeBeforeDraw={width:e,height:a}:this._resize(e,a)}_resize(e,a){const r=this.options,x=this.platform.getMaximumSize(this.canvas,e,a,r.maintainAspectRatio&&this.aspectRatio),y=r.devicePixelRatio||this.platform.getDevicePixelRatio(),k=this.width?"resize":"attach";this.width=x.width,this.height=x.height,this._aspectRatio=this.aspectRatio,En(this,y,!0)&&(this.notifyPlugins("resize",{size:x}),fe(r.onResize,[this,x],this),this.attached&&this._doResize(k)&&this.render())}ensureScalesHaveIDs(){ke(this.options.scales||{},(r,c)=>{r.id=c})}buildOrUpdateScales(){const e=this.options,a=e.scales,r=this.scales,c=Object.keys(r).reduce((x,y)=>(x[y]=!1,x),{});let u=[];a&&(u=u.concat(Object.keys(a).map(x=>{const y=a[x],k=xn(x,y),S="r"===k,L="x"===k;return{options:y,dposition:S?"chartArea":L?"bottom":"left",dtype:S?"radialLinear":L?"category":"linear"}}))),ke(u,x=>{const y=x.options,k=y.id,S=xn(k,y),L=jt(y.type,x.dtype);(void 0===y.position||Ba(y.position,S)!==Ba(x.dposition))&&(y.position=x.dposition),c[k]=!0;let D=null;k in r&&r[k].type===L?D=r[k]:(D=new(Ii.getScale(L))({id:k,type:L,ctx:this.ctx,chart:this}),r[D.id]=D),D.init(y,e)}),ke(c,(x,y)=>{x||delete r[y]}),ke(r,x=>{li.configure(this,x,x.options),li.addBox(this,x)})}_updateMetasets(){const e=this._metasets,a=this.data.datasets.length,r=e.length;if(e.sort((c,u)=>c.index-u.index),r>a){for(let c=a;c<r;++c)this._destroyDatasetMeta(c);e.splice(a,r-a)}this._sortedMetasets=e.slice(0).sort(Fa("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:a}}=this;e.length>a.length&&delete this._stacks,e.forEach((r,c)=>{0===a.filter(u=>u===r._dataset).length&&this._destroyDatasetMeta(c)})}buildOrUpdateControllers(){const e=[],a=this.data.datasets;let r,c;for(this._removeUnreferencedMetasets(),r=0,c=a.length;r<c;r++){const u=a[r];let x=this.getDatasetMeta(r);const y=u.type||this.config.type;if(x.type&&x.type!==y&&(this._destroyDatasetMeta(r),x=this.getDatasetMeta(r)),x.type=y,x.indexAxis=u.indexAxis||pn(y,this.options),x.order=u.order||0,x.index=r,x.label=""+u.label,x.visible=this.isDatasetVisible(r),x.controller)x.controller.updateIndex(r),x.controller.linkScales();else{const k=Ii.getController(y),{datasetElementType:S,dataElementType:L}=gt.datasets[y];Object.assign(k,{dataElementType:Ii.getElement(L),datasetElementType:S&&Ii.getElement(S)}),x.controller=new k(this,r),e.push(x.controller)}}return this._updateMetasets(),e}_resetElements(){ke(this.data.datasets,(e,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const a=this.config;a.update();const r=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),c=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let x=0;for(let S=0,L=this.data.datasets.length;S<L;S++){const{controller:D}=this.getDatasetMeta(S),E=!c&&-1===u.indexOf(D);D.buildOrUpdateElements(E),x=Math.max(+D.getMaxOverflow(),x)}x=this._minPadding=r.layout.autoPadding?x:0,this._updateLayout(x),c||ke(u,S=>{S.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Fa("z","_idx"));const{_active:y,_lastEvent:k}=this;k?this._eventHandler(k,!0):y.length&&this._updateHoverStyles(y,y,!0),this.render()}_updateScales(){ke(this.scales,e=>{li.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,a=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!O(a,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,a=this._getUniformDataChanges()||[];for(const{method:r,start:c,count:u}of a)El(e,c,"_removeElements"===r?-u:u)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const a=this.data.datasets.length,r=u=>new Set(e.filter(x=>x[0]===u).map((x,y)=>y+","+x.splice(1).join(","))),c=r(0);for(let u=1;u<a;u++)if(!O(c,r(u)))return;return Array.from(c).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;li.update(this,this.width,this.height,e);const a=this.chartArea,r=a.width<=0||a.height<=0;this._layers=[],ke(this.boxes,c=>{r&&"chartArea"===c.position||(c.configure&&c.configure(),this._layers.push(...c._layers()))},this),this._layers.forEach((c,u)=>{c._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let a=0,r=this.data.datasets.length;a<r;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,r=this.data.datasets.length;a<r;++a)this._updateDataset(a,A(e)?e({datasetIndex:a}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,a){const r=this.getDatasetMeta(e),c={meta:r,index:e,mode:a,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",c)&&(r.controller._update(a),c.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",c))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(zi.has(this)?this.attached&&!zi.running(this)&&zi.start(this):(this.draw(),La({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:c}=this._resizeBeforeDraw;this._resize(r,c),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const a=this._layers;for(e=0;e<a.length&&a[e].z<=0;++e)a[e].draw(this.chartArea);for(this._drawDatasets();e<a.length;++e)a[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const a=this._sortedMetasets,r=[];let c,u;for(c=0,u=a.length;c<u;++c){const x=a[c];(!e||x.visible)&&r.push(x)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let a=e.length-1;a>=0;--a)this._drawDataset(e[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const a=this.ctx,r=e._clip,c=!r.disabled,u=function zl(s,i){const{xScale:e,yScale:a}=s;return e&&a?{left:Ys(e,i,"left"),right:Ys(e,i,"right"),top:Ys(a,i,"top"),bottom:Ys(a,i,"bottom")}:i}(e,this.chartArea),x={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",x)&&(c&&he(a,{left:!1===r.left?0:u.left-r.left,right:!1===r.right?this.width:u.right+r.right,top:!1===r.top?0:u.top-r.top,bottom:!1===r.bottom?this.height:u.bottom+r.bottom}),e.controller.draw(),c&&Nt(a),x.cancelable=!1,this.notifyPlugins("afterDatasetDraw",x))}isPointInArea(e){return Me(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,a,r,c){const u=Wr.modes[a];return"function"==typeof u?u(this,e,r,c):[]}getDatasetMeta(e){const a=this.data.datasets[e],r=this._metasets;let c=r.filter(u=>u&&u._dataset===a).pop();return c||(c={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:e,_dataset:a,_parsed:[],_sorted:!1},r.push(c)),c}getContext(){return this.$context||(this.$context=Ni(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const a=this.data.datasets[e];if(!a)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!a.hidden}setDatasetVisibility(e,a){this.getDatasetMeta(e).hidden=!a}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,a,r){const c=r?"show":"hide",u=this.getDatasetMeta(e),x=u.controller._resolveAnimations(void 0,c);C(a)?(u.data[a].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),x.update(u,{visible:r}),this.update(y=>y.datasetIndex===e?c:void 0))}hide(e,a){this._updateVisibility(e,a,!1)}show(e,a){this._updateVisibility(e,a,!0)}_destroyDatasetMeta(e){const a=this._metasets[e];a&&a.controller&&a.controller._destroy(),delete this._metasets[e]}_stop(){let e,a;for(this.stop(),zi.remove(this),e=0,a=this.data.datasets.length;e<a;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:a}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),pe(e,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete zs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,a=this.platform,r=(u,x)=>{a.addEventListener(this,u,x),e[u]=x},c=(u,x,y)=>{u.offsetX=x,u.offsetY=y,this._eventHandler(u)};ke(this.options.events,u=>r(u,c))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,a=this.platform,r=(k,S)=>{a.addEventListener(this,k,S),e[k]=S},c=(k,S)=>{e[k]&&(a.removeEventListener(this,k,S),delete e[k])},u=(k,S)=>{this.canvas&&this.resize(k,S)};let x;const y=()=>{c("attach",y),this.attached=!0,this.resize(),r("resize",u),r("detach",x)};x=()=>{this.attached=!1,c("resize",u),this._stop(),this._resize(0,0),r("attach",y)},a.isAttached(this.canvas)?y():x()}unbindEvents(){ke(this._listeners,(e,a)=>{this.platform.removeEventListener(this,a,e)}),this._listeners={},ke(this._responsiveListeners,(e,a)=>{this.platform.removeEventListener(this,a,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,a,r){const c=r?"set":"remove";let u,x,y,k;for("dataset"===a&&(u=this.getDatasetMeta(e[0].datasetIndex),u.controller["_"+c+"DatasetHoverStyle"]()),y=0,k=e.length;y<k;++y){x=e[y];const S=x&&this.getDatasetMeta(x.datasetIndex).controller;S&&S[c+"HoverStyle"](x.element,x.datasetIndex,x.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const a=this._active||[],r=e.map(({datasetIndex:u,index:x})=>{const y=this.getDatasetMeta(u);if(!y)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:y.data[x],index:x}});!Ti(r,a)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,a))}notifyPlugins(e,a,r){return this._plugins.notify(this,e,a,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(a=>a.plugin.id===e).length}_updateHoverStyles(e,a,r){const c=this.options.hover,u=(k,S)=>k.filter(L=>!S.some(D=>L.datasetIndex===D.datasetIndex&&L.index===D.index)),x=u(a,e),y=r?e:u(e,a);x.length&&this.updateHoverStyle(x,c.mode,!1),y.length&&c.mode&&this.updateHoverStyle(y,c.mode,!0)}_eventHandler(e,a){const r={event:e,replay:a,cancelable:!0,inChartArea:this.isPointInArea(e)},c=x=>(x.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,c))return;const u=this._handleEvent(e,a,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,c),(u||r.changed)&&this.render(),this}_handleEvent(e,a,r){const{_active:c=[],options:u}=this,y=this._getActiveElements(e,c,r,a),k=function tt(s){return"mouseup"===s.type||"click"===s.type||"contextmenu"===s.type}(e),S=function Xl(s,i,e,a){return e&&"mouseout"!==s.type?a?i:s:null}(e,this._lastEvent,r,k);r&&(this._lastEvent=null,fe(u.onHover,[e,y,this],this),k&&fe(u.onClick,[e,y,this],this));const L=!Ti(y,c);return(L||a)&&(this._active=y,this._updateHoverStyles(y,c,a)),this._lastEvent=S,L}_getActiveElements(e,a,r,c){if("mouseout"===e.type)return[];if(!r)return a;const u=this.options.hover;return this.getElementsAtEventForMode(e,u.mode,u,c)}}return(0,Pt.A)(s,"defaults",gt),(0,Pt.A)(s,"instances",zs),(0,Pt.A)(s,"overrides",bi),(0,Pt.A)(s,"registry",Ii),(0,Pt.A)(s,"version","4.4.3"),(0,Pt.A)(s,"getChart",Da),s})();function Va(){return ke(gn.instances,s=>s._plugins.invalidate())}function cs(s,i,e,a){return{x:e+s*Math.cos(i),y:a+s*Math.sin(i)}}function Rs(s,i,e,a,r,c){const{x:u,y:x,startAngle:y,pixelMargin:k,innerRadius:S}=i,L=Math.max(i.outerRadius+a+e-k,0),D=S>0?S+a+e+k:0;let E=0;const H=r-y;if(a){const He=((S>0?S-a:0)+(L>0?L-a:0))/2;E=(H-(0!==He?H*He/(He+a):H))/2}const K=(H-Math.max(.001,H*L-e/lt)/L)/2,ot=y+K+E,nt=r-K-E,{outerStart:vt,outerEnd:Tt,innerStart:mt,innerEnd:Mt}=function Nl(s,i,e,a){const r=function Rl(s){return Gs(s,["outerStart","outerEnd","innerStart","innerEnd"])}(s.options.borderRadius),c=(e-i)/2,u=Math.min(c,a*i/2),x=y=>{const k=(e-Math.min(c,y))*a/2;return g(y,0,Math.min(c,k))};return{outerStart:x(r.outerStart),outerEnd:x(r.outerEnd),innerStart:g(r.innerStart,0,u),innerEnd:g(r.innerEnd,0,u)}}(i,D,L,nt-ot),Wt=L-vt,wt=L-Tt,Yt=ot+vt/Wt,de=nt-Tt/wt,le=D+mt,xe=D+Mt,si=ot+mt/le,yi=nt-Mt/xe;if(s.beginPath(),c){const Fe=(Yt+de)/2;if(s.arc(u,x,L,Yt,Fe),s.arc(u,x,L,Fe,de),Tt>0){const hi=cs(wt,de,u,x);s.arc(hi.x,hi.y,Tt,de,nt+It)}const Xe=cs(xe,nt,u,x);if(s.lineTo(Xe.x,Xe.y),Mt>0){const hi=cs(xe,yi,u,x);s.arc(hi.x,hi.y,Mt,nt+It,yi+Math.PI)}const He=(nt-Mt/D+(ot+mt/D))/2;if(s.arc(u,x,D,nt-Mt/D,He,!0),s.arc(u,x,D,He,ot+mt/D,!0),mt>0){const hi=cs(le,si,u,x);s.arc(hi.x,hi.y,mt,si+Math.PI,ot-It)}const Ai=cs(Wt,ot,u,x);if(s.lineTo(Ai.x,Ai.y),vt>0){const hi=cs(Wt,Yt,u,x);s.arc(hi.x,hi.y,vt,ot-It,Yt)}}else{s.moveTo(u,x);const Fe=Math.cos(Yt)*L+u,Xe=Math.sin(Yt)*L+x;s.lineTo(Fe,Xe);const He=Math.cos(de)*L+u,Ai=Math.sin(de)*L+x;s.lineTo(He,Ai)}s.closePath()}class Ps extends wi{constructor(i){super(),(0,Pt.A)(this,"circumference",void 0),(0,Pt.A)(this,"endAngle",void 0),(0,Pt.A)(this,"fullCircles",void 0),(0,Pt.A)(this,"innerRadius",void 0),(0,Pt.A)(this,"outerRadius",void 0),(0,Pt.A)(this,"pixelMargin",void 0),(0,Pt.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,e,a){const r=this.getProps(["x","y"],a),{angle:c,distance:u}=p(r,{x:i,y:e}),{startAngle:x,endAngle:y,innerRadius:k,outerRadius:S,circumference:L}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),D=(this.options.spacing+this.options.borderWidth)/2,H=jt(L,y-x)>=pt||f(c,x,y),U=v(u,k+D,S+D);return H&&U}getCenterPoint(i){const{x:e,y:a,startAngle:r,endAngle:c,innerRadius:u,outerRadius:x}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:y,spacing:k}=this.options,S=(r+c)/2,L=(u+x+k+y)/2;return{x:e+Math.cos(S)*L,y:a+Math.sin(S)*L}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:e,circumference:a}=this,r=(e.offset||0)/4,c=(e.spacing||0)/2,u=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=a>pt?Math.floor(a/pt):0,0===a||this.innerRadius<0||this.outerRadius<0)return;i.save();const x=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(x)*r,Math.sin(x)*r);const k=r*(1-Math.sin(Math.min(lt,a||0)));i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,function Hl(s,i,e,a,r){const{fullCircles:c,startAngle:u,circumference:x}=i;let y=i.endAngle;if(c){Rs(s,i,e,a,y,r);for(let k=0;k<c;++k)s.fill();isNaN(x)||(y=u+(x%pt||pt))}Rs(s,i,e,a,y,r),s.fill()}(i,this,k,c,u),function jl(s,i,e,a,r){const{fullCircles:c,startAngle:u,circumference:x,options:y}=i,{borderWidth:k,borderJoinStyle:S,borderDash:L,borderDashOffset:D}=y,E="inner"===y.borderAlign;if(!k)return;s.setLineDash(L||[]),s.lineDashOffset=D,E?(s.lineWidth=2*k,s.lineJoin=S||"round"):(s.lineWidth=k,s.lineJoin=S||"bevel");let H=i.endAngle;if(c){Rs(s,i,e,a,H,r);for(let U=0;U<c;++U)s.stroke();isNaN(x)||(H=u+(x%pt||pt))}E&&function Yl(s,i,e){const{startAngle:a,pixelMargin:r,x:c,y:u,outerRadius:x,innerRadius:y}=i;let k=r/x;s.beginPath(),s.arc(c,u,x,a-k,e+k),y>r?(k=r/y,s.arc(c,u,y,e+k,a-k,!0)):s.arc(c,u,r,e+It,a-It),s.closePath(),s.clip()}(s,i,H),c||(Rs(s,i,e,a,H,r),s.stroke())}(i,this,k,c,u),i.restore()}}function Wa(s,i,e=i){s.lineCap=jt(e.borderCapStyle,i.borderCapStyle),s.setLineDash(jt(e.borderDash,i.borderDash)),s.lineDashOffset=jt(e.borderDashOffset,i.borderDashOffset),s.lineJoin=jt(e.borderJoinStyle,i.borderJoinStyle),s.lineWidth=jt(e.borderWidth,i.borderWidth),s.strokeStyle=jt(e.borderColor,i.borderColor)}function Ul(s,i,e){s.lineTo(e.x,e.y)}function Oa(s,i,e={}){const a=s.length,{start:r=0,end:c=a-1}=e,{start:u,end:x}=i,y=Math.max(r,u),k=Math.min(c,x);return{count:a,start:y,loop:i.loop,ilen:k<y&&!(r<u&&c<u||r>x&&c>x)?a+k-y:k-y}}function Kl(s,i,e,a){const{points:r,options:c}=i,{count:u,start:x,loop:y,ilen:k}=Oa(r,e,a),S=function Jl(s){return s.stepped?Zt:s.tension||"monotone"===s.cubicInterpolationMode?Ft:Ul}(c);let E,H,U,{move:L=!0,reverse:D}=a||{};for(E=0;E<=k;++E)H=r[(x+(D?k-E:E))%u],!H.skip&&(L?(s.moveTo(H.x,H.y),L=!1):S(s,U,H,D,c.stepped),U=H);return y&&(H=r[(x+(D?k:0))%u],S(s,U,H,D,c.stepped)),!!y}function Ql(s,i,e,a){const r=i.points,{count:c,start:u,ilen:x}=Oa(r,e,a),{move:y=!0,reverse:k}=a||{};let D,E,H,U,K,ot,S=0,L=0;const nt=Tt=>(u+(k?x-Tt:Tt))%c,vt=()=>{U!==K&&(s.lineTo(S,K),s.lineTo(S,U),s.lineTo(S,ot))};for(y&&(E=r[nt(0)],s.moveTo(E.x,E.y)),D=0;D<=x;++D){if(E=r[nt(D)],E.skip)continue;const Tt=E.x,mt=E.y,Mt=0|Tt;Mt===H?(mt<U?U=mt:mt>K&&(K=mt),S=(L*S+Tt)/++L):(vt(),s.lineTo(Tt,mt),H=Mt,L=0,U=K=mt),ot=mt}vt()}function mn(s){const i=s.options;return s._decimated||s._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?Kl:Ql}(0,Pt.A)(Ps,"id","arc"),(0,Pt.A)(Ps,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),(0,Pt.A)(Ps,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,Pt.A)(Ps,"descriptors",{_scriptable:!0,_indexable:s=>"borderDash"!==s});const ql="function"==typeof Path2D;let Ns=(()=>{class s extends wi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,a){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(Eo(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,a),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function qo(s,i){const e=s.points,a=s.options.spanGaps,r=e.length;if(!r)return[];const c=!!s._loop,{start:u,end:x}=function $o(s,i,e,a){let r=0,c=i-1;if(e&&!a)for(;r<i&&!s[r].skip;)r++;for(;r<i&&s[r].skip;)r++;for(r%=i,e&&(c+=r);c>r&&s[c%i].skip;)c--;return c%=i,{start:r,end:c}}(e,r,c,a);return function Un(s,i,e,a){return a&&a.setContext&&e?function tr(s,i,e,a){const r=s._chart.getContext(),c=Jn(s.options),{_datasetIndex:u,options:{spanGaps:x}}=s,y=e.length,k=[];let S=c,L=i[0].start,D=L;function E(H,U,K,ot){const nt=x?-1:1;if(H!==U){for(H+=y;e[H%y].skip;)H-=nt;for(;e[U%y].skip;)U+=nt;H%y!=U%y&&(k.push({start:H%y,end:U%y,loop:K,style:ot}),S=ot,L=U%y)}}for(const H of i){L=x?L:H.start;let K,U=e[L%y];for(D=L+1;D<=H.end;D++){const ot=e[D%y];K=Jn(a.setContext(Ni(r,{type:"segment",p0:U,p1:ot,p0DataIndex:(D-1)%y,p1DataIndex:D%y,datasetIndex:u}))),er(K,S)&&E(L,D-1,H.loop,S),U=ot,S=K}L<D-1&&E(L,D-1,H.loop,S)}return k}(s,i,e,a):i}(s,!0===a?[{start:u,end:x,loop:c}]:function Go(s,i,e,a){const r=s.length,c=[];let y,u=i,x=s[i];for(y=i+1;y<=e;++y){const k=s[y%r];k.skip||k.stop?x.skip||(c.push({start:i%r,end:(y-1)%r,loop:a=!1}),i=u=k.stop?y:null):(u=y,x.skip&&(i=y)),x=k}return null!==u&&c.push({start:i%r,end:u%r,loop:a}),c}(e,u,x<u?x+r:x,!!s._fullLoop&&0===u&&x===r-1),e,i)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,a){const r=this.options,c=e[a],u=this.points,x=jn(this,{property:a,start:c,end:c});if(!x.length)return;const y=[],k=function Zl(s){return s.stepped?Uo:s.tension||"monotone"===s.cubicInterpolationMode?Jo:Zi}(r);let S,L;for(S=0,L=x.length;S<L;++S){const{start:D,end:E}=x[S],H=u[D],U=u[E];if(H===U){y.push(H);continue}const ot=k(H,U,Math.abs((c-H[a])/(U[a]-H[a])),r.stepped);ot[a]=e[a],y.push(ot)}return 1===y.length?y[0]:y}pathSegment(e,a,r){return mn(this)(e,this,a,r)}path(e,a,r){const c=this.segments,u=mn(this);let x=this._loop;a=a||0,r=r||this.points.length-a;for(const y of c)x&=u(e,this,y,{start:a,end:a+r-1});return!!x}draw(e,a,r,c){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function th(s,i,e,a){ql&&!i.options.segment?function $l(s,i,e,a){let r=i._path;r||(r=i._path=new Path2D,i.path(r,e,a)&&r.closePath()),Wa(s,i.options),s.stroke(r)}(s,i,e,a):function Gl(s,i,e,a){const{segments:r,options:c}=i,u=mn(i);for(const x of r)Wa(s,c,x.style),s.beginPath(),u(s,i,x,{start:e,end:e+a-1})&&s.closePath(),s.stroke()}(s,i,e,a)}(e,this,r,c),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return(0,Pt.A)(s,"id","line"),(0,Pt.A)(s,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,Pt.A)(s,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,Pt.A)(s,"descriptors",{_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i}),s})();function Ea(s,i,e,a){const r=s.options,{[e]:c}=s.getProps([e],a);return Math.abs(i-c)<r.radius+r.hitRadius}let eh=(()=>{class s extends wi{constructor(e){super(),(0,Pt.A)(this,"parsed",void 0),(0,Pt.A)(this,"skip",void 0),(0,Pt.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,a,r){const c=this.options,{x:u,y:x}=this.getProps(["x","y"],r);return Math.pow(e-u,2)+Math.pow(a-x,2)<Math.pow(c.hitRadius+c.radius,2)}inXRange(e,a){return Ea(this,e,"x",a)}inYRange(e,a){return Ea(this,e,"y",a)}getCenterPoint(e){const{x:a,y:r}=this.getProps(["x","y"],e);return{x:a,y:r}}size(e){let a=(e=e||this.options||{}).radius||0;return a=Math.max(a,a&&e.hoverRadius||0),2*(a+(a&&e.borderWidth||0))}draw(e,a){const r=this.options;this.skip||r.radius<.1||!Me(this,a,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,St(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return(0,Pt.A)(s,"id","point"),(0,Pt.A)(s,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,Pt.A)(s,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),s})();function Xa(s,i){const{x:e,y:a,base:r,width:c,height:u}=s.getProps(["x","y","base","width","height"],i);let x,y,k,S,L;return s.horizontal?(L=u/2,x=Math.min(e,r),y=Math.max(e,r),k=a-L,S=a+L):(L=c/2,x=e-L,y=e+L,k=Math.min(a,r),S=Math.max(a,r)),{left:x,top:k,right:y,bottom:S}}function ji(s,i,e,a){return s?0:g(i,e,a)}function fn(s,i,e,a){const r=null===i,c=null===e,x=s&&!(r&&c)&&Xa(s,a);return x&&(r||v(i,x.left,x.right))&&(c||v(e,x.top,x.bottom))}function oh(s,i){s.rect(i.x,i.y,i.w,i.h)}function bn(s,i,e={}){const a=s.x!==e.x?-i:0,r=s.y!==e.y?-i:0;return{x:s.x+a,y:s.y+r,w:s.w+((s.x+s.w!==e.x+e.w?i:0)-a),h:s.h+((s.y+s.h!==e.y+e.h?i:0)-r),radius:s.radius}}class Hs extends wi{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:e,options:{borderColor:a,backgroundColor:r}}=this,{inner:c,outer:u}=function nh(s){const i=Xa(s),e=i.right-i.left,a=i.bottom-i.top,r=function ih(s,i,e){const r=s.borderSkipped,c=An(s.options.borderWidth);return{t:ji(r.top,c.top,0,e),r:ji(r.right,c.right,0,i),b:ji(r.bottom,c.bottom,0,e),l:ji(r.left,c.left,0,i)}}(s,e/2,a/2),c=function sh(s,i,e){const{enableBorderRadius:a}=s.getProps(["enableBorderRadius"]),r=s.options.borderRadius,c=Ji(r),u=Math.min(i,e),x=s.borderSkipped,y=a||Ot(r);return{topLeft:ji(!y||x.top||x.left,c.topLeft,0,u),topRight:ji(!y||x.top||x.right,c.topRight,0,u),bottomLeft:ji(!y||x.bottom||x.left,c.bottomLeft,0,u),bottomRight:ji(!y||x.bottom||x.right,c.bottomRight,0,u)}}(s,e/2,a/2);return{outer:{x:i.left,y:i.top,w:e,h:a,radius:c},inner:{x:i.left+r.l,y:i.top+r.t,w:e-r.l-r.r,h:a-r.t-r.b,radius:{topLeft:Math.max(0,c.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,c.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,c.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,c.bottomRight-Math.max(r.b,r.r))}}}}(this),x=function ah(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}(u.radius)?ui:oh;i.save(),(u.w!==c.w||u.h!==c.h)&&(i.beginPath(),x(i,bn(u,e,c)),i.clip(),x(i,bn(c,-e,u)),i.fillStyle=a,i.fill("evenodd")),i.beginPath(),x(i,bn(c,e)),i.fillStyle=r,i.fill(),i.restore()}inRange(i,e,a){return fn(this,i,e,a)}inXRange(i,e){return fn(this,i,null,e)}inYRange(i,e){return fn(this,null,i,e)}getCenterPoint(i){const{x:e,y:a,base:r,horizontal:c}=this.getProps(["x","y","base","horizontal"],i);return{x:c?(e+r)/2:e,y:c?a:(a+r)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}}(0,Pt.A)(Hs,"id","bar"),(0,Pt.A)(Hs,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,Pt.A)(Hs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var rh=Object.freeze({__proto__:null,ArcElement:Ps,BarElement:Hs,LineElement:Ns,PointElement:eh});const yn=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],za=yn.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ya(s){return yn[s%yn.length]}function Ra(s){return za[s%za.length]}function Na(s){let i;for(i in s)if(s[i].borderColor||s[i].backgroundColor)return!0;return!1}var ph={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,i,e){if(!e.enabled)return;const{data:{datasets:a},options:r}=s.config,{elements:c}=r;if(!e.forceOverride&&(Na(a)||function uh(s){return s&&(s.borderColor||s.backgroundColor)}(r)||c&&Na(c)))return;const u=function ch(s){let i=0;return(e,a)=>{const r=s.getDatasetMeta(a).controller;r instanceof ln?i=function hh(s,i){return s.backgroundColor=s.data.map(()=>Ya(i++)),i}(e,i):r instanceof ra?i=function dh(s,i){return s.backgroundColor=s.data.map(()=>Ra(i++)),i}(e,i):r&&(i=function lh(s,i){return s.borderColor=Ya(i),s.backgroundColor=Ra(i),++i}(e,i))}}(s);a.forEach(u)}};function Ha(s){if(s._decimated){const i=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function ja(s){s.data.datasets.forEach(i=>{Ha(i)})}var fh={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,i,e)=>{if(!e.enabled)return void ja(s);const a=s.width;s.data.datasets.forEach((r,c)=>{const{_data:u,indexAxis:x}=r,y=s.getDatasetMeta(c),k=u||r.data;if("y"===gs([x,s.options.indexAxis])||!y.controller.supportsDecimation)return;const S=s.scales[y.xAxisID];if("linear"!==S.type&&"time"!==S.type||s.options.parsing)return;let H,{start:L,count:D}=function mh(s,i){const e=i.length;let r,a=0;const{iScale:c}=s,{min:u,max:x,minDefined:y,maxDefined:k}=c.getUserBounds();return y&&(a=g(_(i,c.axis,u).lo,0,e-1)),r=k?g(_(i,c.axis,x).hi+1,a,e)-a:e-a,{start:a,count:r}}(y,k);if(D<=(e.threshold||4*a))Ha(r);else{switch(Ct(u)&&(r._data=k,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(U){this._data=U}})),e.algorithm){case"lttb":H=function xh(s,i,e,a,r){const c=r.samples||a;if(c>=e)return s.slice(i,i+e);const u=[],x=(e-2)/(c-2);let y=0;const k=i+e-1;let L,D,E,H,U,S=i;for(u[y++]=s[S],L=0;L<c-2;L++){let nt,K=0,ot=0;const vt=Math.floor((L+1)*x)+1+i,Tt=Math.min(Math.floor((L+2)*x)+1,e)+i,mt=Tt-vt;for(nt=vt;nt<Tt;nt++)K+=s[nt].x,ot+=s[nt].y;K/=mt,ot/=mt;const Mt=Math.floor(L*x)+1+i,Wt=Math.min(Math.floor((L+1)*x)+1,e)+i,{x:wt,y:Yt}=s[S];for(E=H=-1,nt=Mt;nt<Wt;nt++)H=.5*Math.abs((wt-K)*(s[nt].y-Yt)-(wt-s[nt].x)*(ot-Yt)),H>E&&(E=H,D=s[nt],U=nt);u[y++]=D,S=U}return u[y++]=s[k],u}(k,L,D,a,e);break;case"min-max":H=function gh(s,i,e,a){let u,x,y,k,S,L,D,E,H,U,r=0,c=0;const K=[],nt=s[i].x,Tt=s[i+e-1].x-nt;for(u=i;u<i+e;++u){x=s[u],y=(x.x-nt)/Tt*a,k=x.y;const mt=0|y;if(mt===S)k<H?(H=k,L=u):k>U&&(U=k,D=u),r=(c*r+x.x)/++c;else{const Mt=u-1;if(!Ct(L)&&!Ct(D)){const Wt=Math.min(L,D),wt=Math.max(L,D);Wt!==E&&Wt!==Mt&&K.push({...s[Wt],x:r}),wt!==E&&wt!==Mt&&K.push({...s[wt],x:r})}u>0&&Mt!==E&&K.push(s[Mt]),K.push(x),S=mt,c=0,H=U=k,L=D=E=u}}return K}(k,L,D,a);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=H}})},destroy(s){ja(s)}};function vn(s,i,e,a){if(a)return;let r=i[s],c=e[s];return"angle"===s&&(r=T(r),c=T(c)),{property:s,start:r,end:c}}function Mn(s,i,e){for(;i>s;i--){const a=e[i];if(!isNaN(a.x)&&!isNaN(a.y))break}return i}function Ua(s,i,e,a){return s&&i?a(s[e],i[e]):s?s[e]:i?i[e]:0}function Ja(s,i){let e=[],a=!1;return yt(s)?(a=!0,e=s):e=function yh(s,i){const{x:e=null,y:a=null}=s||{},r=i.points,c=[];return i.segments.forEach(({start:u,end:x})=>{x=Mn(u,x,r);const y=r[u],k=r[x];null!==a?(c.push({x:y.x,y:a}),c.push({x:k.x,y:a})):null!==e&&(c.push({x:e,y:y.y}),c.push({x:e,y:k.y}))}),c}(s,i),e.length?new Ns({points:e,options:{tension:0},_loop:a,_fullLoop:a}):null}function Ka(s){return s&&!1!==s.fill}function vh(s,i,e){let r=s[i].fill;const c=[i];let u;if(!e)return r;for(;!1!==r&&-1===c.indexOf(r);){if(!Vt(r))return r;if(u=s[r],!u)return!1;if(u.visible)return r;c.push(r),r=u.fill}return!1}function Mh(s,i,e){const a=function Ch(s){const i=s.options,e=i.fill;let a=jt(e&&e.target,e);return void 0===a&&(a=!!i.backgroundColor),!1!==a&&null!==a&&(!0===a?"origin":a)}(s);if(Ot(a))return!isNaN(a.value)&&a;let r=parseFloat(a);return Vt(r)&&Math.floor(r)===r?function kh(s,i,e,a){return("-"===s||"+"===s)&&(e=i+e),!(e===i||e<0||e>=a)&&e}(a[0],i,r,e):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function wh(s,i,e){const a=[];for(let r=0;r<e.length;r++){const c=e[r],{first:u,last:x,point:y}=Ah(c,i,"x");if(!(!y||u&&x))if(u)a.unshift(y);else if(s.push(y),!x)break}s.push(...a)}function Ah(s,i,e){const a=s.interpolate(i,e);if(!a)return{};const r=a[e],c=s.segments,u=s.points;let x=!1,y=!1;for(let k=0;k<c.length;k++){const S=c[k],L=u[S.start][e],D=u[S.end][e];if(v(r,L,D)){x=r===L,y=r===D;break}}return{first:x,last:y,point:a}}class Qa{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,e,a){const{x:r,y:c,radius:u}=this;return i.arc(r,c,u,(e=e||{start:0,end:pt}).end,e.start,!0),!a.bounds}interpolate(i){const{x:e,y:a,radius:r}=this,c=i.angle;return{x:e+Math.cos(c)*r,y:a+Math.sin(c)*r,angle:c}}}function kn(s,i,e){const a=function Bh(s){const{chart:i,fill:e,line:a}=s;if(Vt(e))return function Fh(s,i){const e=s.getDatasetMeta(i);return e&&s.isDatasetVisible(i)?e.dataset:null}(i,e);if("stack"===e)return function _h(s){const{scale:i,index:e,line:a}=s,r=[],c=a.segments,u=a.points,x=function Sh(s,i){const e=[],a=s.getMatchingVisibleMetas("line");for(let r=0;r<a.length;r++){const c=a[r];if(c.index===i)break;c.hidden||e.unshift(c.dataset)}return e}(i,e);x.push(Ja({x:null,y:i.bottom},a));for(let y=0;y<c.length;y++){const k=c[y];for(let S=k.start;S<=k.end;S++)wh(r,u[S],x)}return new Ns({points:r,options:{}})}(s);if("shape"===e)return!0;const r=function Lh(s){return(s.scale||{}).getPointPositionForValue?function Dh(s){const{scale:i,fill:e}=s,a=i.options,r=i.getLabels().length,c=a.reverse?i.max:i.min,u=function Ph(s,i,e){let a;return a="start"===s?e:"end"===s?i.options.reverse?i.min:i.max:Ot(s)?s.value:i.getBaseValue(),a}(e,i,c),x=[];if(a.grid.circular){const y=i.getPointPositionForValue(0,c);return new Qa({x:y.x,y:y.y,radius:i.getDistanceFromCenterForValue(u)})}for(let y=0;y<r;++y)x.push(i.getPointPositionForValue(y,u));return x}(s):function Ih(s){const{scale:i={},fill:e}=s,a=function Th(s,i){let e=null;return"start"===s?e=i.bottom:"end"===s?e=i.top:Ot(s)?e=i.getPixelForValue(s.value):i.getBasePixel&&(e=i.getBasePixel()),e}(e,i);if(Vt(a)){const r=i.isHorizontal();return{x:r?a:null,y:r?null:a}}return null}(s)}(s);return r instanceof Qa?r:Ja(r,a)}(i),{line:r,scale:c,axis:u}=i,x=r.options,y=x.fill,k=x.backgroundColor,{above:S=k,below:L=k}=y||{};a&&r.points.length&&(he(s,e),function Vh(s,i){const{line:e,target:a,above:r,below:c,area:u,scale:x}=i,y=e._loop?"angle":i.axis;s.save(),"x"===y&&c!==r&&(Za(s,a,u.top),$a(s,{line:e,target:a,color:r,scale:x,property:y}),s.restore(),s.save(),Za(s,a,u.bottom)),$a(s,{line:e,target:a,color:c,scale:x,property:y}),s.restore()}(s,{line:r,target:a,above:S,below:L,area:e,scale:c,axis:u}),Nt(s))}function Za(s,i,e){const{segments:a,points:r}=i;let c=!0,u=!1;s.beginPath();for(const x of a){const{start:y,end:k}=x,S=r[y],L=r[Mn(y,k,r)];c?(s.moveTo(S.x,S.y),c=!1):(s.lineTo(S.x,e),s.lineTo(S.x,S.y)),u=!!i.pathSegment(s,x,{move:u}),u?s.closePath():s.lineTo(L.x,e)}s.lineTo(i.first().x,e),s.closePath(),s.clip()}function $a(s,i){const{line:e,target:a,property:r,color:c,scale:u}=i,x=function bh(s,i,e){const a=s.segments,r=s.points,c=i.points,u=[];for(const x of a){let{start:y,end:k}=x;k=Mn(y,k,r);const S=vn(e,r[y],r[k],x.loop);if(!i.segments){u.push({source:x,target:S,start:r[y],end:r[k]});continue}const L=jn(i,S);for(const D of L){const E=vn(e,c[D.start],c[D.end],D.loop),H=Hn(x,r,E);for(const U of H)u.push({source:U,target:D,start:{[e]:Ua(S,E,"start",Math.max)},end:{[e]:Ua(S,E,"end",Math.min)}})}}return u}(e,a,r);for(const{source:y,target:k,start:S,end:L}of x){const{style:{backgroundColor:D=c}={}}=y,E=!0!==a;s.save(),s.fillStyle=D,Wh(s,u,E&&vn(r,S,L)),s.beginPath();const H=!!e.pathSegment(s,y);let U;if(E){H?s.closePath():Ga(s,a,L,r);const K=!!a.pathSegment(s,k,{move:H,reverse:!0});U=H&&K,U||Ga(s,a,S,r)}s.closePath(),s.fill(U?"evenodd":"nonzero"),s.restore()}}function Wh(s,i,e){const{top:a,bottom:r}=i.chart.chartArea,{property:c,start:u,end:x}=e||{};"x"===c&&(s.beginPath(),s.rect(u,a,x-u,r-a),s.clip())}function Ga(s,i,e,a){const r=i.interpolate(e,a);r&&s.lineTo(r.x,r.y)}var Oh={id:"filler",afterDatasetsUpdate(s,i,e){const a=(s.data.datasets||[]).length,r=[];let c,u,x,y;for(u=0;u<a;++u)c=s.getDatasetMeta(u),x=c.dataset,y=null,x&&x.options&&x instanceof Ns&&(y={visible:s.isDatasetVisible(u),index:u,fill:Mh(x,u,a),chart:s,axis:c.controller.options.indexAxis,scale:c.vScale,line:x}),c.$filler=y,r.push(y);for(u=0;u<a;++u)y=r[u],y&&!1!==y.fill&&(y.fill=vh(r,u,e.propagate))},beforeDraw(s,i,e){const a="beforeDraw"===e.drawTime,r=s.getSortedVisibleDatasetMetas(),c=s.chartArea;for(let u=r.length-1;u>=0;--u){const x=r[u].$filler;x&&(x.line.updateControlPoints(c,x.axis),a&&x.fill&&kn(s.ctx,x,c))}},beforeDatasetsDraw(s,i,e){if("beforeDatasetsDraw"!==e.drawTime)return;const a=s.getSortedVisibleDatasetMetas();for(let r=a.length-1;r>=0;--r){const c=a[r].$filler;Ka(c)&&kn(s.ctx,c,s.chartArea)}},beforeDatasetDraw(s,i,e){const a=i.meta.$filler;!Ka(a)||"beforeDatasetDraw"!==e.drawTime||kn(s.ctx,a,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qa=(s,i)=>{let{boxHeight:e=i,boxWidth:a=i}=s;return s.usePointStyle&&(e=Math.min(e,i),a=s.pointStyleWidth||Math.min(a,i)),{boxWidth:a,boxHeight:e,itemHeight:Math.max(i,e)}};class to extends wi{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e,a){this.maxWidth=i,this.maxHeight=e,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let e=fe(i.generateLabels,[this.chart],this)||[];i.filter&&(e=e.filter(a=>i.filter(a,this.chart.data))),i.sort&&(e=e.sort((a,r)=>i.sort(a,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:i,ctx:e}=this;if(!i.display)return void(this.width=this.height=0);const a=i.labels,r=$e(a.font),c=r.size,u=this._computeTitleHeight(),{boxWidth:x,itemHeight:y}=qa(a,c);let k,S;e.font=r.string,this.isHorizontal()?(k=this.maxWidth,S=this._fitRows(u,c,x,y)+10):(S=this.maxHeight,k=this._fitCols(u,r,x,y)+10),this.width=Math.min(k,i.maxWidth||this.maxWidth),this.height=Math.min(S,i.maxHeight||this.maxHeight)}_fitRows(i,e,a,r){const{ctx:c,maxWidth:u,options:{labels:{padding:x}}}=this,y=this.legendHitBoxes=[],k=this.lineWidths=[0],S=r+x;let L=i;c.textAlign="left",c.textBaseline="middle";let D=-1,E=-S;return this.legendItems.forEach((H,U)=>{const K=a+e/2+c.measureText(H.text).width;(0===U||k[k.length-1]+K+2*x>u)&&(L+=S,k[k.length-(U>0?0:1)]=0,E+=S,D++),y[U]={left:0,top:E,row:D,width:K,height:r},k[k.length-1]+=K+x}),L}_fitCols(i,e,a,r){const{ctx:c,maxHeight:u,options:{labels:{padding:x}}}=this,y=this.legendHitBoxes=[],k=this.columnSizes=[],S=u-i;let L=x,D=0,E=0,H=0,U=0;return this.legendItems.forEach((K,ot)=>{const{itemWidth:nt,itemHeight:vt}=function Xh(s,i,e,a,r){const c=function zh(s,i,e,a){let r=s.text;return r&&"string"!=typeof r&&(r=r.reduce((c,u)=>c.length>u.length?c:u)),i+e.size/2+a.measureText(r).width}(a,s,i,e),u=function Yh(s,i,e){let a=s;return"string"!=typeof i.text&&(a=eo(i,e)),a}(r,a,i.lineHeight);return{itemWidth:c,itemHeight:u}}(a,e,c,K,r);ot>0&&E+vt+2*x>S&&(L+=D+x,k.push({width:D,height:E}),H+=D+x,U++,D=E=0),y[ot]={left:H,top:E,col:U,width:nt,height:vt},D=Math.max(D,nt),E+=vt+x}),L+=D,k.push({width:D,height:E}),L}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:a,labels:{padding:r},rtl:c}}=this,u=ds(c,this.left,this.width);if(this.isHorizontal()){let x=0,y=Q(a,this.left+r,this.right-this.lineWidths[x]);for(const k of e)x!==k.row&&(x=k.row,y=Q(a,this.left+r,this.right-this.lineWidths[x])),k.top+=this.top+i+r,k.left=u.leftForLtr(u.x(y),k.width),y+=k.width+r}else{let x=0,y=Q(a,this.top+i+r,this.bottom-this.columnSizes[x].height);for(const k of e)k.col!==x&&(x=k.col,y=Q(a,this.top+i+r,this.bottom-this.columnSizes[x].height)),k.top=y,k.left+=this.left+r,k.left=u.leftForLtr(u.x(k.left),k.width),y+=k.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;he(i,this),this._draw(),Nt(i)}}_draw(){const{options:i,columnSizes:e,lineWidths:a,ctx:r}=this,{align:c,labels:u}=i,x=gt.color,y=ds(i.rtl,this.left,this.width),k=$e(u.font),{padding:S}=u,L=k.size,D=L/2;let E;this.drawTitle(),r.textAlign=y.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=k.string;const{boxWidth:H,boxHeight:U,itemHeight:K}=qa(u,L),vt=this.isHorizontal(),Tt=this._computeTitleHeight();E=vt?{x:Q(c,this.left+S,this.right-a[0]),y:this.top+S+Tt,line:0}:{x:this.left+S,y:Q(c,this.top+Tt+S,this.bottom-e[0].height),line:0},zn(this.ctx,i.textDirection);const mt=K+S;this.legendItems.forEach((Mt,Wt)=>{r.strokeStyle=Mt.fontColor,r.fillStyle=Mt.fontColor;const wt=r.measureText(Mt.text).width,Yt=y.textAlign(Mt.textAlign||(Mt.textAlign=u.textAlign)),de=H+D+wt;let le=E.x,xe=E.y;y.setWidth(this.width),vt?Wt>0&&le+de+S>this.right&&(xe=E.y+=mt,E.line++,le=E.x=Q(c,this.left+S,this.right-a[E.line])):Wt>0&&xe+mt>this.bottom&&(le=E.x=le+e[E.line].width+S,E.line++,xe=E.y=Q(c,this.top+Tt+S,this.bottom-e[E.line].height)),function(Mt,Wt,wt){if(isNaN(H)||H<=0||isNaN(U)||U<0)return;r.save();const Yt=jt(wt.lineWidth,1);if(r.fillStyle=jt(wt.fillStyle,x),r.lineCap=jt(wt.lineCap,"butt"),r.lineDashOffset=jt(wt.lineDashOffset,0),r.lineJoin=jt(wt.lineJoin,"miter"),r.lineWidth=Yt,r.strokeStyle=jt(wt.strokeStyle,x),r.setLineDash(jt(wt.lineDash,[])),u.usePointStyle){const de={radius:U*Math.SQRT2/2,pointStyle:wt.pointStyle,rotation:wt.rotation,borderWidth:Yt},le=y.xPlus(Mt,H/2);Ce(r,de,le,Wt+D,u.pointStyleWidth&&H)}else{const de=Wt+Math.max((L-U)/2,0),le=y.leftForLtr(Mt,H),xe=Ji(wt.borderRadius);r.beginPath(),Object.values(xe).some(si=>0!==si)?ui(r,{x:le,y:de,w:H,h:U,radius:xe}):r.rect(le,de,H,U),r.fill(),0!==Yt&&r.stroke()}r.restore()}(y.x(le),xe,Mt),le=((s,i,e,a)=>s===(a?"left":"right")?e:"center"===s?(i+e)/2:i)(Yt,le+H+D,vt?le+de:this.right,i.rtl),function(Mt,Wt,wt){Ie(r,wt.text,Mt,Wt+K/2,k,{strikethrough:wt.hidden,textAlign:y.textAlign(wt.textAlign)})}(y.x(le),xe,Mt),vt?E.x+=de+S:E.y+="string"!=typeof Mt.text?eo(Mt,k.lineHeight)+S:mt}),Yn(this.ctx,i.textDirection)}drawTitle(){const i=this.options,e=i.title,a=$e(e.font),r=ri(e.padding);if(!e.display)return;const c=ds(i.rtl,this.left,this.width),u=this.ctx,x=e.position,k=r.top+a.size/2;let S,L=this.left,D=this.width;if(this.isHorizontal())D=Math.max(...this.lineWidths),S=this.top+k,L=Q(i.align,L,this.right-D);else{const H=this.columnSizes.reduce((U,K)=>Math.max(U,K.height),0);S=k+Q(i.align,this.top,this.bottom-H-i.labels.padding-this._computeTitleHeight())}const E=Q(x,L,L+D);u.textAlign=c.textAlign($(x)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=a.string,Ie(u,e.text,E,S,a)}_computeTitleHeight(){const i=this.options.title,e=$e(i.font),a=ri(i.padding);return i.display?e.lineHeight+a.height:0}_getLegendItemAt(i,e){let a,r,c;if(v(i,this.left,this.right)&&v(e,this.top,this.bottom))for(c=this.legendHitBoxes,a=0;a<c.length;++a)if(r=c[a],v(i,r.left,r.left+r.width)&&v(e,r.top,r.top+r.height))return this.legendItems[a];return null}handleEvent(i){const e=this.options;if(!function Rh(s,i){return!(("mousemove"!==s&&"mouseout"!==s||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==s&&"mouseup"!==s))}(i.type,e))return;const a=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const r=this._hoveredItem,c=((s,i)=>null!==s&&null!==i&&s.datasetIndex===i.datasetIndex&&s.index===i.index)(r,a);r&&!c&&fe(e.onLeave,[i,r,this],this),this._hoveredItem=a,a&&!c&&fe(e.onHover,[i,a,this],this)}else a&&fe(e.onClick,[i,a,this],this)}}function eo(s,i){return i*(s.text?s.text.length:0)}var Nh={id:"legend",_element:to,start(s,i,e){const a=s.legend=new to({ctx:s.ctx,options:e,chart:s});li.configure(s,a,e),li.addBox(s,a)},stop(s){li.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,i,e){const a=s.legend;li.configure(s,a,e),a.options=e},afterUpdate(s){const i=s.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(s,i){i.replay||s.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,i,e){const a=i.datasetIndex,r=e.chart;r.isDatasetVisible(a)?(r.hide(a),i.hidden=!0):(r.show(a),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const i=s.data.datasets,{labels:{usePointStyle:e,pointStyle:a,textAlign:r,color:c,useBorderRadius:u,borderRadius:x}}=s.legend.options;return s._getSortedDatasetMetas().map(y=>{const k=y.controller.getStyle(e?0:void 0),S=ri(k.borderWidth);return{text:i[y.index].label,fillStyle:k.backgroundColor,fontColor:c,hidden:!y.visible,lineCap:k.borderCapStyle,lineDash:k.borderDash,lineDashOffset:k.borderDashOffset,lineJoin:k.borderJoinStyle,lineWidth:(S.width+S.height)/4,strokeStyle:k.borderColor,pointStyle:a||k.pointStyle,rotation:k.rotation,textAlign:r||k.textAlign,borderRadius:u&&(x||k.borderRadius),datasetIndex:y.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Tn extends wi{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e){const a=this.options;if(this.left=0,this.top=0,!a.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=e;const r=yt(a.text)?a.text.length:1;this._padding=ri(a.padding);const c=r*$e(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=c:this.width=c}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:e,left:a,bottom:r,right:c,options:u}=this,x=u.align;let k,S,L,y=0;return this.isHorizontal()?(S=Q(x,a,c),L=e+i,k=c-a):("left"===u.position?(S=a+i,L=Q(x,r,e),y=-.5*lt):(S=c-i,L=Q(x,e,r),y=.5*lt),k=r-e),{titleX:S,titleY:L,maxWidth:k,rotation:y}}draw(){const i=this.ctx,e=this.options;if(!e.display)return;const a=$e(e.font),c=a.lineHeight/2+this._padding.top,{titleX:u,titleY:x,maxWidth:y,rotation:k}=this._drawArgs(c);Ie(i,e.text,0,0,a,{color:e.color,maxWidth:y,rotation:k,textAlign:$(e.align),textBaseline:"middle",translation:[u,x]})}}var jh={id:"title",_element:Tn,start(s,i,e){!function Hh(s,i){const e=new Tn({ctx:s.ctx,options:i,chart:s});li.configure(s,e,i),li.addBox(s,e),s.titleBlock=e}(s,e)},stop(s){li.removeBox(s,s.titleBlock),delete s.titleBlock},beforeUpdate(s,i,e){const a=s.titleBlock;li.configure(s,a,e),a.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const js=new WeakMap;var Uh={id:"subtitle",start(s,i,e){const a=new Tn({ctx:s.ctx,options:e,chart:s});li.configure(s,a,e),li.addBox(s,a),js.set(s,a)},stop(s){li.removeBox(s,js.get(s)),js.delete(s)},beforeUpdate(s,i,e){const a=js.get(s);li.configure(s,a,e),a.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cs={average(s){if(!s.length)return!1;let i,e,a=new Set,r=0,c=0;for(i=0,e=s.length;i<e;++i){const x=s[i].element;if(x&&x.hasValue()){const y=x.tooltipPosition();a.add(y.x),r+=y.y,++c}}return{x:[...a].reduce((x,y)=>x+y)/a.size,y:r/c}},nearest(s,i){if(!s.length)return!1;let c,u,x,e=i.x,a=i.y,r=Number.POSITIVE_INFINITY;for(c=0,u=s.length;c<u;++c){const y=s[c].element;if(y&&y.hasValue()){const S=m(i,y.getCenterPoint());S<r&&(r=S,x=y)}}if(x){const y=x.tooltipPosition();e=y.x,a=y.y}return{x:e,y:a}}};function Di(s,i){return i&&(yt(i)?Array.prototype.push.apply(s,i):s.push(i)),s}function Yi(s){return("string"==typeof s||s instanceof String)&&s.indexOf("\n")>-1?s.split("\n"):s}function Jh(s,i){const{element:e,datasetIndex:a,index:r}=i,c=s.getDatasetMeta(a).controller,{label:u,value:x}=c.getLabelAndValue(r);return{chart:s,label:u,parsed:c.getParsed(r),raw:s.data.datasets[a].data[r],formattedValue:x,dataset:c.getDataset(),dataIndex:r,datasetIndex:a,element:e}}function io(s,i){const e=s.chart.ctx,{body:a,footer:r,title:c}=s,{boxWidth:u,boxHeight:x}=i,y=$e(i.bodyFont),k=$e(i.titleFont),S=$e(i.footerFont),L=c.length,D=r.length,E=a.length,H=ri(i.padding);let U=H.height,K=0,ot=a.reduce((Tt,mt)=>Tt+mt.before.length+mt.lines.length+mt.after.length,0);ot+=s.beforeBody.length+s.afterBody.length,L&&(U+=L*k.lineHeight+(L-1)*i.titleSpacing+i.titleMarginBottom),ot&&(U+=E*(i.displayColors?Math.max(x,y.lineHeight):y.lineHeight)+(ot-E)*y.lineHeight+(ot-1)*i.bodySpacing),D&&(U+=i.footerMarginTop+D*S.lineHeight+(D-1)*i.footerSpacing);let nt=0;const vt=function(Tt){K=Math.max(K,e.measureText(Tt).width+nt)};return e.save(),e.font=k.string,ke(s.title,vt),e.font=y.string,ke(s.beforeBody.concat(s.afterBody),vt),nt=i.displayColors?u+2+i.boxPadding:0,ke(a,Tt=>{ke(Tt.before,vt),ke(Tt.lines,vt),ke(Tt.after,vt)}),nt=0,e.font=S.string,ke(s.footer,vt),e.restore(),K+=H.width,{width:K,height:U}}function Zh(s,i,e,a){const{x:r,width:c}=e,{width:u,chartArea:{left:x,right:y}}=s;let k="center";return"center"===a?k=r<=(x+y)/2?"left":"right":r<=c/2?k="left":r>=u-c/2&&(k="right"),function Qh(s,i,e,a){const{x:r,width:c}=a,u=e.caretSize+e.caretPadding;if("left"===s&&r+c+u>i.width||"right"===s&&r-c-u<0)return!0}(k,s,i,e)&&(k="center"),k}function so(s,i,e){const a=e.yAlign||i.yAlign||function Kh(s,i){const{y:e,height:a}=i;return e<a/2?"top":e>s.height-a/2?"bottom":"center"}(s,e);return{xAlign:e.xAlign||i.xAlign||Zh(s,i,e,a),yAlign:a}}function no(s,i,e,a){const{caretSize:r,caretPadding:c,cornerRadius:u}=s,{xAlign:x,yAlign:y}=e,k=r+c,{topLeft:S,topRight:L,bottomLeft:D,bottomRight:E}=Ji(u);let H=function $h(s,i){let{x:e,width:a}=s;return"right"===i?e-=a:"center"===i&&(e-=a/2),e}(i,x);const U=function Gh(s,i,e){let{y:a,height:r}=s;return"top"===i?a+=e:a-="bottom"===i?r+e:r/2,a}(i,y,k);return"center"===y?"left"===x?H+=k:"right"===x&&(H-=k):"left"===x?H-=Math.max(S,D)+r:"right"===x&&(H+=Math.max(L,E)+r),{x:g(H,0,a.width-i.width),y:g(U,0,a.height-i.height)}}function Us(s,i,e){const a=ri(e.padding);return"center"===i?s.x+s.width/2:"right"===i?s.x+s.width-a.right:s.x+a.left}function ao(s){return Di([],Yi(s))}function oo(s,i){const e=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return e?s.override(e):s}const ro={beforeTitle:me,title(s){if(s.length>0){const i=s[0],e=i.chart.data.labels,a=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(a>0&&i.dataIndex<a)return e[i.dataIndex]}return""},afterTitle:me,beforeBody:me,beforeLabel:me,label(s){if(this&&this.options&&"dataset"===this.options.mode)return s.label+": "+s.formattedValue||s.formattedValue;let i=s.dataset.label||"";i&&(i+=": ");const e=s.formattedValue;return Ct(e)||(i+=e),i},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:me,afterBody:me,beforeFooter:me,footer:me,afterFooter:me};function xi(s,i,e,a){const r=s[i].call(e,a);return typeof r>"u"?ro[i].call(e,a):r}let lo=(()=>{class s extends wi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const a=this.chart,r=this.options.setContext(this.getContext()),c=r.enabled&&a.options.animation&&r.animations,u=new Qn(this.chart,c);return c._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=function qh(s,i,e){return Ni(s,{tooltip:i,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,a){const{callbacks:r}=a,c=xi(r,"beforeTitle",this,e),u=xi(r,"title",this,e),x=xi(r,"afterTitle",this,e);let y=[];return y=Di(y,Yi(c)),y=Di(y,Yi(u)),y=Di(y,Yi(x)),y}getBeforeBody(e,a){return ao(xi(a.callbacks,"beforeBody",this,e))}getBody(e,a){const{callbacks:r}=a,c=[];return ke(e,u=>{const x={before:[],lines:[],after:[]},y=oo(r,u);Di(x.before,Yi(xi(y,"beforeLabel",this,u))),Di(x.lines,xi(y,"label",this,u)),Di(x.after,Yi(xi(y,"afterLabel",this,u))),c.push(x)}),c}getAfterBody(e,a){return ao(xi(a.callbacks,"afterBody",this,e))}getFooter(e,a){const{callbacks:r}=a,c=xi(r,"beforeFooter",this,e),u=xi(r,"footer",this,e),x=xi(r,"afterFooter",this,e);let y=[];return y=Di(y,Yi(c)),y=Di(y,Yi(u)),y=Di(y,Yi(x)),y}_createItems(e){const a=this._active,r=this.chart.data,c=[],u=[],x=[];let k,S,y=[];for(k=0,S=a.length;k<S;++k)y.push(Jh(this.chart,a[k]));return e.filter&&(y=y.filter((L,D,E)=>e.filter(L,D,E,r))),e.itemSort&&(y=y.sort((L,D)=>e.itemSort(L,D,r))),ke(y,L=>{const D=oo(e.callbacks,L);c.push(xi(D,"labelColor",this,L)),u.push(xi(D,"labelPointStyle",this,L)),x.push(xi(D,"labelTextColor",this,L))}),this.labelColors=c,this.labelPointStyles=u,this.labelTextColors=x,this.dataPoints=y,y}update(e,a){const r=this.options.setContext(this.getContext()),c=this._active;let u,x=[];if(c.length){const y=Cs[r.position].call(this,c,this._eventPosition);x=this._createItems(r),this.title=this.getTitle(x,r),this.beforeBody=this.getBeforeBody(x,r),this.body=this.getBody(x,r),this.afterBody=this.getAfterBody(x,r),this.footer=this.getFooter(x,r);const k=this._size=io(this,r),S=Object.assign({},y,k),L=so(this.chart,r,S),D=no(r,S,L,this.chart);this.xAlign=L.xAlign,this.yAlign=L.yAlign,u={opacity:1,x:D.x,y:D.y,width:k.width,height:k.height,caretX:y.x,caretY:y.y}}else 0!==this.opacity&&(u={opacity:0});this._tooltipItems=x,this.$context=void 0,u&&this._resolveAnimations().update(this,u),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(e,a,r,c){const u=this.getCaretPosition(e,r,c);a.lineTo(u.x1,u.y1),a.lineTo(u.x2,u.y2),a.lineTo(u.x3,u.y3)}getCaretPosition(e,a,r){const{xAlign:c,yAlign:u}=this,{caretSize:x,cornerRadius:y}=r,{topLeft:k,topRight:S,bottomLeft:L,bottomRight:D}=Ji(y),{x:E,y:H}=e,{width:U,height:K}=a;let ot,nt,vt,Tt,mt,Mt;return"center"===u?(mt=H+K/2,"left"===c?(ot=E,nt=ot-x,Tt=mt+x,Mt=mt-x):(ot=E+U,nt=ot+x,Tt=mt-x,Mt=mt+x),vt=ot):(nt="left"===c?E+Math.max(k,L)+x:"right"===c?E+U-Math.max(S,D)-x:this.caretX,"top"===u?(Tt=H,mt=Tt-x,ot=nt-x,vt=nt+x):(Tt=H+K,mt=Tt+x,ot=nt+x,vt=nt-x),Mt=Tt),{x1:ot,x2:nt,x3:vt,y1:Tt,y2:mt,y3:Mt}}drawTitle(e,a,r){const c=this.title,u=c.length;let x,y,k;if(u){const S=ds(r.rtl,this.x,this.width);for(e.x=Us(this,r.titleAlign,r),a.textAlign=S.textAlign(r.titleAlign),a.textBaseline="middle",x=$e(r.titleFont),y=r.titleSpacing,a.fillStyle=r.titleColor,a.font=x.string,k=0;k<u;++k)a.fillText(c[k],S.x(e.x),e.y+x.lineHeight/2),e.y+=x.lineHeight+y,k+1===u&&(e.y+=r.titleMarginBottom-y)}}_drawColorBox(e,a,r,c,u){const x=this.labelColors[r],y=this.labelPointStyles[r],{boxHeight:k,boxWidth:S}=u,L=$e(u.bodyFont),D=Us(this,"left",u),E=c.x(D),U=a.y+(k<L.lineHeight?(L.lineHeight-k)/2:0);if(u.usePointStyle){const K={radius:Math.min(S,k)/2,pointStyle:y.pointStyle,rotation:y.rotation,borderWidth:1},ot=c.leftForLtr(E,S)+S/2,nt=U+k/2;e.strokeStyle=u.multiKeyBackground,e.fillStyle=u.multiKeyBackground,St(e,K,ot,nt),e.strokeStyle=x.borderColor,e.fillStyle=x.backgroundColor,St(e,K,ot,nt)}else{e.lineWidth=Ot(x.borderWidth)?Math.max(...Object.values(x.borderWidth)):x.borderWidth||1,e.strokeStyle=x.borderColor,e.setLineDash(x.borderDash||[]),e.lineDashOffset=x.borderDashOffset||0;const K=c.leftForLtr(E,S),ot=c.leftForLtr(c.xPlus(E,1),S-2),nt=Ji(x.borderRadius);Object.values(nt).some(vt=>0!==vt)?(e.beginPath(),e.fillStyle=u.multiKeyBackground,ui(e,{x:K,y:U,w:S,h:k,radius:nt}),e.fill(),e.stroke(),e.fillStyle=x.backgroundColor,e.beginPath(),ui(e,{x:ot,y:U+1,w:S-2,h:k-2,radius:nt}),e.fill()):(e.fillStyle=u.multiKeyBackground,e.fillRect(K,U,S,k),e.strokeRect(K,U,S,k),e.fillStyle=x.backgroundColor,e.fillRect(ot,U+1,S-2,k-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,a,r){const{body:c}=this,{bodySpacing:u,bodyAlign:x,displayColors:y,boxHeight:k,boxWidth:S,boxPadding:L}=r,D=$e(r.bodyFont);let E=D.lineHeight,H=0;const U=ds(r.rtl,this.x,this.width),K=function(Yt){a.fillText(Yt,U.x(e.x+H),e.y+E/2),e.y+=E+u},ot=U.textAlign(x);let nt,vt,Tt,mt,Mt,Wt,wt;for(a.textAlign=x,a.textBaseline="middle",a.font=D.string,e.x=Us(this,ot,r),a.fillStyle=r.bodyColor,ke(this.beforeBody,K),H=y&&"right"!==ot?"center"===x?S/2+L:S+2+L:0,mt=0,Wt=c.length;mt<Wt;++mt){for(nt=c[mt],vt=this.labelTextColors[mt],a.fillStyle=vt,ke(nt.before,K),Tt=nt.lines,y&&Tt.length&&(this._drawColorBox(a,e,mt,U,r),E=Math.max(D.lineHeight,k)),Mt=0,wt=Tt.length;Mt<wt;++Mt)K(Tt[Mt]),E=D.lineHeight;ke(nt.after,K)}H=0,E=D.lineHeight,ke(this.afterBody,K),e.y-=u}drawFooter(e,a,r){const c=this.footer,u=c.length;let x,y;if(u){const k=ds(r.rtl,this.x,this.width);for(e.x=Us(this,r.footerAlign,r),e.y+=r.footerMarginTop,a.textAlign=k.textAlign(r.footerAlign),a.textBaseline="middle",x=$e(r.footerFont),a.fillStyle=r.footerColor,a.font=x.string,y=0;y<u;++y)a.fillText(c[y],k.x(e.x),e.y+x.lineHeight/2),e.y+=x.lineHeight+r.footerSpacing}}drawBackground(e,a,r,c){const{xAlign:u,yAlign:x}=this,{x:y,y:k}=e,{width:S,height:L}=r,{topLeft:D,topRight:E,bottomLeft:H,bottomRight:U}=Ji(c.cornerRadius);a.fillStyle=c.backgroundColor,a.strokeStyle=c.borderColor,a.lineWidth=c.borderWidth,a.beginPath(),a.moveTo(y+D,k),"top"===x&&this.drawCaret(e,a,r,c),a.lineTo(y+S-E,k),a.quadraticCurveTo(y+S,k,y+S,k+E),"center"===x&&"right"===u&&this.drawCaret(e,a,r,c),a.lineTo(y+S,k+L-U),a.quadraticCurveTo(y+S,k+L,y+S-U,k+L),"bottom"===x&&this.drawCaret(e,a,r,c),a.lineTo(y+H,k+L),a.quadraticCurveTo(y,k+L,y,k+L-H),"center"===x&&"left"===u&&this.drawCaret(e,a,r,c),a.lineTo(y,k+D),a.quadraticCurveTo(y,k,y+D,k),a.closePath(),a.fill(),c.borderWidth>0&&a.stroke()}_updateAnimationTarget(e){const a=this.chart,r=this.$animations,c=r&&r.x,u=r&&r.y;if(c||u){const x=Cs[e.position].call(this,this._active,this._eventPosition);if(!x)return;const y=this._size=io(this,e),k=Object.assign({},x,this._size),S=so(a,e,k),L=no(e,k,S,a);(c._to!==L.x||u._to!==L.y)&&(this.xAlign=S.xAlign,this.yAlign=S.yAlign,this.width=y.width,this.height=y.height,this.caretX=x.x,this.caretY=x.y,this._resolveAnimations().update(this,L))}}_willRender(){return!!this.opacity}draw(e){const a=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(a);const c={width:this.width,height:this.height},u={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const x=ri(a.padding);a.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(u,e,c,a),zn(e,a.textDirection),u.y+=x.top,this.drawTitle(u,e,a),this.drawBody(u,e,a),this.drawFooter(u,e,a),Yn(e,a.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,a){const r=this._active,c=e.map(({datasetIndex:y,index:k})=>{const S=this.chart.getDatasetMeta(y);if(!S)throw new Error("Cannot find a dataset at index "+y);return{datasetIndex:y,element:S.data[k],index:k}}),u=!Ti(r,c),x=this._positionChanged(c,a);(u||x)&&(this._active=c,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,a,r=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const c=this.options,u=this._active||[],x=this._getActiveElements(e,u,a,r),y=this._positionChanged(x,e),k=a||!Ti(x,u)||y;return k&&(this._active=x,(c.enabled||c.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,a))),k}_getActiveElements(e,a,r,c){const u=this.options;if("mouseout"===e.type)return[];if(!c)return a.filter(y=>this.chart.data.datasets[y.datasetIndex]&&void 0!==this.chart.getDatasetMeta(y.datasetIndex).controller.getParsed(y.index));const x=this.chart.getElementsAtEventForMode(e,u.mode,u,r);return u.reverse&&x.reverse(),x}_positionChanged(e,a){const{caretX:r,caretY:c,options:u}=this,x=Cs[u.position].call(this,e,a);return!1!==x&&(r!==x.x||c!==x.y)}}return(0,Pt.A)(s,"positioners",Cs),s})();var ed=Object.freeze({__proto__:null,Colors:ph,Decimation:fh,Filler:Oh,Legend:Nh,SubTitle:Uh,Title:jh,Tooltip:{id:"tooltip",_element:lo,positioners:Cs,afterInit(s,i,e){e&&(s.tooltip=new lo({chart:s,options:e}))},beforeUpdate(s,i,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,i,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const i=s.tooltip;if(i&&i._willRender()){const e={tooltip:i};if(!1===s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;i.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,i){s.tooltip&&s.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,i)=>i.bodyFont.size,boxWidth:(s,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ro},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>"filter"!==s&&"itemSort"!==s&&"external"!==s,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function ho(s){const i=this.getLabels();return s>=0&&s<i.length?i[s]:s}let ad=(()=>{class s extends Gi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const a=this._addedLabels;if(a.length){const r=this.getLabels();for(const{index:c,label:u}of a)r[c]===u&&r.splice(c,1);this._addedLabels=[]}super.init(e)}parse(e,a){if(Ct(e))return null;const r=this.getLabels();return((s,i)=>null===s?null:g(Math.round(s),0,i))(a=isFinite(a)&&r[a]===e?a:function sd(s,i,e,a){const r=s.indexOf(i);return-1===r?((s,i,e,a)=>("string"==typeof i?(e=s.push(i)-1,a.unshift({index:e,label:i})):isNaN(i)&&(e=null),e))(s,i,e,a):r!==s.lastIndexOf(i)?e:r}(r,e,jt(a,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:a}=this.getUserBounds();let{min:r,max:c}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),a||(c=this.getLabels().length-1)),this.min=r,this.max=c}buildTicks(){const e=this.min,a=this.max,r=this.options.offset,c=[];let u=this.getLabels();u=0===e&&a===u.length-1?u:u.slice(e,a+1),this._valueRange=Math.max(u.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let x=e;x<=a;x++)c.push({value:x});return c}getLabelForValue(e){return ho.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const a=this.ticks;return e<0||e>a.length-1?null:this.getPixelForValue(a[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return(0,Pt.A)(s,"id","category"),(0,Pt.A)(s,"defaults",{ticks:{callback:ho}}),s})();function co(s,i,{horizontal:e,minRotation:a}){const r=o(a),c=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(i/c,.75*i*(""+s).length)}class Js extends Gi{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,e){return Ct(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:e,maxDefined:a}=this.getUserBounds();let{min:r,max:c}=this;const u=y=>r=e?r:y,x=y=>c=a?c:y;if(i){const y=Qt(r),k=Qt(c);y<0&&k<0?x(0):y>0&&k>0&&u(0)}if(r===c){let y=0===c?1:Math.abs(.05*c);x(c+y),i||u(r-y)}this.min=r,this.max=c}getTickLimit(){const i=this.options.ticks;let r,{maxTicksLimit:e,stepSize:a}=i;return a?(r=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,e=i.ticks;let a=this.getTickLimit();a=Math.max(2,a);const u=function od(s,i){const e=[],{bounds:r,step:c,min:u,max:x,precision:y,count:k,maxTicks:S,maxDigits:L,includeBounds:D}=s,E=c||1,H=S-1,{min:U,max:K}=i,ot=!Ct(u),nt=!Ct(x),vt=!Ct(k),Tt=(K-U)/(L+1);let Mt,Wt,wt,Yt,mt=Ke((K-U)/H/E)*E;if(mt<1e-14&&!ot&&!nt)return[{value:U},{value:K}];Yt=Math.ceil(K/mt)-Math.floor(U/mt),Yt>H&&(mt=Ke(Yt*mt/H/E)*E),Ct(y)||(Mt=Math.pow(10,y),mt=Math.ceil(mt*Mt)/Mt),"ticks"===r?(Wt=Math.floor(U/mt)*mt,wt=Math.ceil(K/mt)*mt):(Wt=U,wt=K),ot&&nt&&c&&function t(s,i){const e=Math.round(s);return e-i<=s&&e+i>=s}((x-u)/c,mt/1e3)?(Yt=Math.round(Math.min((x-u)/mt,S)),mt=(x-u)/Yt,Wt=u,wt=x):vt?(Wt=ot?u:Wt,wt=nt?x:wt,Yt=k-1,mt=(wt-Wt)/Yt):(Yt=(wt-Wt)/mt,Yt=Ne(Yt,Math.round(Yt),mt/1e3)?Math.round(Yt):Math.ceil(Yt));const de=Math.max(l(mt),l(Wt));Mt=Math.pow(10,Ct(y)?de:y),Wt=Math.round(Wt*Mt)/Mt,wt=Math.round(wt*Mt)/Mt;let le=0;for(ot&&(D&&Wt!==u?(e.push({value:u}),Wt<u&&le++,Ne(Math.round((Wt+le*mt)*Mt)/Mt,u,co(u,Tt,s))&&le++):Wt<u&&le++);le<Yt;++le){const xe=Math.round((Wt+le*mt)*Mt)/Mt;if(nt&&xe>x)break;e.push({value:xe})}return nt&&D&&wt!==x?e.length&&Ne(e[e.length-1].value,x,co(x,Tt,s))?e[e.length-1].value=x:e.push({value:x}):(!nt||wt===x)&&e.push({value:wt}),e}({maxTicks:a,bounds:i.bounds,min:i.min,max:i.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===i.bounds&&d(u,this,"value"),i.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const i=this.ticks;let e=this.min,a=this.max;if(super.configure(),this.options.offset&&i.length){const r=(a-e)/Math.max(i.length-1,1)/2;e-=r,a+=r}this._startValue=e,this._endValue=a,this._valueRange=a-e}getLabelForValue(i){return Qe(i,this.chart.options.locale,this.options.ticks.format)}}class Pn extends Js{determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=Vt(i)?i:0,this.max=Vt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),e=i?this.width:this.height,a=o(this.options.ticks.minRotation),r=(i?Math.sin(a):Math.cos(a))||.001,c=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,c.lineHeight/r))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}(0,Pt.A)(Pn,"id","linear"),(0,Pt.A)(Pn,"defaults",{ticks:{callback:oi.formatters.numeric}});const _s=s=>Math.floor(Se(s)),qi=(s,i)=>Math.pow(10,_s(s)+i);function uo(s){return s/Math.pow(10,_s(s))==1}function po(s,i,e){const a=Math.pow(10,e),r=Math.floor(s/a);return Math.ceil(i/a)-r}class Cn extends Gi{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,e){const a=Js.prototype.parse.apply(this,[i,e]);if(0!==a)return Vt(a)&&a>0?a:null;this._zero=!0}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=Vt(i)?Math.max(0,i):null,this.max=Vt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Vt(this._userMin)&&(this.min=i===qi(this.min,0)?qi(this.min,-1):qi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let a=this.min,r=this.max;const c=x=>a=i?a:x,u=x=>r=e?r:x;a===r&&(a<=0?(c(1),u(10)):(c(qi(a,-1)),u(qi(r,1)))),a<=0&&c(qi(r,-1)),r<=0&&u(qi(a,1)),this.min=a,this.max=r}buildTicks(){const i=this.options,a=function ld(s,{min:i,max:e}){i=ze(s.min,i);const a=[],r=_s(i);let c=function rd(s,i){let a=_s(i-s);for(;po(s,i,a)>10;)a++;for(;po(s,i,a)<10;)a--;return Math.min(a,_s(s))}(i,e),u=c<0?Math.pow(10,Math.abs(c)):1;const x=Math.pow(10,c),y=r>c?Math.pow(10,r):0,k=Math.round((i-y)*u)/u,S=Math.floor((i-y)/x/10)*x*10;let L=Math.floor((k-S)/Math.pow(10,c)),D=ze(s.min,Math.round((y+S+L*Math.pow(10,c))*u)/u);for(;D<e;)a.push({value:D,major:uo(D),significand:L}),L>=10?L=L<15?15:20:L++,L>=20&&(c++,L=2,u=c>=0?1:u),D=Math.round((y+S+L*Math.pow(10,c))*u)/u;const E=ze(s.max,D);return a.push({value:E,major:uo(E),significand:L}),a}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&d(a,this,"value"),i.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(i){return void 0===i?"0":Qe(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=Se(i),this._valueRange=Se(this.max)-Se(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(Se(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const e=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+e*this._valueRange)}}function _n(s){const i=s.ticks;if(i.display&&s.display){const e=ri(i.backdropPadding);return jt(i.font&&i.font.size,gt.font.size)+e.height}return 0}function hd(s,i,e){return e=yt(e)?e:[e],{w:oe(s,i.string,e),h:e.length*i.lineHeight}}function xo(s,i,e,a,r){return s===a||s===r?{start:i-e/2,end:i+e/2}:s<a||s>r?{start:i-e,end:i}:{start:i,end:i+e}}function cd(s,i,e,a,r){const c=Math.abs(Math.sin(e)),u=Math.abs(Math.cos(e));let x=0,y=0;a.start<i.l?(x=(i.l-a.start)/c,s.l=Math.min(s.l,i.l-x)):a.end>i.r&&(x=(a.end-i.r)/c,s.r=Math.max(s.r,i.r+x)),r.start<i.t?(y=(i.t-r.start)/u,s.t=Math.min(s.t,i.t-y)):r.end>i.b&&(y=(r.end-i.b)/u,s.b=Math.max(s.b,i.b+y))}function ud(s,i,e){const a=s.drawingArea,{extra:r,additionalAngle:c,padding:u,size:x}=e,y=s.getPointPosition(i,a+r+u,c),k=Math.round(n(T(y.angle+It))),S=function fd(s,i,e){return 90===e||270===e?s-=i/2:(e>270||e<90)&&(s-=i),s}(y.y,x.h,k),L=function gd(s){return 0===s||180===s?"center":s<180?"left":"right"}(k),D=function md(s,i,e){return"right"===e?s-=i:"center"===e&&(s-=i/2),s}(y.x,x.w,L);return{visible:!0,x:y.x,y:S,textAlign:L,left:D,top:S,right:D+x.w,bottom:S+x.h}}function pd(s,i){if(!i)return!0;const{left:e,top:a,right:r,bottom:c}=s;return!(Me({x:e,y:a},i)||Me({x:e,y:c},i)||Me({x:r,y:a},i)||Me({x:r,y:c},i))}function bd(s,i,e){const{left:a,top:r,right:c,bottom:u}=e,{backdropColor:x}=i;if(!Ct(x)){const y=Ji(i.borderRadius),k=ri(i.backdropPadding);s.fillStyle=x;const S=a-k.left,L=r-k.top,D=c-a+k.width,E=u-r+k.height;Object.values(y).some(H=>0!==H)?(s.beginPath(),ui(s,{x:S,y:L,w:D,h:E,radius:y}),s.fill()):s.fillRect(S,L,D,E)}}function go(s,i,e,a){const{ctx:r}=s;if(e)r.arc(s.xCenter,s.yCenter,i,0,pt);else{let c=s.getPointPosition(0,i);r.moveTo(c.x,c.y);for(let u=1;u<a;u++)c=s.getPointPosition(u,i),r.lineTo(c.x,c.y)}}(0,Pt.A)(Cn,"id","logarithmic"),(0,Pt.A)(Cn,"defaults",{ticks:{callback:oi.formatters.logarithmic,major:{enabled:!0}}});class Ss extends Js{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=ri(_n(this.options)/2),e=this.width=this.maxWidth-i.width,a=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+e/2+i.left),this.yCenter=Math.floor(this.top+a/2+i.top),this.drawingArea=Math.floor(Math.min(e,a)/2)}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!1);this.min=Vt(i)&&!isNaN(i)?i:0,this.max=Vt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_n(this.options))}generateTickLabels(i){Js.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((e,a)=>{const r=fe(this.options.pointLabels.callback,[e,a],this);return r||0===r?r:""}).filter((e,a)=>this.chart.getDataVisibility(a))}fit(){const i=this.options;i.display&&i.pointLabels.display?function dd(s){const i={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},i),a=[],r=[],c=s._pointLabels.length,u=s.options.pointLabels,x=u.centerPointLabels?lt/c:0;for(let y=0;y<c;y++){const k=u.setContext(s.getPointLabelContext(y));r[y]=k.padding;const S=s.getPointPosition(y,s.drawingArea+r[y],x),L=$e(k.font),D=hd(s.ctx,L,s._pointLabels[y]);a[y]=D;const E=T(s.getIndexAngle(y)+x),H=Math.round(n(E));cd(e,i,E,xo(H,S.x,D.w,0,180),xo(H,S.y,D.h,90,270))}s.setCenterPoint(i.l-e.l,e.r-i.r,i.t-e.t,e.b-i.b),s._pointLabelItems=function xd(s,i,e){const a=[],r=s._pointLabels.length,c=s.options,{centerPointLabels:u,display:x}=c.pointLabels,y={extra:_n(c)/2,additionalAngle:u?lt/r:0};let k;for(let S=0;S<r;S++){y.padding=e[S],y.size=i[S];const L=ud(s,S,y);a.push(L),"auto"===x&&(L.visible=pd(L,k),L.visible&&(k=L))}return a}(s,a,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,e,a,r){this.xCenter+=Math.floor((i-e)/2),this.yCenter+=Math.floor((a-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,e,a,r))}getIndexAngle(i){return T(i*(pt/(this._pointLabels.length||1))+o(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(Ct(i))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*e:(i-this.min)*e}getValueForDistanceFromCenter(i){if(Ct(i))return NaN;const e=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(i){const e=this._pointLabels||[];if(i>=0&&i<e.length){const a=e[i];return function Md(s,i,e){return Ni(s,{label:e,index:i,type:"pointLabel"})}(this.getContext(),i,a)}}getPointPosition(i,e,a=0){const r=this.getIndexAngle(i)-It+a;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(i,e){return this.getPointPosition(i,this.getDistanceFromCenterForValue(e))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:e,top:a,right:r,bottom:c}=this._pointLabelItems[i];return{left:e,top:a,right:r,bottom:c}}drawBackground(){const{backgroundColor:i,grid:{circular:e}}=this.options;if(i){const a=this.ctx;a.save(),a.beginPath(),go(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),a.closePath(),a.fillStyle=i,a.fill(),a.restore()}}drawGrid(){const i=this.ctx,e=this.options,{angleLines:a,grid:r,border:c}=e,u=this._pointLabels.length;let x,y,k;if(e.pointLabels.display&&function yd(s,i){const{ctx:e,options:{pointLabels:a}}=s;for(let r=i-1;r>=0;r--){const c=s._pointLabelItems[r];if(!c.visible)continue;const u=a.setContext(s.getPointLabelContext(r));bd(e,u,c);const x=$e(u.font),{x:y,y:k,textAlign:S}=c;Ie(e,s._pointLabels[r],y,k+x.lineHeight/2,x,{color:u.color,textAlign:S,textBaseline:"middle"})}}(this,u),r.display&&this.ticks.forEach((S,L)=>{if(0!==L||0===L&&this.min<0){y=this.getDistanceFromCenterForValue(S.value);const D=this.getContext(L),E=r.setContext(D),H=c.setContext(D);!function vd(s,i,e,a,r){const c=s.ctx,u=i.circular,{color:x,lineWidth:y}=i;!u&&!a||!x||!y||e<0||(c.save(),c.strokeStyle=x,c.lineWidth=y,c.setLineDash(r.dash),c.lineDashOffset=r.dashOffset,c.beginPath(),go(s,e,u,a),c.closePath(),c.stroke(),c.restore())}(this,E,y,u,H)}}),a.display){for(i.save(),x=u-1;x>=0;x--){const S=a.setContext(this.getPointLabelContext(x)),{color:L,lineWidth:D}=S;!D||!L||(i.lineWidth=D,i.strokeStyle=L,i.setLineDash(S.borderDash),i.lineDashOffset=S.borderDashOffset,y=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),k=this.getPointPosition(x,y),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(k.x,k.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,e=this.options,a=e.ticks;if(!a.display)return;const r=this.getIndexAngle(0);let c,u;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(r),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((x,y)=>{if(0===y&&this.min>=0&&!e.reverse)return;const k=a.setContext(this.getContext(y)),S=$e(k.font);if(c=this.getDistanceFromCenterForValue(this.ticks[y].value),k.showLabelBackdrop){i.font=S.string,u=i.measureText(x.label).width,i.fillStyle=k.backdropColor;const L=ri(k.backdropPadding);i.fillRect(-u/2-L.left,-c-S.size/2-L.top,u+L.width,S.size+L.height)}Ie(i,x.label,0,-c,S,{color:k.color,strokeColor:k.textStrokeColor,strokeWidth:k.textStrokeWidth})}),i.restore()}drawTitle(){}}(0,Pt.A)(Ss,"id","radialLinear"),(0,Pt.A)(Ss,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:oi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:s=>s,padding:5,centerPointLabels:!1}}),(0,Pt.A)(Ss,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,Pt.A)(Ss,"descriptors",{angleLines:{_fallback:"grid"}});const Ks={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gi=Object.keys(Ks);function mo(s,i){return s-i}function fo(s,i){if(Ct(i))return null;const e=s._adapter,{parser:a,round:r,isoWeekday:c}=s._parseOpts;let u=i;return"function"==typeof a&&(u=a(u)),Vt(u)||(u="string"==typeof a?e.parse(u,a):e.parse(u)),null===u?null:(r&&(u="week"!==r||!ue(c)&&!0!==c?e.startOf(u,r):e.startOf(u,"isoWeek",c)),+u)}function bo(s,i,e,a){const r=gi.length;for(let c=gi.indexOf(s);c<r-1;++c){const u=Ks[gi[c]];if(u.common&&Math.ceil((e-i)/((u.steps?u.steps:Number.MAX_SAFE_INTEGER)*u.size))<=a)return gi[c]}return gi[r-1]}function yo(s,i,e){if(e){if(e.length){const{lo:a,hi:r}=h(e,i);s[e[a]>=i?e[a]:e[r]]=!0}}else s[i]=!0}function vo(s,i,e){const a=[],r={},c=i.length;let u,x;for(u=0;u<c;++u)x=i[u],r[x]=u,a.push({value:x,major:!1});return 0!==c&&e?function Pd(s,i,e,a){const r=s._adapter,c=+r.startOf(i[0].value,a),u=i[i.length-1].value;let x,y;for(x=c;x<=u;x=+r.add(x,1,a))y=e[x],y>=0&&(i[y].major=!0);return i}(s,a,r,e):a}let Sn=(()=>{class s extends Gi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,a={}){const r=e.time||(e.time={}),c=this._adapter=new Fr__date(e.adapters.date);c.init(a),Xi(r.displayFormats,c.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=a.normalized}parse(e,a){return void 0===e?null:fo(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,a=this._adapter,r=e.time.unit||"day";let{min:c,max:u,minDefined:x,maxDefined:y}=this.getUserBounds();function k(S){!x&&!isNaN(S.min)&&(c=Math.min(c,S.min)),!y&&!isNaN(S.max)&&(u=Math.max(u,S.max))}(!x||!y)&&(k(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&k(this.getMinMax(!1))),c=Vt(c)&&!isNaN(c)?c:+a.startOf(Date.now(),r),u=Vt(u)&&!isNaN(u)?u:+a.endOf(Date.now(),r)+1,this.min=Math.min(c,u-1),this.max=Math.max(c+1,u)}_getLabelBounds(){const e=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(a=e[0],r=e[e.length-1]),{min:a,max:r}}buildTicks(){const e=this.options,a=e.time,r=e.ticks,c="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&c.length&&(this.min=this._userMin||c[0],this.max=this._userMax||c[c.length-1]);const u=this.min,y=function F(s,i,e){let a=0,r=s.length;for(;a<r&&s[a]<i;)a++;for(;r>a&&s[r-1]>e;)r--;return a>0||r<s.length?s.slice(a,r):s}(c,u,this.max);return this._unit=a.unit||(r.autoSkip?bo(a.minUnit,this.min,this.max,this._getLabelCapacity(u)):function kd(s,i,e,a,r){for(let c=gi.length-1;c>=gi.indexOf(e);c--){const u=gi[c];if(Ks[u].common&&s._adapter.diff(r,a,u)>=i-1)return u}return gi[e?gi.indexOf(e):0]}(this,y.length,a.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function Td(s){for(let i=gi.indexOf(s)+1,e=gi.length;i<e;++i)if(Ks[gi[i]].common)return gi[i]}(this._unit):void 0,this.initOffsets(c),e.reverse&&y.reverse(),vo(this,y,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let c,u,a=0,r=0;this.options.offset&&e.length&&(c=this.getDecimalForValue(e[0]),a=1===e.length?1-c:(this.getDecimalForValue(e[1])-c)/2,u=this.getDecimalForValue(e[e.length-1]),r=1===e.length?u:(u-this.getDecimalForValue(e[e.length-2]))/2);const x=e.length<3?.5:.25;a=g(a,0,x),r=g(r,0,x),this._offsets={start:a,end:r,factor:1/(a+1+r)}}_generate(){const e=this._adapter,a=this.min,r=this.max,c=this.options,u=c.time,x=u.unit||bo(u.minUnit,a,r,this._getLabelCapacity(a)),y=jt(c.ticks.stepSize,1),k="week"===x&&u.isoWeekday,S=ue(k)||!0===k,L={};let E,H,D=a;if(S&&(D=+e.startOf(D,"isoWeek",k)),D=+e.startOf(D,S?"day":x),e.diff(r,a,x)>1e5*y)throw new Error(a+" and "+r+" are too far apart with stepSize of "+y+" "+x);const U="data"===c.ticks.source&&this.getDataTimestamps();for(E=D,H=0;E<r;E=+e.add(E,y,x),H++)yo(L,E,U);return(E===r||"ticks"===c.bounds||1===H)&&yo(L,E,U),Object.keys(L).sort(mo).map(K=>+K)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,a){return this._adapter.format(e,a||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,a,r,c){const u=this.options,x=u.ticks.callback;if(x)return fe(x,[e,a,r],this);const y=u.time.displayFormats,k=this._unit,S=this._majorUnit,D=S&&y[S],E=r[a];return this._adapter.format(e,c||(S&&D&&E&&E.major?D:k&&y[k]))}generateTickLabels(e){let a,r,c;for(a=0,r=e.length;a<r;++a)c=e[a],c.label=this._tickFormatFunction(c.value,a,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const a=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((a.start+r)*a.factor)}getValueForPixel(e){const a=this._offsets,r=this.getDecimalForPixel(e)/a.factor-a.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const a=this.options.ticks,r=this.ctx.measureText(e).width,c=o(this.isHorizontal()?a.maxRotation:a.minRotation),u=Math.cos(c),x=Math.sin(c),y=this._resolveTickFontOptions(0).size;return{w:r*u+y*x,h:r*x+y*u}}_getLabelCapacity(e){const a=this.options.time,r=a.displayFormats,c=r[a.unit]||r.millisecond,u=this._tickFormatFunction(e,0,vo(this,[e],this._majorUnit),c),x=this._getLabelSize(u),y=Math.floor(this.isHorizontal()?this.width/x.w:this.height/x.h)-1;return y>0?y:1}getDataTimestamps(){let a,r,e=this._cache.data||[];if(e.length)return e;const c=this.getMatchingVisibleMetas();if(this._normalized&&c.length)return this._cache.data=c[0].controller.getAllParsedValues(this);for(a=0,r=c.length;a<r;++a)e=e.concat(c[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let a,r;if(e.length)return e;const c=this.getLabels();for(a=0,r=c.length;a<r;++a)e.push(fo(this,c[a]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Y(e.sort(mo))}}return(0,Pt.A)(s,"id","time"),(0,Pt.A)(s,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),s})();function Qs(s,i,e){let c,u,x,y,a=0,r=s.length-1;e?(i>=s[a].pos&&i<=s[r].pos&&({lo:a,hi:r}=_(s,"pos",i)),({pos:c,time:x}=s[a]),({pos:u,time:y}=s[r])):(i>=s[a].time&&i<=s[r].time&&({lo:a,hi:r}=_(s,"time",i)),({time:c,pos:x}=s[a]),({time:u,pos:y}=s[r]));const k=u-c;return k?x+(y-x)*(i-c)/k:x}class wn extends Sn{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(i);this._minPos=Qs(e,this.min),this._tableRange=Qs(e,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:e,max:a}=this,r=[],c=[];let u,x,y,k,S;for(u=0,x=i.length;u<x;++u)k=i[u],k>=e&&k<=a&&r.push(k);if(r.length<2)return[{time:e,pos:0},{time:a,pos:1}];for(u=0,x=r.length;u<x;++u)S=r[u+1],y=r[u-1],k=r[u],Math.round((S+y)/2)!==k&&c.push({time:k,pos:u/(x-1)});return c}_generate(){const i=this.min,e=this.max;let a=super.getDataTimestamps();return(!a.includes(i)||!a.length)&&a.splice(0,0,i),(!a.includes(e)||1===a.length)&&a.push(e),a.sort((r,c)=>r-c)}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const e=this.getDataTimestamps(),a=this.getLabelTimestamps();return i=e.length&&a.length?this.normalize(e.concat(a)):e.length?e:a,i=this._cache.all=i,i}getDecimalForValue(i){return(Qs(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const e=this._offsets,a=this.getDecimalForPixel(i)/e.factor-e.end;return Qs(this._table,a*this._tableRange+this._minPos,!0)}}(0,Pt.A)(wn,"id","timeseries"),(0,Pt.A)(wn,"defaults",Sn.defaults),gn.register(Br,rh,ed,Object.freeze({__proto__:null,CategoryScale:ad,LinearScale:Pn,LogarithmicScale:Cn,RadialLinearScale:Ss,TimeScale:Sn,TimeSeriesScale:wn}));const Sd=gn}}]);