(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1549],{7636:(cs,is)=>{var yi;(function(){function je(P,B){P.prototype=function De(P){function B(){}return B.prototype=P,new B}(B.prototype),P.prototype.constructor=P,P.base=B.prototype}function _t(P,B,O){return"millisecond"===O?P.setMilliseconds(P.getMilliseconds()+1*B):"second"===O?P.setSeconds(P.getSeconds()+1*B):"minute"===O?P.setMinutes(P.getMinutes()+1*B):"hour"===O?P.setHours(P.getHours()+1*B):"day"===O?P.setDate(P.getDate()+1*B):"week"===O?P.setDate(P.getDate()+7*B):"month"===O?P.setMonth(P.getMonth()+1*B):"year"===O&&P.setFullYear(P.getFullYear()+1*B),P}function ft(P,B){var O=!1;for(0>P&&(O=!0,P*=-1),P=""+P,B=B||1;P.length<B;)P="0"+P;return O?"-"+P:P}function Ze(P){if(!P)return P;for(var B=/\s/,O=(P=P.replace(/^\s\s*/,"")).length;B.test(P.charAt(--O)););return P.slice(0,O+1)}function oi(P){P.roundRect=function(B,O,q,pt,Mt,nt,It,Ot){It&&(this.fillStyle=It),Ot&&(this.strokeStyle=Ot),typeof Mt>"u"&&(Mt=5),this.lineWidth=nt,this.beginPath(),this.moveTo(B+Mt,O),this.lineTo(B+q-Mt,O),this.quadraticCurveTo(B+q,O,B+q,O+Mt),this.lineTo(B+q,O+pt-Mt),this.quadraticCurveTo(B+q,O+pt,B+q-Mt,O+pt),this.lineTo(B+Mt,O+pt),this.quadraticCurveTo(B,O+pt,B,O+pt-Mt),this.lineTo(B,O+Mt),this.quadraticCurveTo(B,O,B+Mt,O),this.closePath(),It&&this.fill(),Ot&&0<nt&&this.stroke()}}function wi(P,B){return P-B}function Rt(P){var B=((16711680&P)>>16).toString(16),O=((65280&P)>>8).toString(16);return P=(255&P).toString(16),"#"+(B=2>B.length?"0"+B:B)+(O=2>O.length?"0"+O:O)+(2>P.length?"0"+P:P)}function ui(P,B){var q,O=this.length>>>0;for(0>(q=0>(q=Number(B)||0)?Math.ceil(q):Math.floor(q))&&(q+=O);q<O;q++)if(q in this&&this[q]===P)return q;return-1}function W(P){return null===P||typeof P>"u"}function Oe(P){return P.indexOf||(P.indexOf=ui),P}function Ai(P,B,O){var q=P+"_"+B+"_"+(O=O||"normal"),pt=ne[q];if(isNaN(pt)){try{if(!ge){var Mt=document.body;(ge=document.createElement("span")).innerHTML="";var nt=document.createTextNode("Mpgyi");ge.appendChild(nt),Mt.appendChild(ge)}ge.style.display="",ce(ge,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:P,fontSize:B+"px",fontWeight:O}),pt=Math.round(ge.offsetHeight),ge.style.display="none"}catch{pt=Math.ceil(1.1*B)}pt=Math.max(pt,B),ne[q]=pt}return pt}function mt(P,B){var O=[];if(O={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[P||"solid"])for(var q=0;q<O.length;q++)O[q]*=B;else O=[];return O}function Yt(P,B,O,q,pt){return q=q||[],pt=W(pt)?!!ye&&{passive:!1,capture:!1}:pt,q.push([P,B,O,pt]),P.addEventListener?(P.addEventListener(B,O,pt),O):!!P.attachEvent&&(P.attachEvent("on"+B,q=function(Mt){(Mt=Mt||window.event).preventDefault=Mt.preventDefault||function(){Mt.returnValue=!1},Mt.stopPropagation=Mt.stopPropagation||function(){Mt.cancelBubble=!0},O.call(P,Mt)}),q)}function Ne(P,B,O){for(P=O.getImageData(P*=Ve,B*=Ve,2,2).data,B=!0,O=0;4>O;O++)if(P[O]!==P[O+4]|P[O]!==P[O+8]|P[O]!==P[O+12]){B=!1;break}return B?P[0]<<16|P[1]<<8|P[2]:0}function ie(P,B,O){return P in B?B[P]:O[P]}function ri(P,B,O,q){H&&ji?(q=!W(q)&&q?P.getContext("2d",{willReadFrequently:!0}):P.getContext("2d"),P.width=B*(Ve=ss/(ns=q.webkitBackingStorePixelRatio||q.mozBackingStorePixelRatio||q.msBackingStorePixelRatio||q.oBackingStorePixelRatio||q.backingStorePixelRatio||1)),P.height=O*Ve,ss!==ns&&(P.style.width=B+"px",P.style.height=O+"px",q.scale(Ve,Ve))):(P.width=B,P.height=O)}function $e(P,B,O){Li&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var q=document.createElement("canvas");return q.setAttribute("class","canvasjs-chart-canvas"),ri(q,P,B,O),H||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(q),q}function ce(P,B){for(var O in B)P.style[O]=B[O]}function ze(P,B,O){B.getAttribute("state")||(B.style.backgroundColor=P.toolbar.itemBackgroundColor,B.style.color=P.toolbar.fontColor,B.style.border="none",ce(B,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),B.getAttribute("state")!==O&&(B.setAttribute("state",O),B.setAttribute("type","button"),ce(B,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),B.innerHTML="<img src='"+ws[O].image+"' alt='"+P._cultureInfo[O+"Text"]+"' />",ce(B.childNodes[0],{height:"95%",pointerEvents:"none"})),B.setAttribute("title",P._cultureInfo[O+"Text"])}function ke(){for(var P=null,B=0;B<arguments.length;B++)(P=arguments[B]).style&&(P.style.display="inline")}function Ge(){for(var P=null,B=0;B<arguments.length;B++)(P=arguments[B])&&P.style&&(P.style.display="none")}function _i(P,B,O,q,pt){return null===P||typeof P>"u"?typeof O>"u"?B:O:(P=parseFloat(P.toString())*(0<=P.toString().indexOf("%")?B/100:1),typeof q<"u"&&(P=Math.min(q,P),typeof pt<"u"&&(P=Math.max(pt,P))),!isNaN(P)&&P<=B&&0<=P?P:typeof O>"u"?B:O)}function Me(P,B,O,q,pt){this._defaultsKey=P,this._themeOptionsKey=B,this._index=q,this.parent=pt,this._eventListeners=[],P={},this.theme&&W(this.parent)&&W(B)&&W(q)?P=W(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[B]&&(null===q?P=this.parent.themeOptions[B]:0<this.parent.themeOptions[B].length&&(q=Math.min(this.parent.themeOptions[B].length-1,q),P=this.parent.themeOptions[B][q])),this.themeOptions=P,this.options=O||{_isPlaceholder:!0},this.setOptions(this.options,P)}function Bi(P,B,O,q,pt){typeof pt>"u"&&(pt=0),this._padding=pt,this._x1=P,this._y1=B,this._x2=O,this._y2=q,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function se(P,B){se.base.constructor.call(this,"TextBlock",null,B,null,null),this.ctx=P,this._isDirty=!0,this._wrappedText=null,this._initialize()}function mi(P,B){mi.base.constructor.call(this,"Toolbar","toolbar",B,null,P),this.chart=P,this.canvas=P.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function vi(P,B){if(vi.base.constructor.call(this,"Title","title",B,null,P),this.chart=P,this.canvas=P.canvas,this.ctx=this.chart.ctx,this.optionsName="title",W(this.options.margin)&&P.options.subtitles)for(var O=P.options.subtitles,q=0;q<O.length;q++)if((W(O[q].horizontalAlign)&&"center"===this.horizontalAlign||O[q].horizontalAlign===this.horizontalAlign)&&(W(O[q].verticalAlign)&&"top"===this.verticalAlign||O[q].verticalAlign===this.verticalAlign)&&!O[q].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Fi(P,B,O){Fi.base.constructor.call(this,"Subtitle","subtitles",B,O,P),this.chart=P,this.canvas=P.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Ti(){this.pool=[]}function fi(P){var B;P&&Et[P]&&(B=Et[P]),fi.base.constructor.call(this,"CultureInfo",null,B,null,null)}var it,gt,ut,zt,re,Li=!1,ei={},H=!!document.createElement("canvas").getContext,pi={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:H?"transparent":null,margin:5,wrap:!0,maxWidth:null,textAlign:"center",dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,textAlign:"center",dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:H?"transparent":null,borderColor:H?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:H?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:H?"transparent":null,titleBorderColor:H?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,titleTextAlign:"left",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:H?"transparent":null,labelBorderColor:H?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:H?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:H?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,labelTextAlign:"left",showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelTextAlign:"left",labelBackgroundColor:H?"grey":null,labelBorderColor:H?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:H?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelBorderColor:null,indexLabelBorderThickness:0,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,explodeOnClick:!0,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:!1,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:H?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:H?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},Et={en:{}},V=H?"Trebuchet MS, Helvetica, sans-serif":"Arial",G=H?"Impact, Charcoal, sans-serif":"Arial",st={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},Fe={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:G,fontSize:32,fontColor:gt="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:G,fontSize:Tt=14,fontColor:gt,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:V,indexLabelFontSize:Tt,indexLabelFontColor:gt,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Ut=20,titleFontColor:gt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:it="#666666",tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re=zt="#000000",color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:gt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:gt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:gt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:V,fontSize:14,fontColor:gt,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};ut=gt="#F5F5F5",it="#FFFFFF",zt="#40BAF1",re="#F5F5F5";var Qt={colorSet:"colorSet2",title:{fontFamily:V,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:V,fontSize:Tt=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:V,indexLabelFontSize:Tt,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Ut=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:V,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};ut=gt="#F5F5F5",G={colorSet:"colorSet1",backgroundColor:"#2A2A2A",title:{fontFamily:G,fontSize:32,fontColor:gt,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:G,fontSize:Tt=14,fontColor:gt,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:V,indexLabelFontSize:Tt,indexLabelFontColor:ut,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Ut=20,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it="#FFFFFF",tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re="#F5F5F5",color:zt="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:V,fontSize:14,fontColor:gt,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:ut,backgroundColor:"rgba(0, 0, 0, .7)"}},ut=gt="#FAFAFA";var Ut,Tt,_e={light1:Fe,light2:Qt,dark1:G,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:V,fontSize:32,fontColor:gt,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:V,fontSize:Tt=14,fontColor:gt,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:V,indexLabelFontSize:Tt,indexLabelFontColor:ut,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Ut=20,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it="#FFFFFF",tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re="#F5F5F5",color:zt="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:0,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:V,titleFontSize:Ut,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Tt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:0,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Tt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:V,fontSize:14,fontColor:gt,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:ut,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:Fe,theme2:Qt,theme3:Fe},Pt={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};ei.fSDec=function(P){for(var B="",O=0;O<P.length;O++)B+=String.fromCharCode(Math.ceil(P.length/57/5)^P.charCodeAt(O));return B},delete pi[ei.fSDec("Bi`su")][ei.fSDec("bsdehuIsdg")],ei.pro={sCH:pi[ei.fSDec("Bi`su")][ei.fSDec("bsdehuIsdg")]};var P,B,O,q,pt,Mt,nt,ye=function(){var P=!1;try{var B=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return P=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,B),window.removeEventListener("test",null,B))}catch{P=!1}return P}(),ne={},ge=null,ii=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},$t=function(P){P.width=1,P.height=1,P.getContext("2d")&&P.getContext("2d").clearRect(0,0,1,1)},Zs=function(P,B,O){return B=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=B?12:11,Math.round(B*(P/400)))},Ii=(P=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,B="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),O="Sun Mon Tue Wed Thu Fri Sat".split(" "),q="January February March April May June July August September October November December".split(" "),pt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Mt=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,nt=/[^-+\dA-Z]/g,function(It,Ot,jt){var Ye=jt?jt.days:B,Ce=jt?jt.months:q,le=jt?jt.shortDays:O,ae=jt?jt.shortMonths:pt;jt="";var ti=!1;if(It=It&&It.getTime?It:It?new Date(It):new Date,isNaN(It))throw SyntaxError("invalid date");"UTC:"===Ot.slice(0,4)&&(Ot=Ot.slice(4),ti=!0);var Le=It[(jt=ti?"getUTC":"get")+"Date"](),At=It[jt+"Day"](),me=It[jt+"Month"](),t=It[jt+"FullYear"](),d=It[jt+"Hours"](),o=It[jt+"Minutes"](),n=It[jt+"Seconds"](),l=It[jt+"Milliseconds"](),p=ti?0:It.getTimezoneOffset();return Ot.replace(P,function(g){switch(g){case"D":return Le;case"DD":return ft(Le,2);case"DDD":return le[At];case"DDDD":return Ye[At];case"M":return me+1;case"MM":return ft(me+1,2);case"MMM":return ae[me];case"MMMM":return Ce[me];case"Y":return parseInt(String(t).slice(-2));case"YY":return ft(String(t).slice(-2),2);case"YYY":return ft(String(t).slice(-3),3);case"YYYY":return ft(t,4);case"h":return d%12||12;case"hh":return ft(d%12||12,2);case"H":return d;case"HH":return ft(d,2);case"m":return o;case"mm":return ft(o,2);case"s":return n;case"ss":return ft(n,2);case"f":return ft(String(l),3).slice(0,1);case"ff":return ft(String(l),3).slice(0,2);case"fff":return ft(String(l),3).slice(0,3);case"t":return 12>d?"a":"p";case"tt":return 12>d?"am":"pm";case"T":return 12>d?"A":"P";case"TT":return 12>d?"AM":"PM";case"K":return ti?"UTC":(String(It).match(Mt)||[""]).pop().replace(nt,"");case"z":return(0<p?"-":"+")+Math.floor(Math.abs(p)/60);case"zz":return(0<p?"-":"+")+ft(Math.floor(Math.abs(p)/60),2);case"zzz":return(0<p?"-":"+")+ft(Math.floor(Math.abs(p)/60),2)+ft(Math.abs(p)%60,2);default:return g.slice(1,g.length-1)}})}),Ht=function(P,B,O){if(null===P)return"";if(!isFinite(P))return P;var q=0>(P=Number(P));q&&(P*=-1);var pt=O?O.decimalSeparator:".",Mt=O?O.digitGroupSeparator:",",nt="";B=String(B),nt=1;var Le=O="",It=-1,Ot=[],jt=[],Ye=0,Ce=0,le=0,ae=!1,ti=0;Le=B.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),B=null;for(var At=0;Le&&At<Le.length;At++)if("."===(B=Le[At])&&0>It)It=At;else{if("%"===B)nt*=100;else{if("\u2030"===B){nt*=1e3;continue}if(","===B[0]&&"."===B[B.length-1]){nt/=Math.pow(1e3,B.length-1),It=At+B.length-1;continue}"E"!==B[0]&&"e"!==B[0]||"0"!==B[B.length-1]||(ae=!0)}0>It?(Ot.push(B),"#"===B||"0"===B?Ye++:","===B&&le++):(jt.push(B),"#"!==B&&"0"!==B||Ce++)}for(ae&&(B=Math.floor(P),Le=-Math.floor(Math.log(P)/Math.LN10+1),ti=0===P?0:0===B?-(Ye+Le):function(P){var B=0>P;if(1>Math.abs(P)){var O=parseInt(P.toString().split("e-")[1]);O&&(P=(B?-1*P:P)*Math.pow(10,O-1),P="0."+Array(O).join("0")+P.toString().substring(2),P=B?"-"+P:P)}else 20<(O=parseInt(P.toString().split("+")[1]))&&(O-=20,P=(P/=Math.pow(10,O)).toString()+Array(O+1).join("0"));return String(P)}(B).length-Ye,nt/=Math.pow(10,ti)),0>It&&(It=At),B=(nt=(P*nt).toFixed(Ce)).split("."),nt=(B[0]+"").split(""),P=(B[1]+"").split(""),nt&&"0"===nt[0]&&nt.shift(),ae=Le=At=Ce=It=0;0<Ot.length;)if("#"===(B=Ot.pop())||"0"===B)if(++It===Ye){var me=nt;if(nt=[],"0"===B)for(B=Ye-Ce-(me?me.length:0);0<B;)me.unshift("0"),B--;for(;0<me.length;)O=me.pop()+O,++ae%Le==0&&At===le&&0<me.length&&(O=Mt+O)}else 0<nt.length?(O=nt.pop()+O,Ce++,ae++):"0"===B&&(O="0"+O,Ce++,ae++),ae%Le==0&&At===le&&0<nt.length&&(O=Mt+O);else"E"!==B[0]&&"e"!==B[0]||"0"!==B[B.length-1]||!/[eE][+-]*[0]+/.test(B)?","===B?(At++,Le=ae,ae=0,0<nt.length&&(O=Mt+O)):O=1<B.length&&('"'===B[0]&&'"'===B[B.length-1]||"'"===B[0]&&"'"===B[B.length-1])?B.slice(1,B.length-1)+O:B+O:O+=(B=0>ti?B.replace("+","").replace("-",""):B.replace("-","")).replace(/[0]+/,function(t){return ft(ti,t.length)});for(Mt="",Ot=!1;0<jt.length;)"#"===(B=jt.shift())||"0"===B?0<P.length&&0!==Number(P.join(""))?(Mt+=P.shift(),Ot=!0):"0"===B&&(Mt+="0",Ot=!0):1<B.length&&('"'===B[0]&&'"'===B[B.length-1]||"'"===B[0]&&"'"===B[B.length-1])?Mt+=B.slice(1,B.length-1):"E"!==B[0]&&"e"!==B[0]||"0"!==B[B.length-1]||!/[eE][+-]*[0]+/.test(B)?Mt+=B:Mt+=(B=0>ti?B.replace("+","").replace("-",""):B.replace("-","")).replace(/[0]+/,function(t){return ft(ti,t.length)});return O+=(Ot?pt:"")+Mt,q?"-"+O:O},Ei=function(P){var B=0,O=0;return(P=P||window.event).offsetX||0===P.offsetX?(B=P.offsetX,O=P.offsetY):P.layerX||0==P.layerX?(B=P.layerX,O=P.layerY):(B=P.pageX-P.target.offsetLeft,O=P.pageY-P.target.offsetTop),{x:B,y:O}},ji=!0,ss=window.devicePixelRatio||1,ns=1,Ve=ji?ss/ns:1,Te=function(P,B,O,q,pt,Mt,nt,It,Ot,jt,Ye,Ce,le){typeof le>"u"&&(le=1),nt=nt||0,It=It||"black";var ae=15<q-B&&15<pt-O?8:.35*Math.min(q-B,pt-O);P.beginPath(),P.moveTo(B,O),P.save(),P.fillStyle=Mt,P.globalAlpha=le,P.fillRect(B,O,q-B,pt-O),P.globalAlpha=1,0<nt&&(le=nt%2==0?0:.5,P.beginPath(),P.lineWidth=nt,P.strokeStyle=It,P.moveTo(B,O),P.rect(B-le,O-le,q-B+2*le,pt-O+2*le),P.stroke()),P.restore(),!0===Ot&&(P.save(),P.beginPath(),P.moveTo(B,O),P.lineTo(B+ae,O+ae),P.lineTo(q-ae,O+ae),P.lineTo(q,O),P.closePath(),(nt=P.createLinearGradient((q+B)/2,O+ae,(q+B)/2,O)).addColorStop(0,Mt),nt.addColorStop(1,"rgba(255, 255, 255, .4)"),P.fillStyle=nt,P.fill(),P.restore()),!0===jt&&(P.save(),P.beginPath(),P.moveTo(B,pt),P.lineTo(B+ae,pt-ae),P.lineTo(q-ae,pt-ae),P.lineTo(q,pt),P.closePath(),(nt=P.createLinearGradient((q+B)/2,pt-ae,(q+B)/2,pt)).addColorStop(0,Mt),nt.addColorStop(1,"rgba(255, 255, 255, .4)"),P.fillStyle=nt,P.fill(),P.restore()),!0===Ye&&(P.save(),P.beginPath(),P.moveTo(B,O),P.lineTo(B+ae,O+ae),P.lineTo(B+ae,pt-ae),P.lineTo(B,pt),P.closePath(),(nt=P.createLinearGradient(B+ae,(pt+O)/2,B,(pt+O)/2)).addColorStop(0,Mt),nt.addColorStop(1,"rgba(255, 255, 255, 0.1)"),P.fillStyle=nt,P.fill(),P.restore()),!0===Ce&&(P.save(),P.beginPath(),P.moveTo(q,O),P.lineTo(q-ae,O+ae),P.lineTo(q-ae,pt-ae),P.lineTo(q,pt),(nt=P.createLinearGradient(q-ae,(pt+O)/2,q,(pt+O)/2)).addColorStop(0,Mt),nt.addColorStop(1,"rgba(255, 255, 255, 0.1)"),P.fillStyle=nt,nt.addColorStop(0,Mt),nt.addColorStop(1,"rgba(255, 255, 255, 0.1)"),P.fillStyle=nt,P.fill(),P.closePath(),P.restore())},si=function(P){for(var B="",O=0;O<P.length;O++)B+=String.fromCharCode(Math.ceil(P.length/57/5)^P.charCodeAt(O));return B},wn=window&&window[si("mnb`uhno")]&&window[si("mnb`uhno")].href&&window[si("mnb`uhno")].href.indexOf&&(-1!==window[si("mnb`uhno")].href.indexOf(si("b`ow`rkr/bnl"))||-1!==window[si("mnb`uhno")].href.indexOf(si("gdonqhy/bnl"))||-1!==window[si("mnb`uhno")].href.indexOf(si("gheemd")))&&-1===window[si("mnb`uhno")].href.indexOf(si("gheemd")),ws={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};Me.prototype.setOptions=function(P,B){if(pi[this._defaultsKey]){var q,O=pi[this._defaultsKey];for(q in O)"publicProperties"!==q&&O.hasOwnProperty(q)&&(this[q]=P&&q in P?P[q]:B&&q in B?B[q]:O[q])}else Li&&window.console&&console.log("defaults not set")},Me.prototype.get=function(P){var B=pi[this._defaultsKey];return"options"===P?this.options&&this.options._isPlaceholder?null:this.options:B.hasOwnProperty(P)||B.publicProperties&&B.publicProperties.hasOwnProperty(P)?this[P]:void(window.console&&window.console.log('Property "'+P+"\" doesn't exist. Please check for typo."))},Me.prototype.set=function(P,B,O){O=typeof O>"u"||O;var q=pi[this._defaultsKey];if("options"===P)this.createUserOptions(B);else{if(!(q.hasOwnProperty(P)||q.publicProperties&&q.publicProperties.hasOwnProperty(P)&&"readWrite"===q.publicProperties[P]))return void(window.console&&(q.publicProperties&&q.publicProperties.hasOwnProperty(P)&&"readOnly"===q.publicProperties[P]?window.console.log('Property "'+P+'" is read-only.'):window.console.log('Property "'+P+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[P]=B}O&&(this.stockChart||this.chart||this).render()},Me.prototype.addTo=function(P,B,O,q){q=typeof q>"u"||q;var pt=pi[this._defaultsKey];pt.hasOwnProperty(P)||pt.publicProperties&&pt.publicProperties.hasOwnProperty(P)&&"readWrite"===pt.publicProperties[P]?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[P]>"u"&&(this.options[P]=[]),(P=this.options[P]).splice(O=typeof O>"u"||null===O?P.length:O,0,B),q&&(this.stockChart||this.chart||this).render()):window.console&&(pt.publicProperties&&pt.publicProperties.hasOwnProperty(P)&&"readOnly"===pt.publicProperties[P]?window.console.log('Property "'+P+'" is read-only.'):window.console.log('Property "'+P+"\" doesn't exist. Please check for typo."))},Me.prototype.createUserOptions=function(P){if(typeof P<"u"||this.options._isPlaceholder)if(this.parent&&this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var B=this.parent.options[this.optionsName],O=B.length;this.options._isPlaceholder||(Oe(B),O=B.indexOf(this.options)),this.options=typeof P>"u"?{}:P,B[O]=this.options}else this.options=typeof P>"u"?{}:P,this.parent&&(P=this.parent.options,this.optionsName?B=this.optionsName:(B=this._defaultsKey)&&0!==B.length?(O=B.charAt(0).toLowerCase(),1<B.length&&(O=O.concat(B.slice(1))),B=O):B=void 0,P[B]=this.options)},Me.prototype.remove=function(P){if(P=typeof P>"u"||P,this.isOptionsInArray){var B=this.parent.options[this.optionsName];Oe(B);var O=B.indexOf(this.options);0<=O&&B.splice(O,1)}else delete this.parent.options[this.optionsName];P&&(this.stockChart||this.chart||this).render()},Me.prototype.updateOption=function(P){!pi[this._defaultsKey]&&Li&&window.console&&console.log("defaults not set");var B=pi[this._defaultsKey],O={},q=this[P],pt=this._themeOptionsKey,Mt=this._index;return this.theme&&W(this.parent)&&W(pt)&&W(Mt)?O=W(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&(this.options.theme?"Chart"===this._defaultsKey&&_e[this.options.theme]?O=_e[this.options.theme]:stockThemes[this.options.theme]&&(O=stockThemes[this.options.theme][pt]):this.parent.themeOptions[pt]&&(null===Mt?O=this.parent.themeOptions[pt]:0<this.parent.themeOptions[pt].length&&(O=Math.min(this.parent.themeOptions[pt].length-1,Mt),O=this.parent.themeOptions[pt][O]))),this.themeOptions=O,P in B&&(q=P in this.options?this.options[P]:O&&P in O?O[P]:B[P]),q!==this[P]&&(this[P]=q,!0)},Me.prototype.trackChanges=function(P){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[P]=this.options[P]},Me.prototype.isBeingTracked=function(P){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[P]},Me.prototype.hasOptionChanged=function(P){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[P]!==this.options[P]},Me.prototype.addEventListener=function(P,B,O){P&&B&&(this._eventListeners[P]=this._eventListeners[P]||[],this._eventListeners[P].push({context:O||this,eventHandler:B}))},Me.prototype.removeEventListener=function(P,B){if(P&&B&&this._eventListeners[P])for(var O=this._eventListeners[P],q=0;q<O.length;q++)if(O[q].eventHandler===B){O[q].splice(q,1);break}},Me.prototype.removeAllEventListeners=function(){this._eventListeners=[]},Me.prototype.dispatchEvent=function(P,B,O){if(P&&this._eventListeners[P]){B=B||{};for(var q=this._eventListeners[P],pt=0;pt<q.length;pt++)q[pt].eventHandler.call(q[pt].context,B)}"function"==typeof this[P]&&this[P].call(O||this.chart,B)},Bi.prototype.registerSpace=function(P,B){"top"===P?this._topOccupied+=B.height:"bottom"===P?this._bottomOccupied+=B.height:"left"===P?this._leftOccupied+=B.width:"right"===P&&(this._rightOccupied+=B.width)},Bi.prototype.unRegisterSpace=function(P,B){"top"===P?this._topOccupied-=B.height:"bottom"===P?this._bottomOccupied-=B.height:"left"===P?this._leftOccupied-=B.width:"right"===P&&(this._rightOccupied-=B.width)},Bi.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},Bi.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},je(se,Me),se.prototype._initialize=function(){W(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=W(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=W(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=W(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=W(this.padding.left)?0:0|Number(this.padding.left))},se.prototype.render=function(P){if(0!==this.fontSize){P&&this.ctx.save();var B=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var O=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+O),"middle"===this.textBaseline&&(O=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var q=0,pt=this.topPadding,Mt=null;for(this.ctx.roundRect||oi(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,O,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,O=0;O<this._wrappedText.lines.length;O++)Mt=this._wrappedText.lines[O],"right"===this.textAlign?q=this.width-Mt.width-this.rightPadding:"left"===this.textAlign?q=this.leftPadding:"center"===this.textAlign&&(q=(this.width-(this.leftPadding+this.rightPadding))/2-Mt.width/2+this.leftPadding),this.ctx.fillText(Mt.text,q,pt),pt+=Mt.height;this.ctx.font=B,P&&this.ctx.restore()}},se.prototype.setText=function(P){this.text=P,this._isDirty=!0,this._wrappedText=null},se.prototype.measureText=function(){if(this._lineHeight=Ai(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},se.prototype._getLineWithWidth=function(P,B,O){if(!(P=String(P)))return{text:"",width:0};var q=O=0,pt=P.length-1,Mt=1/0;for(this.ctx.font=this._getFontString();q<=pt;){Mt=Math.floor((q+pt)/2);var nt=P.substr(0,Mt+1);if((O=this.ctx.measureText(nt).width)<B)q=Mt+1;else{if(!(O>B))break;pt=Mt-1}}return O>B&&1<nt.length&&(nt=nt.substr(0,nt.length-1),O=this.ctx.measureText(nt).width),B=!0,(nt.length===P.length||" "===P[nt.length])&&(B=!1),B&&(1<(P=nt.split(" ")).length&&P.pop(),nt=P.join(" "),O=this.ctx.measureText(nt).width),{text:nt,width:O}},se.prototype._wrapText=function(){var P=new String(Ze(String(this.text))),B=[],O=this.ctx.font,q=0,pt=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)pt=q=0;else for(;0<P.length;){var Mt=this.maxHeight-(this.topPadding+this.bottomPadding),nt=this._getLineWithWidth(P,this.maxWidth-(this.leftPadding+this.rightPadding),!1);nt.height=this._lineHeight,B.push(nt);var It=pt;pt=Math.max(pt,nt.width),q+=nt.height,P=Ze(P.slice(nt.text.length,P.length)),Mt&&q>Mt&&(q-=(nt=B.pop()).height,pt=It)}this._wrappedText={lines:B,width:pt,height:q},this.width=pt+(this.leftPadding+this.rightPadding),this.height=q+(this.topPadding+this.bottomPadding),this.ctx.font=O},se.prototype._getFontString=function(){var P;P=this.fontStyle?this.fontStyle+" ":"",P+=this.fontWeight?this.fontWeight+" ":"",P+=this.fontSize?this.fontSize+"px ":"";var B=this.fontFamily?this.fontFamily+"":"";return!H&&B&&"'"!==(B=B.split(",")[0])[0]&&'"'!==B[0]&&(B="'"+B+"'"),P+B},je(mi,Me),je(vi,Me),vi.prototype.setLayout=function(){if(this.text){var It,Ot,jt,P=this.dockInsidePlotArea?this.chart.plotArea:this.chart,B=P.layoutManager.getFreeSpace(),O=B.x1,q=B.y1,pt=0,Mt=0,nt=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?40:0;this.textAlign=W(this.options.textAlign)?this.horizontalAlign:this.textAlign,"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=B.width-4-nt*("center"===this.horizontalAlign?2:1)),Mt=.5*B.height-this.margin-2,pt=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=B.height-4),Mt=.5*B.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=B.width-4),Mt=.5*B.height-4)),W(this.padding)||"number"!=typeof this.padding?W(this.padding)||"object"!=typeof this.padding||(jt=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,jt+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):jt=2*this.padding,this.wrap||(Mt=Math.min(Mt,1.5*this.fontSize+jt)),jt=(Mt=new se(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,textAlign:this.textAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:Mt,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"middle"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(q=B.y1+2+this.fontSize/2+4,Ot="top"):"bottom"===this.verticalAlign&&(q=B.y2-2-jt.height+this.fontSize/2+4,Ot="bottom"),"left"===this.horizontalAlign?O=B.x1+2:"center"===this.horizontalAlign?O=B.x1+B.width/2-jt.width/2:"right"===this.horizontalAlign&&(O=B.x2-2-jt.width-nt),It=this.horizontalAlign,this.width=jt.width,this.height=jt.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(O=B.x1+2+(this.fontSize/2+4),q=B.y2-2-(this.maxWidth/2-jt.width/2),pt=-90,Ot="left",this.width=jt.height,this.height=jt.width):"right"===this.horizontalAlign?(O=B.x2-2-(this.fontSize/2+4),q=B.y1+2+(this.maxWidth/2-jt.width/2),pt=90,Ot="right",this.width=jt.height,this.height=jt.width):"center"===this.horizontalAlign&&(q=P.y1+(P.height/2-jt.height/2)+this.fontSize/2+4,O=P.x1+(P.width/2-jt.width/2),Ot="center",this.width=jt.width,this.height=jt.height),It="center"),Mt.x=O,Mt.y=q,Mt.angle=pt,Mt.horizontalAlign=It,this._textBlock=Mt,P.layoutManager.registerSpace(Ot,{width:this.width+("left"===Ot||"right"===Ot?this.margin+2:0),height:this.height+("top"===Ot||"bottom"===Ot?this.margin+2:0)}),this.bounds={x1:O,y1:q,x2:O+this.width,y2:q+this.height},this.ctx.textBaseline="top"}},vi.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},je(Fi,Me),Fi.prototype.setLayout=vi.prototype.setLayout,Fi.prototype.render=vi.prototype.render,Ti.prototype.get=function(P,B){var O=null;return 0<this.pool.length?ri(O=this.pool.pop(),P,B):O=$e(P,B),O},Ti.prototype.release=function(P){this.pool.push(P)},je(fi,Me);var us={addTheme:function(P,B){_e[P]=B},addColorSet:function(P,B){st[P]=B},addCultureInfo:function(P,B){Et[P]=B},formatNumber:function(P,B,O){if(Et[O=O||"en"])return Ht(P,B||"#,##0.##",new fi(O));throw"Unknown Culture Name"},formatDate:function(P,B,O){if(Et[O=O||"en"])return Ii(P,B||"DD MMM YYYY",new fi(O));throw"Unknown Culture Name"}};typeof cs.exports<"u"?cs.exports=us:void 0!==(yi=function(){return us}.apply(is,[]))&&(cs.exports=yi),V=us.Chart=function(){function P(t,d){return t.x-d.x}function B(t,d,o){d=d||{},W(o)?(this.predefinedThemes=_e,this.optionsName=this.parent=this.index=null):(this.parent=o.parent,this.index=o.index,this.predefinedThemes=o.predefinedThemes,this.optionsName=o.optionsName,this.stockChart=o.stockChart,this.panel=t,this.isOptionsInArray=o.isOptionsInArray),this.theme=W(d.theme)||W(this.predefinedThemes[d.theme])?"light1":d.theme,B.base.constructor.call(this,"Chart",this.optionsName,d,this.index,this.parent);var n=this;this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new Ti,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",d=t=0,d=o&&o.height?o.height:this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=t=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,this.height=d,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof st[this.colorSet]<"u"?st[this.colorSet]:st.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",H||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=$e(t,d),this._preRenderCanvas=$e(t,d),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",oi(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",oi(this._preRenderCtx),H?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=$e(t,d),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=$e(t,d),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",oi(this.overlaidCanvasCtx)),this._eventManager=new le(this),this.windowResizeHandler=Yt(window,"resize",function(){n._updateSize()&&(n.render(),n.isNavigator&&n.stockChart&&n.stockChart.navigator&&n.stockChart.navigator.enabled&&n.stockChart.navigator._updateSlider(n.stockChart._axisXMin,n.stockChart._axisXMax))},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),ce(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},Yt(this.overlaidCanvas,"click",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Yt(this.overlaidCanvas,"mousemove",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Yt(this.overlaidCanvas,"mouseup",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Yt(this.overlaidCanvas,"mousedown",function(l){n._mouseEventHandler(l),Ge(n._dropdownMenu)},this.allDOMEventHandlers),Yt(this.overlaidCanvas,"mouseout",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Yt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),Yt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),Yt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),Yt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),this.toolTip=new Ce(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function O(t,d){for(var n,o=[],l=0;l<t.length;l++)if(0==l)o.push(t[0]);else{var p,g,M;p=0==(M=l-1)?0:M-1,g=M===t.length-1?M:M+1,n=Math.abs((t[g].x-t[p].x)/(t[g].x-t[M].x==0?.01:t[g].x-t[M].x))*(d-1)/2+1;var _=(t[g].x-t[p].x)/n;n=(t[g].y-t[p].y)/n,o[o.length]=t[M].x>t[p].x&&0<_||t[M].x<t[p].x&&0>_?{x:t[M].x+_/3,y:t[M].y+n/3}:{x:t[M].x,y:t[M].y+(1===o.length?0:n/9)},p=0===(M=l)?0:M-1,g=M===t.length-1?M:M+1,n=Math.abs((t[g].x-t[p].x)/(t[M].x-t[p].x==0?.01:t[M].x-t[p].x))*(d-1)/2+1,_=(t[g].x-t[p].x)/n,n=(t[g].y-t[p].y)/n,o[o.length]=t[M].x>t[p].x&&0<_||t[M].x<t[p].x&&0>_?{x:t[M].x-_/3,y:t[M].y-n/3}:{x:t[M].x,y:t[M].y-n/9},o[o.length]=t[l]}return o}function q(t,d,o,n,l,p,g,M,_,f){var m=0;f?(g.color=p,M.color=p):f=1,m=Math.abs(_?l-o:n-d),m=0<g.trimLength?Math.abs(m*g.trimLength/100):Math.abs(m-g.length),_?(o+=m/2,l-=m/2):(d+=m/2,n-=m/2),m=Math.round(g.thickness)%2==1?.5:0;var b=Math.round(M.thickness)%2==1?.5:0;t.save(),t.globalAlpha=f,t.strokeStyle=M.color||p,t.lineWidth=M.thickness||2,t.setLineDash&&t.setLineDash(mt(M.dashType,M.thickness)),t.beginPath(),_&&0<M.thickness?(t.moveTo(n-g.thickness/2,Math.round((o+l)/2)-b),t.lineTo(d+g.thickness/2,Math.round((o+l)/2)-b)):0<M.thickness&&(t.moveTo(Math.round((d+n)/2)-b,o+g.thickness/2),t.lineTo(Math.round((d+n)/2)-b,l-g.thickness/2)),t.stroke(),t.strokeStyle=g.color||p,t.lineWidth=g.thickness||2,t.setLineDash&&t.setLineDash(mt(g.dashType,g.thickness)),t.beginPath(),_&&0<g.thickness?(t.moveTo(n-m,o),t.lineTo(n-m,l),t.moveTo(d+m,o),t.lineTo(d+m,l)):0<g.thickness&&(t.moveTo(d,o+m),t.lineTo(n,o+m),t.moveTo(d,l-m),t.lineTo(n,l-m)),t.stroke(),t.restore()}function pt(t,d){pt.base.constructor.call(this,"Legend","legend",d,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=Ai(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function Mt(t,d,o,n){for(Mt.base.constructor.call(this,"DataSeries","data",d,o,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=o,this.noDataPointsInPlotArea=0,this.id=n,this.chart._eventManager.objectMap[n]={id:n,objectType:"dataSeries",dataSeriesIndex:o},t=d.dataPoints?d.dataPoints.length:0,this.dataPointEOs=[],d=0;d<t;d++)this.dataPointEOs[d]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function nt(t,d,o,n,l,p){if(nt.base.constructor.call(this,"Axis",d,o,n,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===l?("left"===p||"bottom"===p?(this.optionsName="axisX",W(this.chart.sessionVariables.axisX[n])&&(this.chart.sessionVariables.axisX[n]={}),this.sessionVariables=this.chart.sessionVariables.axisX[n]):(this.optionsName="axisX2",W(this.chart.sessionVariables.axisX2[n])&&(this.chart.sessionVariables.axisX2[n]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[n]),this.options.interval||(this.intervalType=null)):"left"===p||"bottom"===p?(this.optionsName="axisY",W(this.chart.sessionVariables.axisY[n])&&(this.chart.sessionVariables.axisY[n]={}),this.sessionVariables=this.chart.sessionVariables.axisY[n]):(this.optionsName="axisY2",W(this.chart.sessionVariables.axisY2[n])&&(this.chart.sessionVariables.axisY2[n]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[n]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=l,"axisX"!==l||o&&typeof o.gridThickness<"u"||(this.gridThickness=0),this._position=p,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new It(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(t=0;t<this.options.stripLines.length;t++)this.stripLines.push(new jt(this.chart,this.options.stripLines[t],t,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new Ye(this.chart,this.options.crosshair,this),this.crosshair._updatedValue=W(this.sessionVariables.crosshairValue)?null:this.sessionVariables.crosshairValue),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function It(t,d,o,n){if(It.base.constructor.call(this,"ScaleBreaks","scaleBreaks",d,null,n),this.id=o,this.chart=t,this.ctx=this.chart.ctx,this.axis=n,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(t=0;t<this.options.customBreaks.length;t++)this.customBreaks.push(new Ot(this.chart,"customBreaks",this.options.customBreaks[t],t,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[t].startValue&&"number"==typeof this.customBreaks[t].endValue&&this.customBreaks[t].endValue!==this.customBreaks[t].startValue&&this._appliedBreaks.push(this.customBreaks[t]);for(this._appliedBreaks.sort(function(l,p){return l.startValue-p.startValue}),t=0;t<this._appliedBreaks.length-1;t++)this._appliedBreaks[t].endValue>=this._appliedBreaks[t+1].startValue&&(this._appliedBreaks[t].endValue=Math.max(this._appliedBreaks[t].endValue,this._appliedBreaks[t+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+t+" and "+(t+1)+" are overlapping."),this._appliedBreaks.splice(t,2),t--)}}function Ot(t,d,o,n,l,p){Ot.base.constructor.call(this,"Break",d,o,n,p),this.id=l,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=p,this.optionsName=d,this.isOptionsInArray=!0,this.type=o.type?this.type:p.type,this.fillOpacity=W(o.fillOpacity)?p.fillOpacity:this.fillOpacity,this.lineThickness=W(o.lineThickness)?p.lineThickness:this.lineThickness,this.color=o.color?this.color:p.color,this.lineColor=o.lineColor?this.lineColor:p.lineColor,this.lineDashType=o.lineDashType?this.lineDashType:p.lineDashType,!W(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!W(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(t=this.startValue,this.startValue=this.endValue,this.endValue=t),this.spacing=typeof o.spacing>"u"?p.spacing:o.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=p.spacing),this.size=p.parent.logarithmic?1:0}function jt(t,d,o,n,l){jt.base.constructor.call(this,"StripLine","stripLines",d,o,l),this.id=n,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=l,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=l.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function Ye(t,d,o){Ye.base.constructor.call(this,"Crosshair","crosshair",d,null,o),this.chart=t,this.ctx=this.chart.ctx,this.axis=o,this.optionsName="crosshair",this._thicknessType="pixel"}function Ce(t,d){Ce.base.constructor.call(this,"ToolTip","toolTip",d,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function le(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=$e(this.chart.width,this.chart.height,!0),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function ae(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}je(B,Me),B.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var d=0;d<t.length;d++){var o=t[d][0],n=t[d][1],l=t[d][2],p=(p=t[d][3])||!1;o.removeEventListener?o.removeEventListener(n,l,p):o.detachEvent&&o.detachEvent("on"+n,l)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&$t(this.canvas),this.overlaidCanvas&&$t(this.overlaidCanvas),this._preRenderCanvas&&$t(this._preRenderCanvas),this._breaksCanvas&&$t(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&$t(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},B.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.theme<"u"&&W(this.options.theme)&&(this.theme=this.stockChart.theme),this.updateOption("colorSet")&&(this.selectedColorSet=typeof st[this.colorSet]<"u"?st[this.colorSet]:st.colorSet1),this.updateOption("backgroundColor"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.backgroundColor<"u"&&W(this.options.backgroundColor)&&(this.backgroundColor=this.stockChart.backgroundColor),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this.stockChart&&W(this.options.culture)&&(this.culture=this.stockChart.culture),this._cultureInfo=new fi(this.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&H,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new mi(this,this.options.toolbar),this.stockChart&&this.stockChart.options&&this.stockChart.options.toolbar&&!this.options.toolbar)for(var d in this.stockChart.options.toolbar)this.toolbar[d]=this.stockChart.options.toolbar[d];if(this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)ce(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&this._zoomButton.childNodes[0]&&ce(this._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"});else{var o=!1;Ge(this._zoomButton=document.createElement("button")),ze(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,Yt(this._zoomButton,"touchstart",function(n){o=!0},this.allDOMEventHandlers),Yt(this._zoomButton,"click",function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,ze(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,ze(t,t._zoomButton,"pan")),t.render()},this.allDOMEventHandlers),Yt(this._zoomButton,"mousemove",function(){o?o=!1:(ce(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ce(t._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Yt(this._zoomButton,"mouseout",function(){o||(ce(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ce(t._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(ce(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&this._resetButton.childNodes[0]&&ce(this._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),this._resetButton.title=this._cultureInfo.resetText):(o=!1,Ge(this._resetButton=document.createElement("button")),ze(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),Yt(this._resetButton,"touchstart",function(n){o=!0},this.allDOMEventHandlers),Yt(this._resetButton,"click",function(){if(t.toolTip.hide(),t.toolTip&&t.toolTip.enabled&&t.toolTip.dispatchEvent("hidden",{chart:t,toolTip:t.toolTip},t.toolTip),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,ze(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(var n=0;n<t.sessionVariables.axisX.length;n++)t.sessionVariables.axisX[n].newViewportMinimum=null,t.sessionVariables.axisX[n].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(n=0;n<t.sessionVariables.axisX2.length;n++)t.sessionVariables.axisX2[n].newViewportMinimum=null,t.sessionVariables.axisX2[n].newViewportMaximum=null;if(t.sessionVariables.axisY)for(n=0;n<t.sessionVariables.axisY.length;n++)t.sessionVariables.axisY[n].newViewportMinimum=null,t.sessionVariables.axisY[n].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(n=0;n<t.sessionVariables.axisY2.length;n++)t.sessionVariables.axisY2[n].newViewportMinimum=null,t.sessionVariables.axisY2[n].newViewportMaximum=null;t.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&ce(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),Ge(t._zoomButton,t._resetButton),t.stockChart&&(t.stockChart._rangeEventParameter={stockChart:t.stockChart,source:"chart",index:t.stockChart.charts.indexOf(t),minimum:null,maximum:null}),t._dispatchRangeEvent("rangeChanging","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanging",t.stockChart.dispatchEvent("rangeChanging",t.stockChart._rangeEventParameter,t.stockChart)),t.render(),t.syncCharts&&t.stockChart&&(t.stockChart.rangeUpdatedBy=!t.stockChart.navigator.slider||W(t.stockChart.navigator.slider.options.minimum)&&W(t.stockChart.navigator.slider.options.maximum)?!t.stockChart.rangeSelector.enabled||!t.stockChart.rangeSelector.inputFields.enabled||W(t.stockChart.rangeSelector.inputFields.options.startValue)&&W(t.stockChart.rangeSelector.inputFields.options.endValue)?null:"inputFields":"navigator",W(t.stockChart._selectedRangeButtonIndex)||(t.stockChart.rangeUpdatedBy="rangeButton"),t.syncCharts(null,null),"rangeButton"===t.stockChart.rangeUpdatedBy&&t.stockChart.rangeSelector.selectedRangeButtonIndex<t.stockChart.rangeSelector.buttons.length&&(n=t.stockChart.rangeSelector.buttons[t.stockChart.rangeSelector.selectedRangeButtonIndex]).enabled&&(n.state="on",n.textBlock.fontWeight="bold",n.textBlock.fontColor=t.stockChart.rangeSelector.buttonStyle.labelFontColorOnHover,n.textBlock.backgroundColor=t.stockChart.rangeSelector.buttonStyle.backgroundColorOnSelect,n.render())),t._dispatchRangeEvent("rangeChanged","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanged",t.stockChart.dispatchEvent("rangeChanged",t.stockChart._rangeEventParameter,t.stockChart))},this.allDOMEventHandlers),Yt(this._resetButton,"mousemove",function(){o||(ce(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ce(t._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Yt(this._resetButton,"mouseout",function(){o||(ce(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ce(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),ke(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;for(d in function Ue(P){if(P._menuButton)P.exportEnabled?(ce(P._menuButton,{backgroundColor:P.toolbar.itemBackgroundColor,color:P.toolbar.fontColor}),ke(P._menuButton),ze(P,P._menuButton,"menu"),0>=navigator.userAgent.search("MSIE")&&P._menuButton.childNodes[0]&&ce(P._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"})):Ge(P._menuButton);else if(P.exportEnabled&&H){var B=!1;P._menuButton=document.createElement("button"),ze(P,P._menuButton,"menu"),P._toolBar.appendChild(P._menuButton),Yt(P._menuButton,"touchstart",function(Mt){B=!0},P.allDOMEventHandlers),Yt(P._menuButton,"click",function(){"none"!==P._dropdownMenu.style.display||P._dropDownCloseTime&&500>=(new Date).getTime()-P._dropDownCloseTime.getTime()||(P._dropdownMenu.style.display="block",P._menuButton.blur(),P._dropdownMenu.focus())},P.allDOMEventHandlers,!0),Yt(P._menuButton,"mousemove",function(){B||(ce(P._menuButton,{backgroundColor:P.toolbar.itemBackgroundColorOnHover,color:P.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&ce(P._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},P.allDOMEventHandlers,!0),Yt(P._menuButton,"mouseout",function(){B||(ce(P._menuButton,{backgroundColor:P.toolbar.itemBackgroundColor,color:P.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&ce(P._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},P.allDOMEventHandlers,!0)}if(P.exportEnabled&&P._dropdownMenu){var O=P.theme&&-1!==P.theme.indexOf("dark")?"black":"#888888";ce(P._dropdownMenu,{backgroundColor:P.toolbar.itemBackgroundColor,color:P.toolbar.fontColor,boxShadow:"2px 2px 10px "+O}),O=P._dropdownMenu.childNodes;for(var q=[P._cultureInfo.printText,P._cultureInfo.saveJPGText,P._cultureInfo.savePNGText],pt=0;pt<q.length;pt++)ce(O[pt],{backgroundColor:P.toolbar.itemBackgroundColor,color:P.toolbar.fontColor}),O[pt].innerHTML=q[pt]}else!P._dropdownMenu&&P.exportEnabled&&H&&(B=!1,P._dropdownMenu=document.createElement("div"),P._dropdownMenu.setAttribute("tabindex",-1),O=P.theme&&-1!==P.theme.indexOf("dark")?"black":"#888888",ce(P._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:P.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px "+O}),P._dropdownMenu.style.display="none",P._toolBar.appendChild(P._dropdownMenu),Yt(P._dropdownMenu,"blur",function(){Ge(P._dropdownMenu),P._dropDownCloseTime=new Date},P.allDOMEventHandlers,!0),ce(O=document.createElement("div"),{padding:"12px 8px 12px 8px"}),O.innerHTML=P._cultureInfo.printText,O.style.backgroundColor=P.toolbar.itemBackgroundColor,O.style.color=P.toolbar.fontColor,P._dropdownMenu.appendChild(O),Yt(O,"touchstart",function(Mt){B=!0},P.allDOMEventHandlers),Yt(O,"mousemove",function(){B||(this.style.backgroundColor=P.toolbar.itemBackgroundColorOnHover,this.style.color=P.toolbar.fontColorOnHover)},P.allDOMEventHandlers,!0),Yt(O,"mouseout",function(){B||(this.style.backgroundColor=P.toolbar.itemBackgroundColor,this.style.color=P.toolbar.fontColor)},P.allDOMEventHandlers,!0),Yt(O,"click",function(){P.print(),Ge(P._dropdownMenu)},P.allDOMEventHandlers,!0),ce(O=document.createElement("div"),{padding:"12px 8px 12px 8px"}),O.innerHTML=P._cultureInfo.saveJPGText,O.style.backgroundColor=P.toolbar.itemBackgroundColor,O.style.color=P.toolbar.fontColor,P._dropdownMenu.appendChild(O),Yt(O,"touchstart",function(Mt){B=!0},P.allDOMEventHandlers),Yt(O,"mousemove",function(){B||(this.style.backgroundColor=P.toolbar.itemBackgroundColorOnHover,this.style.color=P.toolbar.fontColorOnHover)},P.allDOMEventHandlers,!0),Yt(O,"mouseout",function(){B||(this.style.backgroundColor=P.toolbar.itemBackgroundColor,this.style.color=P.toolbar.fontColor)},P.allDOMEventHandlers,!0),Yt(O,"click",function(){P.exportChart({format:"jpeg",fileName:P.exportFileName}),Ge(P._dropdownMenu)},P.allDOMEventHandlers,!0),ce(O=document.createElement("div"),{padding:"12px 8px 12px 8px"}),O.innerHTML=P._cultureInfo.savePNGText,O.style.backgroundColor=P.toolbar.itemBackgroundColor,O.style.color=P.toolbar.fontColor,P._dropdownMenu.appendChild(O),Yt(O,"touchstart",function(Mt){B=!0},P.allDOMEventHandlers),Yt(O,"mousemove",function(){B||(this.style.backgroundColor=P.toolbar.itemBackgroundColorOnHover,this.style.color=P.toolbar.fontColorOnHover)},P.allDOMEventHandlers,!0),Yt(O,"mouseout",function(){B||(this.style.backgroundColor=P.toolbar.itemBackgroundColor,this.style.color=P.toolbar.fontColor)},P.allDOMEventHandlers,!0),Yt(O,"click",function(){P.exportChart({format:"png",fileName:P.exportFileName}),Ge(P._dropdownMenu)},P.allDOMEventHandlers,!0))}(this),"none"!==this._toolBar.style.display&&this._zoomButton&&(ze(t,t._zoomButton,this.panEnabled?"zoom":"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&ze(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(d)&&this.toolTip.updateOption(d)},B.prototype._updateSize=function(){var t;t=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var d=0,o=0;if(this.options.width?d=this.width:this.width=d=0<this.container.clientWidth?this.container.clientWidth:this.width,W(this.stockChart)||W(this.index)?this.options.height?o=this.height:this.height=o=0<this.container.clientHeight?this.container.clientHeight:this.height:o=this.height=this.stockChart._chartsHeight[this.index],this.canvas.width!==d*Ve||this.canvas.height!==o*Ve){for(var n=0;n<t.length;n++)ri(t[n],d,o);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},t=!0}else t=!1;return t},B.prototype._initialize=function(){this.isNavigator=!(W(this.parent)||W(this.parent._defaultsKey)||"Navigator"!==this.parent._defaultsKey),this._animator?this._animator.cancelAllAnimations():this._animator=new ae(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=H&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new Bi(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var t=0,d=null;if(this.options.data){for(var o=0;o<this.options.data.length;o++)if(t++,!this.options.data[o].type||0<=B._supportedChartTypes.indexOf(this.options.data[o].type)){var p,n=new Mt(this,this.options.data[o],t-1,++this._eventManager.lastObjectId);if(!W(n)&&n.dataPoints)for(var l=0;l<n.dataPoints.length;l++)if(n.dataPoints[l].x&&n.dataPoints[l].x.getTime){n.xValueType="dateTime";break}if("error"===n.type&&(n.linkedDataSeriesIndex=W(this.options.data[o].linkedDataSeriesIndex)?o-1:this.options.data[o].linkedDataSeriesIndex,0>n.linkedDataSeriesIndex||n.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof n.linkedDataSeriesIndex||"error"===this.options.data[n.linkedDataSeriesIndex].type)&&(n.linkedDataSeriesIndex=null),null===n.name&&(n.name="DataSeries "+t),null===n.color?1<this.options.data.length?(n._colorSet=[this.selectedColorSet[n.index%this.selectedColorSet.length]],n.color=this.selectedColorSet[n.index%this.selectedColorSet.length]):n._colorSet="line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"candlestick"===n.type||"ohlc"===n.type||"waterfall"===n.type||"boxAndWhisker"===n.type?[this.selectedColorSet[0]]:this.selectedColorSet:n._colorSet=[n.color],null===n.markerSize&&(("line"===n.type||"stepLine"===n.type||"spline"===n.type||0<=n.type.toLowerCase().indexOf("area"))&&n.dataPoints&&n.dataPoints.length<this.width/16||"scatter"===n.type)&&(n.markerSize=8),"bubble"!==n.type&&"scatter"!==n.type||!n.dataPoints||(n.dataPoints.some?n.dataPoints.some(function(M){return M.x})&&n.dataPoints.sort(P):n.dataPoints.sort(P)),this.data.push(n),l=n.axisPlacement,d=d||l,"normal"===l?"xySwapped"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===l?"normal"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===l?"normal"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===l&&"none"===this.plotInfo.axisPlacement&&(p='You cannot combine "'+n.type+'" with pie chart'),p&&window.console)return void window.console.log(p)}for(o=0;o<this.data.length;o++){if("none"==d&&"error"===this.data[o].type&&window.console)return void window.console.log('You cannot combine "'+n.type+'" with error chart');"error"===this.data[o].type&&(this.data[o].axisPlacement=this.plotInfo.axisPlacement=d||"normal",this.data[o]._linkedSeries=null===this.data[o].linkedDataSeriesIndex?null:this.data[this.data[o].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},B._supportedChartTypes=Oe("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),B.prototype.setLayout=function(){for(var t=this._plotAreaElements,d=0;d<this.data.length;d++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[d].axisYType||"primary"===this.data[d].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var o=0;o<this.options.axisY.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[o]=new nt(this,"axisY",this.options.axisY[o],o,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[o]=new nt(this,"axisY",this.options.axisY[o],o,"axisY","bottom"));this.data[d].axisY=this.axisY[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY.length?this.data[d].axisYIndex:0],this.axisY[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY.length?this.data[d].axisYIndex:0].dataSeries.push(this.data[d])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new nt(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new nt(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[d].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[d]);if("secondary"===this.data[d].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(o=0;o<this.options.axisY2.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[o]=new nt(this,"axisY2",this.options.axisY2[o],o,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[o]=new nt(this,"axisY2",this.options.axisY2[o],o,"axisY","top"));this.data[d].axisY=this.axisY2[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY2.length?this.data[d].axisYIndex:0],this.axisY2[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY2.length?this.data[d].axisYIndex:0].dataSeries.push(this.data[d])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new nt(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new nt(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[d].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[d]);if(!this.data[d].axisXType||"primary"===this.data[d].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(o=0;o<this.options.axisX.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[o]=new nt(this,"axisX",this.options.axisX[o],o,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[o]=new nt(this,"axisX",this.options.axisX[o],o,"axisX","left"));this.data[d].axisX=this.axisX[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX.length?this.data[d].axisXIndex:0],this.axisX[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX.length?this.data[d].axisXIndex:0].dataSeries.push(this.data[d])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new nt(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new nt(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[d].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[d]);if("secondary"===this.data[d].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(o=0;o<this.options.axisX2.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[o]=new nt(this,"axisX2",this.options.axisX2[o],o,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[o]=new nt(this,"axisX2",this.options.axisX2[o],o,"axisX","right"));this.data[d].axisX=this.axisX2[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX2.length?this.data[d].axisXIndex:0],this.axisX2[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX2.length?this.data[d].axisXIndex:0].dataSeries.push(this.data[d])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new nt(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new nt(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[d].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[d])}if(this.axisY){for(o=1;o<this.axisY.length;o++)typeof this.axisY[o].options.gridThickness>"u"&&(this.axisY[o].gridThickness=0);for(o=0;o<this.axisY.length-1;o++)typeof this.axisY[o].options.margin>"u"&&(this.axisY[o].margin=10)}if(this.axisY2){for(o=1;o<this.axisY2.length;o++)typeof this.axisY2[o].options.gridThickness>"u"&&(this.axisY2[o].gridThickness=0);for(o=0;o<this.axisY2.length-1;o++)typeof this.axisY2[o].options.margin>"u"&&(this.axisY2[o].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(o=0;o<this.axisX.length;o++)typeof this.axisX[o].options.gridThickness>"u"&&(this.axisX[o].gridThickness=0);if(this.axisX2)for(o=0;o<this.axisX2.length;o++)typeof this.axisX2[o].options.gridThickness>"u"&&(this.axisX2[o].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),o=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled))for(d=0;d<this._axes.length;d++)if(!W(this._axes[d].viewportMinimum)||!W(this._axes[d].viewportMaximum)){o=!0;break}if(o?(ke(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(Ge(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),function ki(P){ei.fSDec&&P[si("`eeDwdouMhrudods")](si("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){ei._fTWm&&ei._fTWm(P)})}(this),this._processData(),this.options.title&&(this.title=new vi(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.options.subtitles)for(d=0;d<this.options.subtitles.length;d++)o=new Fi(this,this.options.subtitles[d],d),this.subtitles.push(o),o.dockInsidePlotArea?t.push(o):o.setLayout();for(this.legend=new pt(this,this.options.legend),d=0;d<this.data.length;d++)(this.data[d].showInLegend||"pie"===this.data[d].type||"doughnut"===this.data[d].type||"funnel"===this.data[d].type||"pyramid"===this.data[d].type)&&this.legend.dataSeries.push(this.data[d]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout(),d=0;d<this._axes.length;d++)if(this._axes[d].scaleBreaks&&this._axes[d].scaleBreaks._appliedBreaks.length){H?(this._breaksCanvas=$e(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=$e(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||nt.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},B.prototype.renderElements=function(){if(this.height&&this.width){var n=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var t=0;t<this.subtitles.length;t++)this.subtitles[t].dockInsidePlotArea||this.subtitles[t].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)nt.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(t=0;t<n.length;t++)n[t].setLayout(),n[t].render();var l,d=[];if(this.animatedRender){var o=$e(this.width,this.height);o.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(function Oi(P){if(!wn){var B=!1,O=!1;typeof pi.Chart.creditHref>"u"?(P.creditHref=si("iuuqr;..b`ow`rkr/bnl."),P.creditText=si("B`ow`rKR/bnl")):(B=P.updateOption("creditText"),O=P.updateOption("creditHref")),P.creditHref&&P.creditText&&(P._creditLink||(P._creditLink=document.createElement("a"),P._creditLink.setAttribute("class","canvasjs-chart-credit"),P._creditLink.setAttribute("title","JavaScript Charts"),ce(P._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:P.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),P._creditLink.setAttribute("tabIndex",-1),P._creditLink.setAttribute("target","_blank")),(0===P.renderCount||B||O)&&(P._creditLink.setAttribute("href",P.creditHref),P._creditLink.innerHTML=P.creditText),P._creditLink&&P.creditHref&&P.creditText?(P._creditLink.parentElement||P._canvasJSContainer.appendChild(P._creditLink),P._creditLink.style.top=P.height-14+"px"):P._creditLink.parentElement&&P._canvasJSContainer.removeChild(P._creditLink))}}(this),n=this.ctx.miterLimit,this.ctx.miterLimit=3,H&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),t=0;t<this.plotInfo.plotTypes.length;t++)for(var p=this.plotInfo.plotTypes[t],g=0;g<p.plotUnits.length;g++){var M=p.plotUnits[g],_=null;M.targetCanvas&&$t(M.targetCanvas),M.targetCanvas=null,this.animatedRender&&(M.targetCanvas=$e(this.width,this.height),M.targetCanvasCtx=M.targetCanvas.getContext("2d"),l=M.targetCanvasCtx.miterLimit,M.targetCanvasCtx.miterLimit=3),"line"===M.type?_=this.renderLine(M):"stepLine"===M.type?_=this.renderStepLine(M):"spline"===M.type?_=this.renderSpline(M):"column"===M.type?_=this.renderColumn(M):"bar"===M.type?_=this.renderBar(M):"area"===M.type?_=this.renderArea(M):"stepArea"===M.type?_=this.renderStepArea(M):"splineArea"===M.type?_=this.renderSplineArea(M):"stackedColumn"===M.type?_=this.renderStackedColumn(M):"stackedColumn100"===M.type?_=this.renderStackedColumn100(M):"stackedBar"===M.type?_=this.renderStackedBar(M):"stackedBar100"===M.type?_=this.renderStackedBar100(M):"stackedArea"===M.type?_=this.renderStackedArea(M):"stackedArea100"===M.type?_=this.renderStackedArea100(M):"bubble"===M.type?_=_=this.renderBubble(M):"scatter"===M.type?_=this.renderScatter(M):"pie"===M.type||"doughnut"===M.type?this.renderPie(M):"funnel"===M.type||"pyramid"===M.type?_=this.renderFunnel(M):"candlestick"===M.type||"ohlc"===M.type?_=this.renderCandlestick(M):"rangeColumn"===M.type?_=this.renderRangeColumn(M):"error"===M.type?_=this.renderError(M):"rangeBar"===M.type?_=this.renderRangeBar(M):"rangeArea"===M.type?_=this.renderRangeArea(M):"rangeSplineArea"===M.type?_=this.renderRangeSplineArea(M):"waterfall"===M.type?_=this.renderWaterfall(M):"boxAndWhisker"===M.type&&(_=this.renderBoxAndWhisker(M));for(var f=0;f<M.dataSeriesIndexes.length;f++)this._dataInRenderedOrder.push(this.data[M.dataSeriesIndexes[f]]);this.animatedRender&&(M.targetCanvasCtx.miterLimit=l,_&&d.push(_))}this.ctx.miterLimit=n,this.animatedRender&&this._breaksCanvasCtx&&d.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:At.fadeInAnimation,easingFunction:At.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(oi(l=$e(this.width,this.height).getContext("2d")),d.push(this.renderIndexLabels(l)));var m=this;if(0<d.length)m.disableToolTip=!0,m._animator.animate(200,m.animationDuration,function(b){m.ctx.clearRect(0,0,m.width,m.height),m.ctx.drawImage(o,0,0,Math.floor(m.width*Ve),Math.floor(m.height*Ve),0,0,m.width,m.height);for(var v=0;v<d.length;v++)_=d[v],1>b&&typeof _.startTimePercent<"u"?b>=_.startTimePercent&&_.animationCallback(_.easingFunction(b-_.startTimePercent,0,1,1-_.startTimePercent),_):_.animationCallback(_.easingFunction(b,0,1,1),_);m.dispatchEvent("dataAnimationIterationEnd",{chart:m})},function(){d=[];for(var b=0;b<m.plotInfo.plotTypes.length;b++)for(var v=m.plotInfo.plotTypes[b],h=0;h<v.plotUnits.length;h++){var C=v.plotUnits[h];C.targetCanvas&&$t(C.targetCanvas),C.targetCanvas=null}o=null,m.disableToolTip=!1,m.dispatchEvent("dataAnimationEnd",{chart:m})});else{if(m._breaksCanvas)if(H)m.plotArea.ctx.drawImage(m._breaksCanvas,0,0,this.width,this.height);else for(f=0;f<m._axes.length;f++)m._axes[f].createMask();0<m._indexLabels.length&&m.renderIndexLabels(),m.dispatchEvent("dataAnimationIterationEnd",{chart:m}),m.dispatchEvent("dataAnimationEnd",{chart:m})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||Ge(this._zoomButton,this._resetButton),W(this.toolTip._xValue)||W(this.toolTip._dataSeriesIndex)||this.toolTip.showAtX(this.toolTip._xValue,this.toolTip._dataSeriesIndex),this.toolTip._updateToolTip(),this.renderCount++,Li&&(m=this,setTimeout(function(){var b=document.getElementById("ghostCanvasCopy");b&&(ri(b,m.width,m.height),b.getContext("2d").drawImage(m._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),f=0;f<this._axes.length;f++)this._axes[f].maskCanvas&&(delete this._axes[f].maskCanvas,delete this._axes[f].maskCtx)}},B.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&$t(this._preRenderCanvas)},B.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},B.prototype.categoriseDataSeries=function(){for(var t="",d=0;d<this.data.length;d++)if((t=this.data[d]).dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=B._supportedChartTypes.indexOf(t.type)){for(var o=null,n=!1,l=null,p=!1,g=0;g<this.plotInfo.plotTypes.length;g++)if(this.plotInfo.plotTypes[g].type===t.type){n=!0,o=this.plotInfo.plotTypes[g];break}for(n||this.plotInfo.plotTypes.push(o={type:t.type,totalDataSeries:0,plotUnits:[]}),g=0;g<o.plotUnits.length;g++)if(o.plotUnits[g].axisYType===t.axisYType&&o.plotUnits[g].axisXType===t.axisXType&&o.plotUnits[g].axisYIndex===t.axisYIndex&&o.plotUnits[g].axisXIndex===t.axisXIndex){p=!0,l=o.plotUnits[g];break}p||o.plotUnits.push(l={type:t.type,previousDataSeriesCount:0,index:o.plotUnits.length,plotType:o,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:"primary"===t.axisYType?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:"primary"===t.axisXType?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]}),o.totalDataSeries++,l.dataSeriesIndexes.push(d),t.plotUnit=l}for(d=0;d<this.plotInfo.plotTypes.length;d++)for(o=this.plotInfo.plotTypes[d],g=t=0;g<o.plotUnits.length;g++)o.plotUnits[g].previousDataSeriesCount=t,t+=o.plotUnits[g].dataSeriesIndexes.length},B.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var d=this.data[t];if(d.dataPoints)for(var o=d.dataPoints.length,n=0;n<o;n++)d.dataPointIds[n]=++this._eventManager.lastObjectId}},B.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var d=this.plotInfo.plotTypes[t],o=0;o<d.plotUnits.length;o++){var n=d.plotUnits[o];"line"===n.type||"stepLine"===n.type||"spline"===n.type||"column"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"bar"===n.type||"bubble"===n.type||"scatter"===n.type?this._processMultiseriesPlotUnit(n):"stackedColumn"===n.type||"stackedBar"===n.type||"stackedArea"===n.type?this._processStackedPlotUnit(n):"stackedColumn100"===n.type||"stackedBar100"===n.type||"stackedArea100"===n.type?this._processStacked100PlotUnit(n):"candlestick"===n.type||"ohlc"===n.type||"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type||"boxAndWhisker"===n.type?this._processMultiYPlotUnit(n):"waterfall"===n.type&&this._processSpecificPlotUnit(n)}this.calculateAutoBreaks()},B.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,g=0;g<t.dataSeriesIndexes.length;g++){var b,M=this.data[t.dataSeriesIndexes[g]],_=0,f=!1,m=!1;if("normal"===M.axisPlacement||"xySwapped"===M.axisPlacement)var v=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,h=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((M.dataPoints[_].x&&M.dataPoints[_].x.getTime||"dateTime"===M.xValueType)&&(p=!0),_=0;_<M.dataPoints.length;_++){if(typeof M.dataPoints[_].x>"u"&&(M.dataPoints[_].x=_+(t.axisX.logarithmic?1:0)),M.dataPoints[_].x.getTime?(p=!0,n=M.dataPoints[_].x.getTime()):n=M.dataPoints[_].x,l=M.dataPoints[_].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),l<d.min&&"number"==typeof l&&(d.min=l),l>d.max&&"number"==typeof l&&(d.max=l),0<_){if(t.axisX.logarithmic){var C=n/M.dataPoints[_-1].x;1>C&&(C=1/C),o.minDiff>C&&1!==C&&(o.minDiff=C)}else 0>(C=n-M.dataPoints[_-1].x)&&(C*=-1),o.minDiff>C&&0!==C&&(o.minDiff=C);null!==l&&null!==M.dataPoints[_-1].y&&(t.axisY.logarithmic?(1>(C=l/M.dataPoints[_-1].y)&&(C=1/C),d.minDiff>C&&1!==C&&(d.minDiff=C)):(0>(C=l-M.dataPoints[_-1].y)&&(C*=-1),d.minDiff>C&&0!==C&&(d.minDiff=C)))}if(n<v&&!f)null!==l&&(b=n);else{if(!f&&(f=!0,0<_)){_-=2;continue}if(n>h&&!m)m=!0;else if(n>h&&m)continue;M.dataPoints[_].label&&(t.axisX.labels[n]=M.dataPoints[_].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),null===l?o.viewPortMin===n&&b<n&&(o.viewPortMin=b):(l<d.viewPortMin&&"number"==typeof l&&(d.viewPortMin=l),l>d.viewPortMax&&"number"==typeof l&&(d.viewPortMax=l))}}M.axisX.valueType=M.xValueType=p?"dateTime":"number"}},B.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,g=[],M=[],_=1/0,f=-1/0,m={},b=0;b<t.dataSeriesIndexes.length;b++){var F,v=this.data[t.dataSeriesIndexes[b]],h=0,C=!1,w=!1;if("normal"===v.axisPlacement||"xySwapped"===v.axisPlacement)var T=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,I=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((v.dataPoints[h].x&&v.dataPoints[h].x.getTime||"dateTime"===v.xValueType)&&(p=!0),h=0;h<v.dataPoints.length;h++){if(typeof v.dataPoints[h].x>"u"&&(v.dataPoints[h].x=h+(t.axisX.logarithmic?1:0)),v.dataPoints[h].x.getTime?(p=!0,n=v.dataPoints[h].x.getTime()):n=v.dataPoints[h].x,l=W(v.dataPoints[h].y)?0:v.dataPoints[h].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),0<h){if(t.axisX.logarithmic){var A=n/v.dataPoints[h-1].x;1>A&&(A=1/A),o.minDiff>A&&1!==A&&(o.minDiff=A)}else 0>(A=n-v.dataPoints[h-1].x)&&(A*=-1),o.minDiff>A&&0!==A&&(o.minDiff=A);null!==l&&null!==v.dataPoints[h-1].y&&(t.axisY.logarithmic?0<l&&(1>(A=l/v.dataPoints[h-1].y)&&(A=1/A),d.minDiff>A&&1!==A&&(d.minDiff=A)):(0>(A=l-v.dataPoints[h-1].y)&&(A*=-1),d.minDiff>A&&0!==A&&(d.minDiff=A)))}if(n<T&&!C)null!==v.dataPoints[h].y&&(F=n);else{if(!C&&(C=!0,0<h)){h-=2;continue}if(n>I&&!w)w=!0;else if(n>I&&w)continue;v.dataPoints[h].label&&(t.axisX.labels[n]=v.dataPoints[h].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),null===v.dataPoints[h].y?o.viewPortMin===n&&F<n&&(o.viewPortMin=F):(m[n]=(m[n]||0)+v.dataPoints[h].y,v.dataPointEOs[h].cumulativeY=m[n],t.yTotals[n]=(t.yTotals[n]?t.yTotals[n]:0)+l,t.yAbsTotals[n]=(t.yAbsTotals[n]?t.yAbsTotals[n]:0)+Math.abs(l),0<=l?g[n]?g[n]+=l:(g[n]=l,_=Math.min(l,_)):M[n]?M[n]+=l:(M[n]=l,f=Math.max(l,f)))}}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(d.dataPointYPositiveSums?(d.dataPointYPositiveSums.push.apply(d.dataPointYPositiveSums,g),d.dataPointYNegativeSums.push.apply(d.dataPointYPositiveSums,M)):(d.dataPointYPositiveSums=g,d.dataPointYNegativeSums=M)),v.axisX.valueType=v.xValueType=p?"dateTime":"number"}for(h in g)g.hasOwnProperty(h)&&!isNaN(h)&&((t=g[h])<d.min&&(d.min=Math.min(t,_)),t>d.max&&(d.max=t),h<o.viewPortMin||h>o.viewPortMax||(t<d.viewPortMin&&(d.viewPortMin=Math.min(t,_)),t>d.viewPortMax&&(d.viewPortMax=t)));for(h in M)M.hasOwnProperty(h)&&!isNaN(h)&&((t=M[h])<d.min&&(d.min=t),t>d.max&&(d.max=Math.max(t,f)),h<o.viewPortMin||h>o.viewPortMax||(t<d.viewPortMin&&(d.viewPortMin=t),t>d.viewPortMax&&(d.viewPortMax=Math.max(t,f))))}},B.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,g=!1,M=!1,_={},f=[],m=0;m<t.dataSeriesIndexes.length;m++){var w,b=this.data[t.dataSeriesIndexes[m]],v=0,h=!1,C=!1;if("normal"===b.axisPlacement||"xySwapped"===b.axisPlacement)var F=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,T=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((b.dataPoints[v].x&&b.dataPoints[v].x.getTime||"dateTime"===b.xValueType)&&(p=!0),v=0;v<b.dataPoints.length;v++){if(typeof b.dataPoints[v].x>"u"&&(b.dataPoints[v].x=v+(t.axisX.logarithmic?1:0)),b.dataPoints[v].x.getTime?(p=!0,n=b.dataPoints[v].x.getTime()):n=b.dataPoints[v].x,l=W(b.dataPoints[v].y)?null:b.dataPoints[v].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),0<v){if(t.axisX.logarithmic){var I=n/b.dataPoints[v-1].x;1>I&&(I=1/I),o.minDiff>I&&1!==I&&(o.minDiff=I)}else 0>(I=n-b.dataPoints[v-1].x)&&(I*=-1),o.minDiff>I&&0!==I&&(o.minDiff=I);W(l)||null===b.dataPoints[v-1].y||(t.axisY.logarithmic?0<l&&(1>(I=l/b.dataPoints[v-1].y)&&(I=1/I),d.minDiff>I&&1!==I&&(d.minDiff=I)):(0>(I=l-b.dataPoints[v-1].y)&&(I*=-1),d.minDiff>I&&0!==I&&(d.minDiff=I)))}if(n<F&&!h)null!==l&&(w=n);else{if(!h&&(h=!0,0<v)){v-=2;continue}if(n>T&&!C)C=!0;else if(n>T&&C)continue;b.dataPoints[v].label&&(t.axisX.labels[n]=b.dataPoints[v].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),null===l?o.viewPortMin===n&&w<n&&(o.viewPortMin=w):(_[n]=(_[n]||0)+b.dataPoints[v].y,b.dataPointEOs[v].cumulativeY=_[n],t.yTotals[n]=(t.yTotals[n]?t.yTotals[n]:0)+l,t.yAbsTotals[n]=(t.yAbsTotals[n]?t.yAbsTotals[n]:0)+Math.abs(l),0<=l?g=!0:0>l&&(M=!0),f[n]=f[n]?f[n]+Math.abs(l):Math.abs(l))}}b.axisX.valueType=b.xValueType=p?"dateTime":"number"}t.axisY.logarithmic?(d.max=W(d.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(d.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),d.min=W(d.viewPortMin)?1:Math.min(d.viewPortMin,1)):g&&!M?(d.max=W(d.viewPortMax)?99:Math.max(d.viewPortMax,99),d.min=W(d.viewPortMin)?1:Math.min(d.viewPortMin,1)):g&&M?(d.max=W(d.viewPortMax)?99:Math.max(d.viewPortMax,99),d.min=W(d.viewPortMin)?-99:Math.min(d.viewPortMin,-99)):!g&&M&&(d.max=W(d.viewPortMax)?-1:Math.max(d.viewPortMax,-1),d.min=W(d.viewPortMin)?-99:Math.min(d.viewPortMin,-99)),d.viewPortMin=d.min,d.viewPortMax=d.max,t.dataPointYSums=f}},B.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n,l,p,g,d=t.axisY.dataInfo,o=t.axisX.dataInfo,M=!1,_=0;_<t.dataSeriesIndexes.length;_++){var h,C,w,f=this.data[t.dataSeriesIndexes[_]],m=0,b=!1,v=!1;if("normal"===f.axisPlacement||"xySwapped"===f.axisPlacement)var F=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,T=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((f.dataPoints[m].x&&f.dataPoints[m].x.getTime||"dateTime"===f.xValueType)&&(M=!0),m=0;m<f.dataPoints.length;m++){if(typeof f.dataPoints[m].x>"u"&&(f.dataPoints[m].x=m+(t.axisX.logarithmic?1:0)),f.dataPoints[m].x.getTime?(M=!0,n=f.dataPoints[m].x.getTime()):n=f.dataPoints[m].x,(l=f.dataPoints[m].y)&&l.length){p=Math.min.apply(null,l),g=Math.max.apply(null,l),C=!0;for(var I=0;I<l.length;I++)null===l.k&&(C=!1);C&&(b||(w=h),h=n)}if(n<o.min&&(o.min=n),n>o.max&&(o.max=n),p<d.min&&(d.min=p),g>d.max&&(d.max=g),0<m&&(t.axisX.logarithmic?(1>(C=n/f.dataPoints[m-1].x)&&(C=1/C),o.minDiff>C&&1!==C&&(o.minDiff=C)):(0>(C=n-f.dataPoints[m-1].x)&&(C*=-1),o.minDiff>C&&0!==C&&(o.minDiff=C)),l&&null!==l[0]&&f.dataPoints[m-1].y&&null!==f.dataPoints[m-1].y[0]&&(t.axisY.logarithmic?(1>(C=l[0]/f.dataPoints[m-1].y[0])&&(C=1/C),d.minDiff>C&&1!==C&&(d.minDiff=C)):(0>(C=l[0]-f.dataPoints[m-1].y[0])&&(C*=-1),d.minDiff>C&&0!==C&&(d.minDiff=C)))),!(n<F)||b){if(!b&&(b=!0,0<m)){m-=2,h=w;continue}if(n>T&&!v)v=!0;else if(n>T&&v)continue;if(f.dataPoints[m].label&&(t.axisX.labels[n]=f.dataPoints[m].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),o.viewPortMin===n&&l)for(I=0;I<l.length;I++)if(null===l[I]&&h<n){o.viewPortMin=h;break}null===l?o.viewPortMin===n&&h<n&&(o.viewPortMin=h):(p<d.viewPortMin&&(d.viewPortMin=p),g>d.viewPortMax&&(d.viewPortMax=g))}}f.axisX.valueType=f.xValueType=M?"dateTime":"number"}},B.prototype._processSpecificPlotUnit=function(t){if("waterfall"===t.type&&t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,g=0;g<t.dataSeriesIndexes.length;g++){var M=this.data[t.dataSeriesIndexes[g]],_=0,f=!1,m=!1,b=n=0;if("normal"===M.axisPlacement||"xySwapped"===M.axisPlacement)var v=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,h=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((M.dataPoints[_].x&&M.dataPoints[_].x.getTime||"dateTime"===M.xValueType)&&(p=!0),_=0;_<M.dataPoints.length;_++)typeof M.dataPoints[_].isCumulativeSum<"u"&&!0===M.dataPoints[_].isCumulativeSum?(M.dataPointEOs[_].cumulativeSumYStartValue=0,M.dataPointEOs[_].cumulativeSum=0===_?0:M.dataPointEOs[_-1].cumulativeSum,M.dataPoints[_].y=0===_?0:M.dataPointEOs[_-1].cumulativeSum):typeof M.dataPoints[_].isIntermediateSum<"u"&&!0===M.dataPoints[_].isIntermediateSum?(M.dataPointEOs[_].cumulativeSumYStartValue=b,M.dataPointEOs[_].cumulativeSum=0===_?0:M.dataPointEOs[_-1].cumulativeSum,M.dataPoints[_].y=0===_?0:n,b=0===_?0:M.dataPointEOs[_-1].cumulativeSum,n=0):(l="number"!=typeof M.dataPoints[_].y?0:M.dataPoints[_].y,M.dataPointEOs[_].cumulativeSumYStartValue=0===_?0:M.dataPointEOs[_-1].cumulativeSum,M.dataPointEOs[_].cumulativeSum=0===_?l:M.dataPointEOs[_-1].cumulativeSum+l,n+=l);for(_=0;_<M.dataPoints.length;_++)if(typeof M.dataPoints[_].x>"u"&&(M.dataPoints[_].x=_+(t.axisX.logarithmic?1:0)),M.dataPoints[_].x.getTime?(p=!0,n=M.dataPoints[_].x.getTime()):n=M.dataPoints[_].x,l=M.dataPoints[_].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),M.dataPointEOs[_].cumulativeSum<d.min&&(d.min=M.dataPointEOs[_].cumulativeSum),M.dataPointEOs[_].cumulativeSum>d.max&&(d.max=M.dataPointEOs[_].cumulativeSum),0<_&&(t.axisX.logarithmic?(1>(b=n/M.dataPoints[_-1].x)&&(b=1/b),o.minDiff>b&&1!==b&&(o.minDiff=b)):(0>(b=n-M.dataPoints[_-1].x)&&(b*=-1),o.minDiff>b&&0!==b&&(o.minDiff=b)),null!==l&&null!==M.dataPoints[_-1].y&&(t.axisY.logarithmic?(1>(l=M.dataPointEOs[_].cumulativeSum/M.dataPointEOs[_-1].cumulativeSum)&&(l=1/l),d.minDiff>l&&1!==l&&(d.minDiff=l)):(0>(l=M.dataPointEOs[_].cumulativeSum-M.dataPointEOs[_-1].cumulativeSum)&&(l*=-1),d.minDiff>l&&0!==l&&(d.minDiff=l)))),!(n<v)||f){if(!f&&(f=!0,0<_)){_-=2;continue}if(n>h&&!m)m=!0;else if(n>h&&m)continue;M.dataPoints[_].label&&(t.axisX.labels[n]=M.dataPoints[_].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),0<_&&(M.dataPointEOs[_-1].cumulativeSum<d.viewPortMin&&(d.viewPortMin=M.dataPointEOs[_-1].cumulativeSum),M.dataPointEOs[_-1].cumulativeSum>d.viewPortMax&&(d.viewPortMax=M.dataPointEOs[_-1].cumulativeSum)),M.dataPointEOs[_].cumulativeSum<d.viewPortMin&&(d.viewPortMin=M.dataPointEOs[_].cumulativeSum),M.dataPointEOs[_].cumulativeSum>d.viewPortMax&&(d.viewPortMax=M.dataPointEOs[_].cumulativeSum)}M.axisX.valueType=M.xValueType=p?"dateTime":"number"}},B.prototype.calculateAutoBreaks=function(){function d(C){if(C.dataSeriesIndexes&&!(1>C.dataSeriesIndexes.length)){var w=C.axisX.scaleBreaks&&C.axisX.scaleBreaks.autoCalculate&&1<=C.axisX.scaleBreaks.maxNumberOfAutoBreaks,F=C.axisY.scaleBreaks&&C.axisY.scaleBreaks.autoCalculate&&1<=C.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(w||F)for(var T,ct,I=(z=C.axisX.dataInfo).min,A=z.max,Y=(et=C.axisY.dataInfo).min,N=et.max,z=z._dataRanges,et=et._dataRanges,Z=0,$=0;$<C.dataSeriesIndexes.length;$++){var Q=l.data[C.dataSeriesIndexes[$]];if(!(4>Q.dataPoints.length))for(Z=0;Z<Q.dataPoints.length;Z++)if(w&&(ct=(A+1-I)*Math.max(parseFloat(C.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(T=Q.dataPoints[Z].x.getTime?Q.dataPoints[Z].x.getTime():Q.dataPoints[Z].x)<z[ct=Math.floor((T-I)/ct)].min&&(z[ct].min=T),T>z[ct].max&&(z[ct].max=T)),F){var U=(N+1-Y)*Math.max(parseFloat(C.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((T="waterfall"===C.type?Q.dataPointEOs[Z].cumulativeSum:Q.dataPoints[Z].y)&&T.length)for(var E=0;E<T.length;E++)ct=Math.floor((T[E]-Y)/U),T[E]<et[ct].min&&(et[ct].min=T[E]),T[E]>et[ct].max&&(et[ct].max=T[E]);else W(T)||(T<et[ct=Math.floor((T-Y)/U)].min&&(et[ct].min=T),T>et[ct].max&&(et[ct].max=T))}}}}function o(C){if(C.dataSeriesIndexes&&!(1>C.dataSeriesIndexes.length)&&C.axisX.scaleBreaks&&C.axisX.scaleBreaks.autoCalculate&&1<=C.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var A,w=C.axisX.dataInfo,F=w.min,T=w.max,I=w._dataRanges,Y=0,N=0;N<C.dataSeriesIndexes.length;N++){var z=l.data[C.dataSeriesIndexes[N]];if(!(4>z.dataPoints.length))for(Y=0;Y<z.dataPoints.length;Y++)A=(T+1-F)*Math.max(parseFloat(C.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(w=z.dataPoints[Y].x.getTime?z.dataPoints[Y].x.getTime():z.dataPoints[Y].x)<I[A=Math.floor((w-F)/A)].min&&(I[A].min=w),w>I[A].max&&(I[A].max=w)}}for(var n,l=this,p=!1,g=0;g<this._axes.length;g++)if(this._axes[g].scaleBreaks&&this._axes[g].scaleBreaks.autoCalculate&&1<=this._axes[g].scaleBreaks.maxNumberOfAutoBreaks){p=!0,this._axes[g].dataInfo._dataRanges=[];for(var M=0;M<100/Math.max(parseFloat(this._axes[g].scaleBreaks.collapsibleThreshold)||10,10);M++)this._axes[g].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(p){for(g=0;g<this.plotInfo.plotTypes.length;g++)for(p=this.plotInfo.plotTypes[g],M=0;M<p.plotUnits.length;M++)"line"===(n=p.plotUnits[M]).type||"stepLine"===n.type||"spline"===n.type||"column"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"bar"===n.type||"bubble"===n.type||"scatter"===n.type||"candlestick"===n.type||"ohlc"===n.type||"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"waterfall"===n.type||"error"===n.type||"boxAndWhisker"===n.type?d(n):0<=n.type.indexOf("stacked")&&o(n);for(g=0;g<this._axes.length;g++)if(this._axes[g].dataInfo._dataRanges){var _=this._axes[g].dataInfo.min;n=(this._axes[g].dataInfo.max+1-_)*Math.max(parseFloat(this._axes[g].scaleBreaks.collapsibleThreshold)||10,10)/100;var m,b,f=this._axes[g].dataInfo._dataRanges;if(p=[],this._axes[g].dataInfo.dataPointYPositiveSums){var v=this._axes[g].dataInfo.dataPointYPositiveSums;for(M in m=f,v)if(v.hasOwnProperty(M)&&!isNaN(M)&&!W(b=v[M])){var h=Math.floor((b-_)/n);b<m[h].min&&(m[h].min=b),b>m[h].max&&(m[h].max=b)}delete this._axes[g].dataInfo.dataPointYPositiveSums}if(this._axes[g].dataInfo.dataPointYNegativeSums){for(M in m=f,v=this._axes[g].dataInfo.dataPointYNegativeSums)v.hasOwnProperty(M)&&!isNaN(M)&&(W(b=-1*v[M])||(b<m[h=Math.floor((b-_)/n)].min&&(m[h].min=b),b>m[h].max&&(m[h].max=b)));delete this._axes[g].dataInfo.dataPointYNegativeSums}for(M=0;M<f.length-1;M++)if(m=f[M].max,isFinite(m))for(;M<f.length-1;){if(_=f[M+1].min,isFinite(_)){(b=_-m)>n&&p.push({diff:b,start:m,end:_});break}M++}if(this._axes[g].scaleBreaks.customBreaks)for(M=0;M<this._axes[g].scaleBreaks.customBreaks.length;M++)for(n=0;n<p.length;n++)(this._axes[g].scaleBreaks.customBreaks[M].startValue<=p[n].start&&p[n].start<=this._axes[g].scaleBreaks.customBreaks[M].endValue||this._axes[g].scaleBreaks.customBreaks[M].startValue<=p[n].start&&p[n].start<=this._axes[g].scaleBreaks.customBreaks[M].endValue||p[n].start<=this._axes[g].scaleBreaks.customBreaks[M].startValue&&this._axes[g].scaleBreaks.customBreaks[M].startValue<=p[n].end||p[n].start<=this._axes[g].scaleBreaks.customBreaks[M].endValue&&this._axes[g].scaleBreaks.customBreaks[M].endValue<=p[n].end)&&(p.splice(n,1),n--);for(p.sort(function(w,F){return F.diff-w.diff}),M=0;M<Math.min(p.length,this._axes[g].scaleBreaks.maxNumberOfAutoBreaks);M++)C=p[M].start,w=p[M].end,F=this._axes[g].logarithmic?this._axes[g].dataInfo.max/this._axes[g].dataInfo.min:this._axes[g].dataInfo.max-this._axes[g].dataInfo.min,n=this._axes[g].logarithmic?(1>=(F=Math.pow(Math.min(F*C/w,w/C),.2))&&(F=Math.pow(1>C?1/C:Math.min(w/C,C),.25)),{startValue:C*F,endValue:w/F}):(0>=(F=.2*Math.min(F-w+C,w-C))&&(F=.25*Math.min(w-C,Math.abs(C))),{startValue:C+F,endValue:w-F}),this._axes[g].scaleBreaks.autoBreaks.push(new Ot(this,"autoBreaks",n,M,++this._eventManager.lastObjectId,this._axes[g].scaleBreaks)),this._axes[g].scaleBreaks._appliedBreaks.push(this._axes[g].scaleBreaks.autoBreaks[this._axes[g].scaleBreaks.autoBreaks.length-1]);this._axes[g].scaleBreaks._appliedBreaks.sort(function(w,F){return w.startValue-F.startValue})}}var C,w,F},B.prototype.renderCrosshairs=function(t){for(var d=0;d<this.axisX.length;d++)this.axisX[d]!=t&&this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&!this.axisX[d].crosshair._hidden&&this.axisX[d].showCrosshair(this.axisX[d].crosshair._updatedValue);for(d=0;d<this.axisX2.length;d++)this.axisX2[d]!=t&&this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&!this.axisX2[d].crosshair._hidden&&this.axisX2[d].showCrosshair(this.axisX2[d].crosshair._updatedValue);for(d=0;d<this.axisY.length;d++)this.axisY[d]!=t&&this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&!this.axisY[d].crosshair._hidden&&this.axisY[d].showCrosshair(this.axisY[d].crosshair._updatedValue);for(d=0;d<this.axisY2.length;d++)this.axisY2[d]!=t&&this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&!this.axisY2[d].crosshair._hidden&&this.axisY2[d].showCrosshair(this.axisY2[d].crosshair._updatedValue)},B.prototype.getDataPointAtXY=function(t,d,o){o=o||!1;for(var n=[],l=this._dataInRenderedOrder.length-1;0<=l;l--){var p;(p=this._dataInRenderedOrder[l].getDataPointAtXY(t,d,o))&&n.push(p)}for(t=null,d=!1,o=0;o<n.length;o++)if(("line"===n[o].dataSeries.type||"stepLine"===n[o].dataSeries.type||"area"===n[o].dataSeries.type||"stepArea"===n[o].dataSeries.type)&&(l=ie("markerSize",n[o].dataPoint,n[o].dataSeries)||8,n[o].distance<=l/2)){d=!0;break}for(o=0;o<n.length;o++)d&&"line"!==n[o].dataSeries.type&&"stepLine"!==n[o].dataSeries.type&&"area"!==n[o].dataSeries.type&&"stepArea"!==n[o].dataSeries.type||(t?n[o].distance<=t.distance&&(t=n[o]):t=n[o]);return t},B.prototype.getObjectAtXY=function(t,d,o){var n=null;if(o=this.getDataPointAtXY(t,d,o||!1))n=o.dataSeries.dataPointIds[o.dataPointIndex];else if(H)n=Ne(t,d,this._eventManager.ghostCtx);else for(o=0;o<this.legend.items.length;o++){var l=this.legend.items[o];t>=l.x1&&t<=l.x2&&d>=l.y1&&d<=l.y2&&(n=l.id)}return n},B.prototype.getAutoFontSize=Zs,B.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},B.prototype.clearCanvas=ii,B.prototype.attachEvent=function(t){this._events.push(t)},B.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var d=[],o=t.changedTouches,n=o?o[0]:t,l=null;switch(t.type){case"touchstart":case"MSPointerDown":d=["mousemove","mousedown"],this._lastTouchData=Ei(n),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":d=["mousemove"];break;case"touchend":case"MSPointerUp":var p=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;d="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>p?["mouseup","click"]:["mouseup"];break;default:return}if(!(o&&1<o.length)){(l=Ei(n)).time=new Date;try{var g=l.y-this._lastTouchData.y;p=l.time-this._lastTouchData.time,(1<Math.abs(g)&&this._lastTouchData.scroll||5<Math.abs(g)&&250>p)&&(this._lastTouchData.scroll=!0)}catch{}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(o=0;o<d.length;o++)l=d[o],(g=document.createEvent("MouseEvent")).initMouseEvent(l,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(g),(!W(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<p||"click"===l)&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.cancelable&&t.preventDefault())}}},B.prototype._dispatchRangeEvent=function(t,d){var o={chart:this};o.type=t,o.trigger=d;var n=[];this.axisX&&0<this.axisX.length&&n.push("axisX"),this.axisX2&&0<this.axisX2.length&&n.push("axisX2"),this.axisY&&0<this.axisY.length&&n.push("axisY"),this.axisY2&&0<this.axisY2.length&&n.push("axisY2");for(var l=0;l<n.length;l++)if(W(o[n[l]])&&(o[n[l]]=[]),"axisY"===n[l])for(var p=0;p<this.axisY.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});else if("axisY2"===n[l])for(p=0;p<this.axisY2.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});else if("axisX"===n[l])for(p=0;p<this.axisX.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});else if("axisX2"===n[l])for(p=0;p<this.axisX2.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});this.dispatchEvent(t,o,this)},B.prototype._mouseEventHandler=function(t){function d(){B.capturedEventParam&&(g=(l=B.capturedEventParam).bounds,"mouseup"===n&&(B.capturedEventParam=null,l.chart.overlaidCanvas.releaseCapture?l.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",l.chart._mouseEventHandler,!1)),l.hasOwnProperty(n)&&("mouseup"!==n||l.chart.overlaidCanvas.releaseCapture?t.target!==l.chart.overlaidCanvas&&H||l[n].call(l.context,o.x,o.y):t.target!==l.chart.overlaidCanvas&&(l.chart.isDrag=!1)))}typeof t.target>"u"&&t.srcElement&&(t.target=t.srcElement);var l,p,o=Ei(t),n=t.type;if(t.which?p=3==t.which:t.button&&(p=2==t.button),this._ignoreNextEvent)d(),this._ignoreNextEvent=!1;else if(d(),this.interactivityEnabled){var g;if(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),Li&&window.console&&(window.console.log(n+" --\x3e x: "+o.x+"; y:"+o.y),p&&window.console.log(t.which),"mouseup"===n&&window.console.log("mouseup")),!p){if(!B.capturedEventParam&&this._events){for(p=0;p<this._events.length;p++)if(this._events[p].hasOwnProperty(n)){if(o.x>=(g=(l=this._events[p]).bounds).x1&&o.x<=g.x2&&o.y>=g.y1&&o.y<=g.y2){l[n].call(l.context,o.x,o.y),"mousedown"===n&&!0===l.capture?(B.capturedEventParam=l,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===n&&(l.chart.overlaidCanvas.releaseCapture?l.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}l=null}t.target.style.cursor=l&&l.cursor?l.cursor:this._defaultCursor}if(o.x<(p=this.plotArea).x1||o.x>p.x2||o.y<p.y1||o.y>p.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),p=0;p<this.axisX.length;p++)this.axisX[p].crosshair&&this.axisX[p].crosshair.enabled&&(this.axisX[p].crosshair.hide(),this.axisX[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[p].options},this.axisX[p].crosshair));for(p=0;p<this.axisX2.length;p++)this.axisX2[p].crosshair&&this.axisX2[p].crosshair.enabled&&(this.axisX2[p].crosshair.hide(),this.axisX2[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[p].options},this.axisX2[p].crosshair));for(p=0;p<this.axisY.length;p++)this.axisY[p].crosshair&&this.axisY[p].crosshair.enabled&&(this.axisY[p].crosshair.hide(),this.axisY[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[p].options},this.axisY[p].crosshair));for(p=0;p<this.axisY2.length;p++)this.axisY2[p].crosshair&&this.axisY2[p].crosshair.enabled&&(this.axisY2[p].crosshair.hide(),this.axisY2[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[p].options},this.axisY2[p].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}}},B.prototype._plotAreaMouseDown=function(t,d){this.isDrag=!0,this.dragStartPoint={x:t,y:d}},B.prototype._plotAreaMouseUp=function(t,d){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var o=d-this.dragStartPoint.y,n=t-this.dragStartPoint.x,M=0<=this.zoomType.indexOf("x"),g=0<=this.zoomType.indexOf("y"),l=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var p=g;g=M,M=p}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(M=g=0;M<this._axes.length;M++)(o=this._axes[M]).logarithmic?o.viewportMinimum<o.minimum?(o.sessionVariables.newViewportMinimum=o.viewportMinimum*(g=o.minimum/o.viewportMinimum),o.sessionVariables.newViewportMaximum=o.viewportMaximum*g,l=!0):o.viewportMaximum>o.maximum&&(o.sessionVariables.newViewportMinimum=o.viewportMinimum/(g=o.viewportMaximum/o.maximum),o.sessionVariables.newViewportMaximum=o.viewportMaximum/g,l=!0):o.viewportMinimum<o.minimum?(o.sessionVariables.newViewportMinimum=o.viewportMinimum+(g=o.minimum-o.viewportMinimum),o.sessionVariables.newViewportMaximum=o.viewportMaximum+g,l=!0):o.viewportMaximum>o.maximum&&(o.sessionVariables.newViewportMinimum=o.viewportMinimum-(g=o.viewportMaximum-o.maximum),o.sessionVariables.newViewportMaximum=o.viewportMaximum-g,l=!0);else if((!M||2<Math.abs(n))&&(!g||2<Math.abs(o))&&this.zoomEnabled){if(!this.dragStartPoint)return;o=M?this.dragStartPoint.x:this.plotArea.x1,n=g?this.dragStartPoint.y:this.plotArea.y1,M=M?t:this.plotArea.x2,g=g?d:this.plotArea.y2,2<Math.abs(o-M)&&2<Math.abs(n-g)&&this._zoomPanToSelectedRegion(o,n,M,g)&&(l=!0)}l&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&(this.stockChart.rangeUpdatedBy="chart",this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart))),l&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(ke(this._zoomButton,this._resetButton),ze(this,this._zoomButton,"pan"),ze(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].renderCrosshair(t,d);if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].renderCrosshair(t,d);if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].renderCrosshair(t,d);if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].renderCrosshair(t,d);if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].crosshair.renderLabel()}},B.prototype._plotAreaMouseMove=function(t,d){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var o=0,n=0,l=o=null,p=(l=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),g=this;if("xySwapped"===this.plotInfo.axisPlacement&&(o=p,p=l,l=o),o=this.dragStartPoint.x-t,n=this.dragStartPoint.y-d,2<Math.abs(o)&&8>Math.abs(o)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var M=0;M<this.axisX.length;M++)this.axisX[M].crosshair&&this.axisX[M].crosshair.enabled&&(this.axisX[M].crosshair.hide(),this.axisX[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[M].options},this.axisX[M].crosshair));for(M=0;M<this.axisX2.length;M++)this.axisX2[M].crosshair&&this.axisX2[M].crosshair.enabled&&(this.axisX2[M].crosshair.hide(),this.axisX2[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[M].options},this.axisX2[M].crosshair));for(M=0;M<this.axisY.length;M++)this.axisY[M].crosshair&&this.axisY[M].crosshair.enabled&&(this.axisY[M].crosshair.hide(),this.axisY[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[M].options},this.axisY[M].crosshair));for(M=0;M<this.axisY2.length;M++)this.axisY2[M].crosshair&&this.axisY2[M].crosshair.enabled&&(this.axisY2[M].crosshair.hide(),this.axisY2[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[M].options},this.axisY2[M].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,d);if((!l||2<Math.abs(o)||!p||2<Math.abs(n))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)l={x1:l?this.plotArea.x1+o:this.plotArea.x1,y1:p?this.plotArea.y1+n:this.plotArea.y1,x2:l?this.plotArea.x2+o:this.plotArea.x2,y2:p?this.plotArea.y2+n:this.plotArea.y2},clearTimeout(g._panTimerId),g._panTimerId=setTimeout(function(m,b,v,h){return function(){g._zoomPanToSelectedRegion(m,b,v,h,!0)&&(g._dispatchRangeEvent("rangeChanging","pan"),g.stockChart&&g.stockChart.navigator&&g.stockChart.navigator.enabled&&(g.stockChart._rangeEventParameter.type="rangeChanging",g.stockChart.dispatchEvent("rangeChanging",g.stockChart._rangeEventParameter,g.stockChart)),g.render(),g._dispatchRangeEvent("rangeChanged","pan"),g.stockChart&&g.stockChart.navigator&&g.stockChart.navigator.enabled&&(g.stockChart._rangeEventParameter.type="rangeChanged",g.stockChart.dispatchEvent("rangeChanged",g.stockChart._rangeEventParameter,g.stockChart)),g.dragStartPoint.x=t,g.dragStartPoint.y=d)}}(l.x1,l.y1,l.x2,l.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),o=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var _=l?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,f=p?d-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(n=l?this.dragStartPoint.x:this.plotArea.x1,M=p?this.dragStartPoint.y:this.plotArea.y1,l?t:this.plotArea.x2-this.plotArea.x1,p?d:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(n,M,_,f),this.overlaidCanvasCtx.globalAlpha=o}}else if(this.toolTip.mouseMoveHandler(t,d),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].renderCrosshair(t,d);if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].renderCrosshair(t,d);if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].renderCrosshair(t,d);if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].renderCrosshair(t,d);if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].crosshair.renderLabel()}},B.prototype._zoomPanToSelectedRegion=function(t,d,o,n,l){if(d=(t=this.validateRegion(t,d,o,n,l)).axesWithValidRange,o=t.axesRanges,t.isValid)for(n=0;n<d.length;n++)d[n].setViewPortRange((l=o[n]).val1,l.val2),this.syncCharts&&"y"!=this.zoomType&&this.syncCharts(l.val1,l.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:l.val1,maximum:l.val2});return t.isValid},B.prototype.validateRegion=function(t,d,o,n,l){l=l||!1;for(var p=0<=this.zoomType.indexOf("x"),g=0<=this.zoomType.indexOf("y"),M=!1,_=[],f=[],m=[],b=0;b<this._axes.length;b++)("axisX"===this._axes[b].type&&p||"axisY"===this._axes[b].type&&g)&&f.push(this._axes[b]);for(g=0;g<f.length;g++){if(p=!1,(C=(b=f[g]).convertPixelToValue({x:t,y:d}))>(h=b.convertPixelToValue({x:o,y:n})))var v=h,h=C,C=v;if(b.scaleBreaks)for(v=0;!p&&v<b.scaleBreaks._appliedBreaks.length;v++)p=b.scaleBreaks._appliedBreaks[v].startValue<=C&&b.scaleBreaks._appliedBreaks[v].endValue>=h;if(isFinite(b.dataInfo.minDiff))if(v=b.getApparentDifference(C,h,null,!0),p||!(this.panEnabled&&b.scaleBreaks&&b.scaleBreaks._appliedBreaks.length)&&(b.logarithmic&&v<Math.pow(b.dataInfo.minDiff,3)||!b.logarithmic&&v<3*Math.abs(b.dataInfo.minDiff))||C<b.minimum||h>b.maximum){if(!l){M=!1;break}}else _.push(b),m.push({val1:C,val2:h}),M=!0}return{isValid:M,axesWithValidRange:_,axesRanges:m}},B.prototype.preparePlotArea=function(){var t=this.plotArea;if(!H&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var d=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var o=this.axisY[0];t.x1=d.x1<d.x2?d.x1:o.lineCoordinates.x1,t.y1=d.y1<o.lineCoordinates.y1?d.y1:o.lineCoordinates.y1,t.x2=d.x2>o.lineCoordinates.x2?d.x2:o.lineCoordinates.x2,t.y2=d.y1>o.lineCoordinates.y2?d.y1:o.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(o=this.axisY2[0],t.x1=d.x1<d.x2?d.x1:o.lineCoordinates.x1,t.y1=d.y1<o.lineCoordinates.y1?d.y1:o.lineCoordinates.y1,t.x2=d.x2>o.lineCoordinates.x2?d.x2:o.lineCoordinates.x2,t.y2=d.y2>o.lineCoordinates.y2?d.y2:o.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1)}else d=this.layoutManager.getFreeSpace(),t.x1=d.x1,t.x2=d.x2,t.y1=d.y1,t.y2=d.y2,t.width=d.width,t.height=d.height;H||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new Bi(t.x1,t.y1,t.x2,t.y2,2)},B.prototype.renderIndexLabels=function(t){var d=t||this.plotArea.ctx,o=this.plotArea,n=0,l=0,p=0,g=l=p=0,M=0,_=n=0,f=0;for(t=0;t<this._indexLabels.length;t++){var v,h,m=this._indexLabels[t],b=m.chartType.toLowerCase(),C=(M=ie("indexLabelFontColor",m.dataPoint,m.dataSeries),ie("indexLabelFontSize",m.dataPoint,m.dataSeries));_=ie("indexLabelFontFamily",m.dataPoint,m.dataSeries),f=ie("indexLabelFontStyle",m.dataPoint,m.dataSeries),v=ie("indexLabelFontWeight",m.dataPoint,m.dataSeries);var w=ie("indexLabelBackgroundColor",m.dataPoint,m.dataSeries);h=ie("indexLabelBorderColor",m.dataPoint,m.dataSeries),p=ie("indexLabelBorderThickness",m.dataPoint,m.dataSeries),l=ie("indexLabelMaxWidth",m.dataPoint,m.dataSeries),g=ie("indexLabelWrap",m.dataPoint,m.dataSeries);var F=ie("indexLabelLineDashType",m.dataPoint,m.dataSeries),T=ie("indexLabelLineColor",m.dataPoint,m.dataSeries),I=W(m.dataPoint.indexLabelLineThickness)?W(m.dataSeries.options.indexLabelLineThickness)?0:m.dataSeries.options.indexLabelLineThickness:m.dataPoint.indexLabelLineThickness,A=(n=0<I?Math.min(10,0|("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)):0,{percent:null,total:null}),Y=null;(0<=m.dataSeries.type.indexOf("stacked")||"pie"===m.dataSeries.type||"doughnut"===m.dataSeries.type)&&(A=this.getPercentAndTotal(m.dataSeries,m.dataPoint)),(m.dataSeries.indexLabelFormatter||m.dataPoint.indexLabelFormatter)&&(Y={chart:this,dataSeries:m.dataSeries,dataPoint:m.dataPoint,index:m.indexKeyword,total:A.total,percent:A.percent});var N=m.dataPoint.indexLabelFormatter?m.dataPoint.indexLabelFormatter(Y):m.dataPoint.indexLabel?this.replaceKeywordsWithValue(m.dataPoint.indexLabel,m.dataPoint,m.dataSeries,null,m.indexKeyword):m.dataSeries.indexLabelFormatter?m.dataSeries.indexLabelFormatter(Y):m.dataSeries.indexLabel?this.replaceKeywordsWithValue(m.dataSeries.indexLabel,m.dataPoint,m.dataSeries,null,m.indexKeyword):null;if(null!==N&&""!==N){A=ie("indexLabelPlacement",m.dataPoint,m.dataSeries),Y=ie("indexLabelOrientation",m.dataPoint,m.dataSeries);var z=ie("indexLabelTextAlign",m.dataPoint,m.dataSeries),et=m.direction,ct=m.dataSeries.axisX,Z=m.dataSeries.axisY,$=!1;if((w=new se(d,{x:0,y:0,maxWidth:l||.5*this.width,maxHeight:g?5*C:1.5*C,angle:"horizontal"===Y?0:-90,text:N,padding:0,backgroundColor:w,borderColor:h,borderThickness:p,textAlign:z,fontSize:C,fontFamily:_,fontWeight:v,fontColor:M,fontStyle:f,textBaseline:"middle"})).measureText(),m.dataSeries.indexLabelMaxWidth=w.maxWidth,"stackedarea100"===b){if(m.point.x<o.x1||m.point.x>o.x2||m.point.y<o.y1-1||m.point.y>o.y2+1)continue}else if("rangearea"===b||"rangesplinearea"===b){if(m.dataPoint.x<ct.viewportMinimum||m.dataPoint.x>ct.viewportMaximum||Math.max.apply(null,m.dataPoint.y)<Z.viewportMinimum||Math.min.apply(null,m.dataPoint.y)>Z.viewportMaximum)continue}else if(0<=b.indexOf("line")||0<=b.indexOf("area")||0<=b.indexOf("bubble")||0<=b.indexOf("scatter")){if(m.dataPoint.x<ct.viewportMinimum||m.dataPoint.x>ct.viewportMaximum||m.dataPoint.y<Z.viewportMinimum||m.dataPoint.y>Z.viewportMaximum)continue}else if(0<=b.indexOf("column")||"waterfall"===b||"error"===b&&!m.axisSwapped){if(m.dataPoint.x<ct.viewportMinimum||m.dataPoint.x>ct.viewportMaximum||(0<m.dataPoint.y.length?Math.max.apply(null,m.dataPoint.y):m.dataPoint.y)<Z.viewportMinimum||(0<m.dataPoint.y.length?Math.max.apply(null,m.dataPoint.y):m.dataPoint.y)>Z.viewportMaximum)continue}else if(0<=b.indexOf("bar")||"error"===b){if(m.dataPoint.x<ct.viewportMinimum||m.dataPoint.x>ct.viewportMaximum||m.bounds.x1>o.x2||m.bounds.x2<o.x1)continue}else if("candlestick"===b||"ohlc"===b){if(m.dataPoint.x<ct.viewportMinimum||m.dataPoint.x>ct.viewportMaximum||Math.max.apply(null,m.dataPoint.y)<Z.viewportMinimum||Math.min.apply(null,m.dataPoint.y)>Z.viewportMaximum)continue}else if(m.dataPoint.x<ct.viewportMinimum||m.dataPoint.x>ct.viewportMaximum)continue;g=M=2,"horizontal"===Y?(_=w.width,f=w.height):(f=w.width,_=w.height),"normal"===this.plotInfo.axisPlacement?(0<=b.indexOf("line")||0<=b.indexOf("area")?(A="auto",M=4):0<=b.indexOf("stacked")?"auto"===A&&(A="inside"):("bubble"===b||"scatter"===b)&&(A="inside"),v=m.point.x-_/2+("horizontal"===Y?0:w._lineHeight/2),"inside"!==A?(l=o.y1,p=o.y2,0<et?(h=m.point.y+w._lineHeight/2-f-M-n)<l&&(!($=(h="auto"===A?Math.max(m.point.y,l)+w._lineHeight/2+M+n:l+w._lineHeight/2+M+n)+("horizontal"===Y?f-w._lineHeight/2:0)>m.point.y)||0<=b.indexOf("line")||0<=b.indexOf("area")||(h-=n)):(h=m.point.y+w._lineHeight/2+M+n)>p-f+w._lineHeight/2-M&&(!($=(h="auto"===A?Math.min(m.point.y,p)+w._lineHeight/2-f-M-n:p+w._lineHeight/2-f-M-n)-("horizontal"===Y?w._lineHeight/2:f)<m.point.y)||0<=b.indexOf("line")||0<=b.indexOf("area")||(h+=n))):(Math.max(m.bounds.y1,o.y1),p=Math.min(m.bounds.y2,o.y2)-f+w._lineHeight/2,n=0<=b.indexOf("range")||"error"===b?0<et?Math.max(m.bounds.y1,o.y1)+w._lineHeight/2+M:Math.min(m.bounds.y2,o.y2)+w._lineHeight/2-f-M:(Math.max(m.bounds.y1,o.y1)+Math.min(m.bounds.y2,o.y2))/2-f/2+w._lineHeight/2,0<et?(h=n,("bubble"===b||"scatter"===b)&&(h=m.point.y-f/2+w._lineHeight/2,f>m.bounds.y2-m.bounds.y1&&(h-=f/2+M),0>h-w._lineHeight/2&&(h+=Math.abs(h-w._lineHeight/2)<=(m.bounds.y2-m.bounds.y1)/2+M?Math.abs(h-w._lineHeight/2):(m.bounds.y2-m.bounds.y1)/2+M))):(h=Math.min(m.point.y,n))>p-f-M&&("bubble"===b||"scatter"===b)&&(h=Math.min(m.point.y+M,o.y2-f-M)),h=Math.min(h,p))):(0<=b.indexOf("line")||0<=b.indexOf("area")||0<=b.indexOf("scatter")?(A="auto",g=4):0<=b.indexOf("stacked")?"auto"===A&&(A="inside"):"bubble"===b&&(A="inside"),h=m.point.y+w._lineHeight/2-f/2,"inside"!==A?(p=o.x1,l=o.x2,0>et?(v=m.point.x-_+("horizontal"===Y?0:w._lineHeight/2)-g-n,("horizontal"===Y?v:v-w._lineHeight/2)<p&&($=(v="auto"===A?Math.max(m.point.x,p)+("horizontal"===Y?0:w._lineHeight/2)+M+n:p+("horizontal"===Y?0:w._lineHeight/2)+g)+_-("horizontal"===Y?0:w._lineHeight/2)>m.point.x)&&(v-=n)):(v=m.point.x+("horizontal"===Y?0:w._lineHeight/2)+g+n,("horizontal"===Y?v:v-w._lineHeight/2)>l-_-g-n&&($=(v="auto"===A?Math.min(m.point.x,l)-("horizontal"===Y?_:_-w._lineHeight/2)-g-n:l-_-g+("horizontal"===Y?0:w._lineHeight/2))-("horizontal"===Y?0:w._lineHeight/2)<m.point.x)&&(v+=n))):(p=Math.max(m.bounds.x1,o.x1),Math.min(m.bounds.x2,o.x2),n=0<=b.indexOf("range")||"error"===b?0>et?Math.max(m.bounds.x1,o.x1):Math.min(m.bounds.x2,o.x2)-_-g+("horizontal"===Y?0:w._lineHeight/2):(Math.max(m.bounds.x1,o.x1)+Math.min(m.bounds.x2,o.x2))/2-_/2+("horizontal"===Y?0:w._lineHeight/2),v=0>et?n:Math.min(m.point.x,n),v=Math.max(v,p+("horizontal"===Y?0:w._lineHeight/2+M)))),"vertical"===Y&&(h+=f-w._lineHeight/2,0<="ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(b)&&($=0<et?h+("horizontal"===Y?f-w._lineHeight/2:0)>m.point.y:h-("horizontal"===Y?w._lineHeight/2:f)<m.point.y),"bubble"===b||"scatter"===b)&&(v+=w._lineHeight/2-C/2),w.x=v,w.y=h,w.render(!0),I&&"inside"!==A&&(0>b.indexOf("bar")&&("error"!==b||!m.axisSwapped)&&m.point.x>o.x1&&m.point.x<o.x2||!$)&&(-1==="ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(b)&&("error"!==b||m.axisSwapped)&&m.point.y>o.y1&&m.point.y<o.y2||!$)&&(d.lineWidth=I,d.strokeStyle=T||"gray",d.setLineDash&&d.setLineDash(mt(F,I)),d.beginPath(),d.moveTo(m.point.x,m.point.y),0<=b.indexOf("bar")||"error"===b&&m.axisSwapped?d.lineTo(v+(0<m.direction?0:_)+("vertical"===Y?-w._lineHeight/2:0),h+("vertical"===Y?-f/2:f/2-w._lineHeight/2)):0<=b.indexOf("column")||"error"===b&&!m.axisSwapped?d.lineTo(v+_/2-("horizontal"===Y?0:w._lineHeight/2),h+("vertical"===Y?h-f<m.point.y?0:-f:(h-w._lineHeight/2<m.point.y?f:0)-w._lineHeight/2)):0<=b.indexOf("waterfall")?d.lineTo(v+_/2-("horizontal"===Y?0:w._lineHeight/2),"vertical"===Y?0<et&&h<m.point.y?h:0>et&&h-f>m.point.y?h-f:m.point.y:0<et&&h+f-w._lineHeight/2<m.point.y?h+f-w._lineHeight/2:0>et&&h-w._lineHeight/2>m.point.y?h-w._lineHeight/2:m.point.y):d.lineTo(v+_/2-("horizontal"===Y?0:w._lineHeight/2),h+("vertical"===Y?h-f<m.point.y?0:-f:(h+f-w._lineHeight/2<m.point.y?f:0)-w._lineHeight/2)),d.stroke())}}for(d={source:d,dest:this.plotArea.ctx,animationCallback:At.fadeInAnimation,easingFunction:At.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)w=ie("indexLabelBackgroundColor",(m=this._indexLabels[t]).dataPoint,m.dataSeries),m.dataSeries.indexLabelBackgroundColor=W(w)?H?"transparent":null:w;return d},B.prototype.renderLine=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;o.save();var l=this.plotArea;o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip();for(var g,p=[],M=0;M<t.dataSeriesIndexes.length;M++){var _=t.dataSeriesIndexes[M],f=this.data[_];o.lineWidth=f.lineThickness;var m=f.dataPoints,b="solid";if(o.setLineDash){var v=mt(f.nullDataLineDashType,f.lineThickness),h=mt(b=f.lineDashType,f.lineThickness);o.setLineDash(h)}this._eventManager.objectMap[C=f.id]={objectType:"dataSeries",dataSeriesIndex:_},C=Rt(C),n.strokeStyle=C,n.lineWidth=0<f.lineThickness?Math.max(f.lineThickness,4):0;var C=f._colorSet,w=C=f.lineColor=f.options.lineColor?f.options.lineColor:C[0];o.strokeStyle=C;var I,A,F=!0,T=0;if(o.beginPath(),0<m.length){var Y=!1;for(T=0;T<m.length;T++)if(!((I=m[T].x.getTime?m[T].x.getTime():m[T].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!Y)))if("number"!=typeof m[T].y)0<T&&!(f.connectNullData||Y||F)&&(o.stroke(),H&&n.stroke()),Y=!0;else{I=t.axisX.convertValueToPixel(I),A=t.axisY.convertValueToPixel(m[T].y);var N=f.dataPointIds[T];if(this._eventManager.objectMap[N]={id:N,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:T,x1:I,y1:A},F||Y?(!F&&f.connectNullData?(o.setLineDash&&(f.options.nullDataLineDashType||b===f.lineDashType&&f.lineDashType!==f.nullDataLineDashType)&&(o.stroke(),o.beginPath(),o.moveTo(g.x,g.y),b=f.nullDataLineDashType,o.setLineDash(v)),o.lineTo(I,A),H&&n.lineTo(I,A)):(o.beginPath(),o.moveTo(I,A),H&&(n.beginPath(),n.moveTo(I,A))),Y=F=!1):(o.lineTo(I,A),H&&n.lineTo(I,A),T%500==0&&(o.stroke(),o.beginPath(),o.moveTo(I,A),H&&(n.stroke(),n.beginPath(),n.moveTo(I,A)))),g={x:I,y:A},T<m.length-1&&(w!==(m[T].lineColor||C)||b!==(m[T].lineDashType||f.lineDashType))&&(o.stroke(),o.beginPath(),o.moveTo(I,A),o.strokeStyle=w=m[T].lineColor||C,o.setLineDash&&(m[T].lineDashType?o.setLineDash(mt(b=m[T].lineDashType,f.lineThickness)):(b=f.lineDashType,o.setLineDash(h)))),0!==m[T].markerSize&&(0<m[T].markerSize||0<f.markerSize)){var z=f.getMarkerProperties(T,I,A,o);p.push(z),N=Rt(N),H&&p.push({x:I,y:A,ctx:n,type:z.type,size:z.size,color:N,borderColor:N,borderThickness:z.borderThickness})}(m[T].indexLabel||f.indexLabel||m[T].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:m[T],dataSeries:f,point:{x:I,y:A},direction:0>m[T].y===t.axisY.reversed?1:-1,color:C})}o.stroke(),H&&n.stroke()}}return me.drawMarkers(p),H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.beginPath()),o.restore(),o.beginPath(),{source:d,dest:this.plotArea.ctx,animationCallback:At.xClipAnimation,easingFunction:At.easing.linear,animationBase:0}}},B.prototype.renderStepLine=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;o.save();var l=this.plotArea;o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip();for(var g,p=[],M=0;M<t.dataSeriesIndexes.length;M++){var _=t.dataSeriesIndexes[M],f=this.data[_];o.lineWidth=f.lineThickness;var m=f.dataPoints,b="solid";if(o.setLineDash){var v=mt(f.nullDataLineDashType,f.lineThickness),h=mt(b=f.lineDashType,f.lineThickness);o.setLineDash(h)}this._eventManager.objectMap[C=f.id]={objectType:"dataSeries",dataSeriesIndex:_},C=Rt(C),n.strokeStyle=C,n.lineWidth=0<f.lineThickness?Math.max(f.lineThickness,4):0;var C=f._colorSet,w=C=f.lineColor=f.options.lineColor?f.options.lineColor:C[0];o.strokeStyle=C;var I,A,F=!0,T=0;if(o.beginPath(),0<m.length){var Y=!1;for(T=0;T<m.length;T++)if(!((I=m[T].getTime?m[T].x.getTime():m[T].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!Y)))if("number"!=typeof m[T].y)0<T&&!(f.connectNullData||Y||F)&&(o.stroke(),H&&n.stroke()),Y=!0;else{var N=A;I=t.axisX.convertValueToPixel(I),A=t.axisY.convertValueToPixel(m[T].y);var z=f.dataPointIds[T];this._eventManager.objectMap[z]={id:z,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:T,x1:I,y1:A},F||Y?(!F&&f.connectNullData?(o.setLineDash&&(f.options.nullDataLineDashType||b===f.lineDashType&&f.lineDashType!==f.nullDataLineDashType)&&(o.stroke(),o.beginPath(),o.moveTo(g.x,g.y),b=f.nullDataLineDashType,o.setLineDash(v)),o.lineTo(I,N),o.lineTo(I,A),H&&(n.lineTo(I,N),n.lineTo(I,A))):(o.beginPath(),o.moveTo(I,A),H&&(n.beginPath(),n.moveTo(I,A))),Y=F=!1):(o.lineTo(I,N),H&&n.lineTo(I,N),o.lineTo(I,A),H&&n.lineTo(I,A),T%500==0&&(o.stroke(),o.beginPath(),o.moveTo(I,A),H&&(n.stroke(),n.beginPath(),n.moveTo(I,A)))),g={x:I,y:A},T<m.length-1&&(w!==(m[T].lineColor||C)||b!==(m[T].lineDashType||f.lineDashType))&&(o.stroke(),o.beginPath(),o.moveTo(I,A),o.strokeStyle=w=m[T].lineColor||C,o.setLineDash&&(m[T].lineDashType?o.setLineDash(mt(b=m[T].lineDashType,f.lineThickness)):(b=f.lineDashType,o.setLineDash(h)))),0!==m[T].markerSize&&(0<m[T].markerSize||0<f.markerSize)&&(N=f.getMarkerProperties(T,I,A,o),p.push(N),z=Rt(z),H&&p.push({x:I,y:A,ctx:n,type:N.type,size:N.size,color:z,borderColor:z,borderThickness:N.borderThickness})),(m[T].indexLabel||f.indexLabel||m[T].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:m[T],dataSeries:f,point:{x:I,y:A},direction:0>m[T].y===t.axisY.reversed?1:-1,color:C})}o.stroke(),H&&n.stroke()}}return me.drawMarkers(p),H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.beginPath()),o.restore(),o.beginPath(),{source:d,dest:this.plotArea.ctx,animationCallback:At.xClipAnimation,easingFunction:At.easing.linear,animationBase:0}}},B.prototype.renderSpline=function(t){function d(z){if(0<(z=O(z,2)).length){n.beginPath(),H&&l.beginPath(),n.moveTo(z[0].x,z[0].y),z[0].newStrokeStyle&&(n.strokeStyle=z[0].newStrokeStyle),z[0].newLineDashArray&&n.setLineDash(z[0].newLineDashArray),H&&l.moveTo(z[0].x,z[0].y);for(var et=0;et<z.length-3;et+=3)n.bezierCurveTo(z[et+1].x,z[et+1].y,z[et+2].x,z[et+2].y,z[et+3].x,z[et+3].y),H&&l.bezierCurveTo(z[et+1].x,z[et+1].y,z[et+2].x,z[et+2].y,z[et+3].x,z[et+3].y),(0<et&&et%3e3==0||z[et+3].newStrokeStyle||z[et+3].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(z[et+3].x,z[et+3].y),z[et+3].newStrokeStyle&&(n.strokeStyle=z[et+3].newStrokeStyle),z[et+3].newLineDashArray&&n.setLineDash(z[et+3].newLineDashArray),H&&(l.stroke(),l.beginPath(),l.moveTo(z[et+3].x,z[et+3].y)));n.stroke(),H&&l.stroke()}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx;n.save();var p=this.plotArea;n.beginPath(),n.rect(p.x1,p.y1,p.width,p.height),n.clip();for(var g=[],M=0;M<t.dataSeriesIndexes.length;M++){var _=t.dataSeriesIndexes[M],f=this.data[_];n.lineWidth=f.lineThickness;var m=f.dataPoints,b="solid";if(n.setLineDash){var v=mt(f.nullDataLineDashType,f.lineThickness),h=mt(b=f.lineDashType,f.lineThickness);n.setLineDash(h)}this._eventManager.objectMap[C=f.id]={objectType:"dataSeries",dataSeriesIndex:_},C=Rt(C),l.strokeStyle=C,l.lineWidth=0<f.lineThickness?Math.max(f.lineThickness,4):0;var C=f._colorSet,w=C=f.lineColor=f.options.lineColor?f.options.lineColor:C[0];n.strokeStyle=C;var T,I,F=0,A=[];if(n.beginPath(),0<m.length)for(I=!1,F=0;F<m.length;F++)if(!((T=m[F].getTime?m[F].x.getTime():m[F].x)<t.axisX.dataInfo.viewPortMin||T>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!I)))if("number"!=typeof m[F].y)0<F&&!I&&(f.connectNullData?n.setLineDash&&0<A.length&&(f.options.nullDataLineDashType||!m[F-1].lineDashType)&&(A[A.length-1].newLineDashArray=v,b=f.nullDataLineDashType):(d(A),A=[])),I=!0;else{T=t.axisX.convertValueToPixel(T),I=t.axisY.convertValueToPixel(m[F].y);var Y=f.dataPointIds[F];if(this._eventManager.objectMap[Y]={id:Y,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:F,x1:T,y1:I},A[A.length]={x:T,y:I},F<m.length-1&&(w!==(m[F].lineColor||C)||b!==(m[F].lineDashType||f.lineDashType))&&(A[A.length-1].newStrokeStyle=w=m[F].lineColor||C,n.setLineDash&&(m[F].lineDashType?A[A.length-1].newLineDashArray=mt(b=m[F].lineDashType,f.lineThickness):(b=f.lineDashType,A[A.length-1].newLineDashArray=h))),0!==m[F].markerSize&&(0<m[F].markerSize||0<f.markerSize)){var N=f.getMarkerProperties(F,T,I,n);g.push(N),Y=Rt(Y),H&&g.push({x:T,y:I,ctx:l,type:N.type,size:N.size,color:Y,borderColor:Y,borderThickness:N.borderThickness})}(m[F].indexLabel||f.indexLabel||m[F].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:m[F],dataSeries:f,point:{x:T,y:I},direction:0>m[F].y===t.axisY.reversed?1:-1,color:C}),I=!1}d(A)}return me.drawMarkers(g),H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(p.x1,p.y1,p.width,p.height),l.beginPath()),n.restore(),n.beginPath(),{source:o,dest:this.plotArea.ctx,animationCallback:At.xClipAnimation,easingFunction:At.easing.linear,animationBase:0}}},B.prototype.renderColumn=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,M,n=null,l=this.plotArea,f=0,_=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),m=(f=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)),b=t.axisX.dataInfo.minDiff;for(isFinite(b)||(b=.3*Math.abs(t.axisX.range)),b=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&f>m&&(f=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<f&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,f)),b<f&&(b=f),b>m&&(b=m),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),m=0;m<t.dataSeriesIndexes.length;m++){var v=t.dataSeriesIndexes[m],h=this.data[v],C=h.dataPoints;if(0<C.length){var w=!!(5<b&&h.bevelEnabled);for(f=0;f<C.length;f++)if(!((M=C[f].getTime?C[f].x.getTime():C[f].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax)&&"number"==typeof C[f].y){p=t.axisX.convertValueToPixel(M),g=t.axisY.convertValueToPixel(C[f].y),p=t.axisX.reversed?p+t.plotType.totalDataSeries*b/2-(t.previousDataSeriesCount+m)*b|0:p-t.plotType.totalDataSeries*b/2+(t.previousDataSeriesCount+m)*b|0;var T,F=t.axisX.reversed?p-b|0:p+b|0;0<=C[f].y?T=_:(T=g,g=_),g>T&&(n=g,g=T,T=n),Te(o,t.axisX.reversed?F:p,g,t.axisX.reversed?p:F,T,n=C[f].color?C[f].color:h._colorSet[f%h._colorSet.length],0,null,w&&(t.axisY.reversed?0>C[f].y:0<=C[f].y),(t.axisY.reversed?0<=C[f].y:0>C[f].y)&&w,!1,!1,h.fillOpacity),this._eventManager.objectMap[n=h.dataPointIds[f]]={id:n,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:f,x1:p,y1:g,x2:F,y2:T},n=Rt(n),H&&Te(this._eventManager.ghostCtx,t.axisX.reversed?F:p,g,t.axisX.reversed?p:F,T,n,0,null,!1,!1,!1,!1),(C[f].indexLabel||h.indexLabel||C[f].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:C[f],dataSeries:h,point:{x:p+(F-p)/2,y:0>C[f].y===t.axisY.reversed?g:T},direction:0>C[f].y===t.axisY.reversed?1:-1,bounds:{x1:p,y1:Math.min(g,T),x2:F,y2:Math.max(g,T)},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.yScaleAnimation,easingFunction:At.easing.easeOutQuart,animationBase:_<t.axisY.bounds.y1?t.axisY.bounds.y1:_>t.axisY.bounds.y2?t.axisY.bounds.y2:_}}},B.prototype.renderStackedColumn=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,m,n=null,l=this.plotArea,p=[],g=[],M=[],_=[],v=0,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width|0),C=t.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var w=t.dataSeriesIndexes[h],F=this.data[w],T=F.dataPoints;if(0<T.length){var I=!!(5<C&&F.bevelEnabled);for(o.strokeStyle="#4572A7 ",v=0;v<T.length;v++)if(!((n=T[v].x.getTime?T[v].x.getTime():T[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof T[v].y){var Y,A=(f=(f=t.axisX.convertValueToPixel(n))-t.plotType.plotUnits.length*C/2+t.index*C|0)+C|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<T[v].y)M[n]=T[v].y+(M[n]?M[n]:0),0<M[n]&&(m=t.axisY.convertValueToPixel(M[n]),Y=typeof p[n]<"u"?p[n]:b,p[n]=m);else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=T[v].y)_[n]=T[v].y+(_[n]?_[n]:0),Y=t.axisY.convertValueToPixel(_[n]),m=typeof g[n]<"u"?g[n]:b,g[n]=Y;else if(m=t.axisY.convertValueToPixel(T[v].y),0<=T[v].y){var N=typeof p[n]<"u"?p[n]:0;p[n]=N+((Y=b-N)-(m-=N))}else g[n]=(N=g[n]?g[n]:0)+((Y=m+N)-(m=b+N));Te(o,f,t.axisY.reversed?Y:m,A,t.axisY.reversed?m:Y,n=T[v].color?T[v].color:F._colorSet[v%F._colorSet.length],0,null,I&&(t.axisY.reversed?0>T[v].y:0<=T[v].y),(t.axisY.reversed?0<=T[v].y:0>T[v].y)&&I,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:v,x1:f,y1:m,x2:A,y2:Y},n=Rt(n),H&&Te(this._eventManager.ghostCtx,f,m,A,Y,n,0,null,!1,!1,!1,!1),(T[v].indexLabel||F.indexLabel||T[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:T[v],dataSeries:F,point:{x:f+(A-f)/2,y:0<=T[v].y?m:Y},direction:0>T[v].y===t.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(m,Y),x2:A,y2:Math.max(m,Y)},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.yScaleAnimation,easingFunction:At.easing.easeOutQuart,animationBase:b<t.axisY.bounds.y1?t.axisY.bounds.y1:b>t.axisY.bounds.y2?t.axisY.bounds.y2:b}}},B.prototype.renderStackedColumn100=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,m,n=null,l=this.plotArea,p=[],g=[],M=[],_=[],v=0,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width|0),C=t.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var w=t.dataSeriesIndexes[h],F=this.data[w],T=F.dataPoints;if(0<T.length){var I=!!(5<C&&F.bevelEnabled);for(v=0;v<T.length;v++)if(!((n=T[v].x.getTime?T[v].x.getTime():T[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof T[v].y){f=t.axisX.convertValueToPixel(n),m=0!==t.dataPointYSums[n]?T[v].y/t.dataPointYSums[n]*100:0;var Y,A=(f=f-t.plotType.plotUnits.length*C/2+t.index*C|0)+C|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<T[v].y){if(M[n]=m+(typeof M[n]<"u"?M[n]:0),0>=M[n])continue;m=t.axisY.convertValueToPixel(M[n]),Y=p[n]?p[n]:b,p[n]=m}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=T[v].y)_[n]=m+(typeof _[n]<"u"?_[n]:0),Y=t.axisY.convertValueToPixel(_[n]),m=g[n]?g[n]:b,g[n]=Y;else if(m=t.axisY.convertValueToPixel(m),0<=T[v].y){var N=typeof p[n]<"u"?p[n]:0;m-=N,Y=b-N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.y1-m)&&(m=l.y1),p[n]=N+(Y-m)}else Y=m+(N=typeof g[n]<"u"?g[n]:0),m=b+N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.y2-Y)&&(Y=l.y2),g[n]=N+(Y-m);Te(o,f,t.axisY.reversed?Y:m,A,t.axisY.reversed?m:Y,n=T[v].color?T[v].color:F._colorSet[v%F._colorSet.length],0,null,I&&(t.axisY.reversed?0>T[v].y:0<=T[v].y),(t.axisY.reversed?0<=T[v].y:0>T[v].y)&&I,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:v,x1:f,y1:m,x2:A,y2:Y},n=Rt(n),H&&Te(this._eventManager.ghostCtx,f,m,A,Y,n,0,null,!1,!1,!1,!1),(T[v].indexLabel||F.indexLabel||T[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:T[v],dataSeries:F,point:{x:f+(A-f)/2,y:0<=T[v].y?m:Y},direction:0>T[v].y===t.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(m,Y),x2:A,y2:Math.max(m,Y)},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.yScaleAnimation,easingFunction:At.easing.easeOutQuart,animationBase:b<t.axisY.bounds.y1?t.axisY.bounds.y1:b>t.axisY.bounds.y2?t.axisY.bounds.y2:b}}},B.prototype.renderBar=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,M,n=null,l=this.plotArea,f=0,_=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),m=(f=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)),b=t.axisX.dataInfo.minDiff;for(isFinite(b)||(b=.3*Math.abs(t.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&f>m&&(f=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<f&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,f)),b<f&&(b=f),b>m&&(b=m),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),m=0;m<t.dataSeriesIndexes.length;m++){var v=t.dataSeriesIndexes[m],h=this.data[v],C=h.dataPoints;if(0<C.length){var w=!!(5<b&&h.bevelEnabled);for(o.strokeStyle="#4572A7 ",f=0;f<C.length;f++)if(!((M=C[f].getTime?C[f].x.getTime():C[f].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax)&&"number"==typeof C[f].y){g=t.axisX.convertValueToPixel(M),p=t.axisY.convertValueToPixel(C[f].y),g=t.axisX.reversed?g+t.plotType.totalDataSeries*b/2-(t.previousDataSeriesCount+m)*b|0:g-t.plotType.totalDataSeries*b/2+(t.previousDataSeriesCount+m)*b|0;var T,F=t.axisX.reversed?g-b|0:g+b|0;0<=C[f].y?T=_:(T=p,p=_),Te(o,t.axisY.reversed?p:T,t.axisX.reversed?F:g,t.axisY.reversed?T:p,t.axisX.reversed?g:F,n=C[f].color?C[f].color:h._colorSet[f%h._colorSet.length],0,null,w,!1,!1,!1,h.fillOpacity),this._eventManager.objectMap[n=h.dataPointIds[f]]={id:n,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:f,x1:T,y1:g,x2:p,y2:F},n=Rt(n),H&&Te(this._eventManager.ghostCtx,T,t.axisX.reversed?F:g,p,t.axisX.reversed?g:F,n,0,null,!1,!1,!1,!1),(C[f].indexLabel||h.indexLabel||C[f].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:C[f],dataSeries:h,point:{x:0<=C[f].y?p:T,y:g+(F-g)/2},direction:0>C[f].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(T,p),y1:g,x2:Math.max(T,p),y2:F},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.xScaleAnimation,easingFunction:At.easing.easeOutQuart,animationBase:_<t.axisY.bounds.x1?t.axisY.bounds.x1:_>t.axisY.bounds.x2?t.axisY.bounds.x2:_}}},B.prototype.renderStackedBar=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,m,n=null,l=this.plotArea,p=[],g=[],M=[],_=[],v=0,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height|0),C=t.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var w=t.dataSeriesIndexes[h],F=this.data[w],T=F.dataPoints;if(0<T.length){var I=!!(5<C&&F.bevelEnabled);for(o.strokeStyle="#4572A7 ",v=0;v<T.length;v++)if(!((n=T[v].x.getTime?T[v].x.getTime():T[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof T[v].y){var Y,A=(m=(m=t.axisX.convertValueToPixel(n))-t.plotType.plotUnits.length*C/2+t.index*C|0)+C|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<T[v].y)M[n]=T[v].y+(M[n]?M[n]:0),0<M[n]&&(Y=p[n]?p[n]:b,p[n]=f=t.axisY.convertValueToPixel(M[n]));else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=T[v].y)_[n]=T[v].y+(_[n]?_[n]:0),f=g[n]?g[n]:b,g[n]=Y=t.axisY.convertValueToPixel(_[n]);else if(f=t.axisY.convertValueToPixel(T[v].y),0<=T[v].y){var N=p[n]?p[n]:0;p[n]=N+((f+=N)-(Y=b+N))}else Y=f-(N=g[n]?g[n]:0),g[n]=N+((f=b-N)-Y);Te(o,t.axisY.reversed?f:Y,m,t.axisY.reversed?Y:f,A,n=T[v].color?T[v].color:F._colorSet[v%F._colorSet.length],0,null,I,!1,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:v,x1:Y,y1:m,x2:f,y2:A},n=Rt(n),H&&Te(this._eventManager.ghostCtx,Y,m,f,A,n,0,null,!1,!1,!1,!1),(T[v].indexLabel||F.indexLabel||T[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:T[v],dataSeries:F,point:{x:0<=T[v].y?f:Y,y:m+(A-m)/2},direction:0>T[v].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(Y,f),y1:m,x2:Math.max(Y,f),y2:A},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.xScaleAnimation,easingFunction:At.easing.easeOutQuart,animationBase:b<t.axisY.bounds.x1?t.axisY.bounds.x1:b>t.axisY.bounds.x2?t.axisY.bounds.x2:b}}},B.prototype.renderStackedBar100=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,m,n=null,l=this.plotArea,p=[],g=[],M=[],_=[],v=0,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height|0),C=t.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var w=t.dataSeriesIndexes[h],F=this.data[w],T=F.dataPoints;if(0<T.length){var I=!!(5<C&&F.bevelEnabled);for(o.strokeStyle="#4572A7 ",v=0;v<T.length;v++)if(!((n=T[v].x.getTime?T[v].x.getTime():T[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof T[v].y){var A;m=t.axisX.convertValueToPixel(n),A=0!==t.dataPointYSums[n]?T[v].y/t.dataPointYSums[n]*100:0;var Y=(m=m-t.plotType.plotUnits.length*C/2+t.index*C|0)+C|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<T[v].y){if(M[n]=A+(M[n]?M[n]:0),0>=M[n])continue;A=p[n]?p[n]:b,p[n]=f=t.axisY.convertValueToPixel(M[n])}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=T[v].y)_[n]=A+(_[n]?_[n]:0),f=g[n]?g[n]:b,g[n]=A=t.axisY.convertValueToPixel(_[n]);else if(f=t.axisY.convertValueToPixel(A),0<=T[v].y){var N=p[n]?p[n]:0;A=b+N,f+=N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.x2-f)&&(f=l.x2),p[n]=N+(f-A)}else A=f-(N=g[n]?g[n]:0),f=b-N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.x1-A)&&(A=l.x1),g[n]=N+(f-A);Te(o,t.axisY.reversed?f:A,m,t.axisY.reversed?A:f,Y,n=T[v].color?T[v].color:F._colorSet[v%F._colorSet.length],0,null,I,!1,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:v,x1:A,y1:m,x2:f,y2:Y},n=Rt(n),H&&Te(this._eventManager.ghostCtx,A,m,f,Y,n,0,null,!1,!1,!1,!1),(T[v].indexLabel||F.indexLabel||T[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:T[v],dataSeries:F,point:{x:0<=T[v].y?f:A,y:m+(Y-m)/2},direction:0>T[v].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(A,f),y1:m,x2:Math.max(A,f),y2:Y},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.xScaleAnimation,easingFunction:At.easing.easeOutQuart,animationBase:b<t.axisY.bounds.x1?t.axisY.bounds.x1:b>t.axisY.bounds.x2?t.axisY.bounds.x2:b}}},B.prototype.renderArea=function(t){var d,o;function n(){N&&(0<h.lineThickness&&p.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?Y=A:0>t.axisY.viewportMaximum?Y=M.y1:0<t.axisY.viewportMinimum&&(Y=A),p.lineTo(F,Y),p.lineTo(N.x,Y),p.closePath(),p.globalAlpha=h.fillOpacity,p.fill(),p.globalAlpha=1,H&&(g.lineTo(F,Y),g.lineTo(N.x,Y),g.closePath(),g.fill()),p.beginPath(),p.moveTo(F,T),g.beginPath(),g.moveTo(F,T),N={x:F,y:T})}var l=t.targetCanvasCtx||this.plotArea.ctx,p=H?this._preRenderCtx:l;if(!(0>=t.dataSeriesIndexes.length)){var m,g=this._eventManager.ghostCtx,M=t.axisY.lineCoordinates,_=[],f=this.plotArea;p.save(),H&&g.save(),p.beginPath(),p.rect(f.x1,f.y1,f.width,f.height),p.clip(),H&&(g.beginPath(),g.rect(f.x1,f.y1,f.width,f.height),g.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var v=t.dataSeriesIndexes[b],h=this.data[v],C=h.dataPoints;this._eventManager.objectMap[_=h.id]={objectType:"dataSeries",dataSeriesIndex:v},_=Rt(_),g.fillStyle=_,_=[],d=!0;var F,T,I,Y,w=0,A=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),N=null;if(0<C.length){var z=h._colorSet[w%h._colorSet.length],et=h.lineColor=h.options.lineColor||z,ct=et;if(p.fillStyle=z,p.strokeStyle=et,p.lineWidth=h.lineThickness,o="solid",p.setLineDash){var Z=mt(h.nullDataLineDashType,h.lineThickness),$=mt(o=h.lineDashType,h.lineThickness);p.setLineDash($)}for(var Q=!0;w<C.length;w++)if(!((I=C[w].x.getTime?C[w].x.getTime():C[w].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!Q)))if("number"!=typeof C[w].y)h.connectNullData||Q||d||n(),Q=!0;else{F=t.axisX.convertValueToPixel(I),T=t.axisY.convertValueToPixel(C[w].y),d||Q?(!d&&h.connectNullData?(p.setLineDash&&(h.options.nullDataLineDashType||o===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(d=F,o=T,F=m.x,T=m.y,n(),p.moveTo(m.x,m.y),F=d,T=o,N=m,o=h.nullDataLineDashType,p.setLineDash(Z)),p.lineTo(F,T),H&&g.lineTo(F,T)):(p.beginPath(),p.moveTo(F,T),H&&(g.beginPath(),g.moveTo(F,T)),N={x:F,y:T}),Q=d=!1):(p.lineTo(F,T),H&&g.lineTo(F,T),w%250==0&&n()),m={x:F,y:T},w<C.length-1&&(ct!==(C[w].lineColor||et)||o!==(C[w].lineDashType||h.lineDashType))&&(n(),p.strokeStyle=ct=C[w].lineColor||et,p.setLineDash&&(C[w].lineDashType?p.setLineDash(mt(o=C[w].lineDashType,h.lineThickness)):(o=h.lineDashType,p.setLineDash($))));var U=h.dataPointIds[w];this._eventManager.objectMap[U]={id:U,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:w,x1:F,y1:T},0!==C[w].markerSize&&(0<C[w].markerSize||0<h.markerSize)&&(I=h.getMarkerProperties(w,F,T,p),_.push(I),U=Rt(U),H&&_.push({x:F,y:T,ctx:g,type:I.type,size:I.size,color:U,borderColor:U,borderThickness:I.borderThickness})),(C[w].indexLabel||h.indexLabel||C[w].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:C[w],dataSeries:h,point:{x:F,y:T},direction:0>C[w].y===t.axisY.reversed?1:-1,color:z})}n(),me.drawMarkers(_)}}return H&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&p.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&p.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),p.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:At.xClipAnimation,easingFunction:At.easing.linear,animationBase:0}}},B.prototype.renderSplineArea=function(t){function d(){var Q=O(I,2);if(0<Q.length){if(0<m.lineThickness){n.beginPath(),n.moveTo(Q[0].x,Q[0].y),Q[0].newStrokeStyle&&(n.strokeStyle=Q[0].newStrokeStyle),Q[0].newLineDashArray&&n.setLineDash(Q[0].newLineDashArray);for(var U=0;U<Q.length-3;U+=3)n.bezierCurveTo(Q[U+1].x,Q[U+1].y,Q[U+2].x,Q[U+2].y,Q[U+3].x,Q[U+3].y),H&&l.bezierCurveTo(Q[U+1].x,Q[U+1].y,Q[U+2].x,Q[U+2].y,Q[U+3].x,Q[U+3].y),(Q[U+3].newStrokeStyle||Q[U+3].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(Q[U+3].x,Q[U+3].y),Q[U+3].newStrokeStyle&&(n.strokeStyle=Q[U+3].newStrokeStyle),Q[U+3].newLineDashArray&&n.setLineDash(Q[U+3].newLineDashArray));n.stroke()}for(n.beginPath(),n.moveTo(Q[0].x,Q[0].y),H&&(l.beginPath(),l.moveTo(Q[0].x,Q[0].y)),U=0;U<Q.length-3;U+=3)n.bezierCurveTo(Q[U+1].x,Q[U+1].y,Q[U+2].x,Q[U+2].y,Q[U+3].x,Q[U+3].y),H&&l.bezierCurveTo(Q[U+1].x,Q[U+1].y,Q[U+2].x,Q[U+2].y,Q[U+3].x,Q[U+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?F=w:0>t.axisY.viewportMaximum?F=p.y1:0<t.axisY.viewportMinimum&&(F=w),T={x:Q[0].x,y:Q[0].y},n.lineTo(Q[Q.length-1].x,F),n.lineTo(T.x,F),n.closePath(),n.globalAlpha=m.fillOpacity,n.fill(),n.globalAlpha=1,H&&(l.lineTo(Q[Q.length-1].x,F),l.lineTo(T.x,F),l.closePath(),l.fill())}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=t.axisY.lineCoordinates,g=[],M=this.plotArea;n.save(),H&&l.save(),n.beginPath(),n.rect(M.x1,M.y1,M.width,M.height),n.clip(),H&&(l.beginPath(),l.rect(M.x1,M.y1,M.width,M.height),l.clip());for(var _=0;_<t.dataSeriesIndexes.length;_++){var f=t.dataSeriesIndexes[_],m=this.data[f],b=m.dataPoints;this._eventManager.objectMap[g=m.id]={objectType:"dataSeries",dataSeriesIndex:f},g=Rt(g),l.fillStyle=g,g=[];var h,C,F,v=0,w=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),T=null,I=[];if(0<b.length){var A=m._colorSet[v%m._colorSet.length],Y=m.lineColor=m.options.lineColor||A,N=Y;n.fillStyle=A,n.strokeStyle=Y,n.lineWidth=m.lineThickness;var z="solid";if(n.setLineDash){var et=mt(m.nullDataLineDashType,m.lineThickness),ct=mt(z=m.lineDashType,m.lineThickness);n.setLineDash(ct)}for(C=!1;v<b.length;v++)if(!((h=b[v].x.getTime?b[v].x.getTime():b[v].x)<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!C)))if("number"!=typeof b[v].y)0<v&&!C&&(m.connectNullData?n.setLineDash&&0<I.length&&(m.options.nullDataLineDashType||!b[v-1].lineDashType)&&(I[I.length-1].newLineDashArray=et,z=m.nullDataLineDashType):(d(),I=[])),C=!0;else{h=t.axisX.convertValueToPixel(h),C=t.axisY.convertValueToPixel(b[v].y);var Z=m.dataPointIds[v];if(this._eventManager.objectMap[Z]={id:Z,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:v,x1:h,y1:C},I[I.length]={x:h,y:C},v<b.length-1&&(N!==(b[v].lineColor||Y)||z!==(b[v].lineDashType||m.lineDashType))&&(I[I.length-1].newStrokeStyle=N=b[v].lineColor||Y,n.setLineDash&&(b[v].lineDashType?I[I.length-1].newLineDashArray=mt(z=b[v].lineDashType,m.lineThickness):(z=m.lineDashType,I[I.length-1].newLineDashArray=ct))),0!==b[v].markerSize&&(0<b[v].markerSize||0<m.markerSize)){var $=m.getMarkerProperties(v,h,C,n);g.push($),Z=Rt(Z),H&&g.push({x:h,y:C,ctx:l,type:$.type,size:$.size,color:Z,borderColor:Z,borderThickness:$.borderThickness})}(b[v].indexLabel||m.indexLabel||b[v].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:b[v],dataSeries:m,point:{x:h,y:C},direction:0>b[v].y===t.axisY.reversed?1:-1,color:A}),C=!1}d(),me.drawMarkers(g)}}return H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(M.x1,M.y1,M.width,M.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:At.xClipAnimation,easingFunction:At.easing.linear,animationBase:0}}},B.prototype.renderStepArea=function(t){var d,o;function n(){N&&(0<h.lineThickness&&p.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?Y=A:0>t.axisY.viewportMaximum?Y=M.y1:0<t.axisY.viewportMinimum&&(Y=A),p.lineTo(F,Y),p.lineTo(N.x,Y),p.closePath(),p.globalAlpha=h.fillOpacity,p.fill(),p.globalAlpha=1,H&&(g.lineTo(F,Y),g.lineTo(N.x,Y),g.closePath(),g.fill()),p.beginPath(),p.moveTo(F,T),g.beginPath(),g.moveTo(F,T),N={x:F,y:T})}var l=t.targetCanvasCtx||this.plotArea.ctx,p=H?this._preRenderCtx:l;if(!(0>=t.dataSeriesIndexes.length)){var m,g=this._eventManager.ghostCtx,M=t.axisY.lineCoordinates,_=[],f=this.plotArea;p.save(),H&&g.save(),p.beginPath(),p.rect(f.x1,f.y1,f.width,f.height),p.clip(),H&&(g.beginPath(),g.rect(f.x1,f.y1,f.width,f.height),g.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var v=t.dataSeriesIndexes[b],h=this.data[v],C=h.dataPoints;this._eventManager.objectMap[_=h.id]={objectType:"dataSeries",dataSeriesIndex:v},_=Rt(_),g.fillStyle=_,_=[],d=!0;var F,T,I,Y,w=0,A=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),N=null;if(o=!1,0<C.length){var z=h._colorSet[w%h._colorSet.length],et=h.lineColor=h.options.lineColor||z,ct=et;p.fillStyle=z,p.strokeStyle=et,p.lineWidth=h.lineThickness;var Z="solid";if(p.setLineDash){var $=mt(h.nullDataLineDashType,h.lineThickness),Q=mt(Z=h.lineDashType,h.lineThickness);p.setLineDash(Q)}for(;w<C.length;w++)if(!((I=C[w].x.getTime?C[w].x.getTime():C[w].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!o))){var U=T;"number"!=typeof C[w].y?(h.connectNullData||o||d||n(),o=!0):(F=t.axisX.convertValueToPixel(I),T=t.axisY.convertValueToPixel(C[w].y),d||o?(!d&&h.connectNullData?(p.setLineDash&&(h.options.nullDataLineDashType||Z===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(d=F,o=T,F=m.x,T=m.y,n(),p.moveTo(m.x,m.y),F=d,T=o,N=m,Z=h.nullDataLineDashType,p.setLineDash($)),p.lineTo(F,U),p.lineTo(F,T),H&&(g.lineTo(F,U),g.lineTo(F,T))):(p.beginPath(),p.moveTo(F,T),H&&(g.beginPath(),g.moveTo(F,T)),N={x:F,y:T}),o=d=!1):(p.lineTo(F,U),H&&g.lineTo(F,U),p.lineTo(F,T),H&&g.lineTo(F,T),w%250==0&&n()),m={x:F,y:T},w<C.length-1&&(ct!==(C[w].lineColor||et)||Z!==(C[w].lineDashType||h.lineDashType))&&(n(),p.strokeStyle=ct=C[w].lineColor||et,p.setLineDash&&(C[w].lineDashType?p.setLineDash(mt(Z=C[w].lineDashType,h.lineThickness)):(Z=h.lineDashType,p.setLineDash(Q)))),this._eventManager.objectMap[I=h.dataPointIds[w]]={id:I,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:w,x1:F,y1:T},0!==C[w].markerSize&&(0<C[w].markerSize||0<h.markerSize)&&(U=h.getMarkerProperties(w,F,T,p),_.push(U),I=Rt(I),H&&_.push({x:F,y:T,ctx:g,type:U.type,size:U.size,color:I,borderColor:I,borderThickness:U.borderThickness})),(C[w].indexLabel||h.indexLabel||C[w].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:C[w],dataSeries:h,point:{x:F,y:T},direction:0>C[w].y===t.axisY.reversed?1:-1,color:z}))}n(),me.drawMarkers(_)}}return H&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&p.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&p.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),p.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:At.xClipAnimation,easingFunction:At.easing.linear,animationBase:0}}},B.prototype.renderStackedArea=function(t){function d(){if(!(1>f.length)){for(0<z.lineThickness&&n.stroke();0<f.length;){var R=f.pop();n.lineTo(R.x,R.y),H&&F.lineTo(R.x,R.y)}n.closePath(),n.globalAlpha=z.fillOpacity,n.fill(),n.globalAlpha=1,n.beginPath(),H&&(F.closePath(),F.fill(),F.beginPath()),f=[]}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var h,C,T,I,A,l=null,p=null,g=[],M=this.plotArea,_=[],f=[],m=[],b=[],v=0,w=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),F=this._eventManager.ghostCtx;H&&F.beginPath(),n.save(),H&&F.save(),n.beginPath(),n.rect(M.x1,M.y1,M.width,M.height),n.clip(),H&&(F.beginPath(),F.rect(M.x1,M.y1,M.width,M.height),F.clip()),l=[];for(var Y=0;Y<t.dataSeriesIndexes.length;Y++){var N=t.dataSeriesIndexes[Y],z=this.data[N],et=z.dataPoints;for(z.dataPointIndexes=[],v=0;v<et.length;v++)N=et[v].x.getTime?et[v].x.getTime():et[v].x,z.dataPointIndexes[N]=v,l[N]||(m.push(N),l[N]=!0);m.sort(wi)}for(Y=0;Y<t.dataSeriesIndexes.length;Y++){if(et=(z=this.data[N=t.dataSeriesIndexes[Y]]).dataPoints,I=!0,f=[],this._eventManager.objectMap[v=z.id]={objectType:"dataSeries",dataSeriesIndex:N},v=Rt(v),F.fillStyle=v,0<m.length){l=z._colorSet[0];var ct=z.lineColor=z.options.lineColor||l,Z=ct;if(n.fillStyle=l,n.strokeStyle=ct,n.lineWidth=z.lineThickness,A="solid",n.setLineDash){var $=mt(z.nullDataLineDashType,z.lineThickness),Q=mt(A=z.lineDashType,z.lineThickness);n.setLineDash(Q)}var U=!0;for(v=0;v<m.length;v++){var E=0<=z.dataPointIndexes[p=m[v]]?et[z.dataPointIndexes[p]]:{x:p,y:null};if(!(p<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax&&(!z.connectNullData||!U)))if("number"!=typeof E.y)z.connectNullData||U||I||d(),U=!0;else{h=t.axisX.convertValueToPixel(p);var tt=_[p]?_[p]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(b[p]=E.y+(b[p]?b[p]:0),0>=b[p]&&t.axisY.logarithmic)continue;C=t.axisY.convertValueToPixel(b[p])}else C=t.axisY.convertValueToPixel(E.y),C-=tt;if(f.push({x:h,y:w-tt}),_[p]=w-C,I||U?(!I&&z.connectNullData?(n.setLineDash&&(z.options.nullDataLineDashType||A===z.lineDashType&&z.lineDashType!==z.nullDataLineDashType)&&(I=f.pop(),A=f[f.length-1],d(),n.moveTo(T.x,T.y),f.push(A),f.push(I),A=z.nullDataLineDashType,n.setLineDash($)),n.lineTo(h,C),H&&F.lineTo(h,C)):(n.beginPath(),n.moveTo(h,C),H&&(F.beginPath(),F.moveTo(h,C))),U=I=!1):(n.lineTo(h,C),H&&F.lineTo(h,C),v%250==0&&(d(),n.moveTo(h,C),H&&F.moveTo(h,C),f.push({x:h,y:w-tt}))),T={x:h,y:C},v<et.length-1&&(Z!==(et[v].lineColor||ct)||A!==(et[v].lineDashType||z.lineDashType))&&(d(),n.beginPath(),n.moveTo(h,C),f.push({x:h,y:w-tt}),n.strokeStyle=Z=et[v].lineColor||ct,n.setLineDash&&(et[v].lineDashType?n.setLineDash(mt(A=et[v].lineDashType,z.lineThickness)):(A=z.lineDashType,n.setLineDash(Q)))),0<=z.dataPointIndexes[p]){var lt=z.dataPointIds[z.dataPointIndexes[p]];this._eventManager.objectMap[lt]={id:lt,objectType:"dataPoint",dataSeriesIndex:N,dataPointIndex:z.dataPointIndexes[p],x1:h,y1:C}}0<=z.dataPointIndexes[p]&&0!==E.markerSize&&(0<E.markerSize||0<z.markerSize)&&(tt=z.getMarkerProperties(z.dataPointIndexes[p],h,C,n),g.push(tt),p=Rt(lt),H&&g.push({x:h,y:C,ctx:F,type:tt.type,size:tt.size,color:p,borderColor:p,borderThickness:tt.borderThickness})),(E.indexLabel||z.indexLabel||E.indexLabelFormatter||z.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:E,dataSeries:z,point:{x:h,y:C},direction:0>E.y===t.axisY.reversed?1:-1,color:l})}}d(),n.moveTo(h,C),H&&F.moveTo(h,C)}delete z.dataPointIndexes}return me.drawMarkers(g),H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(M.x1,M.y1,M.width,M.height),F.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:At.xClipAnimation,easingFunction:At.easing.linear,animationBase:0}}},B.prototype.renderStackedArea100=function(t){function d(){for(0<z.lineThickness&&n.stroke();0<f.length;){var Jt=f.pop();n.lineTo(Jt.x,Jt.y),H&&A.lineTo(Jt.x,Jt.y)}n.closePath(),n.globalAlpha=z.fillOpacity,n.fill(),n.globalAlpha=1,n.beginPath(),H&&(A.closePath(),A.fill(),A.beginPath()),f=[]}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var h,C,w,F,T,l=null,p=null,g=this.plotArea,M=[],_=[],f=[],m=[],b=[],v=0,I=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),A=this._eventManager.ghostCtx;n.save(),H&&A.save(),n.beginPath(),n.rect(g.x1,g.y1,g.width,g.height),n.clip(),H&&(A.beginPath(),A.rect(g.x1,g.y1,g.width,g.height),A.clip()),l=[];for(var Y=0;Y<t.dataSeriesIndexes.length;Y++){var N=t.dataSeriesIndexes[Y],z=this.data[N],et=z.dataPoints;for(z.dataPointIndexes=[],v=0;v<et.length;v++)N=et[v].x.getTime?et[v].x.getTime():et[v].x,z.dataPointIndexes[N]=v,l[N]||(m.push(N),l[N]=!0);m.sort(wi)}for(Y=0;Y<t.dataSeriesIndexes.length;Y++){if(et=(z=this.data[N=t.dataSeriesIndexes[Y]]).dataPoints,F=!0,this._eventManager.objectMap[l=z.id]={objectType:"dataSeries",dataSeriesIndex:N},l=Rt(l),A.fillStyle=l,f=[],0<m.length){l=z._colorSet[v%z._colorSet.length];var ct=z.lineColor=z.options.lineColor||l,Z=ct;if(n.fillStyle=l,n.strokeStyle=ct,n.lineWidth=z.lineThickness,T="solid",n.setLineDash){var $=mt(z.nullDataLineDashType,z.lineThickness),Q=mt(T=z.lineDashType,z.lineThickness);n.setLineDash(Q)}var U=!0;for(v=0;v<m.length;v++){var E=0<=z.dataPointIndexes[p=m[v]]?et[z.dataPointIndexes[p]]:{x:p,y:null};if(!(p<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax&&(!z.connectNullData||!U)))if("number"!=typeof E.y)z.connectNullData||U||F||d(),U=!0;else{var tt;tt=0!==t.dataPointYSums[p]?E.y/t.dataPointYSums[p]*100:0,h=t.axisX.convertValueToPixel(p);var lt=_[p]?_[p]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(b[p]=tt+(b[p]?b[p]:0),0>=b[p]&&t.axisY.logarithmic)continue;C=t.axisY.convertValueToPixel(b[p])}else C=t.axisY.convertValueToPixel(tt),C-=lt;if(f.push({x:h,y:I-lt}),_[p]=I-C,F||U?(!F&&z.connectNullData?(n.setLineDash&&(z.options.nullDataLineDashType||T===z.lineDashType&&z.lineDashType!==z.nullDataLineDashType)&&(F=f.pop(),T=f[f.length-1],d(),n.moveTo(w.x,w.y),f.push(T),f.push(F),T=z.nullDataLineDashType,n.setLineDash($)),n.lineTo(h,C),H&&A.lineTo(h,C)):(n.beginPath(),n.moveTo(h,C),H&&(A.beginPath(),A.moveTo(h,C))),U=F=!1):(n.lineTo(h,C),H&&A.lineTo(h,C),v%250==0&&(d(),n.moveTo(h,C),H&&A.moveTo(h,C),f.push({x:h,y:I-lt}))),w={x:h,y:C},v<et.length-1&&(Z!==(et[v].lineColor||ct)||T!==(et[v].lineDashType||z.lineDashType))&&(d(),n.beginPath(),n.moveTo(h,C),f.push({x:h,y:I-lt}),n.strokeStyle=Z=et[v].lineColor||ct,n.setLineDash&&(et[v].lineDashType?n.setLineDash(mt(T=et[v].lineDashType,z.lineThickness)):(T=z.lineDashType,n.setLineDash(Q)))),0<=z.dataPointIndexes[p]){var R=z.dataPointIds[z.dataPointIndexes[p]];this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:N,dataPointIndex:z.dataPointIndexes[p],x1:h,y1:C}}0<=z.dataPointIndexes[p]&&0!==E.markerSize&&(0<E.markerSize||0<z.markerSize)&&(lt=z.getMarkerProperties(z.dataPointIndexes[p],h,C,n),M.push(lt),p=Rt(R),H&&M.push({x:h,y:C,ctx:A,type:lt.type,size:lt.size,color:p,borderColor:p,borderThickness:lt.borderThickness})),(E.indexLabel||z.indexLabel||E.indexLabelFormatter||z.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:E,dataSeries:z,point:{x:h,y:C},direction:0>E.y===t.axisY.reversed?1:-1,color:l})}}d(),n.moveTo(h,C),H&&A.moveTo(h,C)}delete z.dataPointIndexes}return me.drawMarkers(M),H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(g.x1,g.y1,g.width,g.height),A.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:At.xClipAnimation,easingFunction:At.easing.linear,animationBase:0}}},B.prototype.renderBubble=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,n=this.plotArea,l=0;o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(n.x1,n.y1,n.width,n.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var M=-1/0,_=1/0,f=0;f<t.dataSeriesIndexes.length;f++){var m=t.dataSeriesIndexes[f],b=this.data[m],v=b.dataPoints,h=0;for(l=0;l<v.length;l++)(p=p=v[l].getTime?v[l].x.getTime():v[l].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax||typeof v[l].z>"u"||((h=v[l].z)>M&&(M=h),h<_&&(_=h))}var C=25*Math.PI,w=Math.max(Math.pow(.25*Math.min(n.height,n.width)/2,2)*Math.PI,C);for(f=0;f<t.dataSeriesIndexes.length;f++)if(0<(v=(b=this.data[m=t.dataSeriesIndexes[f]]).dataPoints).length)for(o.strokeStyle="#4572A7 ",l=0;l<v.length;l++)if(!((p=p=v[l].getTime?v[l].x.getTime():v[l].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax)&&"number"==typeof v[l].y){p=t.axisX.convertValueToPixel(p),g=t.axisY.convertValueToPixel(v[l].y),h=v[l].z;var F=2*Math.max(0|Math.sqrt((M===_?w/2:C+(w-C)/(M-_)*(h-_))/Math.PI),1);(h=b.getMarkerProperties(l,o)).size=F,o.globalAlpha=b.fillOpacity,me.drawMarker(p,g,o,h.type,h.size,h.color,h.borderColor,h.borderThickness),o.globalAlpha=1;var T=b.dataPointIds[l];this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:l,x1:p,y1:g,size:F},F=Rt(T),H&&me.drawMarker(p,g,this._eventManager.ghostCtx,h.type,h.size,F,F,h.borderThickness),(v[l].indexLabel||b.indexLabel||v[l].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:v[l],dataSeries:b,point:{x:p,y:g},direction:1,bounds:{x1:p-h.size/2,y1:g-h.size/2,x2:p+h.size/2,y2:g+h.size/2},color:null})}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.fadeInAnimation,easingFunction:At.easing.easeInQuad,animationBase:0}}},B.prototype.renderScatter=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,n=this.plotArea,l=0;o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(n.x1,n.y1,n.width,n.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var M=0;M<t.dataSeriesIndexes.length;M++){var _=t.dataSeriesIndexes[M],f=this.data[_],m=f.dataPoints;if(0<m.length){o.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(n.height,n.width)/2,2);var b=0,v=0;for(l=0;l<m.length;l++)if(!((p=p=m[l].getTime?m[l].x.getTime():m[l].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax)&&"number"==typeof m[l].y){p=t.axisX.convertValueToPixel(p),g=t.axisY.convertValueToPixel(m[l].y);var h=f.getMarkerProperties(l,p,g,o);o.globalAlpha=f.fillOpacity,me.drawMarker(h.x,h.y,h.ctx,h.type,h.size,h.color,h.borderColor,h.borderThickness),o.globalAlpha=1,Math.sqrt((b-p)*(b-p)+(v-g)*(v-g))<Math.min(h.size,5)&&m.length>Math.min(this.plotArea.width,this.plotArea.height)||(this._eventManager.objectMap[b=f.dataPointIds[l]]={id:b,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:l,x1:p,y1:g},b=Rt(b),H&&me.drawMarker(h.x,h.y,this._eventManager.ghostCtx,h.type,h.size,b,b,h.borderThickness),(m[l].indexLabel||f.indexLabel||m[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:m[l],dataSeries:f,point:{x:p,y:g},direction:1,bounds:{x1:p-h.size/2,y1:g-h.size/2,x2:p+h.size/2,y2:g+h.size/2},color:null}),b=p,v=g)}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.fadeInAnimation,easingFunction:At.easing.easeInQuad,animationBase:0}}},B.prototype.renderCandlestick=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d,n=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var g,M,_,f,m,b,v=null,h=null,l=this.plotArea,p=0,C=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.7*l.width*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&n.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip());for(var w=0;w<t.dataSeriesIndexes.length;w++){var F=t.dataSeriesIndexes[w],T=this.data[F],I=T.dataPoints;if(0<I.length){var A=!!(5<C&&T.bevelEnabled);for(p=0;p<I.length;p++)if(!((b=I[p].getTime?I[p].x.getTime():I[p].x)<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax)&&!W(I[p].y)&&I[p].y.length&&"number"==typeof I[p].y[0]&&"number"==typeof I[p].y[1]&&"number"==typeof I[p].y[2]&&"number"==typeof I[p].y[3]){g=t.axisX.convertValueToPixel(b),M=t.axisY.convertValueToPixel(I[p].y[0]),_=t.axisY.convertValueToPixel(I[p].y[1]),f=t.axisY.convertValueToPixel(I[p].y[2]),m=t.axisY.convertValueToPixel(I[p].y[3]);var Y=g-C/2|0,N=Y+C|0,z=(h=T.options.fallingColor?T.fallingColor:T._colorSet[0],v=I[p].color?I[p].color:T._colorSet[0],Math.round(Math.max(1,.15*C))),et=z%2==0?0:.5,ct=T.dataPointIds[p];this._eventManager.objectMap[ct]={id:ct,objectType:"dataPoint",dataSeriesIndex:F,dataPointIndex:p,x1:Y,y1:M,x2:N,y2:_,x3:g,y3:f,x4:g,y4:m,borderThickness:z,color:v},o.strokeStyle=v,o.beginPath(),o.lineWidth=z,n.lineWidth=Math.max(z,4),"candlestick"===T.type?(o.moveTo(g-et,_),o.lineTo(g-et,Math.min(M,m)),o.stroke(),o.moveTo(g-et,Math.max(M,m)),o.lineTo(g-et,f),o.stroke(),Te(o,Y,Math.min(M,m),N,Math.max(M,m),I[p].y[0]<=I[p].y[3]?T.risingColor:h,z,v,A,A,!1,!1,T.fillOpacity),H&&(v=Rt(ct),n.strokeStyle=v,n.moveTo(g-et,_),n.lineTo(g-et,Math.min(M,m)),n.stroke(),n.moveTo(g-et,Math.max(M,m)),n.lineTo(g-et,f),n.stroke(),Te(n,Y,Math.min(M,m),N,Math.max(M,m),v,0,null,!1,!1,!1,!1))):"ohlc"===T.type&&(o.moveTo(g-et,_),o.lineTo(g-et,f),o.stroke(),o.beginPath(),o.moveTo(g,M),o.lineTo(Y,M),o.stroke(),o.beginPath(),o.moveTo(g,m),o.lineTo(N,m),o.stroke(),H&&(v=Rt(ct),n.strokeStyle=v,n.moveTo(g-et,_),n.lineTo(g-et,f),n.stroke(),n.beginPath(),n.moveTo(g,M),n.lineTo(Y,M),n.stroke(),n.beginPath(),n.moveTo(g,m),n.lineTo(N,m),n.stroke())),(I[p].indexLabel||T.indexLabel||I[p].indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:T.type,dataPoint:I[p],dataSeries:T,point:{x:Y+(N-Y)/2,y:t.axisY.reversed?f:_},direction:1,bounds:{x1:Y,y1:Math.min(_,f),x2:N,y2:Math.max(_,f)},color:v})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.fadeInAnimation,easingFunction:At.easing.easeInQuad,animationBase:0}}},B.prototype.renderBoxAndWhisker=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d,n=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var p,g,M,_,f,m,b,v=null,l=this.plotArea,h=0,C=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.7*l.width*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&n.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip());for(var w=!!t.axisY.reversed,F=0;F<t.dataSeriesIndexes.length;F++){var T=t.dataSeriesIndexes[F],I=this.data[T],A=I.dataPoints;if(0<A.length){var Y=!!(5<C&&I.bevelEnabled);for(h=0;h<A.length;h++)if(!((b=A[h].getTime?A[h].x.getTime():A[h].x)<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax)&&!W(A[h].y)&&A[h].y.length&&"number"==typeof A[h].y[0]&&"number"==typeof A[h].y[1]&&"number"==typeof A[h].y[2]&&"number"==typeof A[h].y[3]&&"number"==typeof A[h].y[4]&&5===A[h].y.length){p=t.axisX.convertValueToPixel(b),g=t.axisY.convertValueToPixel(A[h].y[0]),M=t.axisY.convertValueToPixel(A[h].y[1]),_=t.axisY.convertValueToPixel(A[h].y[2]),f=t.axisY.convertValueToPixel(A[h].y[3]),m=t.axisY.convertValueToPixel(A[h].y[4]);var N=p-C/2|0,z=p+C/2|0,et=(v=A[h].color?A[h].color:I._colorSet[0],Math.round(Math.max(1,.15*C))),ct=et%2==0?0:.5,Z=A[h].whiskerColor?A[h].whiskerColor:A[h].color?I.whiskerColor?I.whiskerColor:A[h].color:I.whiskerColor?I.whiskerColor:v,$="number"==typeof A[h].whiskerThickness?A[h].whiskerThickness:"number"==typeof I.options.whiskerThickness?I.whiskerThickness:et,Q=A[h].whiskerDashType?A[h].whiskerDashType:I.whiskerDashType,U="number"==typeof(U=W(A[h].whiskerLength)?W(I.options.whiskerLength)?C:I.whiskerLength:A[h].whiskerLength)?0>=U?0:U>=C?C:U:"string"==typeof U?parseInt(U)*C/100>C?C:parseInt(U)*C/100:C,E=Math.round($)%2==1?.5:0,tt=A[h].stemColor?A[h].stemColor:A[h].color?I.stemColor?I.stemColor:A[h].color:I.stemColor?I.stemColor:v,lt="number"==typeof A[h].stemThickness?A[h].stemThickness:"number"==typeof I.options.stemThickness?I.stemThickness:et,R=Math.round(lt)%2==1?.5:0,Jt=A[h].stemDashType?A[h].stemDashType:I.stemDashType,qt=A[h].lineColor?A[h].lineColor:A[h].color?I.lineColor?I.lineColor:A[h].color:I.lineColor?I.lineColor:v,he="number"==typeof A[h].lineThickness?A[h].lineThickness:"number"==typeof I.options.lineThickness?I.lineThickness:et,oe=A[h].lineDashType?A[h].lineDashType:I.lineDashType,Bt=Math.round(he)%2==1?.5:0,Se=I.upperBoxColor,te=I.lowerBoxColor,ee=W(I.options.fillOpacity)?1:I.fillOpacity,Lt=I.dataPointIds[h];this._eventManager.objectMap[Lt]={id:Lt,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:h,x1:N,y1:g,x2:z,y2:M,x3:p,y3:_,x4:p,y4:f,y5:m,borderThickness:et,color:v,stemThickness:lt,stemColor:tt,whiskerThickness:$,whiskerLength:U,whiskerColor:Z,lineThickness:he,lineColor:qt},o.save(),0<lt&&(o.beginPath(),o.strokeStyle=tt,o.lineWidth=lt,o.setLineDash&&o.setLineDash(mt(Jt,lt)),o.moveTo(p-R,M),o.lineTo(p-R,g),o.stroke(),o.moveTo(p-R,f),o.lineTo(p-R,_),o.stroke()),o.restore(),n.lineWidth=Math.max(et,4),o.beginPath(),Te(o,N,Math.min(m,M),z,Math.max(M,m),te,0,v,!!w&&Y,!w&&Y,!1,!1,ee),o.beginPath(),Te(o,N,Math.min(_,m),z,Math.max(m,_),Se,0,v,!w&&Y,!!w&&Y,!1,!1,ee),o.beginPath(),o.lineWidth=et,o.strokeStyle=v,o.rect(N-ct,Math.min(M,_)-ct,z-N+2*ct,Math.max(M,_)-Math.min(M,_)+2*ct),o.stroke(),o.save(),0<he&&(o.beginPath(),o.globalAlpha=1,o.setLineDash&&o.setLineDash(mt(oe,he)),o.strokeStyle=qt,o.lineWidth=he,o.moveTo(N,m-Bt),o.lineTo(z,m-Bt),o.stroke()),o.restore(),o.save(),0<$&&(o.beginPath(),o.setLineDash&&o.setLineDash(mt(Q,$)),o.strokeStyle=Z,o.lineWidth=$,o.moveTo(p-U/2|0,f-E),o.lineTo(p+U/2|0,f-E),o.stroke(),o.moveTo(p-U/2|0,g+E),o.lineTo(p+U/2|0,g+E),o.stroke()),o.restore(),H&&(v=Rt(Lt),n.strokeStyle=v,n.lineWidth=lt,0<lt&&(n.moveTo(p-ct-R,M),n.lineTo(p-ct-R,Math.max(g,f)),n.stroke(),n.moveTo(p-ct-R,Math.min(g,f)),n.lineTo(p-ct-R,_),n.stroke()),Te(n,N,Math.max(M,_),z,Math.min(M,_),v,0,null,!1,!1,!1,!1),0<$&&(n.beginPath(),n.lineWidth=$,n.moveTo(p+U/2,f-E),n.lineTo(p-U/2,f-E),n.stroke(),n.moveTo(p+U/2,g+E),n.lineTo(p-U/2,g+E),n.stroke())),(A[h].indexLabel||I.indexLabel||A[h].indexLabelFormatter||I.indexLabelFormatter)&&this._indexLabels.push({chartType:I.type,dataPoint:A[h],dataSeries:I,point:{x:N+(z-N)/2,y:t.axisY.reversed?g:f},direction:1,bounds:{x1:N,y1:Math.min(g,f),x2:z,y2:Math.max(g,f)},color:v})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.fadeInAnimation,easingFunction:At.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeColumn=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,M,n=null,l=this.plotArea,_=0;_=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&_>p&&(_=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<_&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,_)),f<_&&(f=_),f>p&&(f=p),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var b=t.dataSeriesIndexes[m],v=this.data[b],h=v.dataPoints;if(0<h.length){var C=!!(5<f&&v.bevelEnabled);for(_=0;_<h.length;_++)if(!((M=h[_].getTime?h[_].x.getTime():h[_].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax)&&!W(h[_].y)&&h[_].y.length&&"number"==typeof h[_].y[0]&&"number"==typeof h[_].y[1]){n=t.axisX.convertValueToPixel(M),p=t.axisY.convertValueToPixel(h[_].y[0]),g=t.axisY.convertValueToPixel(h[_].y[1]);var w=t.axisX.reversed?n+t.plotType.totalDataSeries*f/2-(t.previousDataSeriesCount+m)*f|0:n-t.plotType.totalDataSeries*f/2+(t.previousDataSeriesCount+m)*f|0,F=t.axisX.reversed?w-f|0:w+f|0;if(n=h[_].color?h[_].color:v._colorSet[_%v._colorSet.length],p>g){var T=p;p=g,g=T}this._eventManager.objectMap[T=v.dataPointIds[_]]={id:T,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:_,x1:w,y1:p,x2:F,y2:g},Te(o,t.axisX.reversed?F:w,p,t.axisX.reversed?w:F,g,n,0,n,C,C,!1,!1,v.fillOpacity),n=Rt(T),H&&Te(this._eventManager.ghostCtx,t.axisX.reversed?F:w,p,t.axisX.reversed?w:F,g,n,0,null,!1,!1,!1,!1),(h[_].indexLabel||v.indexLabel||h[_].indexLabelFormatter||v.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:h[_],dataSeries:v,indexKeyword:0,point:{x:w+(F-w)/2,y:h[_].y[1]>=h[_].y[0]?g:p},direction:h[_].y[1]>=h[_].y[0]?-1:1,bounds:{x1:w,y1:Math.min(p,g),x2:F,y2:Math.max(p,g)},color:n}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:h[_],dataSeries:v,indexKeyword:1,point:{x:w+(F-w)/2,y:h[_].y[1]>=h[_].y[0]?p:g},direction:h[_].y[1]>=h[_].y[0]?1:-1,bounds:{x1:w,y1:Math.min(p,g),x2:F,y2:Math.max(p,g)},color:n}))}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.fadeInAnimation,easingFunction:At.easing.easeInQuad,animationBase:0}}},B.prototype.renderError=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d,n=!!t.axisY._position&&!("left"===t.axisY._position||"right"===t.axisY._position);if(!(0>=t.dataSeriesIndexes.length)){var _,f,m,b,v,h,C,l=null,p=!1,g=this.plotArea,M=0,w=t.axisX.dataInfo.minDiff;isFinite(w)||(w=.3*Math.abs(t.axisX.range)),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(g.x1,g.y1,g.width,g.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var F=0,T=0;T<this.data.length;T++)!this.data[T].type.match(/(bar|column)/gi)||!this.data[T].visible||this.data[T].type.match(/(stacked)/gi)&&F||F++;for(var I=0;I<t.dataSeriesIndexes.length;I++){var A=t.dataSeriesIndexes[I],Y=this.data[A],N=Y.dataPoints,z=!W(Y._linkedSeries)&&!(!Y._linkedSeries.type.match(/(bar|column)/gi)||!Y._linkedSeries.visible),et=0;if(z)for(l=Y._linkedSeries.id,T=0;T<l;T++)!this.data[T].type.match(/(bar|column)/gi)||!this.data[T].visible||this.data[T].type.match(/(stacked)/gi)&&et||(this.data[T].type.match(/(range)/gi)&&(p=!0),et++);if(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:n?0|Math.min(.15*this.height,this.plotArea.height/(z?F:1)*.9):.3*this.width,p&&(M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:n?0|Math.min(.15*this.height,this.plotArea.height/(z?F:1)*.9):.03*this.width),T=this.options.dataPointWidth?this.dataPointWidth:(n?g.height:g.width)*(t.axisX.logarithmic?Math.log(w)/Math.log(t.axisX.range):Math.abs(w)/Math.abs(t.axisX.range))/(z?F:1)*.9|0,this.dataPointMaxWidth&&l>M&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,M)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&M<l&&(M=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),T<l&&(T=l),T>M&&(T=M),0<N.length){var ct=Y._colorSet;for(M=0;M<N.length;M++){l=Y.lineColor=Y.options.color?Y.options.color:ct[0];var Z={color:N[M].whiskerColor?N[M].whiskerColor:N[M].color?Y.whiskerColor?Y.whiskerColor:N[M].color:Y.whiskerColor?Y.whiskerColor:l,thickness:W(N[M].whiskerThickness)?Y.whiskerThickness:N[M].whiskerThickness,dashType:N[M].whiskerDashType?N[M].whiskerDashType:Y.whiskerDashType,length:W(N[M].whiskerLength)?W(Y.options.whiskerLength)?T:Y.options.whiskerLength:N[M].whiskerLength,trimLength:W(N[M].whiskerLength)&&W(Y.options.whiskerLength)?50:0};Z.length="number"==typeof Z.length?0>=Z.length?0:Z.length>=T?T:Z.length:"string"==typeof Z.length?parseInt(Z.length)*T/100>T?T:parseInt(Z.length)*T/100>T:T,Z.thickness="number"==typeof Z.thickness?0>Z.thickness?0:Math.round(Z.thickness):2;var $={color:N[M].stemColor?N[M].stemColor:N[M].color?Y.stemColor?Y.stemColor:N[M].color:Y.stemColor?Y.stemColor:l,thickness:N[M].stemThickness?N[M].stemThickness:Y.stemThickness,dashType:N[M].stemDashType?N[M].stemDashType:Y.stemDashType};if($.thickness="number"==typeof $.thickness?0>$.thickness?0:Math.round($.thickness):2,!((C=N[M].getTime?N[M].x.getTime():N[M].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax)&&!W(N[M].y)&&N[M].y.length&&"number"==typeof N[M].y[0]&&"number"==typeof N[M].y[1]){var Q=t.axisX.convertValueToPixel(C);n?f=Q:_=Q,Q=t.axisY.convertValueToPixel(N[M].y[0]),n?m=Q:v=Q,Q=t.axisY.convertValueToPixel(N[M].y[1]),n?b=Q:h=Q,n?(v=t.axisX.reversed?f+(z?F:1)*T/2-(z?et-1:0)*T|0:f-(z?F:1)*T/2+(z?et-1:0)*T|0,h=t.axisX.reversed?v-T|0:v+T|0):(m=t.axisX.reversed?_+(z?F:1)*T/2-(z?et-1:0)*T|0:_-(z?F:1)*T/2+(z?et-1:0)*T|0,b=t.axisX.reversed?m-T|0:m+T|0),!n&&v>h&&(Q=v,v=h,h=Q),n&&m>b&&(Q=m,m=b,b=Q),this._eventManager.objectMap[Q=Y.dataPointIds[M]]={id:Q,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:M,x1:Math.min(m,b),y1:Math.min(v,h),x2:Math.max(b,m),y2:Math.max(h,v),isXYSwapped:n,stemProperties:$,whiskerProperties:Z},q(o,Math.min(m,b),Math.min(v,h),Math.max(b,m),Math.max(h,v),l,Z,$,n),H&&q(this._eventManager.ghostCtx,m,v,b,h,l,Z,$,n),(N[M].indexLabel||Y.indexLabel||N[M].indexLabelFormatter||Y.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:N[M],dataSeries:Y,indexKeyword:0,point:{x:n?N[M].y[1]>=N[M].y[0]?m:b:m+(b-m)/2,y:n?v+(h-v)/2:N[M].y[1]>=N[M].y[0]?h:v},direction:N[M].y[1]>=N[M].y[0]?-1:1,bounds:{x1:n?Math.min(m,b):m,y1:n?v:Math.min(v,h),x2:n?Math.max(m,b):b,y2:n?h:Math.max(v,h)},color:l,axisSwapped:n}),this._indexLabels.push({chartType:"error",dataPoint:N[M],dataSeries:Y,indexKeyword:1,point:{x:n?N[M].y[1]>=N[M].y[0]?b:m:m+(b-m)/2,y:n?v+(h-v)/2:N[M].y[1]>=N[M].y[0]?v:h},direction:N[M].y[1]>=N[M].y[0]?1:-1,bounds:{x1:n?Math.min(m,b):m,y1:n?v:Math.min(v,h),x2:n?Math.max(m,b):b,y2:n?h:Math.max(v,h)},color:l,axisSwapped:n}))}}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.fadeInAnimation,easingFunction:At.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeBar=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,M,_,n=null,l=this.plotArea,f=0;f=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9);var m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&f>p&&(f=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<f&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,f)),m<f&&(m=f),m>p&&(m=p),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var v=t.dataSeriesIndexes[b],h=this.data[v],C=h.dataPoints;if(0<C.length){var w=!!(5<m&&h.bevelEnabled);for(o.strokeStyle="#4572A7 ",f=0;f<C.length;f++)if(!((_=C[f].getTime?C[f].x.getTime():C[f].x)<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax)&&!W(C[f].y)&&C[f].y.length&&"number"==typeof C[f].y[0]&&"number"==typeof C[f].y[1]){p=t.axisY.convertValueToPixel(C[f].y[0]),g=t.axisY.convertValueToPixel(C[f].y[1]),M=t.axisX.convertValueToPixel(_),M=t.axisX.reversed?M+t.plotType.totalDataSeries*m/2-(t.previousDataSeriesCount+b)*m|0:M-t.plotType.totalDataSeries*m/2+(t.previousDataSeriesCount+b)*m|0;var F=t.axisX.reversed?M-m|0:M+m|0;p>g&&(n=p,p=g,g=n),Te(o,p,t.axisX.reversed?F:M,g,t.axisX.reversed?M:F,n=C[f].color?C[f].color:h._colorSet[f%h._colorSet.length],0,null,w,!1,!1,!1,h.fillOpacity),this._eventManager.objectMap[n=h.dataPointIds[f]]={id:n,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:f,x1:p,y1:M,x2:g,y2:F},n=Rt(n),H&&Te(this._eventManager.ghostCtx,p,t.axisX.reversed?F:M,g,t.axisX.reversed?M:F,n,0,null,!1,!1,!1,!1),(C[f].indexLabel||h.indexLabel||C[f].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:C[f],dataSeries:h,indexKeyword:0,point:{x:C[f].y[1]>=C[f].y[0]?p:g,y:M+(F-M)/2},direction:C[f].y[1]>=C[f].y[0]?-1:1,bounds:{x1:Math.min(p,g),y1:M,x2:Math.max(p,g),y2:F},color:n}),this._indexLabels.push({chartType:"rangeBar",dataPoint:C[f],dataSeries:h,indexKeyword:1,point:{x:C[f].y[1]>=C[f].y[0]?g:p,y:M+(F-M)/2},direction:C[f].y[1]>=C[f].y[0]?1:-1,bounds:{x1:Math.min(p,g),y1:M,x2:Math.max(p,g),y2:F},color:n}))}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.fadeInAnimation,easingFunction:At.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeArea=function(t){function d(){if(I){for(var U=null,E=_.length-1;0<=E;E--)n.lineTo((U=_[E]).x,U.y2),l.lineTo(U.x,U.y2);if(n.closePath(),n.globalAlpha=m.fillOpacity,n.fill(),n.globalAlpha=1,l.fill(),0<m.lineThickness){for(n.beginPath(),n.moveTo(U.x,U.y2),E=0;E<_.length;E++)n.lineTo((U=_[E]).x,U.y2);for(n.moveTo(_[0].x,_[0].y1),E=0;E<_.length;E++)n.lineTo((U=_[E]).x,U.y1);n.stroke()}n.beginPath(),n.moveTo(C,w),l.beginPath(),l.moveTo(C,w),I={x:C,y:w},(_=[]).push({x:C,y1:w,y2:F})}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=[],g=this.plotArea;n.save(),H&&l.save(),n.beginPath(),n.rect(g.x1,g.y1,g.width,g.height),n.clip(),H&&(l.beginPath(),l.rect(g.x1,g.y1,g.width,g.height),l.clip());for(var M=0;M<t.dataSeriesIndexes.length;M++){var _=[],f=t.dataSeriesIndexes[M],m=this.data[f],b=m.dataPoints;this._eventManager.objectMap[p=m.id]={objectType:"dataSeries",dataSeriesIndex:f},p=Rt(p),l.fillStyle=p,p=[];var C,w,F,T,v=!0,h=0,I=null;if(0<b.length){var A=m._colorSet[h%m._colorSet.length],Y=m.lineColor=m.options.lineColor||A,N=Y;n.fillStyle=A,n.strokeStyle=Y,n.lineWidth=m.lineThickness;var z="solid";if(n.setLineDash){var et=mt(m.nullDataLineDashType,m.lineThickness),ct=mt(z=m.lineDashType,m.lineThickness);n.setLineDash(ct)}for(var Z=!0;h<b.length;h++)if(!((T=b[h].x.getTime?b[h].x.getTime():b[h].x)<t.axisX.dataInfo.viewPortMin||T>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!Z)))if(null!==b[h].y&&b[h].y.length&&"number"==typeof b[h].y[0]&&"number"==typeof b[h].y[1]){if(C=t.axisX.convertValueToPixel(T),w=t.axisY.convertValueToPixel(b[h].y[0]),F=t.axisY.convertValueToPixel(b[h].y[1]),v||Z?(m.connectNullData&&!v?(n.setLineDash&&(m.options.nullDataLineDashType||z===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(_[_.length-1].newLineDashArray=ct,z=m.nullDataLineDashType,n.setLineDash(et)),n.lineTo(C,w),H&&l.lineTo(C,w),_.push({x:C,y1:w,y2:F})):(n.beginPath(),n.moveTo(C,w),I={x:C,y:w},(_=[]).push({x:C,y1:w,y2:F}),H&&(l.beginPath(),l.moveTo(C,w))),Z=v=!1):(n.lineTo(C,w),_.push({x:C,y1:w,y2:F}),H&&l.lineTo(C,w),h%250==0&&d()),this._eventManager.objectMap[T=m.dataPointIds[h]]={id:T,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:h,x1:C,y1:w,y2:F},h<b.length-1&&(N!==(b[h].lineColor||Y)||z!==(b[h].lineDashType||m.lineDashType))&&(d(),_[_.length-1].newStrokeStyle=N=b[h].lineColor||Y,n.strokeStyle=N,n.setLineDash&&(b[h].lineDashType?(_[_.length-1].newLineDashArray=mt(z=b[h].lineDashType,m.lineThickness),n.setLineDash(_[_.length-1].newLineDashArray)):(z=m.lineDashType,_[_.length-1].newLineDashArray=ct,n.setLineDash(ct)))),0!==b[h].markerSize&&(0<b[h].markerSize||0<m.markerSize)){var $=m.getMarkerProperties(h,C,F,n);p.push($);var Q=Rt(T);H&&p.push({x:C,y:F,ctx:l,type:$.type,size:$.size,color:Q,borderColor:Q,borderThickness:$.borderThickness}),$=m.getMarkerProperties(h,C,w,n),p.push($),Q=Rt(T),H&&p.push({x:C,y:w,ctx:l,type:$.type,size:$.size,color:Q,borderColor:Q,borderThickness:$.borderThickness})}(b[h].indexLabel||m.indexLabel||b[h].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:b[h],dataSeries:m,indexKeyword:0,point:{x:C,y:w},direction:b[h].y[0]>b[h].y[1]===t.axisY.reversed?-1:1,color:A}),this._indexLabels.push({chartType:"rangeArea",dataPoint:b[h],dataSeries:m,indexKeyword:1,point:{x:C,y:F},direction:b[h].y[0]>b[h].y[1]===t.axisY.reversed?1:-1,color:A}))}else Z||v||d(),Z=!0;d(),me.drawMarkers(p)}}return H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:At.xClipAnimation,easingFunction:At.easing.linear,animationBase:0}}},B.prototype.renderRangeSplineArea=function(t){function d($,Q){var U=O(w,2);if(0<U.length){if(0<f.lineThickness){n.strokeStyle=Q,n.setLineDash&&n.setLineDash($),n.beginPath(),n.moveTo(U[0].x,U[0].y);for(var E=0;E<U.length-3;E+=3)(U[E].newStrokeStyle||U[E].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(U[E].x,U[E].y),U[E].newStrokeStyle&&(n.strokeStyle=U[E].newStrokeStyle),U[E].newLineDashArray&&n.setLineDash(U[E].newLineDashArray)),n.bezierCurveTo(U[E+1].x,U[E+1].y,U[E+2].x,U[E+2].y,U[E+3].x,U[E+3].y)}for(n.beginPath(),n.moveTo(U[0].x,U[0].y),H&&(l.beginPath(),l.moveTo(U[0].x,U[0].y)),E=0;E<U.length-3;E+=3)n.bezierCurveTo(U[E+1].x,U[E+1].y,U[E+2].x,U[E+2].y,U[E+3].x,U[E+3].y),H&&l.bezierCurveTo(U[E+1].x,U[E+1].y,U[E+2].x,U[E+2].y,U[E+3].x,U[E+3].y);for(U=O(F,2),n.lineTo(F[F.length-1].x,F[F.length-1].y),E=U.length-1;2<E;E-=3)n.bezierCurveTo(U[E-1].x,U[E-1].y,U[E-2].x,U[E-2].y,U[E-3].x,U[E-3].y),H&&l.bezierCurveTo(U[E-1].x,U[E-1].y,U[E-2].x,U[E-2].y,U[E-3].x,U[E-3].y);if(n.closePath(),n.globalAlpha=f.fillOpacity,n.fill(),H&&(l.closePath(),l.fill()),n.globalAlpha=1,0<f.lineThickness){n.strokeStyle=Q,n.setLineDash&&n.setLineDash($),n.beginPath(),n.moveTo(U[0].x,U[0].y);for(var tt=E=0;E<U.length-3;E+=3,tt++)(w[tt].newStrokeStyle||w[tt].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(U[E].x,U[E].y),w[tt].newStrokeStyle&&(n.strokeStyle=w[tt].newStrokeStyle),w[tt].newLineDashArray&&n.setLineDash(w[tt].newLineDashArray)),n.bezierCurveTo(U[E+1].x,U[E+1].y,U[E+2].x,U[E+2].y,U[E+3].x,U[E+3].y);for(U=O(w,2),n.moveTo(U[0].x,U[0].y),tt=E=0;E<U.length-3;E+=3,tt++)(w[tt].newStrokeStyle||w[tt].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(U[E].x,U[E].y),w[tt].newStrokeStyle&&(n.strokeStyle=w[tt].newStrokeStyle),w[tt].newLineDashArray&&n.setLineDash(w[tt].newLineDashArray)),n.bezierCurveTo(U[E+1].x,U[E+1].y,U[E+2].x,U[E+2].y,U[E+3].x,U[E+3].y);n.stroke()}n.beginPath()}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=[],g=this.plotArea;n.save(),H&&l.save(),n.beginPath(),n.rect(g.x1,g.y1,g.width,g.height),n.clip(),H&&(l.beginPath(),l.rect(g.x1,g.y1,g.width,g.height),l.clip());for(var M=0;M<t.dataSeriesIndexes.length;M++){var _=t.dataSeriesIndexes[M],f=this.data[_],m=f.dataPoints;this._eventManager.objectMap[p=f.id]={objectType:"dataSeries",dataSeriesIndex:_},p=Rt(p),l.fillStyle=p,p=[];var v,h,C,b=0,w=[],F=[];if(0<m.length){var T=f._colorSet[b%f._colorSet.length],I=f.lineColor=f.options.lineColor||T,A=I;n.fillStyle=T,n.lineWidth=f.lineThickness;var N,Y="solid";if(n.setLineDash){var z=mt(f.nullDataLineDashType,f.lineThickness);N=mt(Y=f.lineDashType,f.lineThickness)}for(h=!1;b<m.length;b++)if(!((v=m[b].x.getTime?m[b].x.getTime():m[b].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!h)))if(null!==m[b].y&&m[b].y.length&&"number"==typeof m[b].y[0]&&"number"==typeof m[b].y[1]){v=t.axisX.convertValueToPixel(v),h=t.axisY.convertValueToPixel(m[b].y[0]),C=t.axisY.convertValueToPixel(m[b].y[1]);var et=f.dataPointIds[b];if(this._eventManager.objectMap[et]={id:et,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:b,x1:v,y1:h,y2:C},w[w.length]={x:v,y:h},F[F.length]={x:v,y:C},b<m.length-1&&(A!==(m[b].lineColor||I)||Y!==(m[b].lineDashType||f.lineDashType))&&(w[w.length-1].newStrokeStyle=A=m[b].lineColor||I,n.setLineDash&&(m[b].lineDashType?w[w.length-1].newLineDashArray=mt(Y=m[b].lineDashType,f.lineThickness):(Y=f.lineDashType,w[w.length-1].newLineDashArray=N))),0!==m[b].markerSize&&(0<m[b].markerSize||0<f.markerSize)){var ct=f.getMarkerProperties(b,v,h,n);p.push(ct);var Z=Rt(et);H&&p.push({x:v,y:h,ctx:l,type:ct.type,size:ct.size,color:Z,borderColor:Z,borderThickness:ct.borderThickness}),ct=f.getMarkerProperties(b,v,C,n),p.push(ct),Z=Rt(et),H&&p.push({x:v,y:C,ctx:l,type:ct.type,size:ct.size,color:Z,borderColor:Z,borderThickness:ct.borderThickness})}(m[b].indexLabel||f.indexLabel||m[b].indexLabelFormatter||f.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:m[b],dataSeries:f,indexKeyword:0,point:{x:v,y:h},direction:m[b].y[0]<=m[b].y[1]?-1:1,color:T}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:m[b],dataSeries:f,indexKeyword:1,point:{x:v,y:C},direction:m[b].y[0]<=m[b].y[1]?1:-1,color:T})),h=!1}else 0<b&&!h&&(f.connectNullData?n.setLineDash&&0<w.length&&(f.options.nullDataLineDashType||!m[b-1].lineDashType)&&(w[w.length-1].newLineDashArray=z,Y=f.nullDataLineDashType):(d(N,I),w=[],F=[])),h=!0;d(N,I),me.drawMarkers(p)}}return H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:At.xClipAnimation,easingFunction:At.easing.linear,animationBase:0}}},B.prototype.renderWaterfall=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var g,M,_,f,n=this._eventManager.ghostCtx,l=null,p=this.plotArea,b=0,m=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9);var v=t.axisX.dataInfo.minDiff;isFinite(v)||(v=.3*Math.abs(t.axisX.range)),v=this.options.dataPointWidth?this.dataPointWidth:p.width*(t.axisX.logarithmic?Math.log(v)/Math.log(t.axisX.range):Math.abs(v)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.6|0,this.dataPointMaxWidth&&b>M&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,M)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&M<b&&(M=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),v<b&&(v=b),v>M&&(v=M),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(p.x1,p.y1,p.width,p.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var C=t.dataSeriesIndexes[h],w=this.data[C],F=w.dataPoints;l=w._colorSet[0],w.risingColor=w.options.risingColor?w.options.risingColor:l,w.fallingColor=w.options.fallingColor?w.options.fallingColor:"#e40a0a";var T="number"==typeof w.options.lineThickness?Math.round(w.lineThickness):1,I=Math.round(T)%2==1?-.5:0;if(0<F.length){var A=!!(5<v&&w.bevelEnabled),Y=!1,N=null,z=null;for(b=0;b<F.length;b++)if(f=F[b].getTime?F[b].x.getTime():F[b].x,"number"!=typeof F[b].y){if(0<b&&!Y&&w.connectNullData)var et=w.options.nullDataLineDashType||!F[b-1].lineDashType?w.nullDataLineDashType:F[b-1].lineDashType;Y=!0}else{g=t.axisX.convertValueToPixel(f),M=0===w.dataPointEOs[b].cumulativeSum?m:t.axisY.convertValueToPixel(w.dataPointEOs[b].cumulativeSum),_=0===w.dataPointEOs[b].cumulativeSumYStartValue?m:t.axisY.convertValueToPixel(w.dataPointEOs[b].cumulativeSumYStartValue),g=t.axisX.reversed?g+t.plotType.totalDataSeries*v/2-(t.previousDataSeriesCount+h)*v|0:g-t.plotType.totalDataSeries*v/2+(t.previousDataSeriesCount+h)*v|0;var ct=t.axisX.reversed?g-v|0:g+v|0;M>_&&(l=M,M=_,_=l),t.axisY.reversed&&(l=M,M=_,_=l),this._eventManager.objectMap[l=w.dataPointIds[b]]={id:l,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:b,x1:g,y1:M,x2:ct,y2:_},Te(o,t.axisX.reversed?ct:g,t.axisY.reversed?_:M,t.axisX.reversed?g:ct,t.axisY.reversed?M:_,$=F[b].color?F[b].color:0<F[b].y?w.risingColor:w.fallingColor,0,$,A,A,!1,!1,w.fillOpacity),l=Rt(l),H&&Te(this._eventManager.ghostCtx,t.axisX.reversed?ct:g,M,t.axisX.reversed?g:ct,_,l,0,null,!1,!1,!1,!1);var Z,$=g;Z=typeof F[b].isIntermediateSum<"u"&&!0===F[b].isIntermediateSum||typeof F[b].isCumulativeSum<"u"&&!0===F[b].isCumulativeSum?0<F[b].y?M:_:0<F[b].y?_:M,0<b&&N&&(!Y||w.connectNullData)&&(Y&&o.setLineDash&&o.setLineDash(mt(et,T)),o.beginPath(),o.moveTo(N,z-I),o.lineTo($,Z-I),0<T&&o.stroke(),H&&(n.beginPath(),n.moveTo(N,z-I),n.lineTo($,Z-I),0<T&&n.stroke())),Y=!1,N=ct,z=0<F[b].y?M:_,$=F[b].lineDashType?F[b].lineDashType:w.options.lineDashType?w.options.lineDashType:"shortDash",o.strokeStyle=F[b].lineColor?F[b].lineColor:w.options.lineColor?w.options.lineColor:"#9e9e9e",o.lineWidth=T,o.setLineDash&&($=mt($,T),o.setLineDash($)),(F[b].indexLabel||w.indexLabel||F[b].indexLabelFormatter||w.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:F[b],dataSeries:w,point:{x:g+(ct-g)/2,y:0<=F[b].y?M:_},direction:0>F[b].y===t.axisY.reversed?1:-1,bounds:{x1:g,y1:Math.min(M,_),x2:ct,y2:Math.max(M,_)},color:l})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:At.fadeInAnimation,easingFunction:At.easing.easeInQuad,animationBase:0}}};var ti=function(t,d,o,n,l,p,g,M,_){if(!(0>o)){if(typeof M>"u"&&(M=1),!H){var f=Number((g%(2*Math.PI)).toFixed(8));Number((p%(2*Math.PI)).toFixed(8))===f&&(g-=1e-4)}t.save(),t.globalAlpha=M,"pie"===l?(t.beginPath(),t.moveTo(d.x,d.y),t.arc(d.x,d.y,o,p,g,!1),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===l&&(t.beginPath(),t.arc(d.x,d.y,o,p,g,!1),0<=_&&t.arc(d.x,d.y,_*o,g,p,!0),t.closePath(),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};B.prototype.renderPie=function(t){function o(Z,$){var Q=_.plotArea.ctx;for(Q.clearRect(v.x1,v.y1,v.width,v.height),Q.fillStyle=_.backgroundColor,Q.fillRect(v.x1,v.y1,v.width,v.height),Q=0;Q<m.length;Q++){var U=h[Q].startAngle,E=h[Q].endAngle;if(E>U){var tt=.07*z*Math.cos(h[Q].midAngle),lt=.07*z*Math.sin(h[Q].midAngle),R=!1;m[Q].exploded?(1e-9<Math.abs(h[Q].center.x-(A.x+tt))||1e-9<Math.abs(h[Q].center.y-(A.y+lt)))&&(h[Q].center.x=A.x+tt*Z,h[Q].center.y=A.y+lt*Z,R=!0):(0<Math.abs(h[Q].center.x-A.x)||0<Math.abs(h[Q].center.y-A.y))&&(h[Q].center.x=A.x+tt*(1-Z),h[Q].center.y=A.y+lt*(1-Z),R=!0),R&&$&&((tt={}).dataSeries=f,tt.dataPoint=f.dataPoints[Q],tt.index=Q,_.toolTip.highlightObjects([tt])),ti(_.plotArea.ctx,h[Q].center,h[Q].radius,m[Q].color?m[Q].color:f._colorSet[Q%f._colorSet.length],f.type,U,E,f.fillOpacity,h[Q].percentInnerRadius)}}for((Q=_.plotArea.ctx).save(),Q.fillStyle="black",Q.strokeStyle="grey",Q.textBaseline="middle",Q.lineJoin="round",U=U=0;U<m.length;U++)(E=h[U]).indexLabelText&&(E.indexLabelTextBlock.y-=E.indexLabelTextBlock.height/2-E.indexLabelTextBlock.fontSize/2,tt=0,E.indexLabelTextBlock.x+=tt="left"===E.hemisphere?"inside"!==f.indexLabelPlacement?-(E.indexLabelTextBlock.width+b):-E.indexLabelTextBlock.width/2:"inside"!==f.indexLabelPlacement?b:-E.indexLabelTextBlock.width/2,E.indexLabelTextBlock.render(!0),E.indexLabelTextBlock.x-=tt,E.indexLabelTextBlock.y+=E.indexLabelTextBlock.height/2-E.indexLabelTextBlock.fontSize/2,"inside"!==E.indexLabelPlacement&&0<E.indexLabelLineThickness&&(tt=E.center.x+z*Math.cos(E.midAngle),lt=E.center.y+z*Math.sin(E.midAngle),Q.strokeStyle=E.indexLabelLineColor,Q.lineWidth=E.indexLabelLineThickness,Q.setLineDash&&Q.setLineDash(mt(E.indexLabelLineDashType,E.indexLabelLineThickness)),Q.beginPath(),Q.moveTo(tt,lt),Q.lineTo(E.indexLabelTextBlock.x,E.indexLabelTextBlock.y),Q.lineTo(E.indexLabelTextBlock.x+("left"===E.hemisphere?-b:b),E.indexLabelTextBlock.y),Q.stroke()),Q.lineJoin="miter");Q.save()}function n(Z,$){return $.indexLabelTextBlock.y>Z.indexLabelTextBlock.y?$.indexLabelTextBlock.y-$.indexLabelTextBlock.height/2-(Z.indexLabelTextBlock.y+Z.indexLabelTextBlock.height/2):Z.indexLabelTextBlock.y-Z.indexLabelTextBlock.height/2-($.indexLabelTextBlock.y+$.indexLabelTextBlock.height/2)}function l(Z){for(var $=null,Q=1;Q<m.length;Q++){if(h[$=(Z+Q+h.length)%h.length].hemisphere!==h[Z].hemisphere){$=null;break}if(h[$].indexLabelText&&$!==Z&&(0>n(h[$],h[Z])||("right"===h[Z].hemisphere?h[$].indexLabelTextBlock.y>=h[Z].indexLabelTextBlock.y:h[$].indexLabelTextBlock.y<=h[Z].indexLabelTextBlock.y)))break;$=null}return $}function p(Z,$,Q){if(1e3<(Q=(Q||0)+1))return 0;$=$||0;var U=0,E=A.y-1*w,tt=A.y+1*w;if(0<=Z&&Z<m.length){var lt=h[Z];if(0>$&&lt.indexLabelTextBlock.y<E||0<$&&lt.indexLabelTextBlock.y>tt)return 0;var R=0,Jt=0;for(Jt=R=R=0,0>$?lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2>E&&lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2+$<E&&($=-(E-(lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2+$))):lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2<E&&lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2+$>tt&&($=lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2+$-tt),$=lt.indexLabelTextBlock.y+$,E=0,E="right"===lt.hemisphere?A.x+Math.sqrt(Math.pow(w,2)-Math.pow($-A.y,2)):A.x-Math.sqrt(Math.pow(w,2)-Math.pow($-A.y,2)),Jt=A.x+z*Math.cos(lt.midAngle),R=A.y+z*Math.sin(lt.midAngle),R=Math.sqrt(Math.pow(E-Jt,2)+Math.pow($-R,2)),Jt=Math.acos(z/w),$=(R=Math.acos((w*w+z*z-R*R)/(2*z*w)))<Jt?$-lt.indexLabelTextBlock.y:0,E=null,tt=1;tt<m.length;tt++){if(h[E=(Z-tt+h.length)%h.length].hemisphere!==h[Z].hemisphere){E=null;break}if(h[E].indexLabelText&&h[E].hemisphere===h[Z].hemisphere&&E!==Z&&(0>n(h[E],h[Z])||("right"===h[Z].hemisphere?h[E].indexLabelTextBlock.y<=h[Z].indexLabelTextBlock.y:h[E].indexLabelTextBlock.y>=h[Z].indexLabelTextBlock.y)))break;E=null}Jt=E,R=l(Z),tt=E=0,0>$?(U=$,null!==(tt="right"===lt.hemisphere?Jt:R)&&(Jt=-$,($=lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2-(h[tt].indexLabelTextBlock.y+h[tt].indexLabelTextBlock.height/2))-Jt<C&&+(tt=p(tt,E=-Jt,Q+1)).toFixed(I)>+E.toFixed(I)&&(U=$>C?-($-C):-(Jt-(tt-E))))):0<$&&(U=$,null!==(tt="right"===lt.hemisphere?R:Jt)&&(Jt=$,($=h[tt].indexLabelTextBlock.y-h[tt].indexLabelTextBlock.height/2-(lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2))-Jt<C&&+(tt=p(tt,E=Jt,Q+1)).toFixed(I)<+E.toFixed(I)&&(U=$>C?$-C:Jt-(E-tt)))),U&&(Q=lt.indexLabelTextBlock.y+U,$=0,$="right"===lt.hemisphere?A.x+Math.sqrt(Math.pow(w,2)-Math.pow(Q-A.y,2)):A.x-Math.sqrt(Math.pow(w,2)-Math.pow(Q-A.y,2)),lt.midAngle>Math.PI/2-T&&lt.midAngle<Math.PI/2+T?(E=h[E=(Z-1+h.length)%h.length],Z=h[(Z+1+h.length)%h.length],"left"===lt.hemisphere&&"right"===E.hemisphere&&$>E.indexLabelTextBlock.x?$=E.indexLabelTextBlock.x-15:"right"===lt.hemisphere&&"left"===Z.hemisphere&&$<Z.indexLabelTextBlock.x&&($=Z.indexLabelTextBlock.x+15)):lt.midAngle>3*Math.PI/2-T&&lt.midAngle<3*Math.PI/2+T&&(E=h[E=(Z-1+h.length)%h.length],Z=h[(Z+1+h.length)%h.length],"right"===lt.hemisphere&&"left"===E.hemisphere&&$<E.indexLabelTextBlock.x?$=E.indexLabelTextBlock.x+15:"left"===lt.hemisphere&&"right"===Z.hemisphere&&$>Z.indexLabelTextBlock.x&&($=Z.indexLabelTextBlock.x-15)),lt.indexLabelTextBlock.y=Q,lt.indexLabelTextBlock.x=$,lt.indexLabelAngle=Math.atan2(lt.indexLabelTextBlock.y-A.y,lt.indexLabelTextBlock.x-A.x))}return U}function g(){(Z=_.plotArea.ctx).fillStyle="grey",Z.strokeStyle="grey",Z.font="16px Arial",Z.textBaseline="middle";var U=Z=0,$=0,Q=!0;for(U=0;10>U&&(1>U||0<$);U++){if((f.radius||!f.radius&&typeof f.innerRadius<"u"&&null!==f.innerRadius&&z-$<=et)&&(Q=!1),Q&&(z-=$),$=0,"inside"!==f.indexLabelPlacement){for(w=z*F,Z=0;Z<m.length;Z++)(E=h[Z]).indexLabelTextBlock.x=A.x+w*Math.cos(E.midAngle),E.indexLabelTextBlock.y=A.y+w*Math.sin(E.midAngle),E.indexLabelAngle=E.midAngle,E.radius=z,E.percentInnerRadius=ct;for(var tt,lt,Z=0;Z<m.length;Z++){var E=h[Z],R=l(Z);if(null!==R){var Jt=0;if(0>(Jt=n(tt=h[Z],lt=h[R])-C)){for(var he=lt=0,qt=0;qt<m.length;qt++)qt!==Z&&h[qt].hemisphere===E.hemisphere&&(h[qt].indexLabelTextBlock.y<E.indexLabelTextBlock.y?lt++:he++);he=-1*(Jt-(lt=Jt/(lt+he||1)*he));var oe=qt=0;"right"===E.hemisphere?(qt=p(Z,lt),+(oe=p(R,he=-1*(Jt-qt))).toFixed(I)<+he.toFixed(I)&&+qt.toFixed(I)<=+lt.toFixed(I)&&p(Z,-(he-oe))):(qt=p(R,lt),+(oe=p(Z,he=-1*(Jt-qt))).toFixed(I)<+he.toFixed(I)&&+qt.toFixed(I)<=+lt.toFixed(I)&&p(R,-(he-oe)))}}}}else for(Z=0;Z<m.length;Z++)E=h[Z],R=A.x+(w="pie"===f.type?.7*z:.85*z)*Math.cos(E.midAngle),lt=A.y+w*Math.sin(E.midAngle),E.indexLabelTextBlock.x=R,E.indexLabelTextBlock.y=lt;for(Z=0;Z<m.length;Z++)0!==(R=(E=h[Z]).indexLabelTextBlock.measureText()).height&&0!==R.width&&(R=R=0,"right"===E.hemisphere?(R=v.x2-(E.indexLabelTextBlock.x+E.indexLabelTextBlock.width+b),R*=-1):R=v.x1-(E.indexLabelTextBlock.x-E.indexLabelTextBlock.width-b),0<R&&(!Q&&E.indexLabelText&&(.3*E.indexLabelTextBlock.maxWidth>(lt="right"===E.hemisphere?v.x2-E.indexLabelTextBlock.x:E.indexLabelTextBlock.x-v.x1)?E.indexLabelText="":E.indexLabelTextBlock.maxWidth=.85*lt,.3*E.indexLabelTextBlock.maxWidth<lt&&(E.indexLabelTextBlock.x-="right"===E.hemisphere?2:-2)),Math.abs(E.indexLabelTextBlock.y-E.indexLabelTextBlock.height/2-A.y)<z||Math.abs(E.indexLabelTextBlock.y+E.indexLabelTextBlock.height/2-A.y)<z)&&(9<(R/=Math.abs(Math.cos(E.indexLabelAngle)))&&(R*=.3),R>$&&($=R)),R=R=0,0<E.indexLabelAngle&&E.indexLabelAngle<Math.PI?(R=v.y2-(E.indexLabelTextBlock.y+E.indexLabelTextBlock.height/2+5),R*=-1):R=v.y1-(E.indexLabelTextBlock.y-E.indexLabelTextBlock.height/2-5),0<R&&(!Q&&E.indexLabelText&&0===p(Z,R*(lt=0<E.indexLabelAngle&&E.indexLabelAngle<Math.PI?-1:1))&&p(Z,2*lt),Math.abs(E.indexLabelTextBlock.x-A.x)<z&&(9<(R/=Math.abs(Math.sin(E.indexLabelAngle)))&&(R*=.3),R>$&&($=R))));var Bt=function(Se,te,ee){for(var Lt=[],Pe=0;Lt.push(h[te]),te!==ee;te=(te+1+m.length)%m.length);for(Lt.sort(function(li,Ee){return li.y-Ee.y}),te=0;te<Lt.length&&(ee=Lt[te],Pe<.7*Se);te++)Pe+=ee.indexLabelTextBlock.height,ee.indexLabelTextBlock.text="",ee.indexLabelText="",ee.indexLabelTextBlock.measureText()};!function(){for(var Se=-1,te=-1,ee=0,Lt=!1,Pe=0;Pe<m.length;Pe++)if(Lt=!1,(tt=h[Pe]).indexLabelText){var li=l(Pe);if(null!==li){var Mi,Ee=h[li];Jt=0,(Mi=0>(Jt=n(tt,Ee)))&&(Mi=tt.indexLabelTextBlock.x,Mi=!(tt.indexLabelTextBlock.x+tt.indexLabelTextBlock.width<Ee.indexLabelTextBlock.x-b||Mi>Ee.indexLabelTextBlock.x+Ee.indexLabelTextBlock.width+b||tt.indexLabelTextBlock.y-tt.indexLabelTextBlock.height/2>Ee.indexLabelTextBlock.y+Ee.indexLabelTextBlock.height/2+b||tt.indexLabelTextBlock.y+tt.indexLabelTextBlock.height/2<Ee.indexLabelTextBlock.y-Ee.indexLabelTextBlock.height/2-b)),Mi?(0>Se&&(Se=Pe),li!==Se&&(te=li,ee+=-Jt),Pe%Math.max(m.length/10,3)==0&&(Lt=!0)):Lt=!0,Lt&&0<ee&&0<=Se&&0<=te&&(Bt(ee,Se,te),te=Se=-1,ee=0)}}0<ee&&Bt(ee,Se,te)}()}}function M(){if(_.plotArea.layoutManager.reset(),_.title&&(_.title.dockInsidePlotArea||"center"===_.title.horizontalAlign&&"center"===_.title.verticalAlign)&&_.title.render(),_.subtitles)for(var Z=0;Z<_.subtitles.length;Z++){var $=_.subtitles[Z];($.dockInsidePlotArea||"center"===$.horizontalAlign&&"center"===$.verticalAlign)&&$.render()}_.legend&&(_.legend.dockInsidePlotArea||"center"===_.legend.horizontalAlign&&"center"===_.legend.verticalAlign)&&(_.legend.setLayout(),_.legend.render())}var _=this;if(!(0>=t.dataSeriesIndexes.length)){var w,f=this.data[t.dataSeriesIndexes[0]],m=f.dataPoints,b=10,v=this.plotArea,h=f.dataPointEOs,C=2,F=1.3,T=20/180*Math.PI,I=6,A={x:(v.x2+v.x1)/2,y:(v.y2+v.y1)/2},Y=0;t=!1;for(var N=0;N<m.length;N++)Y+=Math.abs(m[N].y),!t&&typeof m[N].indexLabel<"u"&&null!==m[N].indexLabel&&0<m[N].indexLabel.toString().length&&(t=!0),!t&&typeof m[N].label<"u"&&null!==m[N].label&&0<m[N].label.toString().length&&(t=!0);if(0!==Y){t=t||typeof f.indexLabel<"u"&&null!==f.indexLabel&&0<f.indexLabel.toString().length;var z="inside"!==f.indexLabelPlacement&&t?.75*Math.min(v.width,v.height)/2:.92*Math.min(v.width,v.height)/2;f.radius&&(z=_i(f.radius,z));var et=typeof f.innerRadius<"u"&&null!==f.innerRadius?_i(f.innerRadius,z):.7*z;f.radius=z,"doughnut"===f.type&&(f.innerRadius=et);var ct=Math.min(et/z,(z-1)/z);this.pieDoughnutClickHandler=function(Z){_.isAnimating||!W(this.explodeOnClick)&&!this.explodeOnClick||((Z=Z.dataPoint).exploded=!Z.exploded,1<this.dataPoints.length&&_._animator.animate(0,500,function($){o($,!0),M(),_.dispatchEvent("dataAnimationIterationEnd",{chart:_}),_.dispatchEvent("dataAnimationEnd",{chart:_})}))},function d(){if(f&&m){var Z=0,$=0,Q=0,U=0;W(f.options.indexLabelMaxWidth)&&(f.indexLabelMaxWidth=.33*v.width);for(var E=0;E<m.length;E++){var tt=m[E],lt=f.dataPointIds[E];h[E].id=lt,h[E].objectType="dataPoint",h[E].dataPointIndex=E,h[E].dataSeriesIndex=0;var R=h[E],qt={percent:null,total:null},Jt=null;qt=_.getPercentAndTotal(f,tt),(f.indexLabelFormatter||tt.indexLabelFormatter)&&(Jt={chart:_.options,dataSeries:f,dataPoint:tt,total:qt.total,percent:qt.percent}),qt=tt.indexLabelFormatter?tt.indexLabelFormatter(Jt):tt.indexLabel?_.replaceKeywordsWithValue(tt.indexLabel,tt,f,E):f.indexLabelFormatter?f.indexLabelFormatter(Jt):f.indexLabel?_.replaceKeywordsWithValue(f.indexLabel,tt,f,E):tt.label?tt.label:"",_._eventManager.objectMap[lt]=R,R.center={x:A.x,y:A.y},R.y=tt.y,R.radius=z,R.percentInnerRadius=ct,R.indexLabelText=qt,R.indexLabelPlacement=f.indexLabelPlacement,R.indexLabelLineColor=tt.indexLabelLineColor?tt.indexLabelLineColor:f.options.indexLabelLineColor?f.options.indexLabelLineColor:tt.color?tt.color:f._colorSet[E%f._colorSet.length],R.indexLabelLineThickness=W(tt.indexLabelLineThickness)?f.indexLabelLineThickness:tt.indexLabelLineThickness,R.indexLabelLineDashType=tt.indexLabelLineDashType?tt.indexLabelLineDashType:f.indexLabelLineDashType,R.indexLabelFontColor=tt.indexLabelFontColor?tt.indexLabelFontColor:f.indexLabelFontColor,R.indexLabelFontStyle=tt.indexLabelFontStyle?tt.indexLabelFontStyle:f.indexLabelFontStyle,R.indexLabelFontWeight=tt.indexLabelFontWeight?tt.indexLabelFontWeight:f.indexLabelFontWeight,R.indexLabelFontSize=W(tt.indexLabelFontSize)?f.indexLabelFontSize:tt.indexLabelFontSize,R.indexLabelFontFamily=tt.indexLabelFontFamily?tt.indexLabelFontFamily:f.indexLabelFontFamily,R.indexLabelBackgroundColor=tt.indexLabelBackgroundColor?tt.indexLabelBackgroundColor:f.options.indexLabelBackgroundColor?f.options.indexLabelBackgroundColor:f.indexLabelBackgroundColor,R.indexLabelBorderColor=tt.indexLabelBorderColor?tt.indexLabelBorderColor:f.options.indexLabelBorderColor?f.options.indexLabelBorderColor:f.indexLabelBorderColor,R.indexLabelBorderThickness=tt.indexLabelBorderThickness?tt.indexLabelBorderThickness:f.options.indexLabelBorderThickness?f.options.indexLabelBorderThickness:f.indexLabelBorderThickness,R.indexLabelMaxWidth=tt.indexLabelMaxWidth?tt.indexLabelMaxWidth:f.indexLabelMaxWidth,R.indexLabelWrap=typeof tt.indexLabelWrap<"u"?tt.indexLabelWrap:f.indexLabelWrap,R.indexLabelTextAlign=tt.indexLabelTextAlign?tt.indexLabelTextAlign:f.indexLabelTextAlign?f.indexLabelTextAlign:"left",R.startAngle=0===E?f.startAngle?f.startAngle/180*Math.PI:0:h[E-1].endAngle,R.startAngle=(R.startAngle+2*Math.PI)%(2*Math.PI),R.endAngle=R.startAngle+2*Math.PI/Y*Math.abs(tt.y),tt=((tt=(R.endAngle+R.startAngle)/2)+2*Math.PI)%(2*Math.PI),R.midAngle=tt,R.midAngle>Math.PI/2-T&&R.midAngle<Math.PI/2+T?((0===Z||h[Q].midAngle>R.midAngle)&&(Q=E),Z++):R.midAngle>3*Math.PI/2-T&&R.midAngle<3*Math.PI/2+T&&((0===$||h[U].midAngle>R.midAngle)&&(U=E),$++),R.hemisphere=tt>Math.PI/2&&tt<=3*Math.PI/2?"left":"right",R.indexLabelTextBlock=new se(_.plotArea.ctx,{fontSize:R.indexLabelFontSize,fontFamily:R.indexLabelFontFamily,fontColor:R.indexLabelFontColor,fontStyle:R.indexLabelFontStyle,fontWeight:R.indexLabelFontWeight,textAlign:R.indexLabelTextAlign,backgroundColor:R.indexLabelBackgroundColor,borderColor:R.indexLabelBorderColor,borderThickness:R.indexLabelBorderThickness,maxWidth:R.indexLabelMaxWidth,maxHeight:R.indexLabelWrap?5*R.indexLabelFontSize:1.5*R.indexLabelFontSize,text:R.indexLabelText,padding:0,textBaseline:"middle"}),R.indexLabelTextBlock.measureText()}for(lt=tt=0,qt=!1,E=0;E<m.length;E++)R=h[(Q+E)%m.length],1<Z&&R.midAngle>Math.PI/2-T&&R.midAngle<Math.PI/2+T&&(tt<=Z/2&&!qt?(R.hemisphere="right",tt++):(R.hemisphere="left",qt=!0));for(qt=!1,E=0;E<m.length;E++)R=h[(U+E)%m.length],1<$&&R.midAngle>3*Math.PI/2-T&&R.midAngle<3*Math.PI/2+T&&(lt<=$/2&&!qt?(R.hemisphere="left",lt++):(R.hemisphere="right",qt=!0))}}(),g(),g(),g(),g(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(Z){($=_.plotArea.ctx).clearRect(v.x1,v.y1,v.width,v.height),$.fillStyle=_.backgroundColor,$.fillRect(v.x1,v.y1,v.width,v.height);for(var $=h[0].startAngle+2*Math.PI*Z,Q=0;Q<m.length;Q++){var U=0===Q?h[Q].startAngle:E,E=U+(h[Q].endAngle-h[Q].startAngle),tt=!1;if(E>$&&(E=$,tt=!0),E>U&&ti(_.plotArea.ctx,h[Q].center,h[Q].radius,m[Q].color?m[Q].color:f._colorSet[Q%f._colorSet.length],f.type,U,E,f.fillOpacity,h[Q].percentInnerRadius),tt)break}M(),_.dispatchEvent("dataAnimationIterationEnd",{chart:_}),1<=Z&&_.dispatchEvent("dataAnimationEnd",{chart:_})},function(){_.disableToolTip=!1,_._animator.animate(0,_.animatedRender?500:0,function(Z){o(Z,!1),M(),_.dispatchEvent("dataAnimationIterationEnd",{chart:_})}),_.dispatchEvent("dataAnimationEnd",{chart:_})})}}};var Le=function(t,d,o,n){typeof o>"u"&&(o=1),0>=Math.round(d.y4-d.y1)||(t.save(),t.globalAlpha=o,t.beginPath(),t.moveTo(Math.round(d.x1),Math.round(d.y1)),t.lineTo(Math.round(d.x2),Math.round(d.y2)),t.lineTo(Math.round(d.x3),Math.round(d.y3)),t.lineTo(Math.round(d.x4),Math.round(d.y4)),"undefined"!==d.x5&&(t.lineTo(Math.round(d.x5),Math.round(d.y5)),t.lineTo(Math.round(d.x6),Math.round(d.y6))),t.closePath(),t.fillStyle=n||d.color,t.fill(),t.globalAplha=1,t.restore())};B.prototype.renderFunnel=function(t){function p(){var ht,dt,vt,Zt;if("inside"!==T.indexLabelPlacement)for(var Ct=0;Ct<Lt.length;Ct++)0==rt[Ct].textBlock.text.length?rt[Ct].isDirty=!0:(vt=typeof(ht=Lt[Ct]).x5<"u"?(ht.y2+ht.y4)/2:(ht.y2+ht.y3)/2,dt=T.reversed?typeof ht.x5<"u"&&vt>te?h(vt).x2+1:(ht.x2+ht.x3)/2+1:typeof ht.x5<"u"?vt<te?h(vt).x2+1:(ht.x4+ht.x3)/2+1:(ht.x2+ht.x3)/2+1,rt[Ct].textBlock.x=dt+Jt,rt[Ct].textBlock.y=vt-rt[Ct].height/2,T.reversed?(rt[Ct].textBlock.y+rt[Ct].height>oe+Y&&(rt[Ct].textBlock.y=oe+Y-rt[Ct].height),rt[Ct].textBlock.y<ee-Y&&(rt[Ct].textBlock.y=ee-Y)):(rt[Ct].textBlock.y<oe-Y&&(rt[Ct].textBlock.y=oe-Y),rt[Ct].textBlock.y+rt[Ct].height>ee+Y&&(rt[Ct].textBlock.y=ee+Y-rt[Ct].height)));else for(Ct=0;Ct<Lt.length;Ct++)0==rt[Ct].textBlock.text.length?rt[Ct].isDirty=!0:(Zt=rt[Ct].width,(dt=(ht=Lt[Ct]).height)>=(vt=rt[Ct].height)?(vt=Ct!=li?(ht.y1+ht.y3)/2-vt/2:(ht.y1+ht.y4)/2-vt/2,rt[Ct].textBlock.x=dt=Ct!=li?(ht.x4+ht.x3)/2-Zt/2:(ht.x5+ht.x4)/2-Zt/2,rt[Ct].textBlock.y=vt):rt[Ct].isDirty=!0)}function M(ht,dt){return(dt<Lt.length?rt[dt].textBlock.y:T.reversed?oe+Y:ee+Y)-(0>ht?T.reversed?ee-Y:oe-Y:rt[ht].textBlock.y+rt[ht].height+ni)}function _(ht,dt,vt){var Zt,Ct,Wt,Je=[],pe=Y,Ft=[];if(-1!==dt&&(0<=Ie.indexOf(dt)?(Ct=Ie.indexOf(dt),Ie.splice(Ct,1)):(Ie.push(dt),Ie=Ie.sort(function(xe,Kt){return xe-Kt}))),0===Ie.length)Je=Yi;else{Ct=Y*(1!=Ie.length||0!=Ie[0]&&Ie[0]!=Lt.length-1?2:1)/function f(){for(var ht=0,dt=0;dt<Lt.length-1;dt++)(0<=Ie.indexOf(dt)||0<=Ie.indexOf(dt+1))&&ht++;return ht}();for(var ve=0;ve<Lt.length;ve++){if(1==Ie.length&&0==Ie[0]){if(0===ve){Je.push(Yi[ve]),Zt=pe;continue}}else 0===ve&&(Zt=-1*pe);Je.push(Yi[ve]+Zt),(0<=Ie.indexOf(ve)||ve<Lt.length&&0<=Ie.indexOf(ve+1))&&(Zt+=Ct)}}Wt=function(){for(var xe=[],Kt=0;Kt<Lt.length;Kt++)xe.push(Je[Kt]-Lt[Kt].y1);return xe}(),(new Date).getTime();ht._animator.animate(0,vt,function(xe){var Kt=ht.plotArea.ctx||ht.ctx;Ui=!0,Kt.clearRect(A.x1,A.y1,A.x2-A.x1,A.y2-A.y1),Kt.fillStyle=ht.backgroundColor,Kt.fillRect(A.x1,A.y1,A.width,A.height),function(xe){for(var Kt,Nt,St=0;St<Lt.length;St++)Kt=Wt[St],Nt=Lt[St],Kt*=xe,typeof Ft[St]>"u"&&(Ft[St]=0),0>Ft&&(Ft*=-1),Nt.y1+=Kt-Ft[St],Nt.y2+=Kt-Ft[St],Nt.y3+=Kt-Ft[St],Nt.y4+=Kt-Ft[St],Nt.y5&&(Nt.y5+=Kt-Ft[St],Nt.y6+=Kt-Ft[St]),Ft[St]=Kt}(xe);var Nt={};for(Nt.dataSeries=T,Nt.dataPoint=T.reversed?T.dataPoints[I.length-1-dt]:T.dataPoints[dt],Nt.index=T.reversed?I.length-1-dt:dt,ht.toolTip.highlightObjects([Nt]),Nt=0;Nt<Lt.length;Nt++)Le(Kt,Lt[Nt],T.fillOpacity);w(Kt),Z&&("inside"!==T.indexLabelPlacement?m(Kt):p(),C(Kt)),1<=xe&&(Ui=!1)},null,At.easing.easeOutQuart)}function m(ht){for(var dt,vt,Zt,Ct,Wt=0;Wt<Lt.length;Wt++)dt=h(vt=((Lt[Wt].y2+Lt[Wt].y4)/2|0)+(Ct=rt[Wt].lineThickness%2==1?.5:0)).x2-1,Zt=rt[Wt].textBlock.x,Ct=(rt[Wt].textBlock.y+rt[Wt].height/2|0)+Ct,rt[Wt].isDirty||0==rt[Wt].lineThickness||(ht.strokeStyle=rt[Wt].lineColor,ht.lineWidth=rt[Wt].lineThickness,ht.setLineDash&&ht.setLineDash(mt(rt[Wt].lineDashType,rt[Wt].lineThickness)),ht.beginPath(),ht.moveTo(dt,vt),ht.lineTo(Zt,Ct),ht.stroke())}function b(ht){for(ht-=1;-1<=ht&&-1!=ht&&rt[ht].isDirty;ht--);return ht}function v(ht){for(ht+=1;ht<=Lt.length&&ht!=Lt.length&&rt[ht].isDirty;ht++);return ht}function h(ht){for(var dt,vt=0;vt<I.length;vt++)if(Lt[vt].y1<ht&&Lt[vt].y4>ht){dt=Lt[vt];break}return dt?{x1:ht=dt.y6&&ht>dt.y6?dt.x3+(dt.x4-dt.x3)/(dt.y4-dt.y3)*(ht-dt.y3):dt.x2+(dt.x3-dt.x2)/(dt.y3-dt.y2)*(ht-dt.y2),x2:ht}:-1}function C(ht){for(var dt=0;dt<Lt.length;dt++)rt[dt].isDirty||(ht&&(rt[dt].textBlock.ctx=ht),rt[dt].textBlock.y+=rt[dt].textBlock._lineHeight/2,rt[dt].textBlock.render(!0),rt[dt].textBlock.y-=rt[dt].textBlock._lineHeight/2)}function w(ht){if(F.plotArea.layoutManager.reset(),ht.roundRect||oi(ht),F.title&&(F.title.dockInsidePlotArea||"center"===F.title.horizontalAlign&&"center"===F.title.verticalAlign)&&(F.title.ctx=ht,F.title.render()),F.subtitles)for(var dt=0;dt<F.subtitles.length;dt++){var vt=F.subtitles[dt];(vt.dockInsidePlotArea||"center"===vt.horizontalAlign&&"center"===vt.verticalAlign)&&(F.subtitles.ctx=ht,vt.render())}F.legend&&(F.legend.dockInsidePlotArea||"center"===F.legend.horizontalAlign&&"center"===F.legend.verticalAlign)&&(F.legend.ctx=ht,F.legend.setLayout(),F.legend.render()),ei.fNg&&ei.fNg(F)}var F=this;if(!(0>=t.dataSeriesIndexes.length)){for(var T=this.data[t.dataSeriesIndexes[0]],I=T.dataPoints,A=this.plotArea,Y=.025*A.width,N=.01*A.width,z=0,et=A.height-2*Y,ct=Math.min(A.width-2*N,2.8*A.height),Z=!1,$=0;$<I.length;$++)!Z&&typeof I[$].indexLabel<"u"&&null!==I[$].indexLabel&&0<I[$].indexLabel.toString().length&&(Z=!0),!Z&&typeof I[$].label<"u"&&null!==I[$].label&&0<I[$].label.toString().length&&(Z=!0),(!Z&&"function"==typeof T.indexLabelFormatter||"function"==typeof I[$].indexLabelFormatter)&&(Z=!0);Z=Z||typeof T.indexLabel<"u"&&null!==T.indexLabel&&0<T.indexLabel.toString().length,"inside"!==T.indexLabelPlacement&&Z||(N=(A.width-.75*ct)/2),$=A.x1+N;var Q=A.x2-N,U=A.y1+Y,E=A.y2-Y,tt=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=T.length&&T.dataPoints&&T.visible&&0!==I.length){var lt,R,Jt=30*(Q-(t=75*ct/100))/100;"funnel"===T.type?(lt=W(T.options.neckHeight)?.35*et:T.neckHeight,R=W(T.options.neckWidth)?.25*t:T.neckWidth,lt="string"==typeof lt&&lt.match(/%$/)?(lt=parseInt(lt))*et/100:parseInt(lt),R="string"==typeof R&&R.match(/%$/)?(R=parseInt(R))*t/100:parseInt(R),lt>et?lt=et:0>=lt&&(lt=0),R>t?R=t-.5:0>=R&&(R=0)):"pyramid"===T.type&&(R=lt=0,T.reversed=!T.reversed);var qt=$,he=$+t,oe=T.reversed?E:U,Bt=(N=$+t/2)-R/2,Se=N+R/2,te=T.reversed?U+lt:E-lt,ee=T.reversed?U:E;R=T.valueRepresents=T.valueRepresents?T.valueRepresents:"height",$=[],t=[];var li,Lt=[],Pe=(N=[],U),Ee=(te-oe)/(Bt-qt),Mi=-Ee;if(-1!==(ct="area"===R?function o(){var Ct,Wt,ht=qt,dt=he,vt=Bt,Zt=Se;Ct=U,Wt=E-lt,Zt=Math.abs((Wt-Ct)*(dt-ht+(Zt-vt))/2),Ct=Wt-Ct,Wt=(vt=Se-Bt)*(Wt-E),Wt=Zt+(Wt=Math.abs(Wt)),Zt=[];for(var Je=0,pe=0;pe<I.length;pe++){if(typeof I[pe].y>"u")return-1;I[pe].y="number"==typeof I[pe].y?I[pe].y:0,Je+=Math.abs(I[pe].y)}if(0===Je)return-1;var ve,We,xe=Zt[0]=0,Ft=0;for(dt-=ht,xe=!1,pe=0;pe<I.length;pe++)ht=Math.abs(I[pe].y)*Wt/Je,xe?ve=0==Number(vt.toFixed(3))?0:ht/vt:0>(We=Ee*Ee*dt*dt-4*Math.abs(Ee)*ht)?(ht-=xe=(dt+(We=vt))*(Ct-Ft)/2,ve=Ct-Ft,Ft+=Ct-Ft,ve+=0==We?0:ht/We,Ft+=ht/We,xe=!0):(We=dt-2*(ve=(Math.abs(Ee)*dt-Math.sqrt(We))/2)/Math.abs(Ee),(Ft+=ve)>Ct&&(xe=(dt+(We=vt))*(Ct-(Ft-=ve))/2,ve=Ct-Ft,Ft+=Ct-Ft,ve+=(ht-=xe)/We,Ft+=ht/We,xe=!0),dt=We),Zt.push(ve);return Zt}():function d(){for(var ht=0,dt=[],vt=0;vt<I.length;vt++){if(typeof I[vt].y>"u")return-1;I[vt].y="number"==typeof I[vt].y?I[vt].y:0,ht+=Math.abs(I[vt].y)}if(0===ht)return-1;for(vt=dt[0]=0;vt<I.length;vt++)dt.push(Math.abs(I[vt].y)*et/ht);return dt}())){if(T.reversed)for(N.push(Pe),R=ct.length-1;0<R;R--)N.push(Pe+=ct[R]);else for(R=0;R<ct.length;R++)N.push(Pe+=ct[R]);if(T.reversed)for(R=0;R<ct.length;R++)N[R]<te?($.push(Bt),t.push(Se),li=R):($.push((N[R]-oe+Ee*qt)/Ee),t.push((N[R]-oe+Mi*he)/Mi));else for(R=0;R<ct.length;R++)N[R]<te?($.push((N[R]-oe+Ee*qt)/Ee),t.push((N[R]-oe+Mi*he)/Mi),li=R):($.push(Bt),t.push(Se));for(R=0;R<ct.length-1;R++)Pe=T.reversed?I[I.length-1-R].color?I[I.length-1-R].color:T._colorSet[(I.length-1-R)%T._colorSet.length]:I[R].color?I[R].color:T._colorSet[R%T._colorSet.length],Lt.push(R===li?{x1:$[R],y1:N[R],x2:t[R],y2:N[R],x3:Se,y3:te,x4:t[R+1],y4:N[R+1],x5:$[R+1],y5:N[R+1],x6:Bt,y6:te,id:R,height:N[R+1]-N[R],color:Pe}:{x1:$[R],y1:N[R],x2:t[R],y2:N[R],x3:t[R+1],y3:N[R+1],x4:$[R+1],y4:N[R+1],id:R,height:N[R+1]-N[R],color:Pe});var ni=2,rt=[],Ui=!1,Ie=[],Yi=[];for($=!1,t=t=0,Oe(Ie),R=0;R<I.length;R++)I[R].exploded&&($=!0,Ie.push(T.reversed?I.length-1-R:R));if(tt.clearRect(A.x1,A.y1,A.width,A.height),tt.fillStyle=F.backgroundColor,tt.fillRect(A.x1,A.y1,A.width,A.height),Z&&T.visible&&(function n(){if(T&&I){for(var ht,dt,vt,Zt,Ct,Wt,Je,pe,Ft,ve,We,xe,Kt,Nt,St,fe,we,Re=[],Ke=[],Pi={percent:null,total:null},Qe=null,Gt=0;Gt<I.length;Gt++)we=h(we=typeof(we=Lt[Gt]).x5<"u"?(we.y2+we.y4)/2:(we.y2+we.y3)/2).x2+1,Re[Gt]=Q-we-Jt;we=.5*Jt,Gt=0;for(var Di=I.length-1;Gt<I.length||0<=Di;Gt++,Di--)ht=(dt=T.reversed?I[Di]:I[Gt]).color?dt.color:T.reversed?T._colorSet[(I.length-1-Gt)%T._colorSet.length]:T._colorSet[Gt%T._colorSet.length],vt=dt.indexLabelPlacement||T.indexLabelPlacement||"outside",fe=dt.indexLabelTextAlign||T.indexLabelTextAlign||"left",Zt=dt.indexLabelBackgroundColor||T.indexLabelBackgroundColor||(H?"transparent":null),Ct=dt.indexLabelBorderColor||T.indexLabelBorderColor||(H?"transparent":null),Wt=W(dt.indexLabelBorderThickness)?T.indexLabelBorderThickness:dt.indexLabelBorderThickness,Je=dt.indexLabelFontColor||T.indexLabelFontColor||"#979797",pe=W(dt.indexLabelFontSize)?T.indexLabelFontSize:dt.indexLabelFontSize,Ft=dt.indexLabelFontStyle||T.indexLabelFontStyle||"normal",ve=dt.indexLabelFontFamily||T.indexLabelFontFamily||"arial",We=dt.indexLabelFontWeight||T.indexLabelFontWeight||"normal",ht=dt.indexLabelLineColor||T.options.indexLabelLineColor||ht,xe="number"==typeof dt.indexLabelLineThickness?dt.indexLabelLineThickness:"number"==typeof T.indexLabelLineThickness?T.indexLabelLineThickness:2,Kt=dt.indexLabelLineDashType||T.indexLabelLineDashType||"solid",Nt=typeof dt.indexLabelWrap<"u"?dt.indexLabelWrap:!(typeof T.indexLabelWrap<"u")||T.indexLabelWrap,F._eventManager.objectMap[St=T.dataPointIds[Gt]]={id:St,objectType:"dataPoint",dataPointIndex:Gt,dataSeriesIndex:0,funnelSection:Lt[T.reversed?I.length-1-Gt:Gt]},"inside"===T.indexLabelPlacement&&(Re[Gt]=Gt!==li?T.reversed?Lt[Gt].x2-Lt[Gt].x1:Lt[Gt].x3-Lt[Gt].x4:Lt[Gt].x3-Lt[Gt].x6,20>Re[Gt]&&(Re[Gt]=Gt!==li&&T.reversed?Lt[Gt].x3-Lt[Gt].x4:Lt[Gt].x2-Lt[Gt].x1,Re[Gt]/=2)),((St=dt.indexLabelMaxWidth?dt.indexLabelMaxWidth:T.options.indexLabelMaxWidth?T.indexLabelMaxWidth:Re[Gt])>Re[Gt]||0>St)&&(St=Re[Gt]),Ke[Gt]="inside"===T.indexLabelPlacement&&(Nt?Math.max(Lt[Gt].height,pe):1.5*pe),Pi=F.getPercentAndTotal(T,dt),(T.indexLabelFormatter||dt.indexLabelFormatter)&&(Qe={chart:F.options,dataSeries:T,dataPoint:dt,total:Pi.total,percent:Pi.percent}),dt=dt.indexLabelFormatter?dt.indexLabelFormatter(Qe):dt.indexLabel?F.replaceKeywordsWithValue(dt.indexLabel,dt,T,Gt):T.indexLabelFormatter?T.indexLabelFormatter(Qe):T.indexLabel?F.replaceKeywordsWithValue(T.indexLabel,dt,T,Gt):dt.label?dt.label:"",0>=xe&&(xe=0),1e3>St&&1e3-St<we&&(St+=1e3-St),W(T.options.indexLabelMaxWidth)&&(T.indexLabelMaxWidth=W(T.indexLabelMaxWidth)?St:Math.max(St,T.indexLabelMaxWidth)),tt.roundRect||oi(tt),(vt=new se(tt,{fontSize:pe,fontFamily:ve,fontColor:Je,fontStyle:Ft,fontWeight:We,horizontalAlign:vt,textAlign:fe,backgroundColor:Zt,borderColor:Ct,borderThickness:Wt,maxWidth:St,maxHeight:!1===Ke[Gt]?Nt?4.28571429*pe:1.5*pe:Ke[Gt],text:dt,padding:ni,textBaseline:"middle"})).measureText(),vt.height=vt.height===2*vt.padding?0:vt.height,vt.width=vt.width===2*vt.padding?0:vt.width,rt.push({textBlock:vt,id:T.reversed?Di:Gt,isDirty:!1,lineColor:ht,lineThickness:xe,lineDashType:Kt,height:vt.height<vt.maxHeight?vt.height:vt.maxHeight,width:vt.width<vt.maxWidth?vt.width:vt.maxWidth})}}(),p(),"inside"!==T.indexLabelPlacement)){for(function l(){var ht,dt,vt,Zt,Ct,Wt=[];Ct=!1,vt=0;for(var Je,pe=Q-he-Jt/2,Ft=(pe=T.options.indexLabelMaxWidth?T.indexLabelMaxWidth>pe?pe:T.indexLabelMaxWidth:pe,rt.length-1);0<=Ft;Ft--)Je=I[rt[Ft].id],Zt=(vt=rt[Ft]).textBlock,dt=(ht=v(Ft)<Lt.length?rt[v(Ft)]:null)?ht.textBlock:null,vt=vt.height,ht&&Zt.y+vt+ni>dt.y&&(Ct=!0),((vt=Je.indexLabelMaxWidth||pe)>pe||0>vt)&&(vt=pe),Wt.push(vt);if(Ct)for(Ft=rt.length-1;0<=Ft;Ft--)ht=Lt[Ft],rt[Ft].textBlock.maxWidth=Wt[Wt.length-(Ft+1)],rt[Ft].textBlock.measureText(),rt[Ft].textBlock.height=rt[Ft].textBlock.height===2*rt[Ft].textBlock.padding?0:rt[Ft].textBlock.height,rt[Ft].textBlock.width=rt[Ft].textBlock.width===2*rt[Ft].textBlock.padding?0:rt[Ft].textBlock.width,rt[Ft].textBlock.x=Q-pe,Ct=rt[Ft].textBlock.width<rt[Ft].textBlock.maxWidth?rt[Ft].textBlock.width:rt[Ft].textBlock.maxWidth,rt[Ft].height=vt=rt[Ft].textBlock.height<rt[Ft].textBlock.maxHeight?rt[Ft].textBlock.height:rt[Ft].textBlock.maxHeight,rt[Ft].width=Ct,rt[Ft].textBlock.y=(vt=typeof ht.x5<"u"?(ht.y2+ht.y4)/2:(ht.y2+ht.y3)/2)-rt[Ft].height/2,T.reversed?(rt[Ft].textBlock.y+rt[Ft].height>oe+Y&&(rt[Ft].textBlock.y=oe+Y-rt[Ft].height),rt[Ft].textBlock.y<ee-Y&&(rt[Ft].textBlock.y=ee-Y)):(rt[Ft].textBlock.y<oe-Y&&(rt[Ft].textBlock.y=oe-Y),rt[Ft].textBlock.y+rt[Ft].height>ee+Y&&(rt[Ft].textBlock.y=ee+Y-rt[Ft].height))}(),function g(){function ht(Kt,Nt){var St;if(0>Kt||Kt>=rt.length)return 0;var fe,we=rt[Kt].textBlock;return 0>Nt?(Nt*=-1,(St=M(fe=b(Kt),Kt))>=Nt?(we.y-=Nt,Nt):0==Kt?(0<St&&(we.y-=St),St):(0<(St+=ht(fe,-(Nt-St)))&&(we.y-=St),St)):(St=M(Kt,fe=v(Kt)))>=Nt?(we.y+=Nt,Nt):Kt==Lt.length-1?(0<St&&(we.y+=St),St):(0<(St+=ht(fe,Nt-St))&&(we.y+=St),St)}function dt(){var Kt,Nt,St,fe,Re,we=0;fe=(E-U+2*Y)/ve,Re=ve;for(var Ke,Pi=1;Pi<Re;Pi++){St=Pi*fe;for(var Qe=rt.length-1;0<=Qe;Qe--)!rt[Qe].isDirty&&rt[Qe].textBlock.y<St&&rt[Qe].textBlock.y+rt[Qe].height>St&&!((Ke=v(Qe))>=rt.length-1)&&rt[Qe].textBlock.y+rt[Qe].height+ni>rt[Ke].textBlock.y&&(rt[Qe].textBlock.y=rt[Qe].textBlock.y+rt[Qe].height-St>St-rt[Qe].textBlock.y?St+1:St-rt[Qe].height-1)}for(Ke=Lt.length-1;0<Ke;Ke--)if(!rt[Ke].isDirty){if(0>(St=b(Ke))&&rt[St=0].isDirty)break;if(rt[Ke].textBlock.y<rt[St].textBlock.y+rt[St].height){for(Nt=Nt||Ke,fe=Ke,Re=0;rt[fe].textBlock.y<rt[St].textBlock.y+rt[St].height+ni;){if(Kt=Kt||rt[fe].textBlock.y+rt[fe].height,Re+=rt[fe].height,Re+=ni,0>=(fe=St)){Re+=rt[fe=0].height;break}if(0>(St=b(fe))){Re+=rt[fe=0].height;break}}if(fe!=Ke){we=vt(Kt=Re-(Kt-=we=rt[fe].textBlock.y),Nt,fe);break}}}return we}function vt(Kt,Nt,St){var fe=[],we=0,Re=0;for(Kt=Math.abs(Kt);St<=Nt;St++)fe.push(Lt[St]);for(fe.sort(function(Ke,Pi){return Ke.height-Pi.height}),St=0;St<fe.length&&(Nt=fe[St],we<Kt);St++)Re++,we+=rt[Nt.id].height+ni,rt[Nt.id].textBlock.text="",rt[Nt.id].indexLabelText="",rt[Nt.id].isDirty=!0,rt[Nt.id].textBlock.measureText();return Re}for(var Zt,Ct,Wt,Je,pe,Ft,ve=1,We=0;We<2*ve;We++){for(var xe=rt.length-1;0<=xe&&(0<=b(xe)&&b(xe),Je=(Wt=rt[xe]).textBlock,Ft=(pe=v(xe)<Lt.length?rt[v(xe)]:null)?pe.textBlock:null,Zt=+Wt.height.toFixed(6),Ct=+Je.y.toFixed(6),!(!Wt.isDirty&&pe&&Ct+Zt+ni>+Ft.y.toFixed(6)&&(Zt=Je.y+Zt+ni-Ft.y,Ct=ht(xe,-Zt),Ct<Zt&&(0<Ct&&(Zt-=Ct),Ct=ht(v(xe),Zt),Ct!=Zt))));xe--);dt()}}(),R=0;R<I.length;R++)rt[R].isDirty||(t=(Q-(t=rt[R].textBlock.x+rt[R].width))/2,0==R&&(z=t),z>t&&(z=t));for(R=0;R<Lt.length;R++)Lt[R].x1+=z,Lt[R].x2+=z,Lt[R].x3+=z,Lt[R].x4+=z,Lt[R].x5&&(Lt[R].x5+=z,Lt[R].x6+=z),rt[R].textBlock.x+=z}for(R=0;R<Lt.length;R++)Le(tt,z=Lt[R],T.fillOpacity),Yi.push(z.y1);if(w(tt),Z&&T.visible&&("inside"===T.indexLabelPlacement||F.animationEnabled||m(tt),F.animationEnabled||C()),!Z)for(R=0;R<I.length;R++)F._eventManager.objectMap[z=T.dataPointIds[R]]=t={id:z,objectType:"dataPoint",dataPointIndex:R,dataSeriesIndex:0,funnelSection:Lt[T.reversed?I.length-1-R:R]};return(!F.animationEnabled&&$||F.animationEnabled&&!F.animatedRender)&&_(F,-1,0),this.funnelPyramidClickHandler=function(Zt){var Ct=-1;!Ui&&!F.isAnimating&&(W(Zt.dataSeries.explodeOnClick)||Zt.dataSeries.explodeOnClick)&&0<=(Ct=T.reversed?I.length-1-Zt.dataPointIndex:Zt.dataPointIndex)&&(Zt=Ct,("funnel"===T.type||"pyramid"===T.type)&&(T.reversed?I[I.length-1-Zt].exploded=!I[I.length-1-Zt].exploded:I[Zt].exploded=!I[Zt].exploded),_(F,Ct,500))},{source:tt,dest:this.plotArea.ctx,animationCallback:function(Zt,Ct){At.fadeInAnimation(Zt,Ct),1<=Zt&&(_(F,-1,500),w(F.plotArea.ctx||F.ctx))},easingFunction:At.easing.easeInQuad,animationBase:0}}}}},B.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},B.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,B.prototype.set=function(t,d,o){o=typeof o>"u"||o,"options"===t?(this.options=d,o&&this.render()):B.base.set.call(this,t,d,o)},B.prototype.exportChart=function(t){var d=(t=typeof t>"u"?{}:t).format?t.format:"png",o=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+d);if((n=this.canvas)&&d&&o){o=o+"."+d;var n=n.toDataURL(t="image/"+d),l=!1,p=document.createElement("a");if(p.download=o,p.href=n,typeof Blob<"u"&&new Blob){for(var g=n.replace(/^data:[a-z\/]*;base64,/,""),M=(g=atob(g),new ArrayBuffer(g.length)),_=(M=new Uint8Array(M),0);_<g.length;_++)M[_]=g.charCodeAt(_);d=new Blob([M.buffer],{type:"image/"+d});try{window.navigator.msSaveBlob(d,o),l=!0}catch{p.dataset.downloadurl=[t,p.download,p.href].join(":"),p.href=window.URL.createObjectURL(d)}}if(!l)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),p.dispatchEvent?p.dispatchEvent(event):p.fireEvent&&p.fireEvent("onclick")}catch{(d=window.open()).document.write("<img src='"+n+"'></img><div>Please right click on the image and save it to your device</div>"),d.document.close()}}},B.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),d=document.createElement("iframe");d.setAttribute("class","canvasjs-chart-print-frame"),ce(d,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),d.style.height=this.height+"px",this._canvasJSContainer.appendChild(d);var o=this,n=d.contentWindow||d.contentDocument.document||d.contentDocument;n.document.open(),n.document.write('<!DOCTYPE HTML>\n<html><body><img src="'+t+'"/><body/></html>'),n.document.body&&n.document.body.style&&(n.document.body.style.margin="0px 0px 0px 0px",n.document.body.style.padding="0px 0px 0px 0px"),n.document.close(),setTimeout(function(){n.focus(),n.print(),setTimeout(function(){o._canvasJSContainer.removeChild(d)},1e3)},500)},B.prototype.getPercentAndTotal=function(t,d){var o=null,n=null,l=o=null;if(0<=t.type.indexOf("stacked"))n=0,(o=d.x.getTime?d.x.getTime():d.x)in t.plotUnit.yTotals&&(n=t.plotUnit.yTotals[o],o=t.plotUnit.yAbsTotals[o],l=isNaN(d.y)||0===o?0:d.y/o*100);else if("pie"===t.type||"doughnut"===t.type||"funnel"===t.type||"pyramid"===t.type){for(o=n=0;o<t.dataPoints.length;o++)isNaN(t.dataPoints[o].y)||(n+=t.dataPoints[o].y);l=isNaN(d.y)?0:d.y/n*100}return{percent:l,total:n}},B.prototype.replaceKeywordsWithValue=function(t,d,o,n,l){var p=this;if(l=typeof l>"u"?0:l,(0<=o.type.indexOf("stacked")||"pie"===o.type||"doughnut"===o.type||"funnel"===o.type||"pyramid"===o.type)&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var _="#percent",M="#total",g=this.getPercentAndTotal(o,d);M=isNaN(g.total)?M:g.total,_=isNaN(g.percent)?_:g.percent;do{if(g="",o.percentFormatString)g=o.percentFormatString;else{g="#,##0.";var f=Math.max(Math.ceil(Math.log(1/Math.abs(_))/Math.LN10),2);(isNaN(f)||!isFinite(f))&&(f=2);for(var m=0;m<f;m++)g+="#";o.percentFormatString=g}t=(t=t.replace("#percent",Ht(_,g,p._cultureInfo))).replace("#total",Ht(M,o.yValueFormatString?o.yValueFormatString:"#,##0.########",p._cultureInfo))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(b){if('"'===b[0]&&'"'===b[b.length-1]||"'"===b[0]&&"'"===b[b.length-1])return b.slice(1,b.length-1);b=(b=Ze(b.slice(1,b.length-1))).replace("#index",l);var v=null;try{var h=b.match(/(.*?)\s*\[\s*(.*?)\s*\]/);h&&0<h.length&&(v=Ze(h[2]),b=Ze(h[1]))}catch{}if(h=null,"color"===b)return"waterfall"===o.type?d.color?d.color:0<d.y?o.risingColor:o.fallingColor:"error"===o.type?o.color?o.color:o._colorSet[v%o._colorSet.length]:d.color?d.color:o.color?o.color:o._colorSet[n%o._colorSet.length];if(d.hasOwnProperty(b))h=d;else{if(!o.hasOwnProperty(b))return"";h=o}return h=h[b],null!==v&&(h=h[v]),"x"===b?(o.axisX&&"dateTime"===o.axisX.valueType||"dateTime"===o.xValueType||d.x&&d.x.getTime)&&!o.axisX.logarithmic?Ii(h,d.xValueFormatString?d.xValueFormatString:o.xValueFormatString?o.xValueFormatString:o.xValueFormatString=p.axisX&&p.axisX.autoValueFormatString?p.axisX.autoValueFormatString:"DD MMM YY",p._cultureInfo):Ht(h,d.xValueFormatString?d.xValueFormatString:o.xValueFormatString?o.xValueFormatString:o.xValueFormatString="#,##0.########",p._cultureInfo):"y"===b?Ht(h,d.yValueFormatString?d.yValueFormatString:o.yValueFormatString?o.yValueFormatString:o.yValueFormatString="#,##0.########",p._cultureInfo):"z"===b?Ht(h,d.zValueFormatString?d.zValueFormatString:o.zValueFormatString?o.zValueFormatString:o.zValueFormatString="#,##0.########",p._cultureInfo):h})},je(pt,Me),pt.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,d=t.layoutManager.getFreeSpace(),o=null,n=0,l=0,p=0,g=0,M=this.markerMargin=this.chart.options.legend&&!W(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var _=[],f=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",o=this.verticalAlign,p=this.maxWidth=null!==this.maxWidth?this.maxWidth:d.width,g=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*d.height):"center"===this.verticalAlign&&(this.orientation="vertical",("left"===this.horizontalAlign||"center"===this.horizontalAlign||"right"===this.horizontalAlign)&&(o=this.horizontalAlign),p=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*d.width,g=this.maxHeight=null!==this.maxHeight?this.maxHeight:d.height),this.errorMarkerColor=[];for(var m=0;m<this.dataSeries.length;m++){var b=this.dataSeries[m];if(b.dataPoints&&b.dataPoints.length){if("pie"!==b.type&&"doughnut"!==b.type&&"funnel"!==b.type&&"pyramid"!==b.type){var v=b.legendMarkerType=b.legendMarkerType?b.legendMarkerType:"line"!==b.type&&"stepLine"!==b.type&&"spline"!==b.type&&"scatter"!==b.type&&"bubble"!==b.type||!b.markerType?"error"===b.type&&b._linkedSeries?b._linkedSeries.legendMarkerType?b._linkedSeries.legendMarkerType:Mt.getDefaultLegendMarker(b._linkedSeries.type):Mt.getDefaultLegendMarker(b.type):b.markerType,h=b.legendText?b.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:b,dataPoint:null}):b.name,C=b.legendMarkerColor=b.legendMarkerColor?b.legendMarkerColor:b.markerColor?b.markerColor:"error"===b.type?W(b.whiskerColor)?b._colorSet[0]:b.whiskerColor:b._colorSet[0],w=b.markerSize||"line"!==b.type&&"stepLine"!==b.type&&"spline"!==b.type?.75*this.lineHeight:0,F=b.legendMarkerBorderColor?b.legendMarkerBorderColor:b.markerBorderColor,T=b.legendMarkerBorderThickness?b.legendMarkerBorderThickness:b.markerBorderThickness?Math.max(1,Math.round(.2*w)):0;"error"===b.type&&this.errorMarkerColor.push(C),h=b.legendText=this.chart.replaceKeywordsWithValue(h,b.dataPoints[0],b,m),_.push(v={markerType:v,markerColor:C,text:h,textBlock:null,chartType:b.type,markerSize:w,lineColor:b._colorSet[0],dataSeriesIndex:b.index,dataPointIndex:null,markerBorderColor:F,markerBorderThickness:T})}else for(var I=0;I<b.dataPoints.length;I++){var A=b.dataPoints[I];v=A.legendMarkerType?A.legendMarkerType:b.legendMarkerType?b.legendMarkerType:Mt.getDefaultLegendMarker(b.type),h=A.legendText?A.legendText:b.legendText?b.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:b,dataPoint:A}):A.name?A.name:"DataPoint: "+(I+1),C=A.legendMarkerColor?A.legendMarkerColor:b.legendMarkerColor?b.legendMarkerColor:A.color?A.color:b.color?b.color:b._colorSet[I%b._colorSet.length],w=.75*this.lineHeight,F=A.legendMarkerBorderColor?A.legendMarkerBorderColor:b.legendMarkerBorderColor?b.legendMarkerBorderColor:A.markerBorderColor?A.markerBorderColor:b.markerBorderColor,T=A.legendMarkerBorderThickness?A.legendMarkerBorderThickness:b.legendMarkerBorderThickness?b.legendMarkerBorderThickness:A.markerBorderThickness||b.markerBorderThickness?Math.max(1,Math.round(.2*w)):0,v={markerType:v,markerColor:C,text:h=this.chart.replaceKeywordsWithValue(h,A,b,I),textBlock:null,chartType:b.type,markerSize:w,dataSeriesIndex:m,dataPointIndex:I,markerBorderColor:F,markerBorderThickness:T},(A.showInLegend||b.showInLegend&&!1!==A.showInLegend)&&_.push(v)}W(b.legendText)&&(b.legendText=b.name)}}if(!0===this.reversed&&_.reverse(),0<_.length){for(b=null,h=A=I=0,A=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,p):this.itemMaxWidth=Math.min(this.itemWidth,p):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,p):this.itemMaxWidth=p,A=(this.itemMaxWidth?this.itemMaxWidth:A)-((w=0===w?.75*this.lineHeight:w)+M),m=0;m<_.length;m++)C=A,("line"===(v=_[m]).chartType||"spline"===v.chartType||"stepLine"===v.chartType)&&(C-=.2*this.lineHeight),0>=g||typeof g>"u"||0>=C||typeof C>"u"||("horizontal"===this.orientation?(v.textBlock=new se(this.ctx,{x:0,y:0,maxWidth:C,maxHeight:this.itemWrap?g:this.lineHeight,angle:0,text:v.text,textAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),v.textBlock.measureText(),null!==this.itemWidth&&(v.textBlock.width=this.itemWidth-(w+M+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0))),(!b||b.width+Math.round(v.textBlock.width+w+M+(0===b.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0))>p)&&(f.push(b={items:[],width:0}),this.height+=h,h=0),h=Math.max(h,v.textBlock.height?v.textBlock.height:this.lineHeight),v.textBlock.x=b.width,v.textBlock.y=0,b.width+=Math.round(v.textBlock.width+w+M+(0===b.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0)),b.items.push(v),this.width=Math.max(b.width,this.width)):(v.textBlock=new se(this.ctx,{x:0,y:0,maxWidth:A,maxHeight:!0===this.itemWrap?g:1.5*this.fontSize,angle:0,text:v.text,textAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),v.textBlock.measureText(),null!==this.itemWidth&&(v.textBlock.width=this.itemWidth-(w+M+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0))),this.height<g-this.lineHeight?f.push(b={items:[],width:0}):(b=f[I],I=(I+1)%f.length),b&&(this.height+=v.textBlock.height?v.textBlock.height:this.lineHeight,v.textBlock.x=b.width,v.textBlock.y=0,b.width+=Math.round(v.textBlock.width+w+M+(0===b.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0)),b.items.push(v),this.width=Math.max(b.width,this.width))));this.height=!1===this.itemWrap?f.length*this.lineHeight:this.height+h,this.height=Math.min(g,this.height),this.width=Math.min(p,this.width)}for("top"===this.verticalAlign?(l="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,n=d.y1):"center"===this.verticalAlign?(l="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,n=d.y1+d.height/2-this.height/2):"bottom"===this.verticalAlign&&(l="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,n=d.y2-this.height),this.items=_,m=0;m<this.items.length;m++)(v=_[m]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[v.id]={id:v.id,objectType:"legendItem",legendItemIndex:m,dataSeriesIndex:v.dataSeriesIndex,dataPointIndex:v.dataPointIndex};this.markerSize=w,this.rows=f,0<_.length&&t.layoutManager.registerSpace(o,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:l,y1:n,x2:l+this.width,y2:n+this.height}},pt.prototype.render=function(){var t=this.bounds.x1,d=this.bounds.y1,o=this.markerMargin,n=this.maxWidth,l=this.maxHeight,p=this.markerSize,g=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,d,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var M=0,_=0;_<g.length;_++){for(var f=g[_],m=0,b=0;b<f.items.length;b++){var v=f.items[b],h=v.textBlock.x+t+(0===b?.2*p:this.horizontalSpacing),C=d+M,w=h;if(this.chart.data[v.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,d,n,Math.max(l-l%this.lineHeight,0)),this.ctx.clip(),("line"===v.chartType||"stepLine"===v.chartType||"spline"===v.chartType)&&(this.ctx.strokeStyle=v.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(h-.1*this.lineHeight,C+this.lineHeight/2),this.ctx.lineTo(h+.85*this.lineHeight,C+this.lineHeight/2),this.ctx.stroke(),w-=.1*this.lineHeight),"error"===v.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=p/8,this.ctx.beginPath();var F=h-.08*this.lineHeight+.1*this.lineHeight,T=C+.15*this.lineHeight,I=.7*this.lineHeight,A=I+.02*this.lineHeight;this.ctx.moveTo(F,T),this.ctx.lineTo(F+I,T),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(F+I/2,T),this.ctx.lineTo(F+I/2,T+A),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(F,T+A),this.ctx.lineTo(F+I,T+A),this.ctx.stroke(),this.errorMarkerColor.shift()}me.drawMarker(h+p/2,C+this.lineHeight/2,this.ctx,v.markerType,"error"===v.chartType||"line"===v.chartType||"spline"===v.chartType?v.markerSize/2:v.markerSize,v.markerColor,v.markerBorderColor,v.markerBorderThickness),v.textBlock.x=h+o+p,("line"===v.chartType||"stepLine"===v.chartType||"spline"===v.chartType)&&(v.textBlock.x+=.1*this.lineHeight),v.textBlock.y=Math.round(C+this.lineHeight/2),v.textBlock.render(!0),this.ctx.restore(),m=0<b?Math.max(m,v.textBlock.height?v.textBlock.height:this.lineHeight):v.textBlock.height?v.textBlock.height:this.lineHeight,this.chart.data[v.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),h=Rt(v.id),this.ghostCtx.fillStyle=h,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(w,v.textBlock.y-this.lineHeight/2,v.textBlock.x+v.textBlock.width-w,v.textBlock.height?v.textBlock.height:this.lineHeight),v.x1=this.chart._eventManager.objectMap[v.id].x1=w,v.y1=this.chart._eventManager.objectMap[v.id].y1=v.textBlock.y-this.lineHeight/2,v.x2=this.chart._eventManager.objectMap[v.id].x2=v.textBlock.x+v.textBlock.width,v.y2=this.chart._eventManager.objectMap[v.id].y2=v.textBlock.y+(v.textBlock.height?v.textBlock.height:this.lineHeight)-this.lineHeight/2}M+=m}},je(Mt,Me),Mt.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t||"pyramid"===t?"none":("error"!==t&&window.console.log("Unknown Chart Type: "+t),null)},Mt.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t||"funnel"===t||"pyramid"===t?"triangle":"error"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},Mt.prototype.getDataPointAtX=function(t,d){if(!this.dataPoints||0===this.dataPoints.length)return null;var o={dataPoint:null,distance:1/0,index:NaN},n=null,l=0,p=0,g=1,M=1/0,_=0,f=0,m=0;for("none"!==this.chart.plotInfo.axisPlacement&&(m=this.axisX.logarithmic?1<(m=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/m*Math.log(t/this.dataPoints[0].x)|0,0),this.dataPoints.length):0:0<(m=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/m*(t-this.dataPoints[0].x)|0,0),this.dataPoints.length):0);;){if(0<=(p=0<g?m+l:m-l)&&p<this.dataPoints.length){n=this.dataPoints[p];var b=this.axisX.logarithmic?n.x>t?n.x/t:t/n.x:Math.abs(n.x-t);if(b<o.distance&&(o.dataPoint=n,o.distance=b,o.index=p),(n=b)<=M?M=n:0<g?_++:f++,1e3<_&&1e3<f)break}else if(0>m-l&&m+l>=this.dataPoints.length)break;-1===g?(l++,g=1):g=-1}return d||(o.dataPoint.x.getTime?o.dataPoint.x.getTime():o.dataPoint.x)!==(t.getTime?t.getTime():t)?d&&null!==o.dataPoint?o:null:o},Mt.prototype.getDataPointAtXY=function(t,d,o){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||d<this.chart.plotArea.y1||d>this.chart.plotArea.y2)return null;o=o||!1;var n=[],l=0,p=0,g=1,M=!1,_=1/0,f=0,m=0,v=0;for("none"!==this.chart.plotInfo.axisPlacement&&(v=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:d}),v=this.axisX.logarithmic?1<(b=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/b*Math.log(v/this.dataPoints[0].x)|0,0),this.dataPoints.length):0:0<(b=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/b*(v-this.dataPoints[0].x)|0,0),this.dataPoints.length):0);;){if(0<=(p=0<g?v+l:v-l)&&p<this.dataPoints.length){var b,h=this.dataPoints[p],C=null;if(b=this.chart._eventManager.objectMap[this.dataPointIds[p]]){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=b.x1&&t<=b.x2&&d>=b.y1&&d<=b.y2&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(b.x1-t),Math.abs(b.x2-t),Math.abs(b.y1-d),Math.abs(b.y2-d))}),M=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var w=ie("markerSize",h,this)||4,F=o?20:w;(C=Math.sqrt(Math.pow(b.x1-t,2)+Math.pow(b.y1-d,2)))<=F&&n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:C}),(b=Math.abs(b.x1-t))<=_?_=b:0<g?f++:m++,C<=w/2&&(M=!0);break;case"rangeArea":case"rangeSplineArea":w=ie("markerSize",h,this)||4,F=o?20:w,(C=Math.min(Math.sqrt(Math.pow(b.x1-t,2)+Math.pow(b.y1-d,2)),Math.sqrt(Math.pow(b.x1-t,2)+Math.pow(b.y2-d,2))))<=F&&n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:C}),(b=Math.abs(b.x1-t))<=_?_=b:0<g?f++:m++,C<=w/2&&(M=!0);break;case"bubble":w=b.size,(C=Math.sqrt(Math.pow(b.x1-t,2)+Math.pow(b.y1-d,2)))<=w/2&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:C}),M=!0);break;case"pie":case"doughnut":w=b.center,F="doughnut"===this.type?b.percentInnerRadius*b.radius:0,(C=Math.sqrt(Math.pow(w.x-t,2)+Math.pow(w.y-d,2)))<b.radius&&C>F&&(0>(C=Math.atan2(d-w.y,t-w.x))&&(C+=2*Math.PI),C=Number(((C/Math.PI*180%360+360)%360).toFixed(12)),w=Number(((b.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(F=Number(((b.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<b.endAngle&&(F=360),w>=F&&0!==h.y&&!W(h.y)&&(F+=360,C<w&&(C+=360)),C>w&&C<F&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:0}),M=!0));break;case"funnel":case"pyramid":d>(C=b.funnelSection).y1&&d<C.y4&&(C.y6?d>C.y6?(p=C.x6+(C.x5-C.x6)/(C.y5-C.y6)*(d-C.y6),C=C.x3+(C.x4-C.x3)/(C.y4-C.y3)*(d-C.y3)):(p=C.x1+(C.x6-C.x1)/(C.y6-C.y1)*(d-C.y1),C=C.x2+(C.x3-C.x2)/(C.y3-C.y2)*(d-C.y2)):(p=C.x1+(C.x4-C.x1)/(C.y4-C.y1)*(d-C.y1),C=C.x2+(C.x3-C.x2)/(C.y3-C.y2)*(d-C.y2)),t>p&&t<C&&(n.push({dataPoint:h,dataPointIndex:b.dataPointIndex,dataSeries:this,distance:0}),M=!0));break;case"boxAndWhisker":(t>=b.x1-b.borderThickness/2&&t<=b.x2+b.borderThickness/2&&d>=b.y4-b.borderThickness/2&&d<=b.y1+b.borderThickness/2||Math.abs(b.x2-t+b.x1-t)<b.borderThickness&&d>=b.y1&&d<=b.y4)&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(b.x1-t),Math.abs(b.x2-t),Math.abs(b.y2-d),Math.abs(b.y3-d))}),M=!0);break;case"candlestick":(t>=b.x1-b.borderThickness/2&&t<=b.x2+b.borderThickness/2&&d>=b.y2-b.borderThickness/2&&d<=b.y3+b.borderThickness/2||Math.abs(b.x2-t+b.x1-t)<b.borderThickness&&d>=b.y1&&d<=b.y4)&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(b.x1-t),Math.abs(b.x2-t),Math.abs(b.y2-d),Math.abs(b.y3-d))}),M=!0);break;case"ohlc":(Math.abs(b.x2-t+b.x1-t)<b.borderThickness&&d>=b.y2&&d<=b.y3||t>=b.x1&&t<=(b.x2+b.x1)/2&&d>=b.y1-b.borderThickness/2&&d<=b.y1+b.borderThickness/2||t>=(b.x1+b.x2)/2&&t<=b.x2&&d>=b.y4-b.borderThickness/2&&d<=b.y4+b.borderThickness/2)&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(b.x1-t),Math.abs(b.x2-t),Math.abs(b.y2-d),Math.abs(b.y3-d))}),M=!0)}if(M||1e3<f&&1e3<m)break}}else if(0>v-l&&v+l>=this.dataPoints.length)break;-1===g?(l++,g=1):g=-1}for(t=null,d=0;d<n.length;d++)t?n[d].distance<=t.distance&&(t=n[d]):t=n[d];return t},Mt.prototype.getMarkerProperties=function(t,d,o,n){var l=this.dataPoints,p=l[t].markerColor?l[t].markerColor:this.markerColor?this.markerColor:l[t].color?l[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],g=l[t].markerBorderColor?l[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,M=W(l[t].markerBorderThickness)?this.markerBorderThickness?this.markerBorderThickness:null:l[t].markerBorderThickness;return{x:d,y:o,ctx:n,type:l[t].markerType?l[t].markerType:this.markerType,size:t=W(l[t].markerSize)?this.markerSize:l[t].markerSize,color:p,borderColor:g,borderThickness:M}},je(nt,Me),nt.prototype.createExtraLabelsForLog=function(t){if(!(5<(t=(t||0)+1))){var d=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(d/this.viewportMinimum)<this.noTicks-1){for(var o=nt.getNiceNumber((d-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),n=Math.ceil(this.viewportMinimum/o)*o;n<d;n+=o)n<this.viewportMinimum||this.logLabelValues.push(n);this.logLabelValues.sort(wi),this.createExtraLabelsForLog(t)}}},nt.prototype.createLabels=function(){var t,d,n,_,m,o=0,g=0,l=0,p=0,M=(g=0,g=this.interval,0),f=.6*this.chart.height;t=!1;var b=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],v=b.length?W(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(n=this.viewportMaximum,this.labels){t=Math.ceil(g);var h=!1;for(o=g=Math.ceil(this.intervalStartPosition);o<this.viewportMaximum;o+=t){if(!this.labels[o]){h=!1;break}h=!0}h&&(this.interval=t,this.intervalStartPosition=g)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),g=0,h=v;g<this.logLabelValues.length;g++)if((o=this.logLabelValues[g])<this.viewportMinimum)g++;else{for(;h<b.length&&o>b[h].endValue;h++);m=o,(t=h<b.length&&o>=b[h].startValue&&o<=b[h].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:m,label:this.labels[m]?this.labels[m]:null}):"axisX"===this.type&&this.labels[m]?this.labels[m]:Ht(m,this.valueFormatString,this.chart._cultureInfo),t=new se(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:p,angle:this.labelAngle,text:this.prefix+t+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:this.labelBorderThickness}),this._labels.push({position:m,textBlock:t,effectiveHeight:null}))}for(h=v,o=this.intervalStartPosition;o<=n;o=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?o*Math.pow(this.logarithmBase,this.interval):o+this.interval:(this.logarithmic&&this.equidistantInterval?o*Math.pow(this.logarithmBase,this.interval):o+this.interval).toFixed(12))){for(;h<b.length&&o>b[h].endValue;h++);m=o,(t=h<b.length&&o>=b[h].startValue&&o<=b[h].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:m,label:this.labels[m]?this.labels[m]:null}):"axisX"===this.type&&this.labels[m]?this.labels[m]:Ht(m,this.valueFormatString,this.chart._cultureInfo),t=new se(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:p,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:m,textBlock:t,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),n=_t(new Date(this.viewportMaximum),this.interval,this.intervalType),h=v,o=this.intervalStartPosition;o<n;_t(o,g,this.intervalType)){for(t=o.getTime();h<b.length&&t>b[h].endValue;h++);m=t,(t=h<b.length&&t>=b[h].startValue&&t<=b[h].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(m),label:this.labels[m]?this.labels[m]:null}):"axisX"===this.type&&this.labels[m]?this.labels[m]:Ii(m,this.valueFormatString,this.chart._cultureInfo),t=new se(this.ctx,{x:0,y:0,maxWidth:l,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:p,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:m,textBlock:t,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(M=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Pt[this.intervalType+"Duration"]*this.interval,l=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width|0:this.options.labelMaxWidth,this.chart.panEnabled||(p=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height|0:1.5*this.labelFontSize)):("left"===this._position||"right"===this._position)&&(M=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Pt[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(l=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width|0:this.options.labelMaxWidth),p=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height|0:1.5*this.labelFontSize),g=0;g<this._labels.length;g++){(t=this._labels[g].textBlock).maxWidth=l,t.maxHeight=p;var C=t.measureText();_=C.height}if(n=[],v=b=0,this.labelAutoFit||this.options.labelAutoFit)if(W(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(l=.9*M|0,v=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,o=0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){var w;for(h=(t=this._labels[o].textBlock).text.split(" "),g=0;g<h.length;g++)m=h[g],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,(m=this.ctx.measureText(m)).width>v&&(w=o,v=m.width)}for(o=0,o=this.intervalStartPosition<this.viewportMinimum?1:0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){for(C=(t=this._labels[o].textBlock).measureText(),h=o+1;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){d=(d=this._labels[h].textBlock).measureText();break}if(n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),g=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(p-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),W(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:Math.min((g-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),g),m=(f-(_+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),W(this.options.labelWrap)){if(W(this.options.labelWrap))if(W(this.options.labelMaxWidth)){if(!W(d))if(g=C.width+d.width|0,h=this.labelFontSize,v<l)g-2*l>b&&(b=g-2*l,g>=2*l&&g<2.2*l?(this.sessionVariables.labelMaxWidth=l,W(this.options.labelFontSize)&&12<h&&(h=Math.floor(12/13*h),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):g>=2.2*l&&g<2.8*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=m,this.sessionVariables.labelFontSize=h):g>=2.8*l&&g<3.2*l?(this.sessionVariables.labelMaxWidth=Math.max(l,v),this.sessionVariables.labelWrap=!0,W(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):g>=3.2*l&&g<3.6*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=m,this.sessionVariables.labelFontSize=this.labelFontSize):g>3.6*l&&g<5*l?(W(this.options.labelFontSize)&&12<h&&(h=Math.floor(12/13*h),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=m):g>5*l&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelFontSize=h,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=this.labelAngle));else if(w===o&&(0===w&&v+this._labels[w+1].textBlock.measureText().width-2*l>b||w===this._labels.length-1&&v+this._labels[w-1].textBlock.measureText().width-2*l>b||0<w&&w<this._labels.length-1&&v+this._labels[w+1].textBlock.measureText().width-2*l>b&&v+this._labels[w-1].textBlock.measureText().width-2*l>b))b=0===w?v+this._labels[w+1].textBlock.measureText().width-2*l:v+this._labels[w-1].textBlock.measureText().width-2*l,this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=m;else if(0===b)for(this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,g=0;g<this._labels.length;g++)(t=this._labels[g].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),m),C=t.measureText(),g<this._labels.length-1&&((d=this._labels[h=g+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),m),d=d.measureText(),(C.width+d.width|0)>2*l&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<l?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=g):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=p)}else this.labelWrap?W(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),m),this.sessionVariables.labelWrap=this.labelWrap,d&&(C.width+d.width|0)>2*l&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle):W(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=l,d&&(C.width+d.width|0)>2*l&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=m)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:Math.min((g-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),g),m=0!=this.labelAngle?(f-(_+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):l,this.sessionVariables.labelMaxHeight=this.labelWrap?(f-m*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,W(this.options.labelWrap)?W(this.options.labelWrap)&&(this.labelWrap&&!W(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:m,this.sessionVariables.labelMaxHeight=p):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=m,this.sessionVariables.labelMaxHeight=g<.9*M?.9*M:g,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:m):(W(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:m,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=p)}for(g=0;g<this._labels.length;g++)(t=this._labels[g].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(o=0;o<this._labels.length;o++)(t=this._labels[o].textBlock).maxWidth=this.labelMaxWidth=W(this.options.labelMaxWidth)?W(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=l:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=W(this.options.labelFontSize)?W(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=W(this.options.labelAngle)?W(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=W(this.options.labelWrap)?W(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=W(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=p:this.sessionVariables.labelMaxHeight,t.measureText();else if("left"===this._position||"right"===this._position)if(l=W(this.options.labelMaxWidth)?.3*this.chart.width|0:this.options.labelMaxWidth,p=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height|0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=W(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,o=0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){for(C=(t=this._labels[o].textBlock).measureText(),h=o+1;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){d=(d=this._labels[h].textBlock).measureText();break}n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),g=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(p-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),W(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?W(this.options.labelWrap)?W(this.options.labelWrap)&&(W(this.options.labelMaxWidth)?W(d)||(M=C.height+d.height|0)-2*p>v&&(v=M-2*p,M>=2*p&&M<2.4*p?(W(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):M>=2.4*p&&M<2.8*p?(this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):M>=2.8*p&&M<3.2*p?(this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelWrap=!0,W(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=W(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):M>=3.2*p&&M<3.6*p?(this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):M>3.6*p&&M<10*p?(W(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=W(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):M>10*p&&M<50*p&&(W(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=W(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelAngle=W(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap||this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=p):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?l:Math.min((g-p*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),p),W(this.options.labelWrap)?W(this.options.labelWrap)&&(this.labelWrap&&!W(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=g):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:g,W(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:g,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=l):(this.sessionVariables.labelMaxHeight=p,W(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(g=0;g<this._labels.length;g++)(t=this._labels[g].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(W(this.chart.stockChart)||this.chart.isNavigator||(this.sessionVariables.labelMaxHeight=p),o=0;o<this._labels.length;o++)(t=this._labels[o].textBlock).maxWidth=this.labelMaxWidth=W(this.options.labelMaxWidth)?W(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=l:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=W(this.options.labelFontSize)?W(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=W(this.options.labelAngle)?W(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=W(this.options.labelWrap)?W(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=W(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=p:this.sessionVariables.labelMaxHeight,t.measureText();for(o=0;o<this.stripLines.length;o++){var F;"outside"===(l=this.stripLines[o]).labelPlacement?(p=this.sessionVariables.labelMaxWidth,("bottom"===this._position||"top"===this._position)&&(W(l.options.labelWrap)&&!W(this.sessionVariables.stripLineLabelMaxHeight)?F=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=F=l.labelWrap?.8*this.chart.height|0:1.5*this.labelFontSize),("left"===this._position||"right"===this._position)&&(W(l.options.labelWrap)&&!W(this.sessionVariables.stripLineLabelMaxHeight)?F=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=F=l.labelWrap?.8*this.chart.width|0:1.5*this.labelFontSize),W(l.labelBackgroundColor)&&(l.labelBackgroundColor="#EEEEEE")):(p="bottom"===this._position||"top"===this._position?.9*this.chart.width|0:.9*this.chart.height|0,F=W(l.options.labelWrap)||l.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width|0:.8*this.chart.height|0:1.5*this.labelFontSize,W(l.labelBackgroundColor)&&(l.labelBackgroundColor=W(l.startValue)&&0!==l.startValue?H?"transparent":null:"#EEEEEE")),l.labelFontSize="outside"===l.labelPlacement&&W(l.options.labelFontSize)?this.labelFontSize:l.labelFontSize,l.labelFontFamily="outside"===l.labelPlacement&&W(l.options.labelFontFamily)?this.labelFontFamily:l.labelFontFamily,l.labelFontWeight="outside"===l.labelPlacement&&W(l.options.labelFontWeight)?this.labelFontWeight:l.labelFontWeight,l.labelFontStyle="outside"===l.labelPlacement&&W(l.options.labelFontStyle)?this.labelFontStyle:l.labelFontStyle,t=new se(this.ctx,{x:0,y:0,backgroundColor:l.labelBackgroundColor,borderColor:l.labelBorderColor,borderThickness:l.labelBorderThickness,cornerRadius:l.labelCornerRadius,maxWidth:l.options.labelMaxWidth?l.options.labelMaxWidth:p,maxHeight:F,angle:this.labelAngle,text:l.labelFormatter?l.labelFormatter({chart:this.chart,axis:this,stripLine:l}):l.label,textAlign:l.labelTextAlign,fontSize:l.labelFontSize,fontFamily:l.labelFontFamily,fontWeight:l.labelFontWeight,fontColor:l.labelFontColor||l.color,fontStyle:l.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:l.value,textBlock:t,effectiveHeight:null,stripLine:l})}},nt.prototype.createLabelsAndCalculateWidth=function(){var t=0,d=0;this._labels=[],this._stripLineLabels=[];var o=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(d=0;d<this._labels.length;d++){var n=(n=this._labels[d].textBlock).measureText(),l=0;t<(l=0===this.labelAngle?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+n.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(this.labelEffectiveWidth=t=l),this._labels[d].effectiveWidth=l}for(d=0;d<this._stripLineLabels.length;d++)"outside"===this._stripLineLabels[d].stripLine.labelPlacement&&this._stripLineLabels[d].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[d].stripLine.value<=this.viewportMaximum&&(n=(n=this._stripLineLabels[d].textBlock).measureText(),l=0===this.labelAngle?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+n.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),"inside"===this.tickPlacement&&(l+=this.tickLength),"inside"===this.labelPlacement&&(t+=0<this._index?l:0),t<l&&(t=l),this.stripLineLabelEffectiveWidth=this._stripLineLabels[d].effectiveWidth=l)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+("inside"===this.tickPlacement?0<this._index?this.tickLength:0:this.tickLength)+o},nt.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var d,o=0,n=this.chart.isNavigator?0:5;if("bottom"===this._position||"top"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(o=0;o<this._labels.length;o++){d=(d=this._labels[o].textBlock).measureText();var l=0;t<(l=0===this.labelAngle?d.height:d.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+d.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(this.labelEffectiveHeight=t=l),this._labels[o].effectiveHeight=l}for(o=0;o<this._stripLineLabels.length;o++)"outside"===this._stripLineLabels[o].stripLine.labelPlacement&&this._stripLineLabels[o].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[o].stripLine.value<=this.viewportMaximum&&(d=(d=this._stripLineLabels[o].textBlock).measureText(),l=0===this.labelAngle?d.height:d.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+d.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),"inside"===this.tickPlacement&&(l+=this.tickLength),"inside"===this.labelPlacement&&(t+=0<this._index?l:0),t<l&&(t=l),this.stripLineLabelEffectiveHeight=this._stripLineLabels[o].effectiveHeight=l)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+("inside"===this.tickPlacement?0<this._index?this.tickLength:0:this.tickLength)+n},nt.setLayout=function(t,d,o,n,l,p){var g,M,_,f,m=t[0]?t[0].chart:d[0].chart,b=m.isNavigator?0:10,v=m._axes;if(t&&0<t.length)for(var h=0;h<t.length;h++)t[h]&&t[h].calculateAxisParameters();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateAxisParameters();if(o&&0<o.length)for(h=0;h<o.length;h++)o[h].calculateAxisParameters();if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].calculateAxisParameters();for(h=0;h<v.length;h++)if(v[h]&&v[h].scaleBreaks&&v[h].scaleBreaks._appliedBreaks.length)for(var C=v[h].scaleBreaks._appliedBreaks,w=0;w<C.length&&!(C[w].startValue>v[h].viewportMaximum);w++)C[w].endValue<v[h].viewportMinimum||(W(v[h].scaleBreaks.firstBreakIndex)&&(v[h].scaleBreaks.firstBreakIndex=w),C[w].startValue>=v[h].viewPortMinimum&&(v[h].scaleBreaks.lastBreakIndex=w));var z,et,Z,$,Q,F=w=0,T=0,I=0,A=0,Y=0,N=0,ct=M=0;for(C=Z=$=Q=!1,h=0;h<v.length;h++)v[h]&&v[h].title&&(v[h]._titleTextBlock=new se(v[h].ctx,{text:v[h].title,fontSize:v[h].titleFontSize,fontFamily:v[h].titleFontFamily,fontWeight:v[h].titleFontWeight,fontColor:v[h].titleFontColor,fontStyle:v[h].titleFontStyle,borderColor:v[h].titleBorderColor,borderThickness:v[h].titleBorderThickness,backgroundColor:v[h].titleBackgroundColor,cornerRadius:v[h].titleCornerRadius,textBaseline:"middle",textAlign:v[h].titleTextAlign}));for(h=0;h<v.length;h++)if(v[h].title)switch(v[h]._position){case"left":v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.height,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.width:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=-90;break;case"right":v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.height,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.width:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=90;break;default:v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.width,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.height:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=0}if("normal"===l){I=[],A=[],Y=[],N=[];for(var U=[],E=[],tt=[],lt=[];4>w;){var R=0,Jt=0,qt=0,he=0,oe=l=0,Bt=0,Se=0,te=0,ee=0,Lt=0,Pe=0;if(o&&0<o.length)for(Y=[],h=Lt=0;h<o.length;h++)Y.push(Math.ceil(o[h]?o[h].createLabelsAndCalculateWidth():0)),Lt+=Y[h],Bt+=o[h]&&!m.isNavigator?o[h].margin:0;else Y.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateWidth():0));if(tt.push(Y),n&&0<n.length)for(N=[],h=Pe=0;h<n.length;h++)N.push(Math.ceil(n[h]?n[h].createLabelsAndCalculateWidth():0)),Pe+=N[h],Se+=n[h]?n[h].margin:0;else N.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(lt.push(N),g=Math.round(p.x1+Lt+Bt),_=Math.round(p.x2-Pe-Se>m.width-b?m.width-b:p.x2-Pe-Se),t&&0<t.length)for(I=[],h=te=0;h<t.length;h++)t[h]&&(t[h].lineCoordinates={}),t[h].lineCoordinates.width=Math.abs(_-g),t[h].title&&(t[h]._titleTextBlock.maxWidth=0<t[h].titleMaxWidth&&t[h].titleMaxWidth<t[h].lineCoordinates.width?t[h].titleMaxWidth:t[h].lineCoordinates.width),I.push(Math.ceil(t[h]?t[h].createLabelsAndCalculateHeight():0)),te+=I[h],l+=t[h]&&!m.isNavigator?t[h].margin:0;else I.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(U.push(I),d&&0<d.length)for(A=[],h=ee=0;h<d.length;h++)d[h]&&(d[h].lineCoordinates={}),d[h].lineCoordinates.width=Math.abs(_-g),d[h].title&&(d[h]._titleTextBlock.maxWidth=0<d[h].titleMaxWidth&&d[h].titleMaxWidth<d[h].lineCoordinates.width?d[h].titleMaxWidth:d[h].lineCoordinates.width),A.push(Math.ceil(d[h]?d[h].createLabelsAndCalculateHeight():0)),ee+=A[h],oe+=d[h]&&!m.isNavigator?d[h].margin:0;else A.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateHeight():0));if(E.push(A),t&&0<t.length)for(h=0;h<t.length;h++)t[h]&&(t[h].lineCoordinates.x1=g,_=Math.round(p.x2-Pe-Se>m.width-b?m.width-b:p.x2-Pe-Se),t[h]._labels&&1<t[h]._labels.length&&(M=f=0,M="dateTime"===t[h].valueType?t[h]._labels[t[h]._labels.length-2]:t[h]._labels[t[h]._labels.length-1],F=(f=t[h]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),T=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle))),!t[h]||!t[h].labelAutoFit||W(z)||W(et)||m.isNavigator||m.stockChart||(M=0,0<t[h].labelAngle?et+T>_&&(M+=0<t[h].labelAngle?et+T-_-Pe:0):0>t[h].labelAngle?z-F<g&&z-F<t[h].viewportMinimum&&(ct=g-(Bt+t[h].tickLength+Y+z-F+t[h].labelFontSize/2)):0===t[h].labelAngle&&(et+T>_&&(M=et+T/2-_-Pe),z-F<g&&z-F<t[h].viewportMinimum&&(ct=g-Bt-t[h].tickLength-Y-z+F/2)),t[h].viewportMaximum===t[h].maximum&&t[h].viewportMinimum===t[h].minimum&&0<t[h].labelAngle&&0<M?_-=M:t[h].viewportMaximum===t[h].maximum&&t[h].viewportMinimum===t[h].minimum&&0>t[h].labelAngle&&0<ct?g+=ct:t[h].viewportMaximum===t[h].maximum&&t[h].viewportMinimum===t[h].minimum&&0===t[h].labelAngle&&(0<ct&&(g+=ct),0<M&&(_-=M))),m.panEnabled?te=W(m.sessionVariables.axisX.height)||m.stockChart?m.sessionVariables.axisX.height=te:m.sessionVariables.axisX.height:m.sessionVariables.axisX.height=te,M=Math.round(p.y2-te-l+R),f=Math.round(p.y2),t[h].lineCoordinates.x2=_,t[h].lineCoordinates.width=_-g,t[h].lineCoordinates.y1=M,t[h].lineCoordinates.y2=M,"inside"===t[h].labelPlacement&&0<h&&(t[h].lineCoordinates.y1=t[0].lineCoordinates.y2+R+(t[h].labelEffectiveHeight||0),t[h].lineCoordinates.y2=t[h].lineCoordinates.y1+t[h].lineThickness/2),"inside"===t[h].tickPlacement&&0<h&&(t[h].lineCoordinates.y1+=t[h].tickLength,t[h].lineCoordinates.y2=t[h].lineCoordinates.y1+t[h].lineThickness/2),t[h].bounds={x1:g,y1:M,x2:_,y2:f-(te+l-I[h]-R),width:_-g},t[h].bounds.height=t[h].bounds.y2-t[h].bounds.y1),R+=I[h]+t[h].margin;if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].lineCoordinates.x1=Math.round(p.x1+Lt+Bt),d[h].lineCoordinates.x2=Math.round(p.x2-Pe-Se>m.width-b?m.width-b:p.x2-Pe-Se),d[h].lineCoordinates.width=Math.abs(_-g),d[h]._labels&&1<d[h]._labels.length&&(M="dateTime"===d[h].valueType?d[h]._labels[d[h]._labels.length-2]:d[h]._labels[d[h]._labels.length-1],F=(f=d[h]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),T=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle))),m.panEnabled?ee=W(m.sessionVariables.axisX2.height)||m.stockChart?m.sessionVariables.axisX2.height=ee:m.sessionVariables.axisX2.height:m.sessionVariables.axisX2.height=ee,M=Math.round(p.y1),f=d[h].lineCoordinates.y1=M+ee+oe-Jt,d[h].lineCoordinates.y2=M,"inside"===d[h].labelPlacement&&0<h&&(d[h].lineCoordinates.y1=d[0].lineCoordinates.y1-Jt-(d[h].labelEffectiveHeight||0)-5),"inside"===d[h].tickPlacement&&0<h&&(d[h].lineCoordinates.y1-=d[h].tickLength),d[h].bounds={x1:g,y1:M+(ee+oe-("inside"===d[h].labelPlacement&&0===h?A[h]-5:A[h])-Jt),x2:_,y2:f,width:_-g},d[h].bounds.height=d[h].bounds.y2-d[h].bounds.y1,Jt+=("inside"===d[h].labelPlacement&&0===h?A[h]-5:A[h])+d[h].margin;if(o&&0<o.length)for(h=0;h<o.length;h++)Bt=m.isNavigator?0:10,o[h]&&(g=Math.round(t[0]?t[0].lineCoordinates.x1:d[0].lineCoordinates.x1),Bt=o[h]._labels&&0<o[h]._labels.length?o[h]._labels[o[h]._labels.length-1].textBlock.height/2:b,M=Math.round(p.y1+ee+oe<Math.max(Bt,b)?Math.max(Bt,b):p.y1+ee+oe),_=Math.round(t[0]?t[0].lineCoordinates.x1:d[0].lineCoordinates.x1),Bt=0<t.length?0:o[h]._labels&&0<o[h]._labels.length?o[h]._labels[0].textBlock.height/2:b,f=Math.round(p.y2-te-l-Bt),o[h].lineCoordinates={x1:g-qt,y1:M,x2:_-qt,y2:f,height:Math.abs(f-M)},"inside"===o[h].labelPlacement&&0<h&&(o[h].lineCoordinates.x1=o[0].lineCoordinates.x1-qt-(o[h].labelEffectiveWidth||0)-5,o[h].lineCoordinates.x2=o[h].lineCoordinates.x1+o[h].lineThickness/2),"inside"===o[h].tickPlacement&&0<h&&(o[h].lineCoordinates.x1-=o[h].tickLength,o[h].lineCoordinates.x2=o[h].lineCoordinates.x1+o[h].lineThickness/2),o[h].bounds={x1:g-(("inside"===o[h].labelPlacement&&0===h?Y[h]-5:Y[h])+qt),y1:M,x2:_-qt,y2:f,height:f-M},o[h].bounds.width=o[h].bounds.x2-o[h].bounds.x1,o[h].title&&(o[h]._titleTextBlock.maxWidth=0<o[h].titleMaxWidth&&o[h].titleMaxWidth<o[h].lineCoordinates.height?o[h].titleMaxWidth:o[h].lineCoordinates.height),qt+=("inside"===o[h].labelPlacement&&0===h?Y[h]-5:Y[h])+o[h].margin);if(n&&0<n.length)for(h=0;h<n.length;h++)n[h]&&(g=Math.round(t[0]?t[0].lineCoordinates.x2:d[0].lineCoordinates.x2),_=Math.round(g),Bt=n[h]._labels&&0<n[h]._labels.length?n[h]._labels[n[h]._labels.length-1].textBlock.height/2:0,M=Math.round(p.y1+ee+oe<Math.max(Bt,b)?Math.max(Bt,b):p.y1+ee+oe),Bt=0<t.length?0:n[h]._labels&&0<n[h]._labels.length?n[h]._labels[0].textBlock.height/2:0,f=Math.round(p.y2-(te+l+Bt)),n[h].lineCoordinates={x1:g+he,y1:M,x2:g+he,y2:f,height:Math.abs(f-M)},"inside"===n[h].labelPlacement&&0<h&&(n[h].lineCoordinates.x1=n[0].lineCoordinates.x2+he+(n[h].labelEffectiveWidth||0)+5,n[h].lineCoordinates.x2=n[h].lineCoordinates.x1+n[h].lineThickness/2),"inside"===n[h].tickPlacement&&0<h&&(n[h].lineCoordinates.x1+=n[h].tickLength,n[h].lineCoordinates.x2=n[h].lineCoordinates.x1+n[h].lineThickness/2),n[h].bounds={x1:g+he,y1:M,x2:_+(("inside"===n[h].labelPlacement&&0===h?N[h]-5:N[h])+he),y2:f,height:f-M},n[h].bounds.width=n[h].bounds.x2-n[h].bounds.x1,n[h].title&&(n[h]._titleTextBlock.maxWidth=0<n[h].titleMaxWidth&&n[h].titleMaxWidth<n[h].lineCoordinates.height?n[h].titleMaxWidth:n[h].lineCoordinates.height),he+=("inside"===n[h].labelPlacement&&0===h?N[h]-5:N[h])+n[h].margin);if(t&&0<t.length)for(h=0;h<t.length;h++)t[h]&&(t[h].calculateValueToPixelConversionParameters(),t[h].calculateBreaksSizeInValues(),t[h]._labels&&1<t[h]._labels.length&&(z=(t[h].logarithmic?Math.log(t[h]._labels[1].position/t[h].viewportMinimum)/t[h].conversionParameters.lnLogarithmBase:t[h]._labels[1].position-t[h].viewportMinimum)*Math.abs(t[h].conversionParameters.pixelPerUnit)+t[h].lineCoordinates.x1,g=t[h].getApparentDifference(t[h].viewportMinimum,g=t[h]._labels[t[h]._labels.length-("dateTime"===t[h].valueType?2:1)].position),et=t[h].logarithmic?(1<g?Math.log(g)/t[h].conversionParameters.lnLogarithmBase*Math.abs(t[h].conversionParameters.pixelPerUnit):0)+t[h].lineCoordinates.x1:(0<g?g*Math.abs(t[h].conversionParameters.pixelPerUnit):0)+t[h].lineCoordinates.x1));if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateValueToPixelConversionParameters(),d[h].calculateBreaksSizeInValues(),d[h]._labels&&1<d[h]._labels.length&&(z=(d[h].logarithmic?Math.log(d[h]._labels[1].position/d[h].viewportMinimum)/d[h].conversionParameters.lnLogarithmBase:d[h]._labels[1].position-d[h].viewportMinimum)*Math.abs(d[h].conversionParameters.pixelPerUnit)+d[h].lineCoordinates.x1,g=d[h].getApparentDifference(d[h].viewportMinimum,g=d[h]._labels[d[h]._labels.length-("dateTime"===d[h].valueType?2:1)].position),et=d[h].logarithmic?(1<g?Math.log(g)/d[h].conversionParameters.lnLogarithmBase*Math.abs(d[h].conversionParameters.pixelPerUnit):0)+d[h].lineCoordinates.x1:(0<g?g*Math.abs(d[h].conversionParameters.pixelPerUnit):0)+d[h].lineCoordinates.x1);for(h=0;h<v.length;h++)"axisY"===v[h].type&&(v[h].calculateValueToPixelConversionParameters(),v[h].calculateBreaksSizeInValues());if(0<w){if(t&&0<t.length)for(h=0;h<t.length;h++)C=U[w-1][h]===U[w][h];else C=!0;if(d&&0<d.length)for(h=0;h<d.length;h++)Z=E[w-1][h]===E[w][h];else Z=!0;if(o&&0<o.length)for(h=0;h<o.length;h++)$=tt[w-1][h]===tt[w][h];else $=!0;if(n&&0<n.length)for(h=0;h<n.length;h++)Q=lt[w-1][h]===lt[w][h];else Q=!0}if(C&&Z&&$&&Q)break;w++}if(t&&0<t.length)for(h=0;h<t.length;h++)t[h].calculateStripLinesThicknessInValues(),t[h].calculateBreaksInPixels();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateStripLinesThicknessInValues(),d[h].calculateBreaksInPixels();if(o&&0<o.length)for(h=0;h<o.length;h++)o[h].calculateStripLinesThicknessInValues(),o[h].calculateBreaksInPixels();if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].calculateStripLinesThicknessInValues(),n[h].calculateBreaksInPixels()}else{for(b=[],z=[],ct=[],F=[],et=[],T=[],U=[],E=[];4>w;){if(te=he=qt=Se=Bt=oe=l=lt=tt=R=ee=0,t&&0<t.length)for(ct=[],h=he=0;h<t.length;h++)ct.push(Math.ceil(t[h]?t[h].createLabelsAndCalculateWidth():0)),he+=ct[h],l+=t[h]&&!m.isNavigator?t[h].margin:0;else ct.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(U.push(ct),d&&0<d.length)for(F=[],h=te=0;h<d.length;h++)F.push(Math.ceil(d[h]?d[h].createLabelsAndCalculateWidth():0)),te+=F[h],oe+=d[h]?d[h].margin:0;else F.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateWidth():0));if(E.push(F),o&&0<o.length)for(h=0;h<o.length;h++)o[h].lineCoordinates={},g=Math.round(p.x1+he+l),_=Math.round(p.x2-te-oe>m.width-10?m.width-10:p.x2-te-oe),o[h].labelAutoFit&&!W(I)&&(0<!t.length&&(g=0>o[h].labelAngle?Math.max(g,I):0===o[h].labelAngle?Math.max(g,I/2):g),0<!d.length&&(_=0<o[h].labelAngle||0===o[h].labelAngle?_-A/2:_)),o[h].lineCoordinates.x1=g,o[h].lineCoordinates.x2=_,o[h].lineCoordinates.width=Math.abs(_-g),o[h].title&&(o[h]._titleTextBlock.maxWidth=0<o[h].titleMaxWidth&&o[h].titleMaxWidth<o[h].lineCoordinates.width?o[h].titleMaxWidth:o[h].lineCoordinates.width);if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].lineCoordinates={},g=Math.round(p.x1+he+l),_=Math.round(p.x2-te-oe>n[h].chart.width-10?n[h].chart.width-10:p.x2-te-oe),n[h]&&n[h].labelAutoFit&&!W(Y)&&(0<!t.length&&(g=0<n[h].labelAngle?Math.max(g,Y):0===n[h].labelAngle?Math.max(g,Y/2):g),0<!d.length&&(_-=N/2)),n[h].lineCoordinates.x1=g,n[h].lineCoordinates.x2=_,n[h].lineCoordinates.width=Math.abs(_-g),n[h].title&&(n[h]._titleTextBlock.maxWidth=0<n[h].titleMaxWidth&&n[h].titleMaxWidth<n[h].lineCoordinates.width?n[h].titleMaxWidth:n[h].lineCoordinates.width);if(o&&0<o.length)for(b=[],h=qt=0;h<o.length;h++)b.push(Math.ceil(o[h]?o[h].createLabelsAndCalculateHeight():0)),qt+=b[h]+o[h].margin,Bt+=o[h].margin;else b.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateHeight():0));if(et.push(b),n&&0<n.length)for(z=[],h=0;h<n.length;h++)z.push(Math.ceil(n[h]?n[h].createLabelsAndCalculateHeight():0)),Se+=n[h].margin;else z.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(T.push(z),o&&0<o.length)for(h=0;h<o.length;h++)0<o[h]._labels.length&&(M=o[h]._labels[o[h]._labels.length-1],I=(f=o[h]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),A=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)));if(n&&0<n.length)for(h=0;h<n.length;h++)n[h]&&0<n[h]._labels.length&&(M=n[h]._labels[n[h]._labels.length-1],Y=(f=n[h]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),N=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)));if(m.panEnabled)for(h=0;h<o.length;h++)b[h]=W(m.sessionVariables.axisY[h].height)?m.sessionVariables.axisY[h].height=b[h]:m.sessionVariables.axisY[h].height;else for(h=0;h<o.length;h++)m.sessionVariables.axisY[h].height=b[h];if(o&&0<o.length)for(h=o.length-1;0<=h;h--)M=Math.round(p.y2),f=Math.round(p.y2>o[h].chart.height?o[h].chart.height:p.y2),o[h].lineCoordinates.y1=M-(b[h]+o[h].margin+ee),o[h].lineCoordinates.y2=M-(b[h]+o[h].margin+ee),"inside"===o[h].labelPlacement&&0<h&&(o[h].lineCoordinates.y1=o[h].lineCoordinates.y1+b[h]-(o[h]._titleTextBlock?o[h]._titleTextBlock.height:0)-o[h].tickLength-(o[h].stripLineLabelEffectiveHeight||0)-5,o[h].lineCoordinates.y2=o[h].lineCoordinates.y1+o[h].lineThickness/2),"inside"===o[h].tickPlacement&&0<h&&(o[h].lineCoordinates.y1+=o[h].tickLength,o[h].lineCoordinates.y2=o[h].lineCoordinates.y1+o[h].lineThickness/2),o[h].bounds={x1:g,y1:M-(b[h]+ee+o[h].margin),x2:_,y2:f-(ee+o[h].margin),width:_-g,height:b[h]},o[h].title&&(o[h]._titleTextBlock.maxWidth=0<o[h].titleMaxWidth&&o[h].titleMaxWidth<o[h].lineCoordinates.width?o[h].titleMaxWidth:o[h].lineCoordinates.width),ee+=b[h]+o[h].margin;if(n&&0<n.length)for(h=n.length-1;0<=h;h--)n[h]&&(M=Math.round(p.y1),f=Math.round(p.y1+(z[h]+n[h].margin+R)),n[h].lineCoordinates.y1=f,n[h].lineCoordinates.y2=f,"inside"===n[h].labelPlacement&&0<h&&(n[h].lineCoordinates.y1=f-z[h]+(n[h]._titleTextBlock?n[h]._titleTextBlock.height:0)+n[h].tickLength+(n[h].stripLineLabelEffectiveHeight||0),n[h].lineCoordinates.y2=n[h].lineCoordinates.y1-n[h].lineThickness/2),"inside"===n[h].tickPlacement&&0<h&&(n[h].lineCoordinates.y1-=n[h].tickLength,n[h].lineCoordinates.y2=n[h].lineCoordinates.y1-n[h].lineThickness/2),n[h].bounds={x1:g,y1:M+(n[h].margin+R),x2:_,y2:f,width:_-g},n[h].bounds.height=n[h].bounds.y2-n[h].bounds.y1,n[h].title&&(n[h]._titleTextBlock.maxWidth=0<n[h].titleMaxWidth&&n[h].titleMaxWidth<n[h].lineCoordinates.width?n[h].titleMaxWidth:n[h].lineCoordinates.width),R+=z[h]+n[h].margin);if(t&&0<t.length)for(h=0;h<t.length;h++){if(Bt=t[h]._labels&&0<t[h]._labels.length?t[h]._labels[0].textBlock.fontSize/2:0,g=Math.round(p.x1+l),M=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y2:p.y1<Math.max(Bt,10)?Math.max(Bt,10):p.y1):p.y1<Math.max(Bt,10)?Math.max(Bt,10):p.y1,_=Math.round(p.x1+he+l),f=o&&0<o.length?Math.round(o[0]?o[0].lineCoordinates.y1:p.y2-qt>m.height-Math.max(Bt,10)?m.height-Math.max(Bt,10):p.y2-qt):p.y2>m.height-Math.max(Bt,10)?m.height-Math.max(Bt,10):p.y2,o&&0<o.length)for(Bt=0;Bt<o.length;Bt++)o[Bt]&&o[Bt].labelAutoFit&&(_=o[Bt].lineCoordinates.x1,g=0>o[Bt].labelAngle||0===o[Bt].labelAngle?_-he:g);if(n&&0<n.length)for(Bt=0;Bt<n.length;Bt++)n[Bt]&&n[Bt].labelAutoFit&&(g=(_=n[Bt].lineCoordinates.x1)-he);t[h].lineCoordinates={x1:_-tt,y1:M,x2:_-tt,y2:f,height:Math.abs(f-M)},"inside"===t[h].labelPlacement&&0<h&&(t[h].lineCoordinates.x1=t[h].lineCoordinates.x1-(ct[h]-(t[h]._titleTextBlock?t[h]._titleTextBlock.height:0))+t[h].tickLength+(t[h].stripLineLabelEffectiveWidth||0),t[h].lineCoordinates.x2=t[h].lineCoordinates.x1+t[h].lineThickness/2),"inside"===t[h].tickPlacement&&0<h&&(t[h].lineCoordinates.x1-=t[h].tickLength,t[h].lineCoordinates.x2=t[h].lineCoordinates.x1+t[h].lineThickness/2),t[h].bounds={x1:_-(ct[h]+tt),y1:M,x2:_-tt,y2:f,height:f-M},t[h].bounds.width=t[h].bounds.x2-t[h].bounds.x1,t[h].title&&(t[h]._titleTextBlock.maxWidth=0<t[h].titleMaxWidth&&t[h].titleMaxWidth<t[h].lineCoordinates.height?t[h].titleMaxWidth:t[h].lineCoordinates.height),t[h].calculateValueToPixelConversionParameters(),t[h].calculateBreaksSizeInValues(),tt+=ct[h]+t[h].margin}if(d&&0<d.length)for(h=0;h<d.length;h++){if(Bt=d[h]._labels&&0<d[h]._labels.length?d[h]._labels[0].textBlock.fontSize/2:0,g=Math.round(p.x1-l),M=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y2:p.y1<Math.max(Bt,10)?Math.max(Bt,10):p.y1):p.y1<Math.max(Bt,10)?Math.max(Bt,10):p.y1,_=Math.round(p.x2-te-oe),f=o&&0<o.length?Math.round(o[0]?o[0].lineCoordinates.y1:p.y2-qt>m.height-Math.max(Bt,10)?m.height-Math.max(Bt,10):p.y2-qt):p.y2>m.height-Math.max(Bt,10)?m.height-Math.max(Bt,10):p.y2,o&&0<o.length)for(Bt=0;Bt<o.length;Bt++)o[Bt]&&o[Bt].labelAutoFit&&(_=0>o[Bt].labelAngle?Math.max(_,I):0===o[Bt].labelAngle?Math.max(_,I/2):_,g=0>o[Bt].labelAngle||0===o[Bt].labelAngle?_-te:g);if(n&&0<n.length)for(Bt=0;Bt<n.length;Bt++)n[Bt]&&n[Bt].labelAutoFit&&(g=(_=n[Bt].lineCoordinates.x2)-te);d[h].lineCoordinates={x1:_+lt,y1:M,x2:_+lt,y2:f,height:Math.abs(f-M)},"inside"===d[h].labelPlacement&&0<h&&(d[h].lineCoordinates.x1=d[h].lineCoordinates.x1+(F[h]-(d[h]._titleTextBlock?d[h]._titleTextBlock.height:0)-2)-d[h].tickLength-(d[h].stripLineLabelEffectiveWidth||0),d[h].lineCoordinates.x2=d[h].lineCoordinates.x1+d[h].lineThickness/2),"inside"===d[h].tickPlacement&&0<h&&(d[h].lineCoordinates.x1+=d[h].tickLength,d[h].lineCoordinates.x2=d[h].lineCoordinates.x1+d[h].lineThickness/2),d[h].bounds={x1:d[h].lineCoordinates.x1,y1:M,x2:_+F[h]+lt,y2:f,width:_-g,height:f-M},d[h].bounds.width=d[h].bounds.x2-d[h].bounds.x1,d[h].title&&(d[h]._titleTextBlock.maxWidth=0<d[h].titleMaxWidth&&d[h].titleMaxWidth<d[h].lineCoordinates.height?d[h].titleMaxWidth:d[h].lineCoordinates.height),d[h].calculateValueToPixelConversionParameters(),d[h].calculateBreaksSizeInValues(),lt+=F[h]+d[h].margin}for(h=0;h<v.length;h++)"axisY"===v[h].type&&(v[h].calculateValueToPixelConversionParameters(),v[h].calculateBreaksSizeInValues());if(0<w){if(t&&0<t.length)for(h=0;h<t.length;h++)C=U[w-1][h]===U[w][h];else C=!0;if(d&&0<d.length)for(h=0;h<d.length;h++)Z=E[w-1][h]===E[w][h];else Z=!0;if(o&&0<o.length)for(h=0;h<o.length;h++)$=et[w-1][h]===et[w][h];else $=!0;if(n&&0<n.length)for(h=0;h<n.length;h++)Q=T[w-1][h]===T[w][h];else Q=!0}if(C&&Z&&$&&Q)break;w++}if(o&&0<o.length)for(h=0;h<o.length;h++)o[h].calculateStripLinesThicknessInValues(),o[h].calculateBreaksInPixels();if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].calculateStripLinesThicknessInValues(),n[h].calculateBreaksInPixels();if(t&&0<t.length)for(h=0;h<t.length;h++)t[h].calculateStripLinesThicknessInValues(),t[h].calculateBreaksInPixels();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateStripLinesThicknessInValues(),d[h].calculateBreaksInPixels()}},nt.render=function(t,d,o,n,l){var p=(l=t[0]?t[0].chart:d[0].chart).ctx;if(l.alignVerticalAxes&&l.alignVerticalAxes(),p.save(),p.beginPath(),t&&t.length&&p.rect(2,t[0].bounds.y1,t[0].chart.width-4,t[t.length-1].bounds.y2),d&&d.length&&p.rect(2,d[d.length-1].bounds.y1,d[0].chart.width-4,d[0].bounds.y2),p.clip(),t&&0<t.length)for(var g=0;g<t.length;g++)t[g].renderLabelsTicksAndTitle();if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderLabelsTicksAndTitle();if(p.restore(),o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderLabelsTicksAndTitle();if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderLabelsTicksAndTitle();if(l.preparePlotArea(),g=l.plotArea,p.save(),p.beginPath(),p.rect(g.x1,g.y1,Math.abs(g.x2-g.x1),Math.abs(g.y2-g.y1)),p.clip(),t&&0<t.length)for(g=0;g<t.length;g++)t[g].renderStripLinesOfThicknessType("value");if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderStripLinesOfThicknessType("value");if(o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(g=0;g<t.length;g++)t[g].renderInterlacedColors();if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderInterlacedColors();if(o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderInterlacedColors();if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderInterlacedColors();if(p.restore(),t&&0<t.length)for(g=0;g<t.length;g++)t[g].renderGrid(),H&&(t[g].createMask(),t[g].renderBreaksBackground());if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderGrid(),H&&(d[g].createMask(),d[g].renderBreaksBackground());if(o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderGrid(),H&&(o[g].createMask(),o[g].renderBreaksBackground());if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderGrid(),H&&(n[g].createMask(),n[g].renderBreaksBackground());if(t&&0<t.length)for(g=0;g<t.length;g++)t[g].renderAxisLine();if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderAxisLine();if(o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderAxisLine();if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderAxisLine();if(p=!1,t&&0<t.length)for(g=0;g<t.length;g++)t[g].renderStripLinesOfThicknessType("pixel"),t[g].crosshair&&t[g].crosshair.enabled&&(p=!0,l.clearedOverlayedCanvas=t[g].type);if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderStripLinesOfThicknessType("pixel"),d[g].crosshair&&d[g].crosshair.enabled&&(p=!0,l.clearedOverlayedCanvas=d[g].type);if(o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderStripLinesOfThicknessType("pixel"),o[g].crosshair&&o[g].crosshair.enabled&&(p=!0,l.clearedOverlayedCanvas=o[g].type);if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderStripLinesOfThicknessType("pixel"),n[g].crosshair&&n[g].crosshair.enabled&&(p=!0,l.clearedOverlayedCanvas=n[g].type);p&&(l.resetOverlayedCanvas(),l.renderCrosshairs())},nt.prototype.calculateStripLinesThicknessInValues=function(){for(var t=0;t<this.stripLines.length;t++)if(null!==this.stripLines[t].startValue&&null!==this.stripLines[t].endValue){var d=Math.min(this.stripLines[t].startValue,this.stripLines[t].endValue),o=Math.max(this.stripLines[t].startValue,this.stripLines[t].endValue),n=this.getApparentDifference(d,o);this.stripLines[t].value=this.convertPixelToValue(Math.abs(this.convertValueToPixel(d)+this.convertValueToPixel(o))/2),this.stripLines[t].thickness=n,this.stripLines[t]._thicknessType="value"}},nt.prototype.calculateBreaksSizeInValues=function(){for(var l,t="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,d=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],o=this.conversionParameters.pixelPerUnit||t/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),n=this.scaleBreaks&&!W(this.scaleBreaks.options.spacing),p=0;p<d.length;p++)l=n||!W(d[p].options.spacing),d[p].spacing=0|_i(d[p].spacing,t,8,l?.1*t:8,l?0:3),d[p].size=0>d[p].spacing?0:Math.abs(d[p].spacing/o),this.logarithmic&&(d[p].size=Math.pow(this.logarithmBase,d[p].size))},nt.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var d=0;d<t.length&&!(t[d].startValue>this.conversionParameters.maximum);d++)t[d].endValue<this.conversionParameters.minimum||(W(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=d),t[d].startValue>=this.conversionParameters.minimum&&(t[d].startPixel=this.convertValueToPixel(t[d].startValue),this.scaleBreaks.lastBreakIndex=d),t[d].endValue<=this.conversionParameters.maximum&&(t[d].endPixel=this.convertValueToPixel(t[d].endValue)))}},nt.prototype.renderLabelsTicksAndTitle=function(){var b,v,t=this,d=!1,o=0,n=0,l=1,p=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(l=1.2),typeof this.options.interval>"u"){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){o=[],l=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var g,M=this.viewportMaximum,_=this.lineCoordinates.width/Math.log(this.range),m=this._labels.length-1;0<=m&&!((b=this._labels[m]).position<this.viewportMinimum);m--)b.position>this.viewportMaximum||!(m===this._labels.length-1||g<Math.log(M/b.position)*_/l)||(o.push(b),M=b.position,g=b.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=o}else{for(m=0;m<this._labels.length;m++)(b=this._labels[m]).position<this.viewportMinimum||(o+=g=b.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));o>this.lineCoordinates.width*l&&this.labelAutoFit&&(d=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var f;for(o=[],M=this.viewportMaximum,_=this.lineCoordinates.height/Math.log(this.range),m=this._labels.length-1;0<=m&&!((b=this._labels[m]).position<this.viewportMinimum);m--)b.position>this.viewportMaximum||!(m===this._labels.length-1||f<Math.log(M/b.position)*_)||(o.push(b),M=b.position,f=b.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=o}else{for(m=0;m<this._labels.length;m++)(b=this._labels[m]).position<this.viewportMinimum||(n+=f=b.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+b.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));n>this.lineCoordinates.height*l&&this.labelAutoFit&&(d=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(h,C){return h.position-C.position}),m=0,"bottom"===this._position){for(m=0;m<this._labels.length;m++)(b=this._labels[m]).position<this.viewportMinimum||b.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x,this.ctx.beginPath(),this.ctx.moveTo(n,0|v.y),this.ctx.lineTo(n,v.y+this.tickLength|0),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===b.textBlock.angle?(v.x-=b.textBlock.width/2,v.y="inside"===this.labelPlacement?v.y-(("inside"===this.tickPlacement?this.tickLength:0)+b.textBlock.height-b.textBlock.fontSize/2):v.y+("inside"===this.tickPlacement?0:this.tickLength)+b.textBlock.fontSize/2+5):0>this.labelAngle?(v.x-="inside"===this.labelPlacement?0:b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle),v.y="inside"===this.labelPlacement?v.y-("inside"===this.tickPlacement?this.tickLength:0)-(b.textBlock.height-b.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle):v.y+("inside"===this.tickPlacement?0:this.tickLength)+5+Math.abs(b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-b.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))):(v.x-="inside"===this.labelPlacement?b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,v.y="inside"===this.labelPlacement?v.y-("inside"===this.tickPlacement?this.tickLength:0)-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-(b.textBlock.height-b.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle):v.y+("inside"===this.tickPlacement?0:this.tickLength)+5+Math.abs(b.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))),b.textBlock.x=v.x,b.textBlock.y=v.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(m=0;m<t._labels.length;m++)if(!((b=t._labels[m]).position<t.viewportMinimum||b.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(b.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(h,0|v.y),t.ctx.lineTo(h,v.y-t.tickLength|0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height+this._titleTextBlock._lineHeight/2-1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(m=0;m<this._labels.length;m++)(b=this._labels[m]).position<this.viewportMinimum||b.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x,this.ctx.beginPath(),this.ctx.moveTo(n,0|v.y),this.ctx.lineTo(n,v.y-this.tickLength|0),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===b.textBlock.angle?(v.x-=b.textBlock.width/2,v.y="inside"===this.labelPlacement?v.y+this.labelFontSize/2+("inside"===this.tickPlacement?this.tickLength:0)+5:v.y-(("inside"===this.tickPlacement?0:this.tickLength)+b.textBlock.height-b.textBlock.fontSize/2)):0>this.labelAngle?(v.x-="inside"===this.labelPlacement?b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,v.y="inside"===this.labelPlacement?v.y+("inside"===this.tickPlacement?this.tickLength:0)+5-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+b.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle):v.y-("inside"===this.tickPlacement?0:this.tickLength)-2-(b.textBlock.height-b.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)):(v.x-="inside"===this.labelPlacement?0:b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle),v.y="inside"===this.labelPlacement?v.y+("inside"===this.tickPlacement?this.tickLength:0)+5+b.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle):v.y-("inside"===this.tickPlacement?0:this.tickLength)-2-((b.textBlock.height-b.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle))),b.textBlock.x=v.x,b.textBlock.y=v.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(m=0;m<t._labels.length;m++)if(!((b=t._labels[m]).position<t.viewportMinimum||b.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(b.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(h,0|v.y),t.ctx.lineTo(h,v.y+t.tickLength|0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+this._titleTextBlock._lineHeight/2+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(m=0;m<this._labels.length;m++)(b=this._labels[m]).position<this.viewportMinimum||b.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y,this.ctx.beginPath(),this.ctx.moveTo(0|v.x,n),this.ctx.lineTo(v.x-this.tickLength|0,n),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(b.textBlock.y=v.y,b.textBlock.x="inside"===this.labelPlacement?v.x+("inside"===this.tickPlacement?this.tickLength:0)+5:v.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):0>this.labelAngle?(b.textBlock.y="inside"===this.labelPlacement?v.y:v.y-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),b.textBlock.x="inside"===this.labelPlacement?v.x-b.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:v.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(b.textBlock.height-b.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):(b.textBlock.y="inside"===this.labelPlacement?v.y:v.y-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),b.textBlock.x="inside"===this.labelPlacement?v.x+(b.textBlock.height-b.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:v.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-b.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(m=0;m<t._labels.length;m++)if(!((b=t._labels[m]).position<t.viewportMinimum||b.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(b.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(0|v.x,h),t.ctx.lineTo(v.x+t.tickLength|0,h),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+this._titleTextBlock._lineHeight/2,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(m=0;m<this._labels.length;m++)(b=this._labels[m]).position<this.viewportMinimum||b.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(b.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y,this.ctx.beginPath(),this.ctx.moveTo(0|v.x,n),this.ctx.lineTo(v.x+this.tickLength|0,n),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(b.textBlock.y=v.y,b.textBlock.x="inside"===this.labelPlacement?v.x-b.textBlock.width-("inside"===this.tickPlacement?this.tickLength:0)-5:v.x+("inside"===this.tickPlacement?0:this.tickLength)+5):0>this.labelAngle?(b.textBlock.y="inside"===this.labelPlacement?v.y-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):v.y,b.textBlock.x="inside"===this.labelPlacement?v.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(b.textBlock.height-b.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:v.x-b.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength)+5):(b.textBlock.y="inside"===this.labelPlacement?v.y-b.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):v.y,b.textBlock.x="inside"===this.labelPlacement?v.x-b.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-b.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:v.x+(b.textBlock.height-b.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength)+5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(m=0;m<t._labels.length;m++)if(!((b=t._labels[m]).position<t.viewportMinimum||b.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(b.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(0|v.x,h),t.ctx.lineTo(v.x-t.tickLength|0,h),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-this._titleTextBlock._lineHeight/2,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(p=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",function(){for(m=0;m<t._labels.length;m++)(b=t._labels[m]).position<t.viewportMinimum||b.position>t.viewportMaximum||d&&p++%2!=0&&t.labelAutoFit||(t.ctx.save(),t.ctx.beginPath(),b.textBlock.render(!0),t.ctx.restore())},this);else for(m=0;m<this._labels.length;m++)(b=this._labels[m]).position<this.viewportMinimum||b.position>this.viewportMaximum||d&&p++%2!=0&&this.labelAutoFit||b.textBlock.render(!0)},nt.prototype.renderInterlacedColors=function(){var d,o,t=this.chart.plotArea.ctx,n=this.chart.plotArea,l=0;if(d=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(t.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)d?(o=this.getPixelCoordinatesOnAxis(this._labels[l].position),d=this.getPixelCoordinatesOnAxis(l+1>this._labels.length-1?this.viewportMaximum:this._labels[l+1].position),t.fillRect(n.x1,Math.min(o.y,d.y),Math.abs(n.x1-n.x2),Math.abs(d.y-o.y)),d=!1):d=!0}else for(t.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)d?(d=this.getPixelCoordinatesOnAxis(this._labels[l].position),o=this.getPixelCoordinatesOnAxis(l+1>this._labels.length-1?this.viewportMaximum:this._labels[l+1].position),t.fillRect(Math.min(o.x,d.x),n.y1,Math.abs(o.x-d.x),Math.abs(n.y1-n.y2)),d=!1):d=!0;t.beginPath()},nt.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){var o,n,d=this,l=0,p=0,g=!1;n=!1;var M=[],_=[],f=!1;for(l=0;l<this.stripLines.length;l++){var m=this.stripLines[l];m._thicknessType===t&&("pixel"===t&&(m.value<this.viewportMinimum||m.value>this.viewportMaximum||W(m.value)||isNaN(this.range))||"value"===t&&(m.startValue<=this.viewportMinimum&&m.endValue<=this.viewportMinimum||m.startValue>=this.viewportMaximum&&m.endValue>=this.viewportMaximum||W(m.startValue)||W(m.endValue)||isNaN(this.range))||M.push(m))}for(l=0;l<this._stripLineLabels.length;l++)if(m=this.stripLines[l],!((o=this._stripLineLabels[l]).position<this.viewportMinimum||o.position>this.viewportMaximum||isNaN(this.range)))if(n=this.getPixelCoordinatesOnAxis(o.position),"outside"===o.stripLine.labelPlacement){if(m&&(this.ctx.strokeStyle=m.color,this.ctx.lineWidth="pixel"===m._thicknessType?m.thickness:this.tickThickness),"bottom"===this._position){var b=this.ctx.lineWidth%2==1?.5+(0|n.x):0|n.x;this.ctx.beginPath(),this.ctx.moveTo(b,0|n.y),this.ctx.lineTo(b,n.y+this.tickLength|0),this.ctx.stroke(),0===this.labelAngle?(n.x-=o.textBlock.width/2,n.y+=this.tickLength+o.textBlock.fontSize/2+5):(n.x-=0>this.labelAngle?o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,n.y+=this.tickLength+5+(0>this.labelAngle?Math.abs(o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-o.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle)):Math.abs(o.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))))}else"top"===this._position?(b=this.ctx.lineWidth%2==1?.5+(0|n.x):0|n.x,this.ctx.beginPath(),this.ctx.moveTo(b,0|n.y),this.ctx.lineTo(b,n.y-this.tickLength|0),this.ctx.stroke(),0===this.labelAngle?(n.x-=o.textBlock.width/2,n.y-=this.tickLength+o.textBlock.height-o.textBlock.fontSize/2):(n.x-=0<this.labelAngle?o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,n.y-=this.tickLength+2+(0<this.labelAngle?(o.textBlock.height-o.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):(o.textBlock.height-o.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)))):"left"===this._position?(b=this.ctx.lineWidth%2==1?.5+(0|n.y):0|n.y,this.ctx.beginPath(),this.ctx.moveTo(0|n.x,b),this.ctx.lineTo(n.x-this.tickLength|0,b),this.ctx.stroke(),0===this.labelAngle?n.x=n.x-o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(n.y-=o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),n.x-=this.tickLength+5+(0<this.labelAngle?o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+o.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle):o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)))):"right"===this._position&&(b=this.ctx.lineWidth%2==1?.5+(0|n.y):0|n.y,this.ctx.beginPath(),this.ctx.moveTo(0|n.x,b),this.ctx.lineTo(n.x+this.tickLength|0,b),this.ctx.stroke(),n.x=0===this.labelAngle?n.x+this.tickLength+5:this.tickLength+5+(0<this.labelAngle?n.x+(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle):n.x-o.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)));o.textBlock.x=n.x,o.textBlock.y=n.y,_.push(o)}else m._thicknessType===t&&(o.textBlock.angle=-90,"bottom"===this._position?(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.height-3,o.textBlock.measureText(),n.x-o.textBlock.height-m.thickness/2>this.chart.plotArea.x1?W(m.startValue)?n.x-=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.x-=o.textBlock.height/2-o.textBlock.fontSize/2:(o.textBlock.angle=90,W(m.startValue)?n.x+=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.x+=o.textBlock.height/2-o.textBlock.fontSize/2),n.y=-90===o.textBlock.angle?"near"===o.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+o.textBlock.width)/2:this.chart.plotArea.y1+o.textBlock.width+3:"near"===o.stripLine.labelAlign?this.chart.plotArea.y2-o.textBlock.width-3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-o.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.height-3,o.textBlock.measureText(),n.x-o.textBlock.height-m.thickness/2>this.chart.plotArea.x1?W(m.startValue)?n.x-=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.x-=o.textBlock.height/2-o.textBlock.fontSize/2:(o.textBlock.angle=90,W(m.startValue)?n.x+=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.x+=o.textBlock.height/2-o.textBlock.fontSize/2),n.y=-90===o.textBlock.angle?"near"===o.stripLine.labelAlign?this.chart.plotArea.y1+o.textBlock.width+3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+o.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===o.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-o.textBlock.width)/2:this.chart.plotArea.y2-o.textBlock.width-3):"left"===this._position?(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.width-3,o.textBlock.angle=0,o.textBlock.measureText(),n.y-o.textBlock.height-m.thickness/2>this.chart.plotArea.y1?W(m.startValue)?n.y-=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2:W(m.startValue)?n.y+=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.y+=o.textBlock.height/2-o.textBlock.fontSize+3,n.x="near"===o.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-o.textBlock.width/2:this.chart.plotArea.x2-o.textBlock.width-3):"right"===this._position&&(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.width-3,o.textBlock.angle=0,o.textBlock.measureText(),n.y-o.textBlock.height-m.thickness/2>this.chart.plotArea.y1?W(m.startValue)?n.y-=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2:W(m.startValue)?n.y+=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2+3,n.x="near"===o.stripLine.labelAlign?this.chart.plotArea.x2-o.textBlock.width-3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-o.textBlock.width/2:this.chart.plotArea.x1+3),o.textBlock.x=n.x,o.textBlock.y=n.y,_.push(o));if(!f){for(n=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),l=0;l<M.length;l++)(m=M[l]).showOnTop?g||(g=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),p=0;p<M.length;p++)(m=M[p]).showOnTop&&m.render();this.ctx.restore()},m)):m.render();for(l=0;l<_.length;l++)(o=_[l]).stripLine.showOnTop?n||(n=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<_.length;p++)"inside"===(o=_[p]).stripLine.labelPlacement&&o.stripLine.showOnTop&&(d.ctx.save(),d.ctx.beginPath(),d.ctx.rect(d.chart.plotArea.x1,d.chart.plotArea.y1,d.chart.plotArea.width,d.chart.plotArea.height),d.ctx.clip(),o.textBlock.render(!0),d.ctx.restore())},o.textBlock)):"inside"===o.stripLine.labelPlacement&&o.textBlock.render(!0);this.ctx.restore(),f=!0}if(f)for(n=!1,l=0;l<_.length;l++)"outside"===(o=_[l]).stripLine.labelPlacement&&o.textBlock.render(!0)}},nt.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},nt.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;H?(this.maskCanvas=$e(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var d=0;d<t.length;d++)t[d].endValue<this.viewportMinimum||t[d].startValue>this.viewportMaximum||isNaN(this.range)||t[d].render(this.maskCtx);this.maskCtx.restore()}},nt.prototype.renderCrosshair=function(t,d){isFinite(this.minimum)&&isFinite(this.maximum)&&this.crosshair.render(t,d)},nt.prototype.showCrosshair=function(t){W(t)||t<this.viewportMinimum||t>this.viewportMaximum||("top"===this._position||"bottom"===this._position?this.crosshair.render(this.convertValueToPixel(t),null,t):this.crosshair.render(null,this.convertValueToPixel(t),t))},nt.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var d,o=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(mt(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(t.beginPath(),d=this.getPixelCoordinatesOnAxis(this._labels[n].position),t.moveTo(d=t.lineWidth%2==1?.5+(0|d.x):0|d.x,0|o.y1),t.lineTo(d,0|o.y2),t.stroke());else if("left"===this._position||"right"===this._position)for(var n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(t.beginPath(),d=this.getPixelCoordinatesOnAxis(this._labels[n].position),t.moveTo(0|o.x1,d=t.lineWidth%2==1?.5+(0|d.y):0|d.y),t.lineTo(0|o.x2,d),t.stroke());t.restore()}},nt.prototype.renderAxisLine=function(){var l,p,t=this.chart.ctx,d=H?this.chart._preRenderCtx:t,o=Math.ceil(this.tickThickness/(this.reversed?-2:2)),n=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(d.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(l=this.lineCoordinates.x2,p=this.lineCoordinates.x1):(l=this.lineCoordinates.x1,p=this.lineCoordinates.x2),d.lineWidth=this.lineThickness,d.strokeStyle=this.lineColor?this.lineColor:"black",d.setLineDash&&d.setLineDash(mt(this.lineDashType,this.lineThickness));var g=this.lineThickness%2==1?.5+(0|this.lineCoordinates.y1):0|this.lineCoordinates.y1;if(d.beginPath(),this.scaleBreaks&&!W(this.scaleBreaks.firstBreakIndex))if(W(this.scaleBreaks.lastBreakIndex))l=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+n;else for(var M=this.scaleBreaks.firstBreakIndex;M<=this.scaleBreaks.lastBreakIndex;M++)d.moveTo(l,g),d.lineTo(this.scaleBreaks._appliedBreaks[M].startPixel+o,g),l=this.scaleBreaks._appliedBreaks[M].endPixel+n;l&&(d.moveTo(l,g),d.lineTo(p,g)),d.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(l=this.lineCoordinates.y1,p=this.lineCoordinates.y2):(l=this.lineCoordinates.y2,p=this.lineCoordinates.y1),d.lineWidth=this.lineThickness,d.strokeStyle=this.lineColor,d.setLineDash&&d.setLineDash(mt(this.lineDashType,this.lineThickness)),g=this.lineThickness%2==1?.5+(0|this.lineCoordinates.x1):0|this.lineCoordinates.x1,d.beginPath(),this.scaleBreaks&&!W(this.scaleBreaks.firstBreakIndex))if(W(this.scaleBreaks.lastBreakIndex))l=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+o;else for(M=this.scaleBreaks.firstBreakIndex;M<=this.scaleBreaks.lastBreakIndex;M++)d.moveTo(g,l),d.lineTo(g,this.scaleBreaks._appliedBreaks[M].startPixel+n),l=this.scaleBreaks._appliedBreaks[M].endPixel+o;l&&(d.moveTo(g,l),d.lineTo(g,p)),d.stroke()}H&&(t.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),d.clearRect(0,0,this.chart.width,this.chart.height)),d.restore()},nt.prototype.getPixelCoordinatesOnAxis=function(t){var d={};return("bottom"===this._position||"top"===this._position)&&(d.x=this.convertValueToPixel(t),d.y=this.lineCoordinates.y1),("left"===this._position||"right"===this._position)&&(d.y=this.convertValueToPixel(t),d.x=this.lineCoordinates.x2),d},nt.prototype.convertPixelToValue=function(t){if(typeof t>"u")return null;var d,o=0,l=0,n=(o=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(l="number"==typeof t?t:"left"===this._position||"right"===this._position?t.y:t.x,this.logarithmic){if(t=d=Math.pow(this.logarithmBase,(l-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),l<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(l=0;l<n.length;l++)if(!(n[l].endValue<this.conversionParameters.minimum))if(o)if(n[l].startValue<this.conversionParameters.minimum){if(1<n[l].size&&this.conversionParameters.minimum*Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size))<n[l].endValue){t=Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size));break}t*=n[l].endValue/this.conversionParameters.minimum/Math.pow(n[l].size,Math.log(n[l].endValue/this.conversionParameters.minimum)/Math.log(n[l].endValue/n[l].startValue)),d/=Math.pow(n[l].size,Math.log(n[l].endValue/this.conversionParameters.minimum)/Math.log(n[l].endValue/n[l].startValue)),o=!1}else{if(!(d>n[l].startValue/this.conversionParameters.minimum))break;if((d/=n[l].startValue/this.conversionParameters.minimum)<n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1===n[l].size?1:Math.log(d)/Math.log(n[l].size))/d;break}t*=n[l].endValue/n[l].startValue/n[l].size,d/=n[l].size,o=!1}else{if(!(d>n[l].startValue/n[l-1].endValue))break;if((d/=n[l].startValue/n[l-1].endValue)<n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1===n[l].size?1:Math.log(d)/Math.log(n[l].size))/d;break}t*=n[l].endValue/n[l].startValue/n[l].size,d/=n[l].size}}else for(l=n.length-1;0<=l;l--)if(!(n[l].startValue>this.conversionParameters.minimum))if(o)if(n[l].endValue>this.conversionParameters.minimum){if(1<n[l].size&&this.conversionParameters.minimum*Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size))>n[l].startValue){t=Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size));break}t*=n[l].startValue/this.conversionParameters.minimum*Math.pow(n[l].size,Math.log(n[l].startValue/this.conversionParameters.minimum)/Math.log(n[l].endValue/n[l].startValue))*d,d*=Math.pow(n[l].size,Math.log(this.conversionParameters.minimum/n[l].startValue)/Math.log(n[l].endValue/n[l].startValue)),o=!1}else{if(!(d<n[l].endValue/this.conversionParameters.minimum))break;if((d/=n[l].endValue/this.conversionParameters.minimum)>1/n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1>=n[l].size?1:Math.log(d)/Math.log(n[l].size))*d;break}t/=n[l].endValue/n[l].startValue/n[l].size,d*=n[l].size,o=!1}else{if(!(d<n[l].endValue/n[l+1].startValue))break;if((d/=n[l].endValue/n[l+1].startValue)>1/n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1>=n[l].size?1:Math.log(d)/Math.log(n[l].size))*d;break}t/=n[l].endValue/n[l].startValue/n[l].size,d*=n[l].size}o=t*this.viewportMinimum}else{if(t=d=(l-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,l<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(l=0;l<n.length;l++)if(!(n[l].endValue<this.conversionParameters.minimum))if(o)if(n[l].startValue<this.conversionParameters.minimum){if(n[l].size&&this.conversionParameters.minimum+d*(n[l].endValue-n[l].startValue)/n[l].size<n[l].endValue){t=0>=n[l].size?0:d*(n[l].endValue-n[l].startValue)/n[l].size;break}t+=n[l].endValue-this.conversionParameters.minimum-n[l].size*(n[l].endValue-this.conversionParameters.minimum)/(n[l].endValue-n[l].startValue),d-=n[l].size*(n[l].endValue-this.conversionParameters.minimum)/(n[l].endValue-n[l].startValue),o=!1}else{if(!(d>n[l].startValue-this.conversionParameters.minimum))break;if((d-=n[l].startValue-this.conversionParameters.minimum)<n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)-d;break}t+=n[l].endValue-n[l].startValue-n[l].size,d-=n[l].size,o=!1}else{if(!(d>n[l].startValue-n[l-1].endValue))break;if((d-=n[l].startValue-n[l-1].endValue)<n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)-d;break}t+=n[l].endValue-n[l].startValue-n[l].size,d-=n[l].size}}else for(l=n.length-1;0<=l;l--)if(!(n[l].startValue>this.conversionParameters.minimum))if(o)if(n[l].endValue>this.conversionParameters.minimum){if(n[l].size&&this.conversionParameters.minimum+d*(n[l].endValue-n[l].startValue)/n[l].size>n[l].startValue){t=0>=n[l].size?0:d*(n[l].endValue-n[l].startValue)/n[l].size;break}t+=n[l].startValue-this.conversionParameters.minimum+n[l].size*(this.conversionParameters.minimum-n[l].startValue)/(n[l].endValue-n[l].startValue),d+=n[l].size*(this.conversionParameters.minimum-n[l].startValue)/(n[l].endValue-n[l].startValue),o=!1}else{if(!(d<n[l].endValue-this.conversionParameters.minimum))break;if((d-=n[l].endValue-this.conversionParameters.minimum)>-1*n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)+d;break}t-=n[l].endValue-n[l].startValue-n[l].size,d+=n[l].size,o=!1}else{if(!(d<n[l].endValue-n[l+1].startValue))break;if((d-=n[l].endValue-n[l+1].startValue)>-1*n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)+d;break}t-=n[l].endValue-n[l].startValue-n[l].size,d+=n[l].size}o=this.conversionParameters.minimum+t}return o},nt.prototype.convertValueToPixel=function(t){return t=this.getApparentDifference(this.conversionParameters.minimum,t,t),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5|0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5|0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5},nt.prototype.getApparentDifference=function(t,d,o,n){var l=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){o=W(o)?d/t:o;for(var p=0;p<l.length&&!(d<l[p].startValue);p++)t>l[p].endValue||(t<=l[p].startValue&&d>=l[p].endValue?o=o/l[p].endValue*l[p].startValue*l[p].size:t>=l[p].startValue&&d>=l[p].endValue?o=o/l[p].endValue*t*Math.pow(l[p].size,Math.log(l[p].endValue/t)/Math.log(l[p].endValue/l[p].startValue)):t<=l[p].startValue&&d<=l[p].endValue?o=o/d*l[p].startValue*Math.pow(l[p].size,Math.log(d/l[p].startValue)/Math.log(l[p].endValue/l[p].startValue)):!n&&t>l[p].startValue&&d<l[p].endValue&&(o=t*Math.pow(l[p].size,Math.log(d/t)/Math.log(l[p].endValue/l[p].startValue))))}else for(o=W(o)?Math.abs(d-t):o,p=0;p<l.length&&!(d<l[p].startValue);p++)t>l[p].endValue||(t<=l[p].startValue&&d>=l[p].endValue?o=o-l[p].endValue+l[p].startValue+l[p].size:t>l[p].startValue&&d>=l[p].endValue?o=o-l[p].endValue+t+l[p].size*(l[p].endValue-t)/(l[p].endValue-l[p].startValue):t<=l[p].startValue&&d<l[p].endValue?o=o-d+l[p].startValue+l[p].size*(d-l[p].startValue)/(l[p].endValue-l[p].startValue):!n&&t>l[p].startValue&&d<l[p].endValue&&(o=t+l[p].size*(d-t)/(l[p].endValue-l[p].startValue)));return o},nt.prototype.setViewPortRange=function(t,d){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,d),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,d)},nt.prototype.getXValueAt=function(t){if(!t)return null;var d=null;return"left"===this._position?d=this.convertPixelToValue(t.y):"bottom"===this._position&&(d=this.convertPixelToValue(t.x)),d},nt.prototype.calculateValueToPixelConversionParameters=function(t){t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var d={pixelPerUnit:null,minimum:null,reference:null},o=this.lineCoordinates.width,n=this.lineCoordinates.height;if(o="bottom"===this._position||"top"===this._position?o:n,n=Math.abs(this.range),this.logarithmic)for(var l=0;l<t.length&&!(this.viewportMaximum<t[l].startValue);l++)this.viewportMinimum>t[l].endValue||(this.viewportMinimum>=t[l].startValue&&this.viewportMaximum<=t[l].endValue?o=0:this.viewportMinimum<=t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n/t[l].endValue*t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100):o-Math.min(t[l].spacing,.1*o)):this.viewportMinimum>t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n/t[l].endValue*this.viewportMinimum,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*Math.log(t[l].endValue/this.viewportMinimum)/Math.log(t[l].endValue/t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*Math.log(t[l].endValue/this.viewportMinimum)/Math.log(t[l].endValue/t[l].startValue)):this.viewportMinimum<=t[l].startValue&&this.viewportMaximum<t[l].endValue&&(n=n/this.viewportMaximum*t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*Math.log(this.viewportMaximum/t[l].startValue)/Math.log(t[l].endValue/t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*Math.log(this.viewportMaximum/t[l].startValue)/Math.log(t[l].endValue/t[l].startValue)));else for(l=0;l<t.length&&!(this.viewportMaximum<t[l].startValue);l++)this.viewportMinimum>t[l].endValue||(this.viewportMinimum>=t[l].startValue&&this.viewportMaximum<=t[l].endValue?o=0:this.viewportMinimum<=t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n-t[l].endValue+t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100):o-Math.min(t[l].spacing,.1*o)):this.viewportMinimum>t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n-t[l].endValue+this.viewportMinimum,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*(t[l].endValue-this.viewportMinimum)/(t[l].endValue-t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*(t[l].endValue-this.viewportMinimum)/(t[l].endValue-t[l].startValue)):this.viewportMinimum<=t[l].startValue&&this.viewportMaximum<t[l].endValue&&(n=n-this.viewportMaximum+t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*(this.viewportMaximum-t[l].startValue)/(t[l].endValue-t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*(this.viewportMaximum-t[l].startValue)/(t[l].endValue-t[l].startValue)));d.minimum=this.viewportMinimum,d.maximum=this.viewportMaximum,d.range=n,("bottom"===this._position||"top"===this._position)&&(this.logarithmic?(d.lnLogarithmBase=Math.log(this.logarithmBase),d.pixelPerUnit=(this.reversed?-1:1)*o*d.lnLogarithmBase/Math.log(Math.abs(n))):d.pixelPerUnit=(this.reversed?-1:1)*o/Math.abs(n),d.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),("left"===this._position||"right"===this._position)&&(this.logarithmic?(d.lnLogarithmBase=Math.log(this.logarithmBase),d.pixelPerUnit=(this.reversed?1:-1)*o*d.lnLogarithmBase/Math.log(Math.abs(n))):d.pixelPerUnit=(this.reversed?1:-1)*o/Math.abs(n),d.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=d},nt.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var o=this.chart.layoutManager.getFreeSpace(),t=!1,d=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=o.width,this.maxHeight=o.height):(this.maxWidth=o.height,this.maxHeight=o.width),o="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var n,l,p,g=4;if("axisX"===this.type&&(g=600>this.maxWidth?8:6),o=Math.max(g,Math.floor(this.maxWidth/o)),g=0,!W(this.options.viewportMinimum)&&!W(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!W(this.options.viewportMinimum)||W(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!W(this.options.viewportMaximum)||W(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(g=0;g<this.scaleBreaks._appliedBreaks.length;g++)if((!W(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue||!W(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[g].startValue||!W(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue)&&(!W(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue||!W(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[g].endValue||!W(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue)){this.scaleBreaks._appliedBreaks.splice(g,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(n=0;n<this.dataSeries.length;n++)"dateTime"===this.dataSeries[n].xValueType&&(d=!0);(l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==0&&(l+=g=typeof this.options.interval>"u"?.4:this.options.interval,n-=g),this.dataInfo.minDiff!==1/0?p=this.dataInfo.minDiff:1<l-n?p=.5*Math.abs(l-n):(p=1,d&&(t=!0))}else"axisY"===this.type&&(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(n)||isFinite(l)?isFinite(n)?isFinite(l)||(l=n):n=l:(l=typeof this.options.interval>"u"?-1/0:this.options.interval,n=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),0===n&&0===l?(l+=9,n=0):l-n==0?(l+=g=Math.min(Math.abs(.01*Math.abs(l)),5),n-=g):n>l?(g=Math.min(.01*Math.abs(this.getApparentDifference(l,n,null,!0)),5),0<=l?n=l-g:l=isFinite(n)?n+g:0):(g=Math.min(.01*Math.abs(this.getApparentDifference(n,l,null,!0)),.05),0!==l&&(l+=g),0!==n&&(n-=g)),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-n?.5*Math.abs(l-n):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<n&&(n=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>l&&(l=0));g=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?l:this.viewportMaximum,null,!0),"axisX"===this.type&&d?(this.valueType="dateTime",this.intervalType||(g/1<=o?(this.interval=1,this.intervalType="millisecond"):g/2<=o?(this.interval=2,this.intervalType="millisecond"):g/5<=o?(this.interval=5,this.intervalType="millisecond"):g/10<=o?(this.interval=10,this.intervalType="millisecond"):g/20<=o?(this.interval=20,this.intervalType="millisecond"):g/50<=o?(this.interval=50,this.intervalType="millisecond"):g/100<=o?(this.interval=100,this.intervalType="millisecond"):g/200<=o?(this.interval=200,this.intervalType="millisecond"):g/250<=o?(this.interval=250,this.intervalType="millisecond"):g/300<=o?(this.interval=300,this.intervalType="millisecond"):g/400<=o?(this.interval=400,this.intervalType="millisecond"):g/500<=o?(this.interval=500,this.intervalType="millisecond"):g/(1*Pt.secondDuration)<=o?(this.interval=1,this.intervalType="second"):g/(2*Pt.secondDuration)<=o?(this.interval=2,this.intervalType="second"):g/(5*Pt.secondDuration)<=o?(this.interval=5,this.intervalType="second"):g/(10*Pt.secondDuration)<=o?(this.interval=10,this.intervalType="second"):g/(15*Pt.secondDuration)<=o?(this.interval=15,this.intervalType="second"):g/(20*Pt.secondDuration)<=o?(this.interval=20,this.intervalType="second"):g/(30*Pt.secondDuration)<=o?(this.interval=30,this.intervalType="second"):g/(1*Pt.minuteDuration)<=o?(this.interval=1,this.intervalType="minute"):g/(2*Pt.minuteDuration)<=o?(this.interval=2,this.intervalType="minute"):g/(5*Pt.minuteDuration)<=o?(this.interval=5,this.intervalType="minute"):g/(10*Pt.minuteDuration)<=o?(this.interval=10,this.intervalType="minute"):g/(15*Pt.minuteDuration)<=o?(this.interval=15,this.intervalType="minute"):g/(20*Pt.minuteDuration)<=o?(this.interval=20,this.intervalType="minute"):g/(30*Pt.minuteDuration)<=o?(this.interval=30,this.intervalType="minute"):g/(1*Pt.hourDuration)<=o?(this.interval=1,this.intervalType="hour"):g/(2*Pt.hourDuration)<=o?(this.interval=2,this.intervalType="hour"):g/(3*Pt.hourDuration)<=o?(this.interval=3,this.intervalType="hour"):g/(6*Pt.hourDuration)<=o?(this.interval=6,this.intervalType="hour"):g/(1*Pt.dayDuration)<=o?(this.interval=1,this.intervalType="day"):g/(2*Pt.dayDuration)<=o?(this.interval=2,this.intervalType="day"):g/(4*Pt.dayDuration)<=o?(this.interval=4,this.intervalType="day"):g/(1*Pt.weekDuration)<=o?(this.interval=1,this.intervalType="week"):g/(2*Pt.weekDuration)<=o?(this.interval=2,this.intervalType="week"):g/(3*Pt.weekDuration)<=o?(this.interval=3,this.intervalType="week"):g/(1*Pt.monthDuration)<=o?(this.interval=1,this.intervalType="month"):g/(2*Pt.monthDuration)<=o?(this.interval=2,this.intervalType="month"):g/(3*Pt.monthDuration)<=o?(this.interval=3,this.intervalType="month"):g/(6*Pt.monthDuration)<=o?(this.interval=6,this.intervalType="month"):(this.interval=g/(1*Pt.yearDuration)<=o?1:g/(2*Pt.yearDuration)<=o?2:g/(4*Pt.yearDuration)<=o?4:Math.floor(nt.getNiceNumber(g/(o-1),!0)/Pt.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=n-p/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=l+p/2),t?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",g=nt.getNiceNumber(g,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:nt.getNiceNumber(g/(o-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?n-p/2:Math.floor(n/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?l+p/2:Math.ceil(l/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=nt.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(o-1),!0)))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((l=null!==this.maximum?this.maximum:this.dataInfo.max)-(n=null!==this.minimum?this.minimum:this.dataInfo.min)==0&&(l+=g=typeof this.options.interval>"u"?.4:this.options.interval,n-=g),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-n?.5*Math.abs(l-n):1):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,l=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(l)?0===n&&0===l?(l+=9,n=0):l-n==0?(l+=g=Math.min(Math.abs(.01*Math.abs(l)),5),n-=g):n>l?(g=Math.min(.01*Math.abs(this.getApparentDifference(l,n,null,!0)),5),0<=l?n=l-g:l=isFinite(n)?n+g:0):(g=Math.min(.01*Math.abs(this.getApparentDifference(n,l,null,!0)),.05),0!==l&&(l+=g),0!==n&&(n-=g)):(l=typeof this.options.interval>"u"?-1/0:this.options.interval,n=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-n?.5*Math.abs(l-n):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<n&&(n=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>l&&(l=0)),Math.abs(this.getApparentDifference(n,l,null,!0)),"axisX"===this.type&&d?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=n-p/2,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=l+p/2,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?n-p/2:Math.floor(n/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?l+p/2:Math.ceil(l/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),W(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),W(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&d?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=nt.generateValueFormatString(this.range,2))}},nt.prototype.calculateLogarithmicAxisParameters=function(){var d,n,l,p,g,o=this.chart.layoutManager.getFreeSpace(),t=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=o.width,this.maxHeight=o.height):(this.maxWidth=o.height,this.maxHeight=o.width),o="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),g=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(g=0;g<this.scaleBreaks._appliedBreaks.length;g++)if((!W(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue||!W(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[g].startValue||!W(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue)&&(!W(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue||!W(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[g].endValue||!W(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue)){this.scaleBreaks._appliedBreaks.splice(g,1);break}"axisX"===this.type?((l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==1&&(l*=g=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),n/=g),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&!isFinite(l)?(l=typeof this.options.interval>"u"?0:this.options.interval,n=1):0>=n?n=l:isFinite(l)||(l=n),1===n&&1===l?(l*=this.logarithmBase-1/this.logarithmBase,n=1):l/n==1?(l*=g=Math.min(l*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),n/=g):n>l?(g=Math.min(n/l*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=l?n=l/g:l=n*g):(g=Math.min(l/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==l&&(l*=g),1!==n&&(n/=g)),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<n&&(n=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>l&&(l=1)),g=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?l:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum);var M=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?l:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum);if(this.intervalType="number",g=Math.pow(this.logarithmBase,nt.getNiceNumber(Math.abs(Math.log(g)/t),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=nt.getNiceExponent(Math.log(g)/t/(o-1),!0),d=nt.getNiceNumber(M/(o-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?n/Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/t/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?l*Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(l)/t/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=nt.getNiceExponent(Math.ceil(Math.log(g)/t)/(o-1)),d=nt.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(o-1),!0))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((l=null!==this.maximum?this.maximum:this.dataInfo.max)/(n=null!==this.minimum?this.minimum:this.dataInfo.min)==1&&(l*=g=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),n/=g),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,l=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(l)?1===n&&1===l?(l*=this.logarithmBase,n/=this.logarithmBase):l/n==1?(l*=g=Math.pow(this.logarithmBase,this.interval),n/=g):n>l?(g=Math.min(n/l*.01,5),1<=l?n=l/g:l=n*g):(g=Math.min(l/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==l&&(l*=g),1!==n&&(n/=g)):(l=typeof this.options.interval>"u"?0:this.options.interval,n=1),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<n&&(n=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>l&&(l=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?n/Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/t/this.interval)),W(null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),null===this.maximum&&(this.maximum="axisX"===this.type?l*Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(l)/t/this.interval)),W(null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=o,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>o?2:3)){for(t=Math.floor(this.viewportMinimum/d+.5)*d;t<this.viewportMinimum;)t+=d;this.equidistantInterval=!1,this.intervalStartPosition=t,this.interval=d}else this.options.interval||(d=Math.ceil(this.interval),this.range>this.interval&&(this.interval=d,n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=n;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(t=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(t)||!isFinite(t))&&(t=2),2<t))for(g=0;g<t-2;g++)this.valueFormatString+="#"},nt.generateValueFormatString=function(t,d){var o="#,##0.",n=d;1>t&&(n+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),isNaN(n)||!isFinite(n))&&(n=d);for(var l=0;l<n;l++)o+="#";return o},nt.getNiceExponent=function(t,d){var o=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,o);return n=0>o?1>=n?1:5>=n?5:10:Math.max(Math.floor(n),1),Number(-20>o?n*Math.pow(10,o):(n*Math.pow(10,o)).toFixed(20))},nt.getNiceNumber=function(t,d){var o=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,o);return n=d?1.5>n?1:3>n?2:7>n?5:10:1>=n?1:2>=n?2:5>=n?5:10,Number(-20>o?n*Math.pow(10,o):(n*Math.pow(10,o)).toFixed(20))},nt.prototype.getLabelStartPoint=function(){var t=Pt[this.intervalType+"Duration"]*this.interval;return t=new Date(Math.floor(this.viewportMinimum/t)*t),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):"minute"===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):"hour"===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"day"===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"week"===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"month"===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"year"===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},je(It,Me),je(Ot,Me),Ot.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var d=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(Oe(this.parent[this.optionsName]),d=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options[this.optionsName][d]=this.options}},Ot.prototype.render=function(t){if(0!==this.spacing||0!==this.options.lineThickness&&(typeof this.options.lineThickness<"u"||0!==this.parent.lineThickness)){var d=this.ctx,o=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var p,g,M,_,f,m,n=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),l=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,Rt(this.id),t=Math.max(this.spacing,3);var b=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=b,this.ctx.setLineDash&&this.ctx.setLineDash(mt(this.lineDashType,b)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(g=b%2==1?.5+(0|l.x):0|l.x,"top"===this.scaleBreaks.parent._position?(l=this.chart.plotArea.y1,M=this.chart.plotArea.y2+b/2+.5|0):(l=this.chart.plotArea.y2,M=this.chart.plotArea.y1-b/2+.5|0,t*=-1),this.bounds={x1:(n=b%2==1?.5+(0|n.x):0|n.x)-b/2,y1:l,x2:g+b/2,y2:M},this.ctx.moveTo(n,l),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=t||"bottom"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(n,M),this.ctx.lineTo(g,M),this.ctx.lineTo(g,l);else if("wavy"===this.type){_=n,p=.5,m=(M-(f=l))/t/3;for(var v=0;v<m;v++)this.ctx.bezierCurveTo(_+p*t,f+t,_+p*t,f+2*t,_,f+3*t),f+=3*t,p*=-1;for(this.ctx.bezierCurveTo(_+p*t,f+t,_+p*t,f+2*t,_,f+3*t),p*=-1,this.ctx.lineTo(_=g,f),v=0;v<m;v++)this.ctx.bezierCurveTo(_+p*t,f-t,_+p*t,f-2*t,_,f-3*t),f-=3*t,p*=-1}else if("zigzag"===this.type){for(p=-1,_=n+t,m=(M-(f=l+t))/t/2,v=0;v<m;v++)this.ctx.lineTo(_,f),_+=2*p*t,f+=2*t,p*=-1;for(this.ctx.lineTo(_,f),_+=g-n,v=0;v<m+1;v++)this.ctx.lineTo(_,f),_+=2*p*t,f-=2*t,p*=-1;this.ctx.lineTo(_+p*t,f+t)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(M=b%2==1?.5+(0|n.y):0|n.y,"left"===this.scaleBreaks.parent._position?(n=this.chart.plotArea.x1,g=this.chart.plotArea.x2+b/2+.5|0):(n=this.chart.plotArea.x2,g=this.chart.plotArea.x1-b/2+.5|0,t*=-1),this.bounds={x1:n,y1:(l=b%2==1?.5+(0|l.y):0|l.y)-b/2,x2:g,y2:M+b/2},this.ctx.moveTo(n,l),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=t||"right"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(g,l),this.ctx.lineTo(g,M),this.ctx.lineTo(n,M);else if("wavy"===this.type){for(f=l,p=.5,m=(g-(_=n))/t/3,v=0;v<m;v++)this.ctx.bezierCurveTo(_+t,f+p*t,_+2*t,f+p*t,_+3*t,f),_+=3*t,p*=-1;for(this.ctx.bezierCurveTo(_+t,f+p*t,_+2*t,f+p*t,_+3*t,f),p*=-1,this.ctx.lineTo(_,f=M),v=0;v<m;v++)this.ctx.bezierCurveTo(_-t,f+p*t,_-2*t,f+p*t,_-3*t,f),_-=3*t,p*=-1}else if("zigzag"===this.type){for(p=1,f=l-t,m=(g-(_=n+t))/t/2,v=0;v<m;v++)this.ctx.lineTo(_,f),f+=2*p*t,_+=2*t,p*=-1;for(this.ctx.lineTo(_,f),f+=M-l,v=0;v<m+1;v++)this.ctx.lineTo(_,f),f+=2*p*t,_-=2*t,p*=-1;this.ctx.lineTo(_+t,f+p*t)}0<b&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=o,this.ctx=d}},je(jt,Me),jt.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var d=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(Oe(this.parent.stripLines),d=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options.stripLines[d]=this.options}},jt.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),d=Math.abs("pixel"===this._thicknessType?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<d){var o=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var l,p,g,M,n=this.ctx.globalAlpha;this.ctx.globalAlpha=o,Rt(this.id),this.ctx.lineWidth=d,this.ctx.setLineDash&&this.ctx.setLineDash(mt(this.lineDashType,d)),"bottom"===this.parent._position||"top"===this.parent._position?(l=p=this.ctx.lineWidth%2==1?.5+(0|t.x):0|t.x,this.bounds={x1:l-d/2,y1:g=this.chart.plotArea.y1,x2:p+d/2,y2:M=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(g=M=this.ctx.lineWidth%2==1?.5+(0|t.y):0|t.y,this.bounds={x1:l=this.chart.plotArea.x1,y1:g-d/2,x2:p=this.chart.plotArea.x2,y2:M+d/2}),this.ctx.moveTo(l,g),this.ctx.lineTo(p,M),this.ctx.stroke(),this.ctx.globalAlpha=n}this.ctx.restore()},je(Ye,Me),Ye.prototype.showAt=function(t){if(!this.enabled)return!1;var d=this.chart,o=!1;if(d.resetOverlayedCanvas(),d.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),"xySwapped"===d.plotInfo.axisPlacement){if("bottom"===this.parent._position)for(var n=0;n<d.axisY.length;n++)this.parent===d.axisY[n]&&(d.axisY[n]._crosshairValue=t>=d.axisY[n].viewportMinimum&&t<=d.axisY[n].viewportMaximum?t:null);else if("top"===this.parent._position)for(n=0;n<d.axisY2.length;n++)this.parent===d.axisY2[n]&&(d.axisY2[n]._crosshairValue=t>=d.axisY2[n].viewportMinimum&&t<=d.axisY2[n].viewportMaximum?t:null);else if("left"===this.parent._position)for(n=0;n<d.axisX.length;n++)this.parent===d.axisX[n]&&(d.axisX[n]._crosshairValue=t>=d.axisX[n].viewportMinimum&&t<=d.axisX[n].viewportMaximum?t:null);else if("right"===this.parent._position)for(n=0;n<d.axisX2.length;n++)this.parent===d.axisX2[n]&&(d.axisX2[n]._crosshairValue=t>=d.axisX2[n].viewportMinimum&&t<=d.axisX2[n].viewportMaximum?t:null)}else if("bottom"===this.parent._position)for(n=0;n<d.axisX.length;n++)this.parent===d.axisX[n]&&(d.axisX[n]._crosshairValue=t>=d.axisX[n].viewportMinimum&&t<=d.axisX[n].viewportMaximum?t:null);else if("top"===this.parent._position)for(n=0;n<d.axisX2.length;n++)this.parent===d.axisX2[n]&&(d.axisX2[n]._crosshairValue=t>=d.axisX2[n].viewportMinimum&&t<=d.axisX2[n].viewportMaximum?t:null);else if("left"===this.parent._position)for(n=0;n<d.axisY.length;n++)this.parent===d.axisY[n]&&(d.axisY[n]._crosshairValue=t>=d.axisY[n].viewportMinimum&&t<=d.axisY[n].viewportMaximum?t:null);else if("right"===this.parent._position)for(n=0;n<d.axisY2.length;n++)this.parent===d.axisY2[n]&&(d.axisY2[n]._crosshairValue=t>=d.axisY2[n].viewportMinimum&&t<=d.axisY2[n].viewportMaximum?t:null);for(n=0;n<d.axisX.length;n++)t=d.axisX[n]._crosshairValue,d.axisX[n].crosshair&&d.axisX[n].crosshair.enabled&&!W(t)&&t>=d.axisX[n].viewportMinimum&&t<=d.axisX[n].viewportMaximum&&(d.axisX[n].showCrosshair(t),d.axisX[n].sessionVariables.crosshairValue=d.axisX[n].crosshair._updatedValue=t,this===d.axisX[n].crosshair&&(o=!0));for(n=0;n<d.axisX2.length;n++)t=d.axisX2[n]._crosshairValue,d.axisX2[n].crosshair&&d.axisX2[n].crosshair.enabled&&!W(t)&&t>=d.axisX2[n].viewportMinimum&&t<=d.axisX2[n].viewportMaximum&&(d.axisX2[n].showCrosshair(t),d.axisX2[n].sessionVariables.crosshairValue=d.axisX2[n].crosshair._updatedValue=t,this===d.axisX2[n].crosshair&&(o=!0));for(n=0;n<d.axisY.length;n++)t=d.axisY[n]._crosshairValue,d.axisY[n].crosshair&&d.axisY[n].crosshair.enabled&&!W(t)&&t>=d.axisY[n].viewportMinimum&&t<=d.axisY[n].viewportMaximum&&(d.axisY[n].showCrosshair(t),d.axisY[n].sessionVariables.crosshairValue=d.axisY[n].crosshair._updatedValue=t,this===d.axisY[n].crosshair&&(o=!0));for(n=0;n<d.axisY2.length;n++)t=d.axisY2[n]._crosshairValue,d.axisY2[n].crosshair&&d.axisY2[n].crosshair.enabled&&!W(t)&&t>=d.axisY2[n].viewportMinimum&&t<=d.axisY2[n].viewportMaximum&&(d.axisY2[n].showCrosshair(t),d.axisY2[n].sessionVariables.crosshairValue=d.axisY2[n].crosshair._updatedValue=t,this===d.axisY2[n].crosshair&&(o=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),o},Ye.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},Ye.prototype.render=function(t,d,o){var n,l,p,g,M=null,_=null,f=null,m="";this.valueFormatString||("dateTime"===this.parent.valueType?this.valueFormatString=this.parent.valueFormatString:(f=0,f="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=nt.generateValueFormatString(this.parent.range,f)));var b=null===this.opacity?1:this.opacity,v=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),h=this.chart.overlaidCanvasCtx,C=h.globalAlpha;if(h.beginPath(),h.strokeStyle=this.color,h.lineWidth=v,h.save(),this.labelFontSize=Math.abs(W(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=W(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=W(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<v&&h.setLineDash&&h.setLineDash(mt(this.lineDashType,v)),f=new se(h,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:m,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var w=0;if(m=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var F=null;"bottom"===this.parent._position||"top"===this.parent._position?w=this.parent.dataSeries[0].axisX.convertPixelToValue({y:d}):("left"===this.parent._position||"right"===this.parent._position)&&(w=this.parent.convertPixelToValue({y:d}));for(var T=0;T<this.parent.dataSeries.length;T++)(F=this.parent.dataSeries[T].getDataPointAtX(w,!0))&&0<=F.index&&(F.dataSeries=this.parent.dataSeries[T],null!==F.dataPoint.y&&F.dataSeries.visible&&m.push(F));if(F=null,0===m.length)return;m.sort(function(z,et){return z.distance-et.distance});var A,I=F=0;for(yPercent=cumulativeY=0,w=1/0,T=0;T<m.length;T++){if("rangeBar"===m[T].dataSeries.type||"error"===m[T].dataSeries.type){if(m[T].dataPoint.y)for(var Y=0;Y<m[T].dataPoint.y.length;Y++)(I=Math.abs(t-this.parent.convertValueToPixel(m[T].dataPoint.y[Y])))<=w&&(w=I,F=T)}else"stackedBar"===m[T].dataSeries.type?(cumulativeY=m[T].dataSeries.dataPointEOs[m[T].index].cumulativeY,(I=Math.abs(t-this.parent.convertValueToPixel(cumulativeY)))<=w&&(w=I,F=T)):"stackedBar100"===m[T].dataSeries.type?(I=m[0].dataPoint.x.getTime?m[0].dataPoint.x.getTime():m[0].dataPoint.x,W(A)&&(A=Math.abs(t-this.parent.convertValueToPixel(m[0].dataSeries.dataPointEOs[m[0].index].cumulativeY/m[0].dataSeries.plotUnit.dataPointYSums[I]*100))),cumulativeY=m[T].dataSeries.dataPointEOs[m[T].index].cumulativeY,I=m[T].dataPoint.x.getTime?m[T].dataPoint.x.getTime():m[T].dataPoint.x,yPercent=cumulativeY/m[T].dataSeries.plotUnit.dataPointYSums[I]*100,(I=Math.abs(t-this.parent.convertValueToPixel(yPercent)))<=A&&(A=I,F=T)):(I=Math.abs(t-this.parent.convertValueToPixel(m[T].dataPoint.y)))<=w&&(w=I,F=T);W(A)||(w=Math.min(w,A))}if(A=m[F],T=0,"bottom"===this.parent._position||"top"===this.parent._position){if("rangeBar"===A.dataSeries.type||"error"===A.dataSeries.type){for(w=Math.abs(t-this.parent.convertValueToPixel(A.dataPoint.y[0])),m=0;m<A.dataPoint.y.length;m++)(I=Math.abs(t-this.parent.convertValueToPixel(A.dataPoint.y[m])))<w&&(w=I,T=m);M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataPoint.y[T])):0|this.parent.convertValueToPixel(A.dataPoint.y[T]),this.value=A.dataPoint.y[T],f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.y[T]}):W(this.options.label)?Ht(W(o)?A.dataPoint.y[T]:o,this.valueFormatString,this.chart._cultureInfo):this.label}else"stackedBar"===A.dataSeries.type?(w=Math.abs(t-this.parent.convertValueToPixel(m[0].dataPoint.y)),cumulativeY=A.dataSeries.dataPointEOs[A.index].cumulativeY,M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(cumulativeY)):0|this.parent.convertValueToPixel(cumulativeY),this.value=cumulativeY,f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:cumulativeY}):W(this.options.label)?Ht(W(o)?cumulativeY:o,this.valueFormatString,this.chart._cultureInfo):this.label):"stackedBar100"===A.dataSeries.type?(w=Math.abs(t-this.parent.convertValueToPixel(m[0].dataPoint.y)),cumulativeY=A.dataSeries.dataPointEOs[A.index].cumulativeY,I=A.dataPoint.x.getTime?A.dataPoint.x.getTime():A.dataPoint.x,yPercent=cumulativeY/A.dataSeries.plotUnit.dataPointYSums[I]*100,M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(yPercent)):0|this.parent.convertValueToPixel(yPercent),this.value=yPercent,f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:yPercent}):W(this.options.label)?Ht(W(o)?yPercent:o,this.valueFormatString,this.chart._cultureInfo):this.label):(M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataPoint.y)):0|this.parent.convertValueToPixel(A.dataPoint.y),this.value=A.dataPoint.y,f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.y}):W(this.options.label)?Ht(W(o)?A.dataPoint.y:o,this.valueFormatString,this.chart._cultureInfo):this.label);n=l=M,this.bounds={x1:n-v/2,y1:p=this.chart.plotArea.y1,x2:l+v/2,y2:g=this.chart.plotArea.y2},f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2?f.x=this.chart.bounds.x2-f.width:f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),f.y=this.parent.lineCoordinates.y2+("top"===this.parent._position?-f.height+this.parent.tickLength:f.fontSize/2)+2,f.y+f.height>this.chart.bounds.y2?f.y=this.chart.bounds.y2-f.height:f.y<this.chart.bounds.y1&&(f.y=this.chart.bounds.y1)}else if("left"===this.parent._position||"right"===this.parent._position){if(p=g=_=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataPoint.x)):0|this.parent.convertValueToPixel(A.dataPoint.x),this.bounds={x1:n=this.chart.plotArea.x1,y1:p-v/2,x2:l=this.chart.plotArea.x2,y2:g+v/2},T=!1,this.parent.labels)for(w=Math.ceil(this.parent.interval),m=0;m<this.parent.viewportMaximum;m+=w){if(!this.parent.labels[m]){T=!1;break}T=!0}if(T){if("axisX"===this.parent.type)for(w=this.parent.convertPixelToValue({y:d}),F=null,T=0;T<this.parent.dataSeries.length;T++)(F=this.parent.dataSeries[T].getDataPointAtX(w,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):W(this.options.label)?F.dataPoint.label:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):W(this.options.label)?Ht(A.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):W(this.options.label)?Ii(A.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=A.dataPoint.x,f.y=g+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x2-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(w=this.parent.convertPixelToValue({x:t}),T=0;T<this.parent.dataSeries.length;T++)(F=this.parent.dataSeries[T].getDataPointAtX(w,!0))&&0<=F.index&&(F.dataSeries=this.parent.dataSeries[T],null!==F.dataPoint.y&&F.dataSeries.visible&&m.push(F));if(0===m.length)return;if(m.sort(function(z,et){return z.distance-et.distance}),A=m[0],n=l=M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataPoint.x)):0|this.parent.convertValueToPixel(A.dataPoint.x),this.bounds={x1:n-v/2,y1:p=this.chart.plotArea.y1,x2:l+v/2,y2:g=this.chart.plotArea.y2},T=!1,this.parent.labels)for(w=Math.ceil(this.parent.interval),m=0;m<this.parent.viewportMaximum;m+=w){if(!this.parent.labels[m]){T=!1;break}T=!0}if(T){if("axisX"===this.parent.type)for(w=this.parent.convertPixelToValue({x:t}),F=null,T=0;T<this.parent.dataSeries.length;T++)(F=this.parent.dataSeries[T].getDataPointAtX(w,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):W(this.options.label)?F.dataPoint.label:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):W(this.options.label)?Ht(A.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):W(this.options.label)?Ii(A.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=A.dataPoint.x,f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.width),f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"bottom"===this.parent._position?f.y=this.parent.lineCoordinates.y2+f.fontSize/2+2:"top"===this.parent._position&&(f.y=this.parent.lineCoordinates.y1-f.height+f.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!W(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(w=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t})),T=0;T<this.parent.dataSeries.length;T++)(F=this.parent.dataSeries[T].getDataPointAtX(w,!0))&&0<=F.index&&(F.dataSeries=this.parent.dataSeries[T],null!==F.dataPoint.y&&F.dataSeries.visible&&m.push(F));if(0===m.length)return;for(m.sort(function(z,et){return z.distance-et.distance}),I=F=0,w=1/0,T=0;T<m.length;T++){if("rangeColumn"===m[T].dataSeries.type||"rangeArea"===m[T].dataSeries.type||"error"===m[T].dataSeries.type||"rangeSplineArea"===m[T].dataSeries.type||"candlestick"===m[T].dataSeries.type||"ohlc"===m[T].dataSeries.type||"boxAndWhisker"===m[T].dataSeries.type){if(m[T].dataPoint.y)for(Y=0;Y<m[T].dataPoint.y.length;Y++)(I=Math.abs(d-this.parent.convertValueToPixel(m[T].dataPoint.y[Y])))<=w&&(w=I,F=T)}else"stackedColumn"===m[T].dataSeries.type||"stackedArea"===m[T].dataSeries.type?(n=m[T].dataSeries.dataPointEOs[m[T].index].cumulativeY,(I=Math.abs(d-this.parent.convertValueToPixel(n)))<=w&&(w=I,F=T)):"stackedColumn100"===m[T].dataSeries.type||"stackedArea100"===m[T].dataSeries.type?(I=m[0].dataPoint.x.getTime?m[0].dataPoint.x.getTime():m[0].dataPoint.x,W(A)&&(A=Math.abs(d-this.parent.convertValueToPixel(m[0].dataSeries.dataPointEOs[m[0].index].cumulativeY/m[0].dataSeries.plotUnit.dataPointYSums[I]*100))),("stackedColumn100"===m[T].dataSeries.type||"stackedArea100"===m[T].dataSeries.type)&&(_=m[T].dataSeries.dataPointEOs[m[T].index].cumulativeY,I=m[T].dataPoint.x.getTime?m[T].dataPoint.x.getTime():m[T].dataPoint.x,n=_/m[T].dataSeries.plotUnit.dataPointYSums[I]*100,(I=Math.abs(d-this.parent.convertValueToPixel(n)))<=A&&(A=I,F=T))):"waterfall"===m[T].dataSeries.type?(I=Math.abs(d-this.parent.convertValueToPixel(m[T].dataSeries.dataPointEOs[m[T].index].cumulativeSum)))<=w&&(A=w=I,F=T):(I=Math.abs(d-this.parent.convertValueToPixel(m[T].dataPoint.y)))<=w&&(w=I,F=T);W(A)||(w=Math.min(w,A))}if(T=0,"rangeColumn"===(A=m[F]).dataSeries.type||"rangeArea"===A.dataSeries.type||"error"===A.dataSeries.type||"rangeSplineArea"===A.dataSeries.type||"candlestick"===A.dataSeries.type||"ohlc"===A.dataSeries.type||"boxAndWhisker"===A.dataSeries.type){for(w=Math.abs(d-this.parent.convertValueToPixel(A.dataPoint.y[0])),m=0;m<A.dataPoint.y.length;m++)(I=Math.abs(d-this.parent.convertValueToPixel(A.dataPoint.y[m])))<w&&(w=I,T=m);_=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataPoint.y[T])):0|this.parent.convertValueToPixel(A.dataPoint.y[T]),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.y[T]}):W(this.options.label)?Ht(W(o)?A.dataPoint.y[T]:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=A.dataPoint.y[T]}else"stackedColumn"===A.dataSeries.type||"stackedArea"===A.dataSeries.type?(n=A.dataSeries.dataPointEOs[A.index].cumulativeY,_=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(n)):0|this.parent.convertValueToPixel(n),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:n}):W(this.options.label)?Ht(W(o)?n:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=n):"stackedColumn100"===A.dataSeries.type||"stackedArea100"===A.dataSeries.type?(_=A.dataSeries.dataPointEOs[A.index].cumulativeY,I=A.dataPoint.x.getTime?A.dataPoint.x.getTime():A.dataPoint.x,n=_/A.dataSeries.plotUnit.dataPointYSums[I]*100,_=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(n)):0|this.parent.convertValueToPixel(n),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:n}):W(this.options.label)?Ht(W(o)?n:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=n):"waterfall"===A.dataSeries.type?(_=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataSeries.dataPointEOs[A.index].cumulativeSum)):0|this.parent.convertValueToPixel(A.dataSeries.dataPointEOs[A.index].cumulativeSum),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataSeries.dataPointEOs[A.index].cumulativeSum}):W(this.options.label)?Ht(W(o)?A.dataSeries.dataPointEOs[A.index].cumulativeSum:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=A.dataSeries.dataPointEOs[A.index].cumulativeSum):(_=h.lineWidth%2==1?(W(t)?d:0|this.parent.convertValueToPixel(A.dataPoint.y))+.5:W(t)?d:0|this.parent.convertValueToPixel(A.dataPoint.y),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?A.dataPoint.y:o}):W(this.options.label)?Ht(W(o)?A.dataPoint.y:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=A.dataPoint.y);p=g=_,this.bounds={x1:n=this.chart.plotArea.x1,y1:p-v/2,x2:l=this.chart.plotArea.x2,y2:g+v/2},f.y=g+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x2-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2)}m=null,h.globalAlpha=b,("bottom"===this.parent._position||"top"===this.parent._position)&&("top"===this.parent._position&&f.y-f.fontSize/2<this.chart.bounds.y1&&(f.y=this.chart.bounds.y1+f.fontSize/2),"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-f.fontSize/2+f.measureText().height>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.height+f.fontSize/2+2),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<v&&(h.moveTo(n,p),h.lineTo(l,g),h.stroke(),this._hidden=!1)),("left"===this.parent._position||"right"===this.parent._position)&&("left"===this.parent._position&&f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"right"===this.parent._position&&f.x+f.measureText().width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.measureText().width),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<v&&(h.moveTo(n,p),h.lineTo(l,g),h.stroke(),this._hidden=!1))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(n=l=M=h.lineWidth%2==1?.5+(0|t):0|t,this.bounds={x1:n-v/2,y1:p=this.chart.plotArea.y1,x2:l+v/2,y2:g=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(p=g=_=h.lineWidth%2==1?.5+(0|d):0|d,this.bounds={x1:n=this.chart.plotArea.x1,y1:p-v/2,x2:l=this.chart.plotArea.x2,y2:g+v/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(T=!1,this.parent.labels)for(w=Math.ceil(this.parent.interval),m=0;m<this.parent.viewportMaximum;m+=w){if(!this.parent.labels[m]){T=!1;break}T=!0}if(T){if("axisX"===this.parent.type)for(w=this.parent.convertPixelToValue({y:d}),F=null,T=0;T<this.parent.dataSeries.length;T++)(F=this.parent.dataSeries[T].getDataPointAtX(w,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(t):o}):W(this.options.label)?F.dataPoint.label:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(d):o}):W(this.options.label)?Ht(W(o)?this.parent.convertPixelToValue(d):o,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(d):o}):W(this.options.label)?Ii(W(o)?this.parent.convertPixelToValue(d):o,this.valueFormatString,this.chart._cultureInfo):this.label;f.y=d+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x1-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2)}else("bottom"===this.parent._position||"top"===this.parent._position)&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(t):o}):W(this.options.label)?Ht(W(o)?this.parent.convertPixelToValue(t):o,this.valueFormatString,this.chart._cultureInfo):this.label,f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.width),f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"bottom"===this.parent._position?f.y=this.parent.lineCoordinates.y2+f.fontSize/2+2:"top"===this.parent._position&&(f.y=this.parent.lineCoordinates.y1-f.height+f.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(T=!1,m="",this.parent.labels)for(w=Math.ceil(this.parent.interval),m=0;m<this.parent.viewportMaximum;m+=w){if(!this.parent.labels[m]){T=!1;break}T=!0}if(T){if("axisX"===this.parent.type)for(w=this.parent.convertPixelToValue({x:t}),F=null,T=0;T<this.parent.dataSeries.length;T++)(F=this.parent.dataSeries[T].getDataPointAtX(w,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(t):o}):W(this.options.label)?W(o)?F.dataPoint.label:o:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):"":o}):W(this.options.label)?Ht(W(o)?this.parent.convertPixelToValue(t):o,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(t):o}):W(this.options.label)?Ii(W(o)?this.parent.convertPixelToValue(t):o,this.valueFormatString,this.chart._cultureInfo):this.label;f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.width),f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"bottom"===this.parent._position?f.y=this.parent.lineCoordinates.y2+f.fontSize/2+2:"top"===this.parent._position&&(f.y=this.parent.lineCoordinates.y1-f.height+f.fontSize/2+2)}else("left"===this.parent._position||"right"===this.parent._position)&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:W(o)?this.parent.convertPixelToValue(d):o}):W(this.options.label)?Ht(W(o)?this.parent.convertPixelToValue(d):o,this.valueFormatString,this.chart._cultureInfo):this.label,f.y=d+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x2-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2));"left"===this.parent._position&&f.x<this.chart.bounds.x1?f.x=this.chart.bounds.x1:"right"===this.parent._position&&f.x+f.measureText().width>this.chart.bounds.x2?f.x=this.chart.bounds.x2-f.measureText().width:"top"===this.parent._position&&f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2:"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-f.fontSize/2+f.measureText().height>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.height+f.fontSize/2+2),h.globalAlpha=b,0<v&&(h.moveTo(n,p),h.lineTo(l,g),h.stroke(),this._hidden=!1),this.value=this.parent.convertPixelToValue("bottom"===this.parent._position||"top"===this.parent._position?t:d)}("bottom"===this.parent._position||"top"===this.parent._position)&&(this.parent.sessionVariables.crosshairValue=this._updatedValue=this.parent.convertPixelToValue(M)),("left"===this.parent._position||"right"===this.parent._position)&&(this.parent.sessionVariables.crosshairValue=this._updatedValue=this.parent.convertPixelToValue(_)),this._textBlock=f,this._label=o,W(o)||this.renderLabel(),h.restore(),h.globalAlpha=C},Ye.prototype.renderLabel=function(){this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&(W(this._textBlock)||W(this._textBlock.text)||!("number"==typeof this._textBlock.text.valueOf()||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0),W(this._label)&&this.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this.parent,value:this.value},this.parent))},je(Ce,Me),Ce.prototype._updateOptions=function(){this.updateOption("enabled"),this.updateOption("shared"),this.updateOption("animationEnabled"),this.updateOption("content"),this.updateOption("contentFormatter"),this.updateOption("reversed"),this.updateOption("backgroundColor"),this.updateOption("borderColor"),this.updateOption("borderThickness"),this.updateOption("cornerRadius"),this.updateOption("fontSize"),this.updateOption("fontColor"),this.updateOption("fontFamily"),this.updateOption("fontWeight"),this.updateOption("fontStyle")},Ce.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var t=document.createElement("div");t.style.width="auto",t.style.height="auto",t.style.minWidth="50px",t.style.lineHeight="normal",t.style.margin="0px 0px 0px 0px",t.style.padding="5px",t.style.fontFamily="Calibri, Arial, Georgia, serif",t.style.fontWeight="normal",t.style.fontStyle=H?"italic":"normal",t.style.fontSize="14px",t.style.color="#000000",t.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",t.style.textAlign="left",t.style.border="2px solid gray",t.style.background=H?"rgba(255,255,255,.9)":"rgb(255,255,255)",t.style.textIndent="0px",t.style.whiteSpace="nowrap",t.style.borderRadius="5px",t.style.MozUserSelect="none",t.style.WebkitUserSelect="none",t.style.msUserSelect="none",t.style.userSelect="none",H||(t.style.filter="alpha(opacity = 90)",t.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),t.innerText="Sample Tooltip",this.container.appendChild(t),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},Ce.prototype.mouseMoveHandler=function(t,d){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,d),this.enabled&&this._updatedEventParameters&&!isNaN(this._prevX)&&!isNaN(this._prevY)&&this.dispatchEvent("updated",this._updatedEventParameters,this))},Ce.prototype._updateToolTip=function(t,d,o){if(o=typeof o>"u"||o,this._updateOptions(),this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof t>"u"||typeof d>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,d=this._prevY}else this._prevX=t,this._prevY=d;var n=null,l=null,p=[],g=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){var M=[];if(this.chart.axisX)for(var _=0;_<this.chart.axisX.length;_++){g=this.chart.axisX[_].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:d}:{x:t});var f=null;for(n=0;n<this.chart.axisX[_].dataSeries.length;n++)(f=this.chart.axisX[_].dataSeries[n].getDataPointAtX(g,o))&&0<=f.index&&(f.dataSeries=this.chart.axisX[_].dataSeries[n],null!==f.dataPoint.y&&f.dataSeries.visible&&M.push(f));f=null}if(this.chart.axisX2)for(_=0;_<this.chart.axisX2.length;_++){for(g=this.chart.axisX2[_].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:d}:{x:t}),f=null,n=0;n<this.chart.axisX2[_].dataSeries.length;n++)(f=this.chart.axisX2[_].dataSeries[n].getDataPointAtX(g,o))&&0<=f.index&&(f.dataSeries=this.chart.axisX2[_].dataSeries[n],null!==f.dataPoint.y&&f.dataSeries.visible&&M.push(f));f=null}if(0===M.length)return;for(M.sort(function(m,b){return m.dataSeries.axisX.logarithmic||b.dataSeries.axisX.logarithmic?m.distance-b.distance:m.distance/m.dataSeries.axisX.range-b.distance/b.dataSeries.axisX.range}),o=M[0],n=0;n<M.length;n++)M[n].dataPoint.x.valueOf()===o.dataPoint.x.valueOf()&&p.push(M[n]);M=null}else{if(n=this.chart.getDataPointAtXY(t,d,o))this.currentDataPointIndex=n.dataPointIndex,this.currentSeriesIndex=n.dataSeries.index;else if(H)if(0<(n=Ne(t,d,this.chart._eventManager.ghostCtx))&&typeof this.chart._eventManager.objectMap[n]<"u"){if("legendItem"===(n=this.chart._eventManager.objectMap[n]).objectType)return;this.currentSeriesIndex=n.dataSeriesIndex,this.currentDataPointIndex=0<=n.dataPointIndex?n.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(l=this.chart.data[this.currentSeriesIndex],f={},0<=this.currentDataPointIndex)n=l.dataPoints[this.currentDataPointIndex],f.dataSeries=l,f.dataPoint=n,f.index=this.currentDataPointIndex,f.distance=Math.abs(n.x-g),"waterfall"===l.type&&(f.cumulativeSumYStartValue=l.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,f.cumulativeSum=l.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||!l||"line"!==l.type&&"stepLine"!==l.type&&"spline"!==l.type&&"area"!==l.type&&"stepArea"!==l.type&&"splineArea"!==l.type&&"stackedArea"!==l.type&&"stackedArea100"!==l.type&&"rangeArea"!==l.type&&"rangeSplineArea"!==l.type&&"candlestick"!==l.type&&"ohlc"!==l.type&&"boxAndWhisker"!==l.type)return void("toolTip"===this.chart.clearedOverlayedCanvas&&(this.chart.resetOverlayedCanvas(),this.chart.clearedOverlayedCanvas=null,this.container.style.display="none"));g=l.axisX.convertPixelToValue({x:t}),W(f=l.getDataPointAtX(g,o))||(f.dataSeries=l,this.currentDataPointIndex=f.index,n=f.dataPoint)}if(!W(f)&&!W(f.dataPoint)&&!W(f.dataPoint.y))if(f.dataSeries.axisY)if(0<f.dataPoint.y.length){for(n=o=0;n<f.dataPoint.y.length;n++)f.dataPoint.y[n]<f.dataSeries.axisY.viewportMinimum?o--:f.dataPoint.y[n]>f.dataSeries.axisY.viewportMaximum&&o++;o<f.dataPoint.y.length&&o>-f.dataPoint.y.length&&p.push(f)}else"column"===l.type||"bar"===l.type?0>f.dataPoint.y?0>f.dataSeries.axisY.viewportMinimum&&f.dataSeries.axisY.viewportMaximum>=f.dataPoint.y&&p.push(f):f.dataSeries.axisY.viewportMinimum<=f.dataPoint.y&&0<=f.dataSeries.axisY.viewportMaximum&&p.push(f):"bubble"===l.type?f.dataPoint.y>=f.dataSeries.axisY.viewportMinimum-(o=this.chart._eventManager.objectMap[l.dataPointIds[f.index]].size/2)&&f.dataPoint.y<=f.dataSeries.axisY.viewportMaximum+o&&p.push(f):"waterfall"===l.type?(o=0,f.cumulativeSumYStartValue<f.dataSeries.axisY.viewportMinimum?o--:f.cumulativeSumYStartValue>f.dataSeries.axisY.viewportMaximum&&o++,f.cumulativeSum<f.dataSeries.axisY.viewportMinimum?o--:f.cumulativeSum>f.dataSeries.axisY.viewportMaximum&&o++,2>o&&-2<o&&p.push(f)):(0<=f.dataSeries.type.indexOf("100")||"stackedColumn"===l.type||"stackedBar"===l.type||f.dataPoint.y>=f.dataSeries.axisY.viewportMinimum&&f.dataPoint.y<=f.dataSeries.axisY.viewportMaximum)&&p.push(f);else p.push(f)}}if(0<p.length){if(this.highlightObjects(p),this.enabled){if(o="",null!==(o=this.getToolTipInnerHTML({entries:p}))){if(this.contentDiv.innerHTML=o,this.isToolTipDefinedInData&&W(this.options.content)&&W(this.options.contentFormatter))for(g=this.contentDiv.getElementsByTagName("span"),n=0;n<g.length;n++)g[n]&&(g[n].style.color=g[n].getAttribute("data-color"));g=!1,"none"===this.container.style.display&&(g=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:H?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:0<p[0].dataPoint.y?p[0].dataSeries.risingColor:p[0].dataSeries.fallingColor:"error"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[l.index%p[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[p[0].index%p[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:H?"italic":"normal"}catch{}"pie"===p[0].dataSeries.type||"doughnut"===p[0].dataSeries.type||"funnel"===p[0].dataSeries.type||"pyramid"===p[0].dataSeries.type||"bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?t=t-10-this.container.clientWidth:(t=p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)-this.container.clientWidth|0,t-=10),0>t&&(t+=this.container.clientWidth+20),t+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(t=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(d=10-(d=1!==p.length||this.shared||"line"!==p[0].dataSeries.type&&"stepLine"!==p[0].dataSeries.type&&"spline"!==p[0].dataSeries.type&&"area"!==p[0].dataSeries.type&&"stepArea"!==p[0].dataSeries.type&&"splineArea"!==p[0].dataSeries.type?"bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x):d:p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y)))+this.container.clientHeight+5&&(d-=d+this.container.clientHeight+5-0),this.fixMozTransitionDelay(t,d),!this.animationEnabled||g?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=t,this.positionBottom=d,this.container.style.left=t+"px",this.container.style.bottom=d+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(d=[],n=0;n<p.length;n++)d.push({xValue:p[n].dataPoint.x,dataPoint:p[n].dataPoint,dataSeries:p[n].dataSeries,dataPointIndex:p[n].index,dataSeriesIndex:p[n].dataSeries._index});this._updatedEventParameters={chart:this.chart,toolTip:this.options,content:o,entries:d},this._entries=p}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);this._dataSeriesIndex=this._xValue=null}},Ce.prototype.highlightObjects=function(t){var d=this.chart.overlaidCanvasCtx;W(this.chart.clearedOverlayedCanvas)||"toolTip"===this.chart.clearedOverlayedCanvas?(this.chart.resetOverlayedCanvas(),d.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"):this.chart.clearedOverlayedCanvas=null,d.save();var o=this.chart.plotArea,n=0;for(d.beginPath(),d.rect(o.x1,o.y1,o.x2-o.x1,o.y2-o.y1),d.clip(),o=0;o<t.length;o++){var l=t[o];if((l=this.chart._eventManager.objectMap[l.dataSeries.dataPointIds[l.index]])&&l.objectType&&"dataPoint"===l.objectType){var p=(n=this.chart.data[l.dataSeriesIndex]).dataPoints[l.dataPointIndex],g=l.dataPointIndex;!1===p.highlightEnabled||!0!==n.highlightEnabled&&!0!==p.highlightEnabled||("line"===n.type||"stepLine"===n.type||"spline"===n.type||"scatter"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type?((p=n.getMarkerProperties(g,l.x1,l.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*p.size|0,10),p.borderColor=p.borderColor||"#FFFFFF",p.borderThickness=p.borderThickness||Math.ceil(.1*p.size),me.drawMarkers([p]),typeof l.y2<"u"&&((p=n.getMarkerProperties(g,l.x1,l.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*p.size|0,10),p.borderColor=p.borderColor||"#FFFFFF",p.borderThickness=p.borderThickness||Math.ceil(.1*p.size),me.drawMarkers([p]))):"bubble"===n.type?((p=n.getMarkerProperties(g,l.x1,l.y1,this.chart.overlaidCanvasCtx)).size=l.size,p.color="white",p.borderColor="white",d.globalAlpha=.3,me.drawMarkers([p]),d.globalAlpha=1):"column"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"bar"===n.type||"rangeBar"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"rangeColumn"===n.type||"waterfall"===n.type?Te(d,l.x1,l.y1,l.x2,l.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===n.type||"doughnut"===n.type?ti(d,l.center,l.radius,"white",n.type,l.startAngle,l.endAngle,.3,l.percentInnerRadius):"funnel"===n.type||"pyramid"===n.type?Le(d,l.funnelSection,.3,"white"):"candlestick"===n.type?(d.globalAlpha=1,d.strokeStyle=l.color,d.lineWidth=2*l.borderThickness,n=d.lineWidth%2==0?0:.5,d.beginPath(),d.moveTo(l.x3-n,Math.min(l.y2,l.y3)),d.lineTo(l.x3-n,Math.min(l.y1,l.y4)),d.stroke(),d.beginPath(),d.moveTo(l.x3-n,Math.max(l.y1,l.y4)),d.lineTo(l.x3-n,Math.max(l.y2,l.y3)),d.stroke(),Te(d,l.x1,Math.min(l.y1,l.y4),l.x2,Math.max(l.y1,l.y4),"transparent",2*l.borderThickness,l.color,!1,!1,!1,!1),d.globalAlpha=1):"ohlc"===n.type?(d.globalAlpha=1,d.strokeStyle=l.color,d.lineWidth=2*l.borderThickness,n=d.lineWidth%2==0?0:.5,d.beginPath(),d.moveTo(l.x3-n,l.y2),d.lineTo(l.x3-n,l.y3),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y1),d.lineTo(l.x1,l.y1),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y4),d.lineTo(l.x2,l.y4),d.stroke(),d.globalAlpha=1):"boxAndWhisker"===n.type?(d.save(),d.globalAlpha=1,d.strokeStyle=l.stemColor,d.lineWidth=2*l.stemThickness,0<l.stemThickness&&(d.beginPath(),d.moveTo(l.x3,l.y2+l.borderThickness/2),d.lineTo(l.x3,l.y1+l.whiskerThickness/2),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y4-l.whiskerThickness/2),d.lineTo(l.x3,l.y3-l.borderThickness/2),d.stroke()),d.beginPath(),Te(d,l.x1,Math.max(l.y2,l.y3),l.x2,Math.min(l.y2,l.y3),"transparent",2*l.borderThickness,l.color,!1,!1,!1,!1),d.globalAlpha=1,d.strokeStyle=l.whiskerColor,d.lineWidth=2*l.whiskerThickness,0<l.whiskerThickness&&(d.beginPath(),d.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y4),d.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y4),d.stroke(),d.beginPath(),d.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y1),d.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y1),d.stroke()),d.globalAlpha=1,d.strokeStyle=l.lineColor,d.lineWidth=2*l.lineThickness,0<l.lineThickness&&(d.beginPath(),d.moveTo(l.x1,l.y5),d.lineTo(l.x2,l.y5),d.stroke()),d.restore(),d.globalAlpha=1):"error"===n.type&&q(d,l.x1,l.y1,l.x2,l.y2,"white",l.whiskerProperties,l.stemProperties,l.isXYSwapped,.3))}}d.restore(),d.globalAlpha=1,d.beginPath()},Ce.prototype.getToolTipInnerHTML=function(t){t=t.entries;var d=null,o=null,n=null,l=0,p="";this.isToolTipDefinedInData=!0;for(var g=0;g<t.length;g++)if(t[g].dataSeries.toolTipContent||t[g].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&"function"==typeof this.content||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:t},d=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var M=null,_="";for(g=0;g<t.length;g++){if(o=t[g].dataSeries,n=t[g].dataPoint,l=t[g].index,p="",0===g&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?_+=typeof this.chart.axisX[0].labels[n.x]<"u"?this.chart.axisX[0].labels[n.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(_+=typeof this.chart.axisX2[0].labels[n.x]<"u"?this.chart.axisX2[0].labels[n.x]:"{x}"),_+="</br>",!o.visible)continue;_=this.chart.replaceKeywordsWithValue(_,n,o,l)}null===n.toolTipContent||typeof n.toolTipContent>"u"&&null===o.options.toolTipContent||("line"===o.type||"stepLine"===o.type||"spline"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"column"===o.type||"bar"===o.type||"scatter"===o.type||"stackedColumn"===o.type||"stackedColumn100"===o.type||"stackedBar"===o.type||"stackedBar100"===o.type||"stackedArea"===o.type||"stackedArea100"===o.type||"waterfall"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",M=o.axisXIndex):"bubble"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===o.type||"rangeBar"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"error"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===o.type||"ohlc"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===o.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===d&&(d=""),o.visible&&(!0===this.reversed?(d=this.chart.replaceKeywordsWithValue(p,n,o,l)+d,g<t.length-1&&(d="</br>"+d)):(d+=this.chart.replaceKeywordsWithValue(p,n,o,l),g<t.length-1&&(d+="</br>"))))}null!==d&&(d=_+d)}else{if(o=t[0].dataSeries,null===(n=t[0].dataPoint).toolTipContent||typeof n.toolTipContent>"u"&&null===o.options.toolTipContent)return null;"line"===o.type||"stepLine"===o.type||"spline"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"column"===o.type||"bar"===o.type||"scatter"===o.type||"stackedColumn"===o.type||"stackedColumn100"===o.type||"stackedBar"===o.type||"stackedBar100"===o.type||"stackedArea"===o.type||"stackedArea100"===o.type||"waterfall"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===o.type||"doughnut"===o.type||"funnel"===o.type||"pyramid"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.name?"{name}:</span>&nbsp;&nbsp;":n.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===o.type||"rangeBar"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"error"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===o.type||"ohlc"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===o.type&&(p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===d&&(d=""),d+=this.chart.replaceKeywordsWithValue(p,n,o,l=t[0].index)}return d},Ce.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var t=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition}},Ce.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Ce.prototype.hide=function(t){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._entries=this._dataSeriesIndex=this._xValue=null,this._prevY=this._prevX=NaN,this._updatedEventParameters=null,(typeof t>"u"||t)&&this.chart.resetOverlayedCanvas())},Ce.prototype.show=function(t,d,o){this._updateToolTip(t,d,!(typeof o>"u")&&o)},Ce.prototype.showAtIndex=function(t,d){},Ce.prototype.showAtX=function(t,d){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null,this._updateOptions();var o,n,l,p=[];if(l=!1,d=!W(d)&&0<=d&&d<this.chart.data.length?d:0,this.shared)for(var g=0;g<this.chart.data.length;g++)(n=(o=this.chart.data[g]).getDataPointAtX(t,!1))&&n.dataPoint&&!W(n.dataPoint.y)&&o.visible&&(n.dataSeries=o,this.chart.data[d].axisX.convertValueToPixel(t)===o.axisX.convertValueToPixel(n.dataPoint.x)&&p.push(n));else(n=(o=this.chart.data[d]).getDataPointAtX(t,!1))&&n.dataPoint&&!W(n.dataPoint.y)&&o.visible&&(n.dataSeries=o,p.push(n));if(!(0<p.length))return this.hide(),!1;for(g=0;g<p.length;g++){if(n=p[g],(this.shared||0<=n.dataSeries.type.indexOf("100"))&&n.dataPoint.x>=n.dataSeries.axisX.viewportMinimum&&n.dataPoint.x<=n.dataSeries.axisX.viewportMaximum){l=!1;break}if(!(n.dataPoint.x<n.dataSeries.axisX.viewportMinimum||n.dataPoint.x>n.dataSeries.axisX.viewportMaximum||n.dataPoint.y<n.dataSeries.axisY.viewportMinimum||n.dataPoint.y>n.dataSeries.axisY.viewportMaximum)){l=!1;break}l=!0}if(l)return this.hide(),!1;if(this.highlightObjects(p),this._entries=p,g="",null===(g=this.getToolTipInnerHTML({entries:p})))return this.hide(!1),!1;if(this.contentDiv.innerHTML=g,this.isToolTipDefinedInData&&W(this.options.content)&&W(this.options.contentFormatter))for(n=this.contentDiv.getElementsByTagName("span"),g=0;g<n.length;g++)n[g]&&(n[g].style.color=n[g].getAttribute("data-color"));g=!1,"none"===this.container.style.display&&(g=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:H?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:0<p[0].dataPoint.y?p[0].dataSeries.risingColor:p[0].dataSeries.fallingColor:"error"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[o.index%p[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[p[0].index%p[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:H?"italic":"normal"}catch{}return"pie"===p[0].dataSeries.type||"doughnut"===p[0].dataSeries.type||"funnel"===p[0].dataSeries.type||"pyramid"===p[0].dataSeries.type?o=mouseX-10-this.container.clientWidth:(o="bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y)-this.container.clientWidth|0:p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)-this.container.clientWidth|0,o-=10),0>o&&(o+=this.container.clientWidth+20),o+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(o=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(p=10-(p=!(1!==p.length||this.shared||"line"!==p[0].dataSeries.type&&"stepLine"!==p[0].dataSeries.type&&"spline"!==p[0].dataSeries.type&&"area"!==p[0].dataSeries.type&&"stepArea"!==p[0].dataSeries.type&&"splineArea"!==p[0].dataSeries.type)||"bar"!==p[0].dataSeries.type&&"rangeBar"!==p[0].dataSeries.type&&"stackedBar"!==p[0].dataSeries.type&&"stackedBar100"!==p[0].dataSeries.type?p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y):p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)))+this.container.clientHeight+5&&(p-=p+this.container.clientHeight+5-0),this.fixMozTransitionDelay(o,p),!this.animationEnabled||g?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=o+"px",this.container.style.bottom=p+"px",this._xValue=t,this._dataSeriesIndex=d,this._prevY=this._prevX=NaN,!0},Ce.prototype.fixMozTransitionDelay=function(t,d){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var o=parseFloat(this.container.style.left),n=(o=isNaN(o)?0:o,parseFloat(this.container.style.bottom));n=isNaN(n)?0:n,this.mozContainerTransition=10<Math.sqrt(Math.pow(o-t,2)+Math.pow(n-d,2))?this.getContainerTransition(.1):this.getContainerTransition(0)}},Ce.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},le.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],H&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},le.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},le.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var d=[],o=Ei(t),n=null;if((n=this.chart.getObjectAtXY(o.x,o.y,!1))&&typeof this.objectMap[n]<"u")if("dataPoint"===(n=this.objectMap[n]).objectType){var l=this.chart.data[n.dataSeriesIndex],p=l.dataPoints[n.dataPointIndex],g=n.dataPointIndex;n.eventParameter={x:o.x,y:o.y,dataPoint:p,dataSeries:l.options,dataPointIndex:g,dataSeriesIndex:l.index,chart:this.chart},n.eventContext={context:p,userContext:p,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},d.push(n),(n=this.objectMap[l.id]).eventParameter={x:o.x,y:o.y,dataPoint:p,dataSeries:l.options,dataPointIndex:g,dataSeriesIndex:l.index,chart:this.chart},n.eventContext={context:l,userContext:l.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},d.push(this.objectMap[l.id])}else"legendItem"===n.objectType&&(n.eventParameter={x:o.x,y:o.y,dataSeries:(l=this.chart.data[n.dataSeriesIndex]).options,dataPoint:p=null!==n.dataPointIndex?l.dataPoints[n.dataPointIndex]:null,dataPointIndex:n.dataPointIndex,dataSeriesIndex:n.dataSeriesIndex,chart:this.chart},n.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},d.push(n));for(l=[],o=0;o<this.mouseoveredObjectMaps.length;o++){for(p=!0,n=0;n<d.length;n++)if(d[n].id===this.mouseoveredObjectMaps[o].id){p=!1;break}p?this.fireEvent(this.mouseoveredObjectMaps[o],"mouseout",t):l.push(this.mouseoveredObjectMaps[o])}for(this.mouseoveredObjectMaps=l,o=0;o<d.length;o++){for(l=!1,n=0;n<this.mouseoveredObjectMaps.length;n++)if(d[o].id===this.mouseoveredObjectMaps[n].id){l=!0;break}l||(this.fireEvent(d[o],"mouseover",t),this.mouseoveredObjectMaps.push(d[o])),"click"===t.type?this.fireEvent(d[o],"click",t):"mousemove"===t.type&&this.fireEvent(d[o],"mousemove",t)}}},le.prototype.fireEvent=function(t,d,o){if(t&&d){var n=t.eventParameter,l=t.eventContext,p=t.eventContext.userContext;p&&l&&p[l[d]]&&p[l[d]].call(p,n),"mouseout"!==d?p.cursor&&p.cursor!==o.target.style.cursor&&(o.target.style.cursor=p.cursor):(o.target.style.cursor=this.chart.panEnabled&&("itemmouseout"!==l.mouseout||p.dockInsidePlotArea)?"move":this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===d&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],n),"click"===d&&"dataPoint"===t.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],n)}},ae.prototype.animate=function(t,d,o,n,l){var p=this;for(this.chart.isAnimating=!0,l=l||At.easing.linear,o&&this.animations.push({startTime:(new Date).getTime()+(t||0),duration:d,animationCallback:o,onComplete:n}),t=[];0<this.animations.length;)d=this.animations.shift(),o=(new Date).getTime(),n=0,d.startTime<=o&&(n=l(Math.min(o-d.startTime,d.duration),0,1,d.duration),n=Math.min(n,1),isNaN(n)||!isFinite(n))&&(n=1),1>n&&t.push(d),d.animationCallback(n),1<=n&&d.onComplete&&d.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){p.animate.call(p)}):this.chart.isAnimating=!1},ae.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var At={yScaleAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas,l=d.animationBase;o.drawImage(n,0,0,n.width,n.height,0,l-l*t,o.canvas.width/Ve,t*o.canvas.height/Ve)}},xScaleAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas,l=d.animationBase;o.drawImage(n,0,0,n.width,n.height,l-l*t,0,t*o.canvas.width/Ve,o.canvas.height/Ve)}},xClipAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas;o.save(),0<t&&o.drawImage(n,0,0,n.width*t,n.height,0,0,n.width*t/Ve,n.height/Ve),o.restore()}},fadeInAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas;o.save(),o.globalAlpha=t,o.drawImage(n,0,0,n.width,n.height,0,0,o.canvas.width/Ve,o.canvas.height/Ve),o.restore()}},easing:{linear:function(t,d,o,n){return o*t/n+d},easeOutQuad:function(t,d,o,n){return-o*(t/=n)*(t-2)+d},easeOutQuart:function(t,d,o,n){return-o*((t=t/n-1)*t*t*t-1)+d},easeInQuad:function(t,d,o,n){return o*(t/=n)*t+d},easeInQuart:function(t,d,o,n){return o*(t/=n)*t*t*t+d}}},me={drawMarker:function(t,d,o,n,l,p,g,M){if(o){var _=1;o.fillStyle=p||"#000000",o.strokeStyle=g||"#000000",o.lineWidth=M||0,o.setLineDash&&o.setLineDash(mt("solid",M)),"circle"===n?(o.moveTo(t,d),o.beginPath(),o.arc(t,d,l/2,0,2*Math.PI,!1),p&&o.fill(),M&&(g?o.stroke():(_=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=_))):"square"===n?(o.beginPath(),o.rect(t-l/2,d-l/2,l,l),p&&o.fill(),M&&(g?o.stroke():(_=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=_))):"triangle"===n?(o.beginPath(),o.moveTo(t-l/2,d+l/2),o.lineTo(t+l/2,d+l/2),o.lineTo(t,d-l/2),o.closePath(),p&&o.fill(),M&&(g?o.stroke():(_=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=_)),o.beginPath()):"cross"===n&&(o.strokeStyle=p,o.lineWidth=l/4,o.beginPath(),o.moveTo(t-l/2,d-l/2),o.lineTo(t+l/2,d+l/2),o.stroke(),o.moveTo(t+l/2,d-l/2),o.lineTo(t-l/2,d+l/2),o.stroke())}},drawMarkers:function(t){for(var d=0;d<t.length;d++){var o=t[d];me.drawMarker(o.x,o.y,o.ctx,o.type,o.size,o.color,o.borderColor,o.borderThickness)}}};return B}(),V.version="v3.10.4 GA",window.CanvasJS&&V&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=V)})(),document.createElement("canvas").getContext||function(){function je(){return this.context_||(this.context_=new mt(this))}function _t(V){return String(V).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function ft(V){V.namespaces.g_vml_||V.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),V.namespaces.g_o_||V.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),V.styleSheets.ex_canvas_||((V=V.createStyleSheet()).owningElement.id="ex_canvas_",V.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function Ze(V){var G=V.srcElement;switch(V.propertyName){case"width":G.getContext().clearRect(),G.style.width=G.attributes.width.nodeValue+"px",G.firstChild.style.width=G.clientWidth+"px";break;case"height":G.getContext().clearRect(),G.style.height=G.attributes.height.nodeValue+"px",G.firstChild.style.height=G.clientHeight+"px"}}function oi(V){(V=V.srcElement).firstChild&&(V.firstChild.style.width=V.clientWidth+"px",V.firstChild.style.height=V.clientHeight+"px")}function Rt(V,G){for(var st=[[1,0,0],[0,1,0],[0,0,1]],it=0;3>it;it++)for(var gt=0;3>gt;gt++){for(var ut=0,zt=0;3>zt;zt++)ut+=V[it][zt]*G[zt][gt];st[it][gt]=ut}return st}function ui(V,G){G.fillStyle=V.fillStyle,G.lineCap=V.lineCap,G.lineJoin=V.lineJoin,G.lineWidth=V.lineWidth,G.miterLimit=V.miterLimit,G.shadowBlur=V.shadowBlur,G.shadowColor=V.shadowColor,G.shadowOffsetX=V.shadowOffsetX,G.shadowOffsetY=V.shadowOffsetY,G.strokeStyle=V.strokeStyle,G.globalAlpha=V.globalAlpha,G.font=V.font,G.textAlign=V.textAlign,G.textBaseline=V.textBaseline,G.arcScaleX_=V.arcScaleX_,G.arcScaleY_=V.arcScaleY_,G.lineScale_=V.lineScale_}function W(V){var st=V.indexOf("(",3),G=V.indexOf(")",st+1);return(4!=(st=V.substring(st+1,G).split(",")).length||"a"!=V.charAt(3))&&(st[3]=1),st}function Oe(V,G,st){return Math.min(st,Math.max(G,V))}function ki(V,G,st){return 0>st&&st++,1<st&&st--,1>6*st?V+6*(G-V)*st:1>2*st?G:2>3*st?V+6*(G-V)*(2/3-st):V}function Ai(V){if(V in ei)return ei[V];var G,st=1;if("#"==(V=String(V)).charAt(0))G=V;else if(/^rgb/.test(V)){st=W(V),G="#";for(var it,gt=0;3>gt;gt++)it=-1!=st[gt].indexOf("%")?Math.floor(parseFloat(st[gt])/100*255):+st[gt],G+=Ti[Oe(it,0,255)];st=+st[3]}else if(/^hsl/.test(V)){if(gt=st=W(V),0>(G=parseFloat(gt[0])/360%360)&&G++,it=Oe(parseFloat(gt[1])/100,0,1),gt=Oe(parseFloat(gt[2])/100,0,1),0==it)it=gt=G=gt;else{var ut=.5>gt?gt*(1+it):gt+it-gt*it,zt=2*gt-ut;it=ki(zt,ut,G+1/3),gt=ki(zt,ut,G),G=ki(zt,ut,G-1/3)}G="#"+Ti[Math.floor(255*it)]+Ti[Math.floor(255*gt)]+Ti[Math.floor(255*G)],st=st[3]}else G=Li[V]||V;return ei[V]={color:G,alpha:st}}function mt(V){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*se,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=V;var G="width:"+V.clientWidth+"px;height:"+V.clientHeight+"px;overflow:hidden;position:absolute",st=V.ownerDocument.createElement("div");st.style.cssText=G,V.appendChild(st),(G=st.cloneNode(!1)).style.backgroundColor="red",G.style.filter="alpha(opacity=0)",V.appendChild(G),this.element_=st,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function Yt(V,G,st,it){V.currentPath_.push({type:"bezierCurveTo",cp1x:G.x,cp1y:G.y,cp2x:st.x,cp2y:st.y,x:it.x,y:it.y}),V.currentX_=it.x,V.currentY_=it.y}function Ue(V,G){var st=(it=Ai(V.strokeStyle)).color,it=it.alpha*V.globalAlpha,gt=V.lineScale_*V.lineWidth;1>gt&&(it*=gt),G.push("<g_vml_:stroke",' opacity="',it,'"',' joinstyle="',V.lineJoin,'"',' miterlimit="',V.miterLimit,'"',' endcap="',pi[V.lineCap]||"square",'"',' weight="',gt,'px"',' color="',st,'" />')}function Ne(V,G,st,it){var gt=V.fillStyle,ut=V.arcScaleX_,zt=V.arcScaleY_,re=it.x-st.x,Fe=it.y-st.y;if(gt instanceof Oi){var Qt=0,Ut=it=0,Tt=0,_e=1;if("gradient"==gt.type_){Qt=gt.x1_/ut,st=gt.y1_/zt;var Pt=ie(V,gt.x0_/ut,gt.y0_/zt);Qt=ie(V,Qt,st),0>(Qt=180*Math.atan2(Qt.x-Pt.x,Qt.y-Pt.y)/Math.PI)&&(Qt+=360),1e-6>Qt&&(Qt=0)}else it=((Pt=ie(V,gt.x0_,gt.y0_)).x-st.x)/re,Ut=(Pt.y-st.y)/Fe,_e=ze.max(re/=ut*se,Fe/=zt*se),_e=2*gt.r1_/_e-(Tt=2*gt.r0_/_e);(ut=gt.colors_).sort(function(ge,ii){return ge.offset-ii.offset}),Pt=ut[0].color,st=ut[(zt=ut.length)-1].color,re=ut[0].alpha*V.globalAlpha,V=ut[zt-1].alpha*V.globalAlpha,Fe=[];for(var ye=0;ye<zt;ye++){var ne=ut[ye];Fe.push(ne.offset*_e+Tt+" "+ne.color)}G.push('<g_vml_:fill type="',gt.type_,'"',' method="none" focus="100%"',' color="',Pt,'"',' color2="',st,'"',' colors="',Fe.join(","),'"',' opacity="',V,'"',' g_o_:opacity2="',re,'"',' angle="',Qt,'"',' focusposition="',it,",",Ut,'" />')}else gt instanceof $e?re&&Fe&&G.push("<g_vml_:fill",' position="',-st.x/re*ut*ut,",",-st.y/Fe*zt*zt,'"',' type="tile"',' src="',gt.src_,'" />'):(gt=Ai(V.fillStyle),G.push('<g_vml_:fill color="',gt.color,'" opacity="',gt.alpha*V.globalAlpha,'" />'))}function ie(V,G,st){return{x:se*(G*(V=V.m_)[0][0]+st*V[1][0]+V[2][0])-mi,y:se*(G*V[0][1]+st*V[1][1]+V[2][1])-mi}}function ri(V,G,st){isFinite(G[0][0])&&isFinite(G[0][1])&&isFinite(G[1][0])&&isFinite(G[1][1])&&isFinite(G[2][0])&&isFinite(G[2][1])&&(V.m_=G,st&&(V.lineScale_=Bi(Me(G[0][0]*G[1][1]-G[0][1]*G[1][0]))))}function Oi(V){this.type_=V,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function $e(V,G){if(!V||1!=V.nodeType||"IMG"!=V.tagName)throw new ce("TYPE_MISMATCH_ERR");if("complete"!=V.readyState)throw new ce("INVALID_STATE_ERR");switch(G){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=G;break;default:throw new ce("SYNTAX_ERR")}this.src_=V.src,this.width_=V.width,this.height_=V.height}function ce(V){this.code=this[V],this.message=V+": DOM Exception "+this.code}var ze=Math,ke=ze.round,Ge=ze.sin,_i=ze.cos,Me=ze.abs,Bi=ze.sqrt,se=10,mi=se/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var vi=Array.prototype.slice;ft(document);var Fi={init:function(V){(V=V||document).createElement("canvas"),V.attachEvent("onreadystatechange",function De(V,G,st){var it=vi.call(arguments,2);return function(){return V.apply(G,it.concat(vi.call(arguments)))}}(this.init_,this,V))},init_:function(V){V=V.getElementsByTagName("canvas");for(var G=0;G<V.length;G++)this.initElement(V[G])},initElement:function(V){if(!V.getContext){V.getContext=je,ft(V.ownerDocument),V.innerHTML="",V.attachEvent("onpropertychange",Ze),V.attachEvent("onresize",oi);var G=V.attributes;G.width&&G.width.specified?V.style.width=G.width.nodeValue+"px":V.width=V.clientWidth,G.height&&G.height.specified?V.style.height=G.height.nodeValue+"px":V.height=V.clientHeight}return V}};Fi.init();for(var Ti=[],Et=0;16>Et;Et++)for(var fi=0;16>fi;fi++)Ti[16*Et+fi]=Et.toString(16)+fi.toString(16);var Li={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},ei={},H={},pi={butt:"flat",round:"round"};(Et=mt.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Et.beginPath=function(){this.currentPath_=[]},Et.moveTo=function(V,G){var st=ie(this,V,G);this.currentPath_.push({type:"moveTo",x:st.x,y:st.y}),this.currentX_=st.x,this.currentY_=st.y},Et.lineTo=function(V,G){var st=ie(this,V,G);this.currentPath_.push({type:"lineTo",x:st.x,y:st.y}),this.currentX_=st.x,this.currentY_=st.y},Et.bezierCurveTo=function(V,G,st,it,gt,ut){gt=ie(this,gt,ut),Yt(this,V=ie(this,V,G),st=ie(this,st,it),gt)},Et.quadraticCurveTo=function(V,G,st,it){V=ie(this,V,G),st=ie(this,st,it),Yt(this,it={x:this.currentX_+2/3*(V.x-this.currentX_),y:this.currentY_+2/3*(V.y-this.currentY_)},{x:it.x+(st.x-this.currentX_)/3,y:it.y+(st.y-this.currentY_)/3},st)},Et.arc=function(V,G,st,it,gt,ut){st*=se;var zt=ut?"at":"wa",re=V+_i(it)*st-mi,Fe=G+Ge(it)*st-mi;it=V+_i(gt)*st-mi,gt=G+Ge(gt)*st-mi,re!=it||ut||(re+=.125),V=ie(this,V,G),re=ie(this,re,Fe),it=ie(this,it,gt),this.currentPath_.push({type:zt,x:V.x,y:V.y,radius:st,xStart:re.x,yStart:re.y,xEnd:it.x,yEnd:it.y})},Et.rect=function(V,G,st,it){this.moveTo(V,G),this.lineTo(V+st,G),this.lineTo(V+st,G+it),this.lineTo(V,G+it),this.closePath()},Et.strokeRect=function(V,G,st,it){var gt=this.currentPath_;this.beginPath(),this.moveTo(V,G),this.lineTo(V+st,G),this.lineTo(V+st,G+it),this.lineTo(V,G+it),this.closePath(),this.stroke(),this.currentPath_=gt},Et.fillRect=function(V,G,st,it){var gt=this.currentPath_;this.beginPath(),this.moveTo(V,G),this.lineTo(V+st,G),this.lineTo(V+st,G+it),this.lineTo(V,G+it),this.closePath(),this.fill(),this.currentPath_=gt},Et.createLinearGradient=function(V,G,st,it){var gt=new Oi("gradient");return gt.x0_=V,gt.y0_=G,gt.x1_=st,gt.y1_=it,gt},Et.createRadialGradient=function(V,G,st,it,gt,ut){var zt=new Oi("gradientradial");return zt.x0_=V,zt.y0_=G,zt.r0_=st,zt.x1_=it,zt.y1_=gt,zt.r1_=ut,zt},Et.drawImage=function(V,G){var st,it,gt,ut,zt,re,Fe,Qt;gt=V.runtimeStyle.width,ut=V.runtimeStyle.height,V.runtimeStyle.width="auto",V.runtimeStyle.height="auto";var Ut=V.width,Tt=V.height;if(V.runtimeStyle.width=gt,V.runtimeStyle.height=ut,3==arguments.length)st=arguments[1],it=arguments[2],zt=re=0,Fe=gt=Ut,Qt=ut=Tt;else if(5==arguments.length)st=arguments[1],it=arguments[2],gt=arguments[3],ut=arguments[4],zt=re=0,Fe=Ut,Qt=Tt;else{if(9!=arguments.length)throw Error("Invalid number of arguments");zt=arguments[1],re=arguments[2],Fe=arguments[3],Qt=arguments[4],st=arguments[5],it=arguments[6],gt=arguments[7],ut=arguments[8]}var _e=ie(this,st,it),Pt=[];if(Pt.push(" <g_vml_:group",' coordsize="',10*se,",",10*se,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var ye=[];ye.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",ke(_e.x/se),",","Dy=",ke(_e.y/se),"");var ne=ie(this,st+gt,it),ge=ie(this,st,it+ut);st=ie(this,st+gt,it+ut),_e.x=ze.max(_e.x,ne.x,ge.x,st.x),_e.y=ze.max(_e.y,ne.y,ge.y,st.y),Pt.push("padding:0 ",ke(_e.x/se),"px ",ke(_e.y/se),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",ye.join(""),", sizingmethod='clip');")}else Pt.push("top:",ke(_e.y/se),"px;left:",ke(_e.x/se),"px;");Pt.push(' ">','<g_vml_:image src="',V.src,'"',' style="width:',se*gt,"px;"," height:",se*ut,'px"',' cropleft="',zt/Ut,'"',' croptop="',re/Tt,'"',' cropright="',(Ut-zt-Fe)/Ut,'"',' cropbottom="',(Tt-re-Qt)/Tt,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",Pt.join(""))},Et.stroke=function(V){var G=[];G.push("<g_vml_:shape",' filled="',!!V,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*se,",",10*se,'"',' stroked="',!V,'"',' path="');for(var st={x:null,y:null},it={x:null,y:null},gt=0;gt<this.currentPath_.length;gt++){var ut=this.currentPath_[gt];switch(ut.type){case"moveTo":G.push(" m ",ke(ut.x),",",ke(ut.y));break;case"lineTo":G.push(" l ",ke(ut.x),",",ke(ut.y));break;case"close":G.push(" x "),ut=null;break;case"bezierCurveTo":G.push(" c ",ke(ut.cp1x),",",ke(ut.cp1y),",",ke(ut.cp2x),",",ke(ut.cp2y),",",ke(ut.x),",",ke(ut.y));break;case"at":case"wa":G.push(" ",ut.type," ",ke(ut.x-this.arcScaleX_*ut.radius),",",ke(ut.y-this.arcScaleY_*ut.radius)," ",ke(ut.x+this.arcScaleX_*ut.radius),",",ke(ut.y+this.arcScaleY_*ut.radius)," ",ke(ut.xStart),",",ke(ut.yStart)," ",ke(ut.xEnd),",",ke(ut.yEnd))}ut&&((null==st.x||ut.x<st.x)&&(st.x=ut.x),(null==it.x||ut.x>it.x)&&(it.x=ut.x),(null==st.y||ut.y<st.y)&&(st.y=ut.y),(null==it.y||ut.y>it.y)&&(it.y=ut.y))}G.push(' ">'),V?Ne(this,G,st,it):Ue(this,G),G.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",G.join(""))},Et.fill=function(){this.stroke(!0)},Et.closePath=function(){this.currentPath_.push({type:"close"})},Et.save=function(){var V={};ui(this,V),this.aStack_.push(V),this.mStack_.push(this.m_),this.m_=Rt([[1,0,0],[0,1,0],[0,0,1]],this.m_)},Et.restore=function(){this.aStack_.length&&(ui(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Et.translate=function(V,G){ri(this,Rt([[1,0,0],[0,1,0],[V,G,1]],this.m_),!1)},Et.rotate=function(V){var G=_i(V);ri(this,Rt([[G,V=Ge(V),0],[-V,G,0],[0,0,1]],this.m_),!1)},Et.scale=function(V,G){this.arcScaleX_*=V,this.arcScaleY_*=G,ri(this,Rt([[V,0,0],[0,G,0],[0,0,1]],this.m_),!0)},Et.transform=function(V,G,st,it,gt,ut){ri(this,Rt([[V,G,0],[st,it,0],[gt,ut,1]],this.m_),!0)},Et.setTransform=function(V,G,st,it,gt,ut){ri(this,[[V,G,0],[st,it,0],[gt,ut,1]],!0)},Et.drawText_=function(V,G,st,it,gt){var ut=this.m_;it=0;var Qt,zt=1e3,re=0,Fe=[];if(H[Qt=this.font])Qt=H[Qt];else{var Ut=document.createElement("div").style;try{Ut.font=Qt}catch{}Qt=H[Qt]={style:Ut.fontStyle||"normal",variant:Ut.fontVariant||"normal",weight:Ut.fontWeight||"normal",size:Ut.fontSize||10,family:Ut.fontFamily||"sans-serif"}}Ut=Qt;var Tt=this.element_;for(var _e in Qt={},Ut)Qt[_e]=Ut[_e];switch(_e=parseFloat(Tt.currentStyle.fontSize),Tt=parseFloat(Ut.size),Qt.size="number"==typeof Ut.size?Ut.size:-1!=Ut.size.indexOf("px")?Tt:-1!=Ut.size.indexOf("em")?_e*Tt:-1!=Ut.size.indexOf("%")?_e/100*Tt:-1!=Ut.size.indexOf("pt")?Tt/.75:_e,Qt.size*=.981,_e=Qt.style+" "+Qt.variant+" "+Qt.weight+" "+Qt.size+"px "+Qt.family,Tt=this.element_.currentStyle,Ut=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":Ut="ltr"==Tt.direction?"right":"left";break;case"start":Ut="rtl"==Tt.direction?"right":"left";break;default:Ut="left"}switch(this.textBaseline){case"hanging":case"top":re=Qt.size/1.75;break;case"middle":break;default:re=-Qt.size/2.25}switch(Ut){case"right":it=1e3,zt=.05;break;case"center":it=zt=500}G=ie(this,G+0,st+re),Fe.push('<g_vml_:line from="',-it,' 0" to="',zt,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!gt,'" stroked="',!!gt,'" style="position:absolute;width:1px;height:1px;">'),gt?Ue(this,Fe):Ne(this,Fe,{x:-it,y:0},{x:zt,y:Qt.size}),gt=ut[0][0].toFixed(3)+","+ut[1][0].toFixed(3)+","+ut[0][1].toFixed(3)+","+ut[1][1].toFixed(3)+",0,0",G=ke(G.x/se)+","+ke(G.y/se),Fe.push('<g_vml_:skew on="t" matrix="',gt,'" ',' offset="',G,'" origin="',it,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',_t(V),'" style="v-text-align:',Ut,";font:",_t(_e),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",Fe.join(""))},Et.fillText=function(V,G,st,it){this.drawText_(V,G,st,it,!1)},Et.strokeText=function(V,G,st,it){this.drawText_(V,G,st,it,!0)},Et.measureText=function(V){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var G=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(G.createTextNode(V)),{width:this.textMeasureEl_.offsetWidth}},Et.clip=function(){},Et.arcTo=function(){},Et.createPattern=function(V,G){return new $e(V,G)},Oi.prototype.addColorStop=function(V,G){G=Ai(G),this.colors_.push({offset:V,color:G.color,alpha:G.alpha})},(Et=ce.prototype=Error()).INDEX_SIZE_ERR=1,Et.DOMSTRING_SIZE_ERR=2,Et.HIERARCHY_REQUEST_ERR=3,Et.WRONG_DOCUMENT_ERR=4,Et.INVALID_CHARACTER_ERR=5,Et.NO_DATA_ALLOWED_ERR=6,Et.NO_MODIFICATION_ALLOWED_ERR=7,Et.NOT_FOUND_ERR=8,Et.NOT_SUPPORTED_ERR=9,Et.INUSE_ATTRIBUTE_ERR=10,Et.INVALID_STATE_ERR=11,Et.SYNTAX_ERR=12,Et.INVALID_MODIFICATION_ERR=13,Et.NAMESPACE_ERR=14,Et.INVALID_ACCESS_ERR=15,Et.VALIDATION_ERR=16,Et.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=Fi,CanvasRenderingContext2D=mt,CanvasGradient=Oi,CanvasPattern=$e,DOMException=ce}()},1549:(cs,is,Vt)=>{"use strict";Vt.r(is),Vt.d(is,{FolderPageModule:()=>Ai});var yi=Vt(177),je=Vt(4341),De=Vt(4488),_t=Vt(8986),ft=Vt(4438),Ze=Vt(887);const wi=[{path:"folder",component:(()=>{var mt;class Yt{constructor(Ne,ie,ri){this.menuController=Ne,this.loadingController=ie,this.toastController=ri,this.activatedRoute=(0,ft.WQX)(_t.nX)}ngOnInit(){this.folder=this.activatedRoute.snapshot.paramMap.get("id"),this.createChart()}createChart(){this.chart=new Ze.Ay("MyChart",{type:"bar",data:{labels:["2022-05-10","2022-05-11","2022-05-12","2022-05-13","2022-05-14","2022-05-15","2022-05-16","2022-05-17"],datasets:[{label:"Sales",data:["467","576","572","79","92","574","573","576"],backgroundColor:"blue"},{label:"Profit",data:["542","542","536","327","17","0.00","538","541"],backgroundColor:"limegreen"}]},options:{aspectRatio:2.5}})}onSearchChange(Ne){console.log(Ne.detail.value)}viewNotifications(){}}return(mt=Yt).\u0275fac=function(Ne){return new(Ne||mt)(ft.rXU(De._t),ft.rXU(De.Xi),ft.rXU(De.K_))},mt.\u0275cmp=ft.VBU({type:mt,selectors:[["app-folder"]],decls:71,vars:2,consts:[[3,"translucent"],["slot","start"],["color","primary","slot","end","fill","clear",3,"click"],["slot","icon-only","name","notifications-circle-outline"],["slot","icon-only","name","chatbox-ellipses-outline"],[3,"fullscreen"],["size","3"],["fixed",""],["size","6"],["src","assets/Icon_Order.svg","alt","","srcset",""],["src","assets/icon Delivered.svg","alt","","srcset",""],["src","assets/total_cancelled.svg","alt","","srcset",""],["src","assets/total_revenue.svg","alt","","srcset",""],["size","4"],[2,"display","flex","flex-direction","row"]],template:function(Ne,ie){1&Ne&&(ft.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),ft.nrm(3,"ion-menu-button"),ft.k0s(),ft.j41(4,"ion-title"),ft.EFF(5,"Dashboard"),ft.k0s(),ft.j41(6,"ion-button",2),ft.bIt("click",function(){return ie.viewNotifications()}),ft.nrm(7,"ion-icon",3),ft.k0s(),ft.j41(8,"ion-button",2),ft.bIt("click",function(){return ie.viewNotifications()}),ft.nrm(9,"ion-icon",4),ft.k0s()()(),ft.j41(10,"ion-content",5)(11,"ion-grid")(12,"ion-row")(13,"ion-col",6)(14,"ion-card")(15,"ion-card-header")(16,"ion-grid",7)(17,"ion-row")(18,"ion-col",8),ft.nrm(19,"img",9),ft.k0s(),ft.j41(20,"ion-col",8)(21,"ion-card-subtitle"),ft.EFF(22,"Total Orders"),ft.k0s(),ft.j41(23,"ion-card-title"),ft.EFF(24,"12345677"),ft.k0s()()()()()()(),ft.j41(25,"ion-col",6)(26,"ion-card")(27,"ion-card-header")(28,"ion-grid",7)(29,"ion-row")(30,"ion-col",8),ft.nrm(31,"img",10),ft.k0s(),ft.j41(32,"ion-col",8)(33,"ion-card-subtitle"),ft.EFF(34,"Total Delivered"),ft.k0s(),ft.j41(35,"ion-card-title"),ft.EFF(36,"12345677"),ft.k0s()()()()()()(),ft.j41(37,"ion-col",6)(38,"ion-card")(39,"ion-card-header")(40,"ion-grid",7)(41,"ion-row")(42,"ion-col",8),ft.nrm(43,"img",11),ft.k0s(),ft.j41(44,"ion-col",8)(45,"ion-card-subtitle"),ft.EFF(46,"Total Canceled"),ft.k0s(),ft.j41(47,"ion-card-title"),ft.EFF(48,"12345677"),ft.k0s()()()()()()(),ft.j41(49,"ion-col",6)(50,"ion-card")(51,"ion-card-header")(52,"ion-grid",7)(53,"ion-row")(54,"ion-col",8),ft.nrm(55,"img",12),ft.k0s(),ft.j41(56,"ion-col",8)(57,"ion-card-subtitle"),ft.EFF(58,"Total Revenue"),ft.k0s(),ft.j41(59,"ion-card-title"),ft.EFF(60,"12345677"),ft.k0s()()()()()()()()(),ft.j41(61,"ion-grid")(62,"ion-row")(63,"ion-col",13),ft.nrm(64,"ion-card"),ft.k0s(),ft.j41(65,"ion-col",13)(66,"ion-card"),ft.nrm(67,"div",14),ft.k0s()(),ft.j41(68,"ion-col",13)(69,"ion-card"),ft.nrm(70,"div",14),ft.k0s()()()()()),2&Ne&&(ft.Y8G("translucent",!0),ft.R7$(10),ft.Y8G("fullscreen",!0))},dependencies:[De.Jm,De.QW,De.b_,De.ME,De.HW,De.tN,De.hU,De.W9,De.lO,De.eU,De.iq,De.MC,De.ln,De.BC,De.ai],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),Yt})()},{path:"login",loadChildren:()=>Promise.all([Vt.e(2076),Vt.e(2887)]).then(Vt.bind(Vt,2887)).then(mt=>mt.LoginPageModule)},{path:"orders",loadChildren:()=>Promise.all([Vt.e(2076),Vt.e(2686)]).then(Vt.bind(Vt,2686)).then(mt=>mt.OrdersPageModule)},{path:"partners",loadChildren:()=>Promise.all([Vt.e(2076),Vt.e(2469)]).then(Vt.bind(Vt,2469)).then(mt=>mt.PartnersPageModule)},{path:"reviews",loadChildren:()=>Vt.e(8962).then(Vt.bind(Vt,8962)).then(mt=>mt.ReviewsPageModule)},{path:"delivery-boy",loadChildren:()=>Promise.all([Vt.e(2076),Vt.e(152)]).then(Vt.bind(Vt,152)).then(mt=>mt.DeliveryBoyPageModule)},{path:"customer",loadChildren:()=>Promise.all([Vt.e(2076),Vt.e(2008)]).then(Vt.bind(Vt,2008)).then(mt=>mt.CustomerPageModule)},{path:"chat",loadChildren:()=>Promise.all([Vt.e(2076),Vt.e(1634)]).then(Vt.bind(Vt,1634)).then(mt=>mt.ChatPageModule)},{path:"promo-code",loadChildren:()=>Promise.all([Vt.e(2076),Vt.e(4907)]).then(Vt.bind(Vt,4907)).then(mt=>mt.PromoCodePageModule)},{path:"settings",loadChildren:()=>Promise.all([Vt.e(2076),Vt.e(8422)]).then(Vt.bind(Vt,8422)).then(mt=>mt.SettingsPageModule)},{path:"register",loadChildren:()=>Vt.e(2296).then(Vt.bind(Vt,2296)).then(mt=>mt.RegisterPageModule)},{path:"dash",loadChildren:()=>Promise.all([Vt.e(2076),Vt.e(5249)]).then(Vt.bind(Vt,5249)).then(mt=>mt.DashPageModule)},{path:"category",loadChildren:()=>Promise.all([Vt.e(2076),Vt.e(3272)]).then(Vt.bind(Vt,3272)).then(mt=>mt.CategoryPageModule)},{path:"banner",loadChildren:()=>Promise.all([Vt.e(2076),Vt.e(6369)]).then(Vt.bind(Vt,6369)).then(mt=>mt.BannerPageModule)}];let Rt=(()=>{var mt;class Yt{}return(mt=Yt).\u0275fac=function(Ne){return new(Ne||mt)},mt.\u0275mod=ft.$C({type:mt}),mt.\u0275inj=ft.G2t({imports:[_t.iI.forChild(wi),_t.iI]}),Yt})();"object"==typeof document&&document&&Vt(7636);let ki=(()=>{class mt{}return mt.\u0275fac=function(Ue){return new(Ue||mt)},mt.\u0275mod=ft.$C({type:mt}),mt.\u0275inj=ft.G2t({imports:[[yi.MD]]}),mt})(),Ai=(()=>{var mt;class Yt{}return(mt=Yt).\u0275fac=function(Ne){return new(Ne||mt)},mt.\u0275mod=ft.$C({type:mt}),mt.\u0275inj=ft.G2t({imports:[yi.MD,je.YN,De.bv,ki,Rt]}),Yt})()},887:(cs,is,Vt)=>{"use strict";function yi(s){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function _t(s,i,e){return(i=function De(s){var i=function je(s,i){if("object"!=yi(s)||!s)return s;var e=s[Symbol.toPrimitive];if(void 0!==e){var a=e.call(s,i||"default");if("object"!=yi(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(s)}(s,"string");return"symbol"==yi(i)?i:String(i)}(i))in s?Object.defineProperty(s,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[i]=e,s}function ft(s){return s+.5|0}Vt.d(is,{Ay:()=>Bd});const Ze=(s,i,e)=>Math.max(Math.min(s,e),i);function oi(s){return Ze(ft(2.55*s),0,255)}function Rt(s){return Ze(ft(255*s),0,255)}function ui(s){return Ze(ft(s/2.55)/100,0,1)}function W(s){return Ze(ft(100*s),0,100)}const Oe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ki=[..."0123456789ABCDEF"],Ai=s=>ki[15&s],mt=s=>ki[(240&s)>>4]+ki[15&s],Yt=s=>(240&s)>>4==(15&s);const Oi=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $e(s,i,e){const a=i*Math.min(e,1-e),r=(c,u=(c+s/30)%12)=>e-a*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function ce(s,i,e){const a=(r,c=(r+s/60)%6)=>e-e*i*Math.max(Math.min(c,4-c,1),0);return[a(5),a(3),a(1)]}function ze(s,i,e){const a=$e(s,1,.5);let r;for(i+e>1&&(r=1/(i+e),i*=r,e*=r),r=0;r<3;r++)a[r]*=1-i-e,a[r]+=i;return a}function Ge(s){const e=s.r/255,a=s.g/255,r=s.b/255,c=Math.max(e,a,r),u=Math.min(e,a,r),x=(c+u)/2;let y,k,S;return c!==u&&(S=c-u,k=x>.5?S/(2-c-u):S/(c+u),y=function ke(s,i,e,a,r){return s===r?(i-e)/a+(i<e?6:0):i===r?(e-s)/a+2:(s-i)/a+4}(e,a,r,S,c),y=60*y+.5),[0|y,k||0,x]}function _i(s,i,e,a){return(Array.isArray(i)?s(i[0],i[1],i[2]):s(i,e,a)).map(Rt)}function Me(s,i,e){return _i($e,s,i,e)}function mi(s){return(s%360+360)%360}const fi={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Li={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let H;const Et=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,st=s=>s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055,it=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function ut(s,i,e){if(s){let a=Ge(s);a[i]=Math.max(0,Math.min(a[i]+a[i]*e,0===i?360:1)),a=Me(a),s.r=a[0],s.g=a[1],s.b=a[2]}}function zt(s,i){return s&&Object.assign(i||{},s)}function re(s){var i={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(i={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(i.a=Rt(s[3]))):(i=zt(s,{r:0,g:0,b:0,a:1})).a=Rt(i.a),i}function Fe(s){return"r"===s.charAt(0)?function V(s){const i=Et.exec(s);let a,r,c,e=255;if(i){if(i[7]!==a){const u=+i[7];e=i[8]?oi(u):Ze(255*u,0,255)}return a=+i[1],r=+i[3],c=+i[5],a=255&(i[2]?oi(a):Ze(a,0,255)),r=255&(i[4]?oi(r):Ze(r,0,255)),c=255&(i[6]?oi(c):Ze(c,0,255)),{r:a,g:r,b:c,a:e}}}(s):function vi(s){const i=Oi.exec(s);let a,e=255;if(!i)return;i[5]!==a&&(e=i[6]?oi(+i[5]):Rt(+i[5]));const r=mi(+i[2]),c=+i[3]/100,u=+i[4]/100;return a="hwb"===i[1]?function Bi(s,i,e){return _i(ze,s,i,e)}(r,c,u):"hsv"===i[1]?function se(s,i,e){return _i(ce,s,i,e)}(r,c,u):Me(r,c,u),{r:a[0],g:a[1],b:a[2],a:e}}(s)}class Qt{constructor(i){if(i instanceof Qt)return i;const e=typeof i;let a;"object"===e?a=re(i):"string"===e&&(a=function Ne(s){var e,i=s.length;return"#"===s[0]&&(4===i||5===i?e={r:255&17*Oe[s[1]],g:255&17*Oe[s[2]],b:255&17*Oe[s[3]],a:5===i?17*Oe[s[4]]:255}:(7===i||9===i)&&(e={r:Oe[s[1]]<<4|Oe[s[2]],g:Oe[s[3]]<<4|Oe[s[4]],b:Oe[s[5]]<<4|Oe[s[6]],a:9===i?Oe[s[7]]<<4|Oe[s[8]]:255})),e}(i)||function pi(s){H||(H=function ei(){const s={},i=Object.keys(Li),e=Object.keys(fi);let a,r,c,u,x;for(a=0;a<i.length;a++){for(u=x=i[a],r=0;r<e.length;r++)c=e[r],x=x.replace(c,fi[c]);c=parseInt(Li[u],16),s[x]=[c>>16&255,c>>8&255,255&c]}return s}(),H.transparent=[0,0,0,0]);const i=H[s.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||Fe(i)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var i=zt(this._rgb);return i&&(i.a=ui(i.a)),i}set rgb(i){this._rgb=re(i)}rgbString(){return this._valid?function G(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${ui(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}(this._rgb):void 0}hexString(){return this._valid?function ri(s){var i=(s=>Yt(s.r)&&Yt(s.g)&&Yt(s.b)&&Yt(s.a))(s)?Ai:mt;return s?"#"+i(s.r)+i(s.g)+i(s.b)+((s,i)=>s<255?i(s):"")(s.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function Ti(s){if(!s)return;const i=Ge(s),e=i[0],a=W(i[1]),r=W(i[2]);return s.a<255?`hsla(${e}, ${a}%, ${r}%, ${ui(s.a)})`:`hsl(${e}, ${a}%, ${r}%)`}(this._rgb):void 0}mix(i,e){if(i){const a=this.rgb,r=i.rgb;let c;const u=e===c?.5:e,x=2*u-1,y=a.a-r.a,k=((x*y==-1?x:(x+y)/(1+x*y))+1)/2;c=1-k,a.r=255&k*a.r+c*r.r+.5,a.g=255&k*a.g+c*r.g+.5,a.b=255&k*a.b+c*r.b+.5,a.a=u*a.a+(1-u)*r.a,this.rgb=a}return this}interpolate(i,e){return i&&(this._rgb=function gt(s,i,e){const a=it(ui(s.r)),r=it(ui(s.g)),c=it(ui(s.b));return{r:Rt(st(a+e*(it(ui(i.r))-a))),g:Rt(st(r+e*(it(ui(i.g))-r))),b:Rt(st(c+e*(it(ui(i.b))-c))),a:s.a+e*(i.a-s.a)}}(this._rgb,i._rgb,e)),this}clone(){return new Qt(this.rgb)}alpha(i){return this._rgb.a=Rt(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,e=ft(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=e,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return ut(this._rgb,2,i),this}darken(i){return ut(this._rgb,2,-i),this}saturate(i){return ut(this._rgb,1,i),this}desaturate(i){return ut(this._rgb,1,-i),this}rotate(i){return function Fi(s,i){var e=Ge(s);e[0]=mi(e[0]+i),e=Me(e),s.r=e[0],s.g=e[1],s.b=e[2]}(this._rgb,i),this}}function Tt(){}const _e=(()=>{let s=0;return()=>s++})();function Pt(s){return null===s||typeof s>"u"}function ye(s){if(Array.isArray&&Array.isArray(s))return!0;const i=Object.prototype.toString.call(s);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function ne(s){return null!==s&&"[object Object]"===Object.prototype.toString.call(s)}function ge(s){return("number"==typeof s||s instanceof Number)&&isFinite(+s)}function ii(s,i){return ge(s)?s:i}function $t(s,i){return typeof s>"u"?i:s}const Ii=(s,i)=>"string"==typeof s&&s.endsWith("%")?parseFloat(s)/100*i:+s;function Ae(s,i,e){if(s&&"function"==typeof s.call)return s.apply(e,i)}function Ht(s,i,e,a){let r,c,u;if(ye(s))if(c=s.length,a)for(r=c-1;r>=0;r--)i.call(e,s[r],r);else for(r=0;r<c;r++)i.call(e,s[r],r);else if(ne(s))for(u=Object.keys(s),c=u.length,r=0;r<c;r++)i.call(e,s[u[r]],u[r])}function Ei(s,i){let e,a,r,c;if(!s||!i||s.length!==i.length)return!1;for(e=0,a=s.length;e<a;++e)if(r=s[e],c=i[e],r.datasetIndex!==c.datasetIndex||r.index!==c.index)return!1;return!0}function ji(s){if(ye(s))return s.map(ji);if(ne(s)){const i=Object.create(null),e=Object.keys(s),a=e.length;let r=0;for(;r<a;++r)i[e[r]]=ji(s[e[r]]);return i}return s}function ss(s){return-1===["__proto__","prototype","constructor"].indexOf(s)}function ns(s,i,e,a){if(!ss(s))return;const r=i[s],c=e[s];ne(r)&&ne(c)?Ve(r,c,a):i[s]=ji(c)}function Ve(s,i,e){const a=ye(i)?i:[i],r=a.length;if(!ne(s))return s;const c=(e=e||{}).merger||ns;let u;for(let x=0;x<r;++x){if(u=a[x],!ne(u))continue;const y=Object.keys(u);for(let k=0,S=y.length;k<S;++k)c(y[k],s,u,e)}return s}function Te(s,i){return Ve(s,i,{merger:si})}function si(s,i,e){if(!ss(s))return;const a=i[s],r=e[s];ne(a)&&ne(r)?Te(a,r):Object.prototype.hasOwnProperty.call(i,s)||(i[s]=ji(r))}const ws={"":s=>s,x:s=>s.x,y:s=>s.y};function B(s,i){return(ws[i]||(ws[i]=function P(s){const i=function us(s){const i=s.split("."),e=[];let a="";for(const r of i)a+=r,a.endsWith("\\")?a=a.slice(0,-1)+".":(e.push(a),a="");return e}(s);return e=>{for(const a of i){if(""===a)break;e=e&&e[a]}return e}}(i)))(s)}function O(s){return s.charAt(0).toUpperCase()+s.slice(1)}const q=s=>typeof s<"u",pt=s=>"function"==typeof s,Mt=(s,i)=>{if(s.size!==i.size)return!1;for(const e of s)if(!i.has(e))return!1;return!0},It=Math.PI,Ot=2*It,jt=Ot+It,Ye=Number.POSITIVE_INFINITY,Ce=It/180,le=It/2,ae=It/4,ti=2*It/3,Le=Math.log10,At=Math.sign;function me(s,i,e){return Math.abs(s-i)<e}function t(s){const i=Math.round(s);s=me(s,i,s/1e3)?i:s;const e=Math.pow(10,Math.floor(Le(s))),a=s/e;return(a<=1?1:a<=2?2:a<=5?5:10)*e}function o(s){return!isNaN(parseFloat(s))&&isFinite(s)}function l(s,i,e){let a,r,c;for(a=0,r=s.length;a<r;a++)c=s[a][e],isNaN(c)||(i.min=Math.min(i.min,c),i.max=Math.max(i.max,c))}function p(s){return s*(It/180)}function g(s){return s*(180/It)}function M(s){if(!ge(s))return;let i=1,e=0;for(;Math.round(s*i)/i!==s;)i*=10,e++;return e}function _(s,i){const e=i.x-s.x,a=i.y-s.y,r=Math.sqrt(e*e+a*a);let c=Math.atan2(a,e);return c<-.5*It&&(c+=Ot),{angle:c,distance:r}}function f(s,i){return Math.sqrt(Math.pow(i.x-s.x,2)+Math.pow(i.y-s.y,2))}function m(s,i){return(s-i+jt)%Ot-It}function b(s){return(s%Ot+Ot)%Ot}function v(s,i,e,a){const r=b(s),c=b(i),u=b(e),x=b(c-r),y=b(u-r),k=b(r-c),S=b(r-u);return r===c||r===u||a&&c===u||x>y&&k<S}function h(s,i,e){return Math.max(i,Math.min(e,s))}function w(s,i,e,a=1e-6){return s>=Math.min(i,e)-a&&s<=Math.max(i,e)+a}function F(s,i,e){e=e||(u=>s[u]<i);let c,a=s.length-1,r=0;for(;a-r>1;)c=r+a>>1,e(c)?r=c:a=c;return{lo:r,hi:a}}const T=(s,i,e,a)=>F(s,e,a?r=>{const c=s[r][i];return c<e||c===e&&s[r+1][i]===e}:r=>s[r][i]<e),I=(s,i,e)=>F(s,e,a=>s[a][i]>=e),Y=["push","pop","shift","splice","unshift"];function z(s,i){const e=s._chartjs;if(!e)return;const a=e.listeners,r=a.indexOf(i);-1!==r&&a.splice(r,1),!(a.length>0)&&(Y.forEach(c=>{delete s[c]}),delete s._chartjs)}function et(s){const i=new Set(s);return i.size===s.length?s:Array.from(i)}const Z=typeof window>"u"?function(s){return s()}:window.requestAnimationFrame;function $(s,i){let e=[],a=!1;return function(...r){e=r,a||(a=!0,Z.call(window,()=>{a=!1,s.apply(i,e)}))}}const U=s=>"start"===s?"left":"end"===s?"right":"center",E=(s,i,e)=>"start"===s?i:"end"===s?e:(i+e)/2;function lt(s,i,e){const a=i.length;let r=0,c=a;if(s._sorted){const{iScale:u,_parsed:x}=s,y=u.axis,{min:k,max:S,minDefined:L,maxDefined:D}=u.getUserBounds();L&&(r=h(Math.min(T(x,y,k).lo,e?a:T(i,y,u.getPixelForValue(k)).lo),0,a-1)),c=D?h(Math.max(T(x,u.axis,S,!0).hi+1,e?0:T(i,y,u.getPixelForValue(S),!0).hi+1),r,a)-r:a-r}return{start:r,count:c}}function R(s){const{xScale:i,yScale:e,_scaleRanges:a}=s,r={xmin:i.min,xmax:i.max,ymin:e.min,ymax:e.max};if(!a)return s._scaleRanges=r,!0;const c=a.xmin!==i.min||a.xmax!==i.max||a.ymin!==e.min||a.ymax!==e.max;return Object.assign(a,r),c}const Jt=s=>0===s||1===s,qt=(s,i,e)=>-Math.pow(2,10*(s-=1))*Math.sin((s-i)*Ot/e),he=(s,i,e)=>Math.pow(2,-10*s)*Math.sin((s-i)*Ot/e)+1,oe={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>1-Math.cos(s*le),easeOutSine:s=>Math.sin(s*le),easeInOutSine:s=>-.5*(Math.cos(It*s)-1),easeInExpo:s=>0===s?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>1===s?1:1-Math.pow(2,-10*s),easeInOutExpo:s=>Jt(s)?s:s<.5?.5*Math.pow(2,10*(2*s-1)):.5*(2-Math.pow(2,-10*(2*s-1))),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Jt(s)?s:qt(s,.075,.3),easeOutElastic:s=>Jt(s)?s:he(s,.075,.3),easeInOutElastic:s=>Jt(s)?s:s<.5?.5*qt(2*s,.1125,.45):.5+.5*he(2*s-1,.1125,.45),easeInBack:s=>s*s*(2.70158*s-1.70158),easeOutBack:s=>(s-=1)*s*(2.70158*s+1.70158)+1,easeInOutBack(s){let i=1.70158;return(s/=.5)<1?s*s*((1+(i*=1.525))*s-i)*.5:.5*((s-=2)*s*((1+(i*=1.525))*s+i)+2)},easeInBounce:s=>1-oe.easeOutBounce(1-s),easeOutBounce:s=>s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375,easeInOutBounce:s=>s<.5?.5*oe.easeInBounce(2*s):.5*oe.easeOutBounce(2*s-1)+.5};function Bt(s){if(s&&"object"==typeof s){const i=s.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function Se(s){return Bt(s)?s:new Qt(s)}function te(s){return Bt(s)?s:new Qt(s).saturate(.5).darken(.1).hexString()}const ee=["x","y","borderWidth","radius","tension"],Lt=["color","borderColor","backgroundColor"],Ee=new Map;function ni(s,i,e){return function Mi(s,i){i=i||{};const e=s+JSON.stringify(i);let a=Ee.get(e);return a||(a=new Intl.NumberFormat(s,i),Ee.set(e,a)),a}(i,e).format(s)}const rt={values:s=>ye(s)?s:""+s,numeric(s,i,e){if(0===s)return"0";const a=this.chart.options.locale;let r,c=s;if(e.length>1){const k=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(k<1e-4||k>1e15)&&(r="scientific"),c=function Ui(s,i){let e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}(s,e)}const u=Le(Math.abs(c)),x=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),y={notation:r,minimumFractionDigits:x,maximumFractionDigits:x};return Object.assign(y,this.options.ticks.format),ni(s,a,y)},logarithmic(s,i,e){if(0===s)return"0";const a=e[i].significand||s/Math.pow(10,Math.floor(Le(s)));return[1,2,3,5,10,15].includes(a)||i>.8*e.length?rt.numeric.call(this,s,i,e):""}};var Ie={formatters:rt};const ht=Object.create(null),dt=Object.create(null);function vt(s,i){if(!i)return s;const e=i.split(".");for(let a=0,r=e.length;a<r;++a){const c=e[a];s=s[c]||(s[c]=Object.create(null))}return s}function Zt(s,i,e){return"string"==typeof i?Ve(vt(s,i),e):Ve(vt(s,""),i)}class Ct{constructor(i,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,r)=>te(r.backgroundColor),this.hoverBorderColor=(a,r)=>te(r.borderColor),this.hoverColor=(a,r)=>te(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(e)}set(i,e){return Zt(this,i,e)}get(i){return vt(this,i)}describe(i,e){return Zt(dt,i,e)}override(i,e){return Zt(ht,i,e)}route(i,e,a,r){const c=vt(this,i),u=vt(this,a),x="_"+e;Object.defineProperties(c,{[x]:{value:c[e],writable:!0},[e]:{enumerable:!0,get(){const y=this[x],k=u[r];return ne(y)?Object.assign({},k,y):$t(y,k)},set(y){this[x]=y}}})}apply(i){i.forEach(e=>e(this))}}var Wt=new Ct({_scriptable:s=>!s.startsWith("on"),_indexable:s=>"events"!==s,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Pe(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>"onProgress"!==i&&"onComplete"!==i&&"fn"!==i}),s.set("animations",{colors:{type:"color",properties:Lt},numbers:{type:"number",properties:ee}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>0|i}}}})},function li(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Yi(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,e)=>e.lineWidth,tickColor:(i,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ie.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&"callback"!==i&&"parser"!==i,_indexable:i=>"borderDash"!==i&&"tickBorderDash"!==i&&"dash"!==i}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:i=>"backdropPadding"!==i&&"callback"!==i,_indexable:i=>"backdropPadding"!==i})}]);function pe(s,i,e,a,r){let c=i[r];return c||(c=i[r]=s.measureText(r).width,e.push(r)),c>a&&(a=c),a}function Ft(s,i,e,a){let r=(a=a||{}).data=a.data||{},c=a.garbageCollect=a.garbageCollect||[];a.font!==i&&(r=a.data={},c=a.garbageCollect=[],a.font=i),s.save(),s.font=i;let u=0;const x=e.length;let y,k,S,L,D;for(y=0;y<x;y++)if(L=e[y],null==L||ye(L)){if(ye(L))for(k=0,S=L.length;k<S;k++)D=L[k],null!=D&&!ye(D)&&(u=pe(s,r,c,u,D))}else u=pe(s,r,c,u,L);s.restore();const X=c.length/2;if(X>e.length){for(y=0;y<X;y++)delete r[c[y]];c.splice(0,X)}return u}function ve(s,i,e){const a=s.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((i-r)*a)/a+r}function We(s,i){!i&&!s||((i=i||s.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,s.width,s.height),i.restore())}function xe(s,i,e,a){Kt(s,i,e,a,null)}function Kt(s,i,e,a,r){let c,u,x,y,k,S,L,D;const X=i.pointStyle,j=i.rotation,J=i.radius;let K=(j||0)*Ce;if(X&&"object"==typeof X&&(c=X.toString(),"[object HTMLImageElement]"===c||"[object HTMLCanvasElement]"===c))return s.save(),s.translate(e,a),s.rotate(K),s.drawImage(X,-X.width/2,-X.height/2,X.width,X.height),void s.restore();if(!(isNaN(J)||J<=0)){switch(s.beginPath(),X){default:r?s.ellipse(e,a,r/2,J,0,0,Ot):s.arc(e,a,J,0,Ot),s.closePath();break;case"triangle":S=r?r/2:J,s.moveTo(e+Math.sin(K)*S,a-Math.cos(K)*J),K+=ti,s.lineTo(e+Math.sin(K)*S,a-Math.cos(K)*J),K+=ti,s.lineTo(e+Math.sin(K)*S,a-Math.cos(K)*J),s.closePath();break;case"rectRounded":k=.516*J,y=J-k,u=Math.cos(K+ae)*y,L=Math.cos(K+ae)*(r?r/2-k:y),x=Math.sin(K+ae)*y,D=Math.sin(K+ae)*(r?r/2-k:y),s.arc(e-L,a-x,k,K-It,K-le),s.arc(e+D,a-u,k,K-le,K),s.arc(e+L,a+x,k,K,K+le),s.arc(e-D,a+u,k,K+le,K+It),s.closePath();break;case"rect":if(!j){y=Math.SQRT1_2*J,S=r?r/2:y,s.rect(e-S,a-y,2*S,2*y);break}K+=ae;case"rectRot":L=Math.cos(K)*(r?r/2:J),u=Math.cos(K)*J,x=Math.sin(K)*J,D=Math.sin(K)*(r?r/2:J),s.moveTo(e-L,a-x),s.lineTo(e+D,a-u),s.lineTo(e+L,a+x),s.lineTo(e-D,a+u),s.closePath();break;case"crossRot":K+=ae;case"cross":L=Math.cos(K)*(r?r/2:J),u=Math.cos(K)*J,x=Math.sin(K)*J,D=Math.sin(K)*(r?r/2:J),s.moveTo(e-L,a-x),s.lineTo(e+L,a+x),s.moveTo(e+D,a-u),s.lineTo(e-D,a+u);break;case"star":L=Math.cos(K)*(r?r/2:J),u=Math.cos(K)*J,x=Math.sin(K)*J,D=Math.sin(K)*(r?r/2:J),s.moveTo(e-L,a-x),s.lineTo(e+L,a+x),s.moveTo(e+D,a-u),s.lineTo(e-D,a+u),K+=ae,L=Math.cos(K)*(r?r/2:J),u=Math.cos(K)*J,x=Math.sin(K)*J,D=Math.sin(K)*(r?r/2:J),s.moveTo(e-L,a-x),s.lineTo(e+L,a+x),s.moveTo(e+D,a-u),s.lineTo(e-D,a+u);break;case"line":u=r?r/2:Math.cos(K)*J,x=Math.sin(K)*J,s.moveTo(e-u,a-x),s.lineTo(e+u,a+x);break;case"dash":s.moveTo(e,a),s.lineTo(e+Math.cos(K)*(r?r/2:J),a+Math.sin(K)*J);break;case!1:s.closePath()}s.fill(),i.borderWidth>0&&s.stroke()}}function Nt(s,i,e){return e=e||.5,!i||s&&s.x>i.left-e&&s.x<i.right+e&&s.y>i.top-e&&s.y<i.bottom+e}function St(s,i){s.save(),s.beginPath(),s.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),s.clip()}function fe(s){s.restore()}function we(s,i,e,a,r){if(!i)return s.lineTo(e.x,e.y);if("middle"===r){const c=(i.x+e.x)/2;s.lineTo(c,i.y),s.lineTo(c,e.y)}else"after"===r!=!!a?s.lineTo(i.x,e.y):s.lineTo(e.x,i.y);s.lineTo(e.x,e.y)}function Re(s,i,e,a){if(!i)return s.lineTo(e.x,e.y);s.bezierCurveTo(a?i.cp1x:i.cp2x,a?i.cp1y:i.cp2y,a?e.cp2x:e.cp1x,a?e.cp2y:e.cp1y,e.x,e.y)}function Pi(s,i,e,a,r){if(r.strikethrough||r.underline){const c=s.measureText(a),u=i-c.actualBoundingBoxLeft,x=i+c.actualBoundingBoxRight,k=e+c.actualBoundingBoxDescent,S=r.strikethrough?(e-c.actualBoundingBoxAscent+k)/2:k;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=r.decorationWidth||2,s.moveTo(u,S),s.lineTo(x,S),s.stroke()}}function Qe(s,i){const e=s.fillStyle;s.fillStyle=i.color,s.fillRect(i.left,i.top,i.width,i.height),s.fillStyle=e}function Gt(s,i,e,a,r,c={}){const u=ye(i)?i:[i],x=c.strokeWidth>0&&""!==c.strokeColor;let y,k;for(s.save(),s.font=r.string,function Ke(s,i){i.translation&&s.translate(i.translation[0],i.translation[1]),Pt(i.rotation)||s.rotate(i.rotation),i.color&&(s.fillStyle=i.color),i.textAlign&&(s.textAlign=i.textAlign),i.textBaseline&&(s.textBaseline=i.textBaseline)}(s,c),y=0;y<u.length;++y)k=u[y],c.backdrop&&Qe(s,c.backdrop),x&&(c.strokeColor&&(s.strokeStyle=c.strokeColor),Pt(c.strokeWidth)||(s.lineWidth=c.strokeWidth),s.strokeText(k,e,a,c.maxWidth)),s.fillText(k,e,a,c.maxWidth),Pi(s,e,a,k,c),a+=Number(r.lineHeight);s.restore()}function Di(s,i){const{x:e,y:a,w:r,h:c,radius:u}=i;s.arc(e+u.topLeft,a+u.topLeft,u.topLeft,1.5*It,It,!0),s.lineTo(e,a+c-u.bottomLeft),s.arc(e+u.bottomLeft,a+c-u.bottomLeft,u.bottomLeft,It,le,!0),s.lineTo(e+r-u.bottomRight,a+c),s.arc(e+r-u.bottomRight,a+c-u.bottomRight,u.bottomRight,le,0,!0),s.lineTo(e+r,a+u.topRight),s.arc(e+r-u.topRight,a+u.topRight,u.topRight,0,-le,!0),s.lineTo(e+u.topLeft,a)}const Mo=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ko=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _o(s,i){const e=(""+s).match(Mo);if(!e||"normal"===e[1])return 1.2*i;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100}return i*s}const To=s=>+s||0;function $s(s,i){const e={},a=ne(i),r=a?Object.keys(i):i,c=ne(s)?a?u=>$t(s[u],s[i[u]]):u=>s[u]:()=>s;for(const u of r)e[u]=To(c(u));return e}function An(s){return $s(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Ji(s){return $s(s,["topLeft","topRight","bottomLeft","bottomRight"])}function hi(s){const i=An(s);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function qe(s,i){let e=$t((s=s||{}).size,(i=i||Wt.font).size);"string"==typeof e&&(e=parseInt(e,10));let a=$t(s.style,i.style);a&&!(""+a).match(ko)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const r={family:$t(s.family,i.family),lineHeight:_o($t(s.lineHeight,i.lineHeight),e),size:e,style:a,weight:$t(s.weight,i.weight),string:""};return r.string=function Je(s){return!s||Pt(s.size)||Pt(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}(r),r}function ps(s,i,e,a){let c,u,x,r=!0;for(c=0,u=s.length;c<u;++c)if(x=s[c],void 0!==x&&(void 0!==i&&"function"==typeof x&&(x=x(i),r=!1),void 0!==e&&ye(x)&&(x=x[e%x.length],r=!1),void 0!==x))return a&&!r&&(a.cacheable=!1),x}function Ri(s,i){return Object.assign(Object.create(s),i)}function Gs(s,i=[""],e,a,r=(()=>s[0])){const c=e||s;typeof a>"u"&&(a=Dn("_fallback",s));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:c,_fallback:a,_getTarget:r,override:x=>Gs([x,...s],i,c,a)};return new Proxy(u,{deleteProperty:(x,y)=>(delete x[y],delete x._keys,delete s[0][y],!0),get:(x,y)=>Fn(x,y,()=>function Io(s,i,e,a){let r;for(const c of i)if(r=Dn(Co(c,s),e),typeof r<"u")return qs(s,r)?tn(e,a,s,r):r}(y,i,s,x)),getOwnPropertyDescriptor:(x,y)=>Reflect.getOwnPropertyDescriptor(x._scopes[0],y),getPrototypeOf:()=>Reflect.getPrototypeOf(s[0]),has:(x,y)=>Vn(x).includes(y),ownKeys:x=>Vn(x),set(x,y,k){const S=x._storage||(x._storage=r());return x[y]=S[y]=k,delete x._keys,!0}})}function as(s,i,e,a){const r={_cacheable:!1,_proxy:s,_context:i,_subProxy:e,_stack:new Set,_descriptors:Bn(s,a),setContext:c=>as(s,c,e,a),override:c=>as(s.override(c),i,e,a)};return new Proxy(r,{deleteProperty:(c,u)=>(delete c[u],delete s[u],!0),get:(c,u,x)=>Fn(c,u,()=>function So(s,i,e){const{_proxy:a,_context:r,_subProxy:c,_descriptors:u}=s;let x=a[i];return pt(x)&&u.isScriptable(i)&&(x=function wo(s,i,e,a){const{_proxy:r,_context:c,_subProxy:u,_stack:x}=e;if(x.has(s))throw new Error("Recursion detected: "+Array.from(x).join("->")+"->"+s);x.add(s);let y=i(c,u||a);return x.delete(s),qs(s,y)&&(y=tn(r._scopes,r,s,y)),y}(i,x,s,e)),ye(x)&&x.length&&(x=function Ao(s,i,e,a){const{_proxy:r,_context:c,_subProxy:u,_descriptors:x}=e;if(typeof c.index<"u"&&a(s))return i[c.index%i.length];if(ne(i[0])){const y=i,k=r._scopes.filter(S=>S!==y);i=[];for(const S of y){const L=tn(k,r,s,S);i.push(as(L,c,u&&u[s],x))}}return i}(i,x,s,u.isIndexable)),qs(i,x)&&(x=as(x,r,c&&c[i],u)),x}(c,u,x)),getOwnPropertyDescriptor:(c,u)=>c._descriptors.allKeys?Reflect.has(s,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,u),getPrototypeOf:()=>Reflect.getPrototypeOf(s),has:(c,u)=>Reflect.has(s,u),ownKeys:()=>Reflect.ownKeys(s),set:(c,u,x)=>(s[u]=x,delete c[u],!0)})}function Bn(s,i={scriptable:!0,indexable:!0}){const{_scriptable:e=i.scriptable,_indexable:a=i.indexable,_allKeys:r=i.allKeys}=s;return{allKeys:r,scriptable:e,indexable:a,isScriptable:pt(e)?e:()=>e,isIndexable:pt(a)?a:()=>a}}const Co=(s,i)=>s?s+O(i):i,qs=(s,i)=>ne(i)&&"adapters"!==s&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function Fn(s,i,e){if(Object.prototype.hasOwnProperty.call(s,i)||"constructor"===i)return s[i];const a=e();return s[i]=a,a}function Ln(s,i,e){return pt(s)?s(i,e):s}const Bo=(s,i)=>!0===s?i:"string"==typeof s?B(i,s):void 0;function Fo(s,i,e,a,r){for(const c of i){const u=Bo(e,c);if(u){s.add(u);const x=Ln(u._fallback,e,r);if(typeof x<"u"&&x!==e&&x!==a)return x}else if(!1===u&&typeof a<"u"&&e!==a)return null}return!1}function tn(s,i,e,a){const r=i._rootScopes,c=Ln(i._fallback,e,a),u=[...s,...r],x=new Set;x.add(a);let y=In(x,u,e,c||e,a);return!(null===y||typeof c<"u"&&c!==e&&(y=In(x,u,c,y,a),null===y))&&Gs(Array.from(x),[""],r,c,()=>function Lo(s,i,e){const a=s._getTarget();i in a||(a[i]={});const r=a[i];return ye(r)&&ne(e)?e:r||{}}(i,e,a))}function In(s,i,e,a,r){for(;e;)e=Fo(s,i,e,a,r);return e}function Dn(s,i){for(const e of i){if(!e)continue;const a=e[s];if(typeof a<"u")return a}}function Vn(s){let i=s._keys;return i||(i=s._keys=function Do(s){const i=new Set;for(const e of s)for(const a of Object.keys(e).filter(r=>!r.startsWith("_")))i.add(a);return Array.from(i)}(s._scopes)),i}function Wn(s,i,e,a){const{iScale:r}=s,{key:c="r"}=this._parsing,u=new Array(a);let x,y,k,S;for(x=0,y=a;x<y;++x)k=x+e,S=i[k],u[x]={r:r.parse(B(S,c),k)};return u}const Vo=Number.EPSILON||1e-14,os=(s,i)=>i<s.length&&!s[i].skip&&s[i],On=s=>"x"===s?"y":"x";function Wo(s,i,e,a){const r=s.skip?i:s,c=i,u=e.skip?i:e,x=f(c,r),y=f(u,c);let k=x/(x+y),S=y/(x+y);k=isNaN(k)?0:k,S=isNaN(S)?0:S;const L=a*k,D=a*S;return{previous:{x:c.x-L*(u.x-r.x),y:c.y-L*(u.y-r.y)},next:{x:c.x+D*(u.x-r.x),y:c.y+D*(u.y-r.y)}}}function As(s,i,e){return Math.max(Math.min(s,e),i)}function Yo(s,i,e,a,r){let c,u,x,y;if(i.spanGaps&&(s=s.filter(k=>!k.skip)),"monotone"===i.cubicInterpolationMode)!function Xo(s,i="x"){const e=On(i),a=s.length,r=Array(a).fill(0),c=Array(a);let u,x,y,k=os(s,0);for(u=0;u<a;++u)if(x=y,y=k,k=os(s,u+1),y){if(k){const S=k[i]-y[i];r[u]=0!==S?(k[e]-y[e])/S:0}c[u]=x?k?At(r[u-1])!==At(r[u])?0:(r[u-1]+r[u])/2:r[u-1]:r[u]}(function Oo(s,i,e){const a=s.length;let r,c,u,x,y,k=os(s,0);for(let S=0;S<a-1;++S)if(y=k,k=os(s,S+1),y&&k){if(me(i[S],0,Vo)){e[S]=e[S+1]=0;continue}r=e[S]/i[S],c=e[S+1]/i[S],x=Math.pow(r,2)+Math.pow(c,2),!(x<=9)&&(u=3/Math.sqrt(x),e[S]=r*u*i[S],e[S+1]=c*u*i[S])}})(s,r,c),function Eo(s,i,e="x"){const a=On(e),r=s.length;let c,u,x,y=os(s,0);for(let k=0;k<r;++k){if(u=x,x=y,y=os(s,k+1),!x)continue;const S=x[e],L=x[a];u&&(c=(S-u[e])/3,x[`cp1${e}`]=S-c,x[`cp1${a}`]=L-c*i[k]),y&&(c=(y[e]-S)/3,x[`cp2${e}`]=S+c,x[`cp2${a}`]=L+c*i[k])}}(s,c,i)}(s,r);else{let k=a?s[s.length-1]:s[0];for(c=0,u=s.length;c<u;++c)x=s[c],y=Wo(k,x,s[Math.min(c+1,u-(a?0:1))%u],i.tension),x.cp1x=y.previous.x,x.cp1y=y.previous.y,x.cp2x=y.next.x,x.cp2y=y.next.y,k=x}i.capBezierPoints&&function zo(s,i){let e,a,r,c,u,x=Nt(s[0],i);for(e=0,a=s.length;e<a;++e)u=c,c=x,x=e<a-1&&Nt(s[e+1],i),c&&(r=s[e],u&&(r.cp1x=As(r.cp1x,i.left,i.right),r.cp1y=As(r.cp1y,i.top,i.bottom)),x&&(r.cp2x=As(r.cp2x,i.left,i.right),r.cp2y=As(r.cp2y,i.top,i.bottom)))}(s,e)}function en(){return typeof window<"u"&&typeof document<"u"}function sn(s){let i=s.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function Bs(s,i,e){let a;return"string"==typeof s?(a=parseInt(s,10),-1!==s.indexOf("%")&&(a=a/100*i.parentNode[e])):a=s,a}const Fs=s=>s.ownerDocument.defaultView.getComputedStyle(s,null),No=["top","right","bottom","left"];function Ki(s,i,e){const a={};e=e?"-"+e:"";for(let r=0;r<4;r++){const c=No[r];a[c]=parseFloat(s[i+"-"+c+e])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const Ho=(s,i,e)=>(s>0||i>0)&&(!e||!e.shadowRoot);function Qi(s,i){if("native"in s)return s;const{canvas:e,currentDevicePixelRatio:a}=i,r=Fs(e),c="border-box"===r.boxSizing,u=Ki(r,"padding"),x=Ki(r,"border","width"),{x:y,y:k,box:S}=function jo(s,i){const e=s.touches,a=e&&e.length?e[0]:s,{offsetX:r,offsetY:c}=a;let x,y,u=!1;if(Ho(r,c,s.target))x=r,y=c;else{const k=i.getBoundingClientRect();x=a.clientX-k.left,y=a.clientY-k.top,u=!0}return{x,y,box:u}}(s,e),L=u.left+(S&&x.left),D=u.top+(S&&x.top);let{width:X,height:j}=i;return c&&(X-=u.width+x.width,j-=u.height+x.height),{x:Math.round((y-L)/X*e.width/a),y:Math.round((k-D)/j*e.height/a)}}const Ls=s=>Math.round(10*s)/10;function En(s,i,e){const a=i||1,r=Math.floor(s.height*a),c=Math.floor(s.width*a);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const u=s.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${s.height}px`,u.style.width=`${s.width}px`),(s.currentDevicePixelRatio!==a||u.height!==r||u.width!==c)&&(s.currentDevicePixelRatio=a,u.height=r,u.width=c,s.ctx.setTransform(a,0,0,a,0,0),!0)}const Ko=function(){let s=!1;try{const i={get passive(){return s=!0,!1}};en()&&(window.addEventListener("test",null,i),window.removeEventListener("test",null,i))}catch{}return s}();function Xn(s,i){const e=function Ro(s,i){return Fs(s).getPropertyValue(i)}(s,i),a=e&&e.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function Zi(s,i,e,a){return{x:s.x+e*(i.x-s.x),y:s.y+e*(i.y-s.y)}}function Qo(s,i,e,a){return{x:s.x+e*(i.x-s.x),y:"middle"===a?e<.5?s.y:i.y:"after"===a?e<1?s.y:i.y:e>0?i.y:s.y}}function Zo(s,i,e,a){const r={x:s.cp2x,y:s.cp2y},c={x:i.cp1x,y:i.cp1y},u=Zi(s,r,e),x=Zi(r,c,e),y=Zi(c,i,e),k=Zi(u,x,e),S=Zi(x,y,e);return Zi(k,S,e)}function rs(s,i,e){return s?function(s,i){return{x:e=>s+s+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,a)=>e-a,leftForLtr:(e,a)=>e-a}}(i,e):{x:s=>s,setWidth(s){},textAlign:s=>s,xPlus:(s,i)=>s+i,leftForLtr:(s,i)=>s}}function zn(s,i){let e,a;("ltr"===i||"rtl"===i)&&(e=s.canvas.style,a=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",i,"important"),s.prevTextDirection=a)}function Yn(s,i){void 0!==i&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",i[0],i[1]))}function Rn(s){return"angle"===s?{between:v,compare:m,normalize:b}:{between:w,compare:(i,e)=>i-e,normalize:i=>i}}function Nn({start:s,end:i,count:e,loop:a,style:r}){return{start:s%e,end:i%e,loop:a&&(i-s+1)%e==0,style:r}}function Hn(s,i,e){if(!e)return[s];const{property:a,start:r,end:c}=e,u=i.length,{compare:x,between:y,normalize:k}=Rn(a),{start:S,end:L,loop:D,style:X}=function qo(s,i,e){const{property:a,start:r,end:c}=e,{between:u,normalize:x}=Rn(a),y=i.length;let D,X,{start:k,end:S,loop:L}=s;if(L){for(k+=y,S+=y,D=0,X=y;D<X&&u(x(i[k%y][a]),r,c);++D)k--,S--;k%=y,S%=y}return S<k&&(S+=y),{start:k,end:S,loop:L,style:s.style}}(s,i,e),j=[];let ot,at,bt,J=!1,K=null;for(let wt=S,Xt=S;wt<=L;++wt)at=i[wt%u],!at.skip&&(ot=k(at[a]),ot!==bt&&(J=y(ot,r,c),null===K&&(J||y(r,bt,ot)&&0!==x(r,bt))&&(K=0===x(ot,r)?wt:Xt),null!==K&&(!J||0===x(c,ot)||y(c,bt,ot))&&(j.push(Nn({start:K,end:wt,loop:D,count:u,style:X})),K=null),Xt=wt,bt=ot));return null!==K&&j.push(Nn({start:K,end:L,loop:D,count:u,style:X})),j}function jn(s,i){const e=[],a=s.segments;for(let r=0;r<a.length;r++){const c=Hn(a[r],s.points,i);c.length&&e.push(...c)}return e}function Jn(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function nr(s,i){if(!i)return!1;const e=[],a=function(r,c){return Bt(c)?(e.includes(c)||e.push(c),e.indexOf(c)):c};return JSON.stringify(s,a)!==JSON.stringify(i,a)}class ar{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,e,a,r){const u=e.duration;e.listeners[r].forEach(x=>x({chart:i,initial:e.initial,numSteps:u,currentStep:Math.min(a-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=Z.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let e=0;this._charts.forEach((a,r)=>{if(!a.running||!a.items.length)return;const c=a.items;let y,u=c.length-1,x=!1;for(;u>=0;--u)y=c[u],y._active?(y._total>a.duration&&(a.duration=y._total),y.tick(i),x=!0):(c[u]=c[c.length-1],c.pop());x&&(r.draw(),this._notify(r,a,i,"progress")),c.length||(a.running=!1,this._notify(r,a,i,"complete"),a.initial=!1),e+=c.length}),this._lastDate=i,0===e&&(this._running=!1)}_getAnims(i){const e=this._charts;let a=e.get(i);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(i,a)),a}listen(i,e,a){this._getAnims(i).listeners[e].push(a)}add(i,e){!e||!e.length||this._getAnims(i).items.push(...e)}has(i){return this._getAnims(i).items.length>0}start(i){const e=this._charts.get(i);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((a,r)=>Math.max(a,r._duration),0),this._refresh())}running(i){if(!this._running)return!1;const e=this._charts.get(i);return!(!e||!e.running||!e.items.length)}stop(i){const e=this._charts.get(i);if(!e||!e.items.length)return;const a=e.items;let r=a.length-1;for(;r>=0;--r)a[r].cancel();e.items=[],this._notify(i,e,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var Xi=new ar;const Kn="transparent",or={boolean:(s,i,e)=>e>.5?i:s,color(s,i,e){const a=Se(s||Kn),r=a.valid&&Se(i||Kn);return r&&r.valid?r.mix(a,e).hexString():i},number:(s,i,e)=>s+(i-s)*e};class rr{constructor(i,e,a,r){const c=e[a];r=ps([i.to,r,c,i.from]);const u=ps([i.from,c,r]);this._active=!0,this._fn=i.fn||or[i.type||typeof u],this._easing=oe[i.easing]||oe.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=e,this._prop=a,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(i,e,a){if(this._active){this._notify(!1);const r=this._target[this._prop],c=a-this._start,u=this._duration-c;this._start=a,this._duration=Math.floor(Math.max(u,i.duration)),this._total+=c,this._loop=!!i.loop,this._to=ps([i.to,e,r,i.from]),this._from=ps([i.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const e=i-this._start,a=this._duration,r=this._prop,c=this._from,u=this._loop,x=this._to;let y;if(this._active=c!==x&&(u||e<a),!this._active)return this._target[r]=x,void this._notify(!0);e<0?this._target[r]=c:(y=e/a%2,y=u&&y>1?2-y:y,y=this._easing(Math.min(1,Math.max(0,y))),this._target[r]=this._fn(c,x,y))}wait(){const i=this._promises||(this._promises=[]);return new Promise((e,a)=>{i.push({res:e,rej:a})})}_notify(i){const e=i?"res":"rej",a=this._promises||[];for(let r=0;r<a.length;r++)a[r][e]()}}class Qn{constructor(i,e){this._chart=i,this._properties=new Map,this.configure(e)}configure(i){if(!ne(i))return;const e=Object.keys(Wt.animation),a=this._properties;Object.getOwnPropertyNames(i).forEach(r=>{const c=i[r];if(!ne(c))return;const u={};for(const x of e)u[x]=c[x];(ye(c.properties)&&c.properties||[r]).forEach(x=>{(x===r||!a.has(x))&&a.set(x,u)})})}_animateOptions(i,e){const a=e.options,r=function hr(s,i){if(!i)return;let e=s.options;if(e)return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;s.options=i}(i,a);if(!r)return[];const c=this._createAnimations(r,a);return a.$shared&&function lr(s,i){const e=[],a=Object.keys(i);for(let r=0;r<a.length;r++){const c=s[a[r]];c&&c.active()&&e.push(c.wait())}return Promise.all(e)}(i.options.$animations,a).then(()=>{i.options=a},()=>{}),c}_createAnimations(i,e){const a=this._properties,r=[],c=i.$animations||(i.$animations={}),u=Object.keys(e),x=Date.now();let y;for(y=u.length-1;y>=0;--y){const k=u[y];if("$"===k.charAt(0))continue;if("options"===k){r.push(...this._animateOptions(i,e));continue}const S=e[k];let L=c[k];const D=a.get(k);if(L){if(D&&L.active()){L.update(D,S,x);continue}L.cancel()}D&&D.duration?(c[k]=L=new rr(D,i,k,S),r.push(L)):i[k]=S}return r}update(i,e){if(0===this._properties.size)return void Object.assign(i,e);const a=this._createAnimations(i,e);return a.length?(Xi.add(this._chart,a),!0):void 0}}function Zn(s,i){const e=s&&s.options||{},a=e.reverse,r=void 0===e.min?i:0,c=void 0===e.max?i:0;return{start:a?c:r,end:a?r:c}}function $n(s,i){const e=[],a=s._getSortedDatasetMetas(i);let r,c;for(r=0,c=a.length;r<c;++r)e.push(a[r].index);return e}function Gn(s,i,e,a={}){const r=s.keys,c="single"===a.mode;let u,x,y,k;if(null!==i){for(u=0,x=r.length;u<x;++u){if(y=+r[u],y===e){if(a.all)continue;break}k=s.values[y],ge(k)&&(c||0===i||At(i)===At(k))&&(i+=k)}return i}}function qn(s,i){const e=s&&s.options.stacked;return e||void 0===e&&void 0!==i.stack}function gr(s,i,e){const a=s[i]||(s[i]={});return a[e]||(a[e]={})}function ta(s,i,e,a){for(const r of i.getMatchingVisibleMetas(a).reverse()){const c=s[r.index];if(e&&c>0||!e&&c<0)return r.index}return null}function ea(s,i){const{chart:e,_cachedMeta:a}=s,r=e._stacks||(e._stacks={}),{iScale:c,vScale:u,index:x}=a,y=c.axis,k=u.axis,S=function pr(s,i,e){return`${s.id}.${i.id}.${e.stack||e.type}`}(c,u,a),L=i.length;let D;for(let X=0;X<L;++X){const j=i[X],{[y]:J,[k]:K}=j;D=(j._stacks||(j._stacks={}))[k]=gr(r,S,J),D[x]=K,D._top=ta(D,u,!0,a.type),D._bottom=ta(D,u,!1,a.type),(D._visualValues||(D._visualValues={}))[x]=K}}function nn(s,i){const e=s.scales;return Object.keys(e).filter(a=>e[a].axis===i).shift()}function xs(s,i){const e=s.controller.index,a=s.vScale&&s.vScale.axis;if(a){i=i||s._parsed;for(const r of i){const c=r._stacks;if(!c||void 0===c[a]||void 0===c[a][e])return;delete c[a][e],void 0!==c[a]._visualValues&&void 0!==c[a]._visualValues[e]&&delete c[a]._visualValues[e]}}}const an=s=>"reset"===s||"none"===s,ia=(s,i)=>i?s:Object.assign({},s);let Ni=(()=>{class s{constructor(e,a){this.chart=e,this._ctx=e.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qn(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&xs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,a=this._cachedMeta,r=this.getDataset(),c=(D,X,j,J)=>"x"===D?X:"r"===D?J:j,u=a.xAxisID=$t(r.xAxisID,nn(e,"x")),x=a.yAxisID=$t(r.yAxisID,nn(e,"y")),y=a.rAxisID=$t(r.rAxisID,nn(e,"r")),k=a.indexAxis,S=a.iAxisID=c(k,u,x,y),L=a.vAxisID=c(k,x,u,y);a.xScale=this.getScaleForId(u),a.yScale=this.getScaleForId(x),a.rScale=this.getScaleForId(y),a.iScale=this.getScaleForId(S),a.vScale=this.getScaleForId(L)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const a=this._cachedMeta;return e===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&z(this._data,this),e._stacked&&xs(e)}_dataCheck(){const e=this.getDataset(),a=e.data||(e.data=[]),r=this._data;if(ne(a))this._data=function ur(s,i){const{iScale:e,vScale:a}=i,r="x"===e.axis?"x":"y",c="x"===a.axis?"x":"y",u=Object.keys(s),x=new Array(u.length);let y,k,S;for(y=0,k=u.length;y<k;++y)S=u[y],x[y]={[r]:S,[c]:s[S]};return x}(a,this._cachedMeta);else if(r!==a){if(r){z(r,this);const c=this._cachedMeta;xs(c),c._parsed=[]}a&&Object.isExtensible(a)&&function N(s,i){s._chartjs?s._chartjs.listeners.push(i):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Y.forEach(e=>{const a="_onData"+O(e),r=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...c){const u=r.apply(this,c);return s._chartjs.listeners.forEach(x=>{"function"==typeof x[a]&&x[a](...c)}),u}})}))}(a,this),this._syncList=[],this._data=a}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const a=this._cachedMeta,r=this.getDataset();let c=!1;this._dataCheck();const u=a._stacked;a._stacked=qn(a.vScale,a),a.stack!==r.stack&&(c=!0,xs(a),a.stack=r.stack),this._resyncElements(e),(c||u!==a._stacked)&&ea(this,a._parsed)}configure(){const e=this.chart.config,a=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),a,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,a){const{_cachedMeta:r,_data:c}=this,{iScale:u,_stacked:x}=r,y=u.axis;let L,D,X,k=0===e&&a===c.length||r._sorted,S=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=c,r._sorted=!0,X=c;else{X=ye(c[e])?this.parseArrayData(r,c,e,a):ne(c[e])?this.parseObjectData(r,c,e,a):this.parsePrimitiveData(r,c,e,a);const j=()=>null===D[y]||S&&D[y]<S[y];for(L=0;L<a;++L)r._parsed[L+e]=D=X[L],k&&(j()&&(k=!1),S=D);r._sorted=k}x&&ea(this,X)}parsePrimitiveData(e,a,r,c){const{iScale:u,vScale:x}=e,y=u.axis,k=x.axis,S=u.getLabels(),L=u===x,D=new Array(c);let X,j,J;for(X=0,j=c;X<j;++X)J=X+r,D[X]={[y]:L||u.parse(S[J],J),[k]:x.parse(a[J],J)};return D}parseArrayData(e,a,r,c){const{xScale:u,yScale:x}=e,y=new Array(c);let k,S,L,D;for(k=0,S=c;k<S;++k)L=k+r,D=a[L],y[k]={x:u.parse(D[0],L),y:x.parse(D[1],L)};return y}parseObjectData(e,a,r,c){const{xScale:u,yScale:x}=e,{xAxisKey:y="x",yAxisKey:k="y"}=this._parsing,S=new Array(c);let L,D,X,j;for(L=0,D=c;L<D;++L)X=L+r,j=a[X],S[L]={x:u.parse(B(j,y),X),y:x.parse(B(j,k),X)};return S}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,a,r){const u=this._cachedMeta,x=a[e.axis];return Gn({keys:$n(this.chart,!0),values:a._stacks[e.axis]._visualValues},x,u.index,{mode:r})}updateRangeFromParsed(e,a,r,c){const u=r[a.axis];let x=null===u?NaN:u;const y=c&&r._stacks[a.axis];c&&y&&(c.values=y,x=Gn(c,u,this._cachedMeta.index)),e.min=Math.min(e.min,x),e.max=Math.max(e.max,x)}getMinMax(e,a){const r=this._cachedMeta,c=r._parsed,u=r._sorted&&e===r.iScale,x=c.length,y=this._getOtherScale(e),k=((s,i,e)=>s&&!i.hidden&&i._stacked&&{keys:$n(this.chart,!0),values:null})(a,r),S={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:L,max:D}=function xr(s){const{min:i,max:e,minDefined:a,maxDefined:r}=s.getUserBounds();return{min:a?i:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(y);let X,j;function J(){j=c[X];const K=j[y.axis];return!ge(j[e.axis])||L>K||D<K}for(X=0;X<x&&(J()||(this.updateRangeFromParsed(S,e,j,k),!u));++X);if(u)for(X=x-1;X>=0;--X)if(!J()){this.updateRangeFromParsed(S,e,j,k);break}return S}getAllParsedValues(e){const a=this._cachedMeta._parsed,r=[];let c,u,x;for(c=0,u=a.length;c<u;++c)x=a[c][e.axis],ge(x)&&r.push(x);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const a=this._cachedMeta,r=a.iScale,c=a.vScale,u=this.getParsed(e);return{label:r?""+r.getLabelForValue(u[r.axis]):"",value:c?""+c.getLabelForValue(u[c.axis]):""}}_update(e){const a=this._cachedMeta;this.update(e||"default"),a._clip=function cr(s){let i,e,a,r;return ne(s)?(i=s.top,e=s.right,a=s.bottom,r=s.left):i=e=a=r=s,{top:i,right:e,bottom:a,left:r,disabled:!1===s}}($t(this.options.clip,function dr(s,i,e){if(!1===e)return!1;const a=Zn(s,e),r=Zn(i,e);return{top:r.end,right:a.end,bottom:r.start,left:a.start}}(a.xScale,a.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,c=r.data||[],u=this.chart.chartArea,x=[],y=this._drawStart||0,k=this._drawCount||c.length-y,S=this.options.drawActiveElementsOnTop;let L;for(r.dataset&&r.dataset.draw(e,u,y,k),L=y;L<y+k;++L){const D=c[L];D.hidden||(D.active&&S?x.push(D):D.draw(e,u))}for(L=0;L<x.length;++L)x[L].draw(e,u)}getStyle(e,a){const r=a?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,a,r){const c=this.getDataset();let u;if(e>=0&&e<this._cachedMeta.data.length){const x=this._cachedMeta.data[e];u=x.$context||(x.$context=function fr(s,i,e){return Ri(s,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:e,index:i,mode:"default",type:"data"})}(this.getContext(),e,x)),u.parsed=this.getParsed(e),u.raw=c.data[e],u.index=u.dataIndex=e}else u=this.$context||(this.$context=function mr(s,i){return Ri(s,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),u.dataset=c,u.index=u.datasetIndex=this.index;return u.active=!!a,u.mode=r,u}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,a){return this._resolveElementOptions(this.dataElementType.id,a,e)}_resolveElementOptions(e,a="default",r){const c="active"===a,u=this._cachedDataOpts,x=e+"-"+a,y=u[x],k=this.enableOptionSharing&&q(r);if(y)return ia(y,k);const S=this.chart.config,L=S.datasetElementScopeKeys(this._type,e),D=c?[`${e}Hover`,"hover",e,""]:[e,""],X=S.getOptionScopes(this.getDataset(),L),j=Object.keys(Wt.elements[e]),K=S.resolveNamedOptions(X,j,()=>this.getContext(r,c,a),D);return K.$shared&&(K.$shared=k,u[x]=Object.freeze(ia(K,k))),K}_resolveAnimations(e,a,r){const c=this.chart,u=this._cachedDataOpts,x=`animation-${a}`,y=u[x];if(y)return y;let k;if(!1!==c.options.animation){const L=this.chart.config,D=L.datasetAnimationScopeKeys(this._type,a),X=L.getOptionScopes(this.getDataset(),D);k=L.createResolver(X,this.getContext(e,r,a))}const S=new Qn(c,k&&k.animations);return k&&k._cacheable&&(u[x]=Object.freeze(S)),S}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,a){return!a||an(e)||this.chart._animationsDisabled}_getSharedOptions(e,a){const r=this.resolveDataElementOptions(e,a),c=this._sharedOptions,u=this.getSharedOptions(r),x=this.includeOptions(a,u)||u!==c;return this.updateSharedOptions(u,a,r),{sharedOptions:u,includeOptions:x}}updateElement(e,a,r,c){an(c)?Object.assign(e,r):this._resolveAnimations(a,c).update(e,r)}updateSharedOptions(e,a,r){e&&!an(a)&&this._resolveAnimations(void 0,a).update(e,r)}_setStyle(e,a,r,c){e.active=c;const u=this.getStyle(a,c);this._resolveAnimations(a,r,c).update(e,{options:!c&&this.getSharedOptions(u)||u})}removeHoverStyle(e,a,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,a,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const a=this._data,r=this._cachedMeta.data;for(const[y,k,S]of this._syncList)this[y](k,S);this._syncList=[];const c=r.length,u=a.length,x=Math.min(u,c);x&&this.parse(0,x),u>c?this._insertElements(c,u-c,e):u<c&&this._removeElements(u,c-u)}_insertElements(e,a,r=!0){const c=this._cachedMeta,u=c.data,x=e+a;let y;const k=S=>{for(S.length+=a,y=S.length-1;y>=x;y--)S[y]=S[y-a]};for(k(u),y=e;y<x;++y)u[y]=new this.dataElementType;this._parsing&&k(c._parsed),this.parse(e,a),r&&this.updateElements(u,e,a,"reset")}updateElements(e,a,r,c){}_removeElements(e,a){const r=this._cachedMeta;if(this._parsing){const c=r._parsed.splice(e,a);r._stacked&&xs(r,c)}r.data.splice(e,a)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[a,r,c]=e;this[a](r,c)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,a){a&&this._sync(["_removeElements",e,a]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return _t(s,"defaults",{}),_t(s,"datasetElementType",null),_t(s,"dataElementType",null),s})();function vr(s){const i=s.iScale,e=function yr(s,i){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(i);let a=[];for(let r=0,c=e.length;r<c;r++)a=a.concat(e[r].controller.getAllParsedValues(s));s._cache.$bar=et(a.sort((r,c)=>r-c))}return s._cache.$bar}(i,s.type);let r,c,u,x,a=i._length;const y=()=>{32767===u||-32768===u||(q(x)&&(a=Math.min(a,Math.abs(u-x)||a)),x=u)};for(r=0,c=e.length;r<c;++r)u=i.getPixelForValue(e[r]),y();for(x=void 0,r=0,c=i.ticks.length;r<c;++r)u=i.getPixelForTick(r),y();return a}function sa(s,i,e,a){return ye(s)?function _r(s,i,e,a){const r=e.parse(s[0],a),c=e.parse(s[1],a),u=Math.min(r,c),x=Math.max(r,c);let y=u,k=x;Math.abs(u)>Math.abs(x)&&(y=x,k=u),i[e.axis]=k,i._custom={barStart:y,barEnd:k,start:r,end:c,min:u,max:x}}(s,i,e,a):i[e.axis]=e.parse(s,a),i}function na(s,i,e,a){const r=s.iScale,c=s.vScale,u=r.getLabels(),x=r===c,y=[];let k,S,L,D;for(k=e,S=e+a;k<S;++k)D=i[k],L={},L[r.axis]=x||r.parse(u[k],k),y.push(sa(D,L,c,k));return y}function on(s){return s&&void 0!==s.barStart&&void 0!==s.barEnd}function Cr(s,i,e,a){let r=i.borderSkipped;const c={};if(!r)return void(s.borderSkipped=c);if(!0===r)return void(s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:u,end:x,reverse:y,top:k,bottom:S}=function Pr(s){let i,e,a,r,c;return s.horizontal?(i=s.base>s.x,e="left",a="right"):(i=s.base<s.y,e="bottom",a="top"),i?(r="end",c="start"):(r="start",c="end"),{start:e,end:a,reverse:i,top:r,bottom:c}}(s);"middle"===r&&e&&(s.enableBorderRadius=!0,(e._top||0)===a?r=k:(e._bottom||0)===a?r=S:(c[aa(S,u,x,y)]=!0,r=k)),c[aa(r,u,x,y)]=!0,s.borderSkipped=c}function aa(s,i,e,a){return a?(s=function Sr(s,i,e){return s===i?e:s===e?i:s}(s,i,e),s=oa(s,e,i)):s=oa(s,i,e),s}function oa(s,i,e){return"start"===s?i:"end"===s?e:s}function wr(s,{inflateAmount:i},e){s.inflateAmount="auto"===i?1===e?.33:0:i}let Ar=(()=>{class s extends Ni{parsePrimitiveData(e,a,r,c){return na(e,a,r,c)}parseArrayData(e,a,r,c){return na(e,a,r,c)}parseObjectData(e,a,r,c){const{iScale:u,vScale:x}=e,{xAxisKey:y="x",yAxisKey:k="y"}=this._parsing,S="x"===u.axis?y:k,L="x"===x.axis?y:k,D=[];let X,j,J,K;for(X=r,j=r+c;X<j;++X)K=a[X],J={},J[u.axis]=u.parse(B(K,S),X),D.push(sa(B(K,L),J,x,X));return D}updateRangeFromParsed(e,a,r,c){super.updateRangeFromParsed(e,a,r,c);const u=r._custom;u&&a===this._cachedMeta.vScale&&(e.min=Math.min(e.min,u.min),e.max=Math.max(e.max,u.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const a=this._cachedMeta,{iScale:r,vScale:c}=a,u=this.getParsed(e),x=u._custom,y=on(x)?"["+x.start+", "+x.end+"]":""+c.getLabelForValue(u[c.axis]);return{label:""+r.getLabelForValue(u[r.axis]),value:y}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,e)}updateElements(e,a,r,c){const u="reset"===c,{index:x,_cachedMeta:{vScale:y}}=this,k=y.getBasePixel(),S=y.isHorizontal(),L=this._getRuler(),{sharedOptions:D,includeOptions:X}=this._getSharedOptions(a,c);for(let j=a;j<a+r;j++){const J=this.getParsed(j),K=u||Pt(J[y.axis])?{base:k,head:k}:this._calculateBarValuePixels(j),ot=this._calculateBarIndexPixels(j,L),at=(J._stacks||{})[y.axis],bt={horizontal:S,base:K.base,enableBorderRadius:!at||on(J._custom)||x===at._top||x===at._bottom,x:S?K.head:ot.center,y:S?ot.center:K.head,height:S?ot.size:Math.abs(K.size),width:S?Math.abs(K.size):ot.size};X&&(bt.options=D||this.resolveDataElementOptions(j,e[j].active?"active":c));const kt=bt.options||e[j].options;Cr(bt,kt,at,x),wr(bt,kt,L.ratio),this.updateElement(e[j],j,bt,c)}}_getStacks(e,a){const{iScale:r}=this._cachedMeta,c=r.getMatchingVisibleMetas(this._type).filter(k=>k.controller.options.grouped),u=r.options.stacked,x=[],y=k=>{const S=k.controller.getParsed(a),L=S&&S[k.vScale.axis];if(Pt(L)||isNaN(L))return!0};for(const k of c)if((void 0===a||!y(k))&&((!1===u||-1===x.indexOf(k.stack)||void 0===u&&void 0===k.stack)&&x.push(k.stack),k.index===e))break;return x.length||x.push(void 0),x}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,a,r){const c=this._getStacks(e,r),u=void 0!==a?c.indexOf(a):-1;return-1===u?c.length-1:u}_getRuler(){const e=this.options,a=this._cachedMeta,r=a.iScale,c=[];let u,x;for(u=0,x=a.data.length;u<x;++u)c.push(r.getPixelForValue(this.getParsed(u)[r.axis],u));const y=e.barThickness;return{min:y||vr(a),pixels:c,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:y?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:a,_stacked:r,index:c},options:{base:u,minBarLength:x}}=this,y=u||0,k=this.getParsed(e),S=k._custom,L=on(S);let J,K,D=k[a.axis],X=0,j=r?this.applyStack(a,k,r):D;j!==D&&(X=j-D,j=D),L&&(D=S.barStart,j=S.barEnd-S.barStart,0!==D&&At(D)!==At(S.barEnd)&&(X=0),X+=D);const ot=Pt(u)||L?X:u;let at=a.getPixelForValue(ot);if(J=this.chart.getDataVisibility(e)?a.getPixelForValue(X+j):at,K=J-at,Math.abs(K)<x){K=function Tr(s,i,e){return 0!==s?At(s):(i.isHorizontal()?1:-1)*(i.min>=e?1:-1)}(K,a,y)*x,D===y&&(at-=K/2);const bt=a.getPixelForDecimal(0),kt=a.getPixelForDecimal(1),xt=Math.min(bt,kt),yt=Math.max(bt,kt);at=Math.max(Math.min(at,yt),xt),J=at+K,r&&!L&&(k._stacks[a.axis]._visualValues[c]=a.getValueForPixel(J)-a.getValueForPixel(at))}if(at===a.getPixelForValue(y)){const bt=At(K)*a.getLineWidthForValue(y)/2;at+=bt,K-=bt}return{size:K,base:at,head:J,center:J+K/2}}_calculateBarIndexPixels(e,a){const r=a.scale,c=this.options,u=c.skipNull,x=$t(c.maxBarThickness,1/0);let y,k;if(a.grouped){const S=u?this._getStackCount(e):a.stackCount,L="flex"===c.barThickness?function kr(s,i,e,a){const r=i.pixels,c=r[s];let u=s>0?r[s-1]:null,x=s<r.length-1?r[s+1]:null;const y=e.categoryPercentage;null===u&&(u=c-(null===x?i.end-i.start:x-c)),null===x&&(x=c+c-u);const k=c-(c-Math.min(u,x))/2*y;return{chunk:Math.abs(x-u)/2*y/a,ratio:e.barPercentage,start:k}}(e,a,c,S):function Mr(s,i,e,a){const r=e.barThickness;let c,u;return Pt(r)?(c=i.min*e.categoryPercentage,u=e.barPercentage):(c=r*a,u=1),{chunk:c/a,ratio:u,start:i.pixels[s]-c/2}}(e,a,c,S),D=this._getStackIndex(this.index,this._cachedMeta.stack,u?e:void 0);y=L.start+L.chunk*D+L.chunk/2,k=Math.min(x,L.chunk*L.ratio)}else y=r.getPixelForValue(this.getParsed(e)[r.axis],e),k=Math.min(x,a.min*a.ratio);return{base:y-k/2,head:y+k/2,center:y,size:k}}draw(){const e=this._cachedMeta,a=e.vScale,r=e.data,c=r.length;let u=0;for(;u<c;++u)null!==this.getParsed(u)[a.axis]&&!r[u].hidden&&r[u].draw(this._ctx)}}return _t(s,"id","bar"),_t(s,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),_t(s,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),s})(),Br=(()=>{class s extends Ni{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,a,r,c){const u=super.parsePrimitiveData(e,a,r,c);for(let x=0;x<u.length;x++)u[x]._custom=this.resolveDataElementOptions(x+r).radius;return u}parseArrayData(e,a,r,c){const u=super.parseArrayData(e,a,r,c);for(let x=0;x<u.length;x++)u[x]._custom=$t(a[r+x][2],this.resolveDataElementOptions(x+r).radius);return u}parseObjectData(e,a,r,c){const u=super.parseObjectData(e,a,r,c);for(let x=0;x<u.length;x++){const y=a[r+x];u[x]._custom=$t(y&&y.r&&+y.r,this.resolveDataElementOptions(x+r).radius)}return u}getMaxOverflow(){const e=this._cachedMeta.data;let a=0;for(let r=e.length-1;r>=0;--r)a=Math.max(a,e[r].size(this.resolveDataElementOptions(r))/2);return a>0&&a}getLabelAndValue(e){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:c,yScale:u}=a,x=this.getParsed(e),y=c.getLabelForValue(x.x),k=u.getLabelForValue(x.y),S=x._custom;return{label:r[e]||"",value:"("+y+", "+k+(S?", "+S:"")+")"}}update(e){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,e)}updateElements(e,a,r,c){const u="reset"===c,{iScale:x,vScale:y}=this._cachedMeta,{sharedOptions:k,includeOptions:S}=this._getSharedOptions(a,c),L=x.axis,D=y.axis;for(let X=a;X<a+r;X++){const j=e[X],J=!u&&this.getParsed(X),K={},ot=K[L]=u?x.getPixelForDecimal(.5):x.getPixelForValue(J[L]),at=K[D]=u?y.getBasePixel():y.getPixelForValue(J[D]);K.skip=isNaN(ot)||isNaN(at),S&&(K.options=k||this.resolveDataElementOptions(X,j.active?"active":c),u&&(K.options.radius=0)),this.updateElement(j,X,K,c)}}resolveDataElementOptions(e,a){const r=this.getParsed(e);let c=super.resolveDataElementOptions(e,a);c.$shared&&(c=Object.assign({},c,{$shared:!1}));const u=c.radius;return"active"!==a&&(c.radius=0),c.radius+=$t(r&&r._custom,u),c}}return _t(s,"id","bubble"),_t(s,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),_t(s,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),s})(),rn=(()=>{class s extends Ni{constructor(e,a){super(e,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,a){const r=this.getDataset().data,c=this._cachedMeta;if(!1===this._parsing)c._parsed=r;else{let x,y,u=k=>+r[k];if(ne(r[e])){const{key:k="value"}=this._parsing;u=S=>+B(r[S],k)}for(x=e,y=e+a;x<y;++x)c._parsed[x]=u(x)}}_getRotation(){return p(this.options.rotation-90)}_getCircumference(){return p(this.options.circumference)}_getRotationExtents(){let e=Ot,a=-Ot;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const c=this.chart.getDatasetMeta(r).controller,u=c._getRotation(),x=c._getCircumference();e=Math.min(e,u),a=Math.max(a,u+x)}return{rotation:e,circumference:a-e}}update(e){const a=this.chart,{chartArea:r}=a,c=this._cachedMeta,u=c.data,x=this.getMaxBorderWidth()+this.getMaxOffset(u)+this.options.spacing,y=Math.max((Math.min(r.width,r.height)-x)/2,0),k=Math.min(((s,i)=>"string"==typeof s&&s.endsWith("%")?parseFloat(s)/100:+s/i)(this.options.cutout,y),1),S=this._getRingWeight(this.index),{circumference:L,rotation:D}=this._getRotationExtents(),{ratioX:X,ratioY:j,offsetX:J,offsetY:K}=function Fr(s,i,e){let a=1,r=1,c=0,u=0;if(i<Ot){const x=s,y=x+i,k=Math.cos(x),S=Math.sin(x),L=Math.cos(y),D=Math.sin(y),X=(bt,kt,xt)=>v(bt,x,y,!0)?1:Math.max(kt,kt*e,xt,xt*e),j=(bt,kt,xt)=>v(bt,x,y,!0)?-1:Math.min(kt,kt*e,xt,xt*e),J=X(0,k,L),K=X(le,S,D),ot=j(It,k,L),at=j(It+le,S,D);a=(J-ot)/2,r=(K-at)/2,c=-(J+ot)/2,u=-(K+at)/2}return{ratioX:a,ratioY:r,offsetX:c,offsetY:u}}(D,L,k),bt=Math.max(Math.min((r.width-x)/X,(r.height-x)/j)/2,0),kt=Ii(this.options.radius,bt),yt=(kt-Math.max(kt*k,0))/this._getVisibleDatasetWeightTotal();this.offsetX=J*kt,this.offsetY=K*kt,c.total=this.calculateTotal(),this.outerRadius=kt-yt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-yt*S,0),this.updateElements(u,0,u.length,e)}_circumference(e,a){const r=this.options,c=this._cachedMeta,u=this._getCircumference();return a&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===c._parsed[e]||c.data[e].hidden?0:this.calculateCircumference(c._parsed[e]*u/Ot)}updateElements(e,a,r,c){const u="reset"===c,x=this.chart,y=x.chartArea,L=(y.left+y.right)/2,D=(y.top+y.bottom)/2,X=u&&x.options.animation.animateScale,j=X?0:this.innerRadius,J=X?0:this.outerRadius,{sharedOptions:K,includeOptions:ot}=this._getSharedOptions(a,c);let bt,at=this._getRotation();for(bt=0;bt<a;++bt)at+=this._circumference(bt,u);for(bt=a;bt<a+r;++bt){const kt=this._circumference(bt,u),xt=e[bt],yt={x:L+this.offsetX,y:D+this.offsetY,startAngle:at,endAngle:at+kt,circumference:kt,outerRadius:J,innerRadius:j};ot&&(yt.options=K||this.resolveDataElementOptions(bt,xt.active?"active":c)),at+=kt,this.updateElement(xt,bt,yt,c)}}calculateTotal(){const e=this._cachedMeta,a=e.data;let c,r=0;for(c=0;c<a.length;c++){const u=e._parsed[c];null!==u&&!isNaN(u)&&this.chart.getDataVisibility(c)&&!a[c].hidden&&(r+=Math.abs(u))}return r}calculateCircumference(e){const a=this._cachedMeta.total;return a>0&&!isNaN(e)?Ot*(Math.abs(e)/a):0}getLabelAndValue(e){const r=this.chart,c=r.data.labels||[],u=ni(this._cachedMeta._parsed[e],r.options.locale);return{label:c[e]||"",value:u}}getMaxBorderWidth(e){let a=0;const r=this.chart;let c,u,x,y,k;if(!e)for(c=0,u=r.data.datasets.length;c<u;++c)if(r.isDatasetVisible(c)){x=r.getDatasetMeta(c),e=x.data,y=x.controller;break}if(!e)return 0;for(c=0,u=e.length;c<u;++c)k=y.resolveDataElementOptions(c),"inner"!==k.borderAlign&&(a=Math.max(a,k.borderWidth||0,k.hoverBorderWidth||0));return a}getMaxOffset(e){let a=0;for(let r=0,c=e.length;r<c;++r){const u=this.resolveDataElementOptions(r);a=Math.max(a,u.offset||0,u.hoverOffset||0)}return a}_getRingWeightOffset(e){let a=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(a+=this._getRingWeight(r));return a}_getRingWeight(e){return Math.max($t(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return _t(s,"id","doughnut"),_t(s,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),_t(s,"descriptors",{_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")}),_t(s,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:a,color:r}}=i.legend.options;return e.labels.map((c,u)=>{const y=i.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,fontColor:r,lineWidth:y.borderWidth,pointStyle:a,hidden:!i.getDataVisibility(u),index:u}})}return[]}},onClick(i,e,a){a.chart.toggleDataVisibility(e.index),a.chart.update()}}}}),s})(),Lr=(()=>{class s extends Ni{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const a=this._cachedMeta,{dataset:r,data:c=[],_dataset:u}=a,x=this.chart._animationsDisabled;let{start:y,count:k}=lt(a,c,x);this._drawStart=y,this._drawCount=k,R(a)&&(y=0,k=c.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!u._decimated,r.points=c;const S=this.resolveDatasetElementOptions(e);this.options.showLine||(S.borderWidth=0),S.segment=this.options.segment,this.updateElement(r,void 0,{animated:!x,options:S},e),this.updateElements(c,y,k,e)}updateElements(e,a,r,c){const u="reset"===c,{iScale:x,vScale:y,_stacked:k,_dataset:S}=this._cachedMeta,{sharedOptions:L,includeOptions:D}=this._getSharedOptions(a,c),X=x.axis,j=y.axis,{spanGaps:J,segment:K}=this.options,ot=o(J)?J:Number.POSITIVE_INFINITY,at=this.chart._animationsDisabled||u||"none"===c,bt=a+r,kt=e.length;let xt=a>0&&this.getParsed(a-1);for(let yt=0;yt<kt;++yt){const Dt=e[yt],wt=at?Dt:{};if(yt<a||yt>=bt){wt.skip=!0;continue}const Xt=this.getParsed(yt),ue=Pt(Xt[j]),de=wt[X]=x.getPixelForValue(Xt[X],yt),be=wt[j]=u||ue?y.getBasePixel():y.getPixelForValue(k?this.applyStack(y,Xt,k):Xt[j],yt);wt.skip=isNaN(de)||isNaN(be)||ue,wt.stop=yt>0&&Math.abs(Xt[X]-xt[X])>ot,K&&(wt.parsed=Xt,wt.raw=S.data[yt]),D&&(wt.options=L||this.resolveDataElementOptions(yt,Dt.active?"active":c)),at||this.updateElement(Dt,yt,wt,c),xt=Xt}}getMaxOverflow(){const e=this._cachedMeta,a=e.dataset,r=a.options&&a.options.borderWidth||0,c=e.data||[];if(!c.length)return r;const u=c[0].size(this.resolveDataElementOptions(0)),x=c[c.length-1].size(this.resolveDataElementOptions(c.length-1));return Math.max(r,u,x)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return _t(s,"id","line"),_t(s,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),_t(s,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),s})(),ra=(()=>{class s extends Ni{constructor(e,a){super(e,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,c=r.data.labels||[],u=ni(this._cachedMeta._parsed[e].r,r.options.locale);return{label:c[e]||"",value:u}}parseObjectData(e,a,r,c){return Wn.bind(this)(e,a,r,c)}update(e){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,e)}getMinMax(){const a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,c)=>{const u=this.getParsed(c).r;!isNaN(u)&&this.chart.getDataVisibility(c)&&(u<a.min&&(a.min=u),u>a.max&&(a.max=u))}),a}_updateRadius(){const e=this.chart,a=e.chartArea,r=e.options,c=Math.min(a.right-a.left,a.bottom-a.top),u=Math.max(c/2,0),y=(u-Math.max(r.cutoutPercentage?u/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=u-y*this.index,this.innerRadius=this.outerRadius-y}updateElements(e,a,r,c){const u="reset"===c,x=this.chart,k=x.options.animation,S=this._cachedMeta.rScale,L=S.xCenter,D=S.yCenter,X=S.getIndexAngle(0)-.5*It;let J,j=X;const K=360/this.countVisibleElements();for(J=0;J<a;++J)j+=this._computeAngle(J,c,K);for(J=a;J<a+r;J++){const ot=e[J];let at=j,bt=j+this._computeAngle(J,c,K),kt=x.getDataVisibility(J)?S.getDistanceFromCenterForValue(this.getParsed(J).r):0;j=bt,u&&(k.animateScale&&(kt=0),k.animateRotate&&(at=bt=X));const xt={x:L,y:D,innerRadius:0,outerRadius:kt,startAngle:at,endAngle:bt,options:this.resolveDataElementOptions(J,ot.active?"active":c)};this.updateElement(ot,J,xt,c)}}countVisibleElements(){let a=0;return this._cachedMeta.data.forEach((r,c)=>{!isNaN(this.getParsed(c).r)&&this.chart.getDataVisibility(c)&&a++}),a}_computeAngle(e,a,r){return this.chart.getDataVisibility(e)?p(this.resolveDataElementOptions(e,a).angle||r):0}}return _t(s,"id","polarArea"),_t(s,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),_t(s,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:a,color:r}}=i.legend.options;return e.labels.map((c,u)=>{const y=i.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,fontColor:r,lineWidth:y.borderWidth,pointStyle:a,hidden:!i.getDataVisibility(u),index:u}})}return[]}},onClick(i,e,a){a.chart.toggleDataVisibility(e.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),s})();var Ir=Object.freeze({__proto__:null,BarController:Ar,BubbleController:Br,DoughnutController:rn,LineController:Lr,PieController:(()=>{class s extends rn{}return _t(s,"id","pie"),_t(s,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),s})(),PolarAreaController:ra,RadarController:(()=>{class s extends Ni{getLabelAndValue(e){const a=this._cachedMeta.vScale,r=this.getParsed(e);return{label:a.getLabels()[e],value:""+a.getLabelForValue(r[a.axis])}}parseObjectData(e,a,r,c){return Wn.bind(this)(e,a,r,c)}update(e){const a=this._cachedMeta,r=a.dataset,c=a.data||[],u=a.iScale.getLabels();if(r.points=c,"resize"!==e){const x=this.resolveDatasetElementOptions(e);this.options.showLine||(x.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:u.length===c.length,options:x},e)}this.updateElements(c,0,c.length,e)}updateElements(e,a,r,c){const u=this._cachedMeta.rScale,x="reset"===c;for(let y=a;y<a+r;y++){const k=e[y],S=this.resolveDataElementOptions(y,k.active?"active":c),L=u.getPointPositionForValue(y,this.getParsed(y).r),D=x?u.xCenter:L.x,X=x?u.yCenter:L.y,j={x:D,y:X,angle:L.angle,skip:isNaN(D)||isNaN(X),options:S};this.updateElement(k,y,j,c)}}}return _t(s,"id","radar"),_t(s,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),_t(s,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),s})(),ScatterController:(()=>{class s extends Ni{getLabelAndValue(e){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:c,yScale:u}=a,x=this.getParsed(e),y=c.getLabelForValue(x.x),k=u.getLabelForValue(x.y);return{label:r[e]||"",value:"("+y+", "+k+")"}}update(e){const a=this._cachedMeta,{data:r=[]}=a,c=this.chart._animationsDisabled;let{start:u,count:x}=lt(a,r,c);if(this._drawStart=u,this._drawCount=x,R(a)&&(u=0,x=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:y,_dataset:k}=a;y._chart=this.chart,y._datasetIndex=this.index,y._decimated=!!k._decimated,y.points=r;const S=this.resolveDatasetElementOptions(e);S.segment=this.options.segment,this.updateElement(y,void 0,{animated:!c,options:S},e)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(r,u,x,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,a,r,c){const u="reset"===c,{iScale:x,vScale:y,_stacked:k,_dataset:S}=this._cachedMeta,L=this.resolveDataElementOptions(a,c),D=this.getSharedOptions(L),X=this.includeOptions(c,D),j=x.axis,J=y.axis,{spanGaps:K,segment:ot}=this.options,at=o(K)?K:Number.POSITIVE_INFINITY,bt=this.chart._animationsDisabled||u||"none"===c;let kt=a>0&&this.getParsed(a-1);for(let xt=a;xt<a+r;++xt){const yt=e[xt],Dt=this.getParsed(xt),wt=bt?yt:{},Xt=Pt(Dt[J]),ue=wt[j]=x.getPixelForValue(Dt[j],xt),de=wt[J]=u||Xt?y.getBasePixel():y.getPixelForValue(k?this.applyStack(y,Dt,k):Dt[J],xt);wt.skip=isNaN(ue)||isNaN(de)||Xt,wt.stop=xt>0&&Math.abs(Dt[j]-kt[j])>at,ot&&(wt.parsed=Dt,wt.raw=S.data[xt]),X&&(wt.options=D||this.resolveDataElementOptions(xt,yt.active?"active":c)),bt||this.updateElement(yt,xt,wt,c),kt=Dt}this.updateSharedOptions(D,c,L)}getMaxOverflow(){const e=this._cachedMeta,a=e.data||[];if(!this.options.showLine){let y=0;for(let k=a.length-1;k>=0;--k)y=Math.max(y,a[k].size(this.resolveDataElementOptions(k))/2);return y>0&&y}const r=e.dataset,c=r.options&&r.options.borderWidth||0;if(!a.length)return c;const u=a[0].size(this.resolveDataElementOptions(0)),x=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(c,u,x)/2}}return _t(s,"id","scatter"),_t(s,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),_t(s,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),s})()});function $i(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ln{static override(i){Object.assign(ln.prototype,i)}constructor(i){_t(this,"options",void 0),this.options=i||{}}init(){}formats(){return $i()}parse(){return $i()}format(){return $i()}add(){return $i()}diff(){return $i()}startOf(){return $i()}endOf(){return $i()}}var Dr__date=ln;function Vr(s,i,e,a){const{controller:r,data:c,_sorted:u}=s,x=r._cachedMeta.iScale;if(x&&i===x.axis&&"r"!==i&&u&&c.length){const y=x._reversePixels?I:T;if(!a)return y(c,i,e);if(r._sharedOptions){const k=c[0],S="function"==typeof k.getRange&&k.getRange(i);if(S){const L=y(c,i,e-S),D=y(c,i,e+S);return{lo:L.lo,hi:D.hi}}}}return{lo:0,hi:c.length-1}}function gs(s,i,e,a,r){const c=s.getSortedVisibleDatasetMetas(),u=e[i];for(let x=0,y=c.length;x<y;++x){const{index:k,data:S}=c[x],{lo:L,hi:D}=Vr(c[x],i,u,r);for(let X=L;X<=D;++X){const j=S[X];j.skip||a(j,k,X)}}}function hn(s,i,e,a,r){const c=[];return!r&&!s.isPointInArea(i)||gs(s,e,i,function(x,y,k){!r&&!Nt(x,s.chartArea,0)||x.inRange(i.x,i.y,a)&&c.push({element:x,datasetIndex:y,index:k})},!0),c}function dn(s,i,e,a,r,c){return c||s.isPointInArea(i)?"r"!==e||a?function Er(s,i,e,a,r,c){let u=[];const x=function Wr(s){const i=-1!==s.indexOf("x"),e=-1!==s.indexOf("y");return function(a,r){const c=i?Math.abs(a.x-r.x):0,u=e?Math.abs(a.y-r.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(u,2))}}(e);let y=Number.POSITIVE_INFINITY;return gs(s,e,i,function k(S,L,D){const X=S.inRange(i.x,i.y,r);if(a&&!X)return;const j=S.getCenterPoint(r);if(!c&&!s.isPointInArea(j)&&!X)return;const K=x(i,j);K<y?(u=[{element:S,datasetIndex:L,index:D}],y=K):K===y&&u.push({element:S,datasetIndex:L,index:D})}),u}(s,i,e,a,r,c):function Or(s,i,e,a){let r=[];return gs(s,e,i,function c(u,x,y){const{startAngle:k,endAngle:S}=u.getProps(["startAngle","endAngle"],a),{angle:L}=_(u,{x:i.x,y:i.y});v(L,k,S)&&r.push({element:u,datasetIndex:x,index:y})}),r}(s,i,e,r):[]}function la(s,i,e,a,r){const c=[],u="x"===e?"inXRange":"inYRange";let x=!1;return gs(s,e,i,(y,k,S)=>{y[u](i[e],r)&&(c.push({element:y,datasetIndex:k,index:S}),x=x||y.inRange(i.x,i.y,r))}),a&&!x?[]:c}var Xr={evaluateInteractionItems:gs,modes:{index(s,i,e,a){const r=Qi(i,s),c=e.axis||"x",u=e.includeInvisible||!1,x=e.intersect?hn(s,r,c,a,u):dn(s,r,c,!1,a,u),y=[];return x.length?(s.getSortedVisibleDatasetMetas().forEach(k=>{const S=x[0].index,L=k.data[S];L&&!L.skip&&y.push({element:L,datasetIndex:k.index,index:S})}),y):[]},dataset(s,i,e,a){const r=Qi(i,s),c=e.axis||"xy",u=e.includeInvisible||!1;let x=e.intersect?hn(s,r,c,a,u):dn(s,r,c,!1,a,u);if(x.length>0){const y=x[0].datasetIndex,k=s.getDatasetMeta(y).data;x=[];for(let S=0;S<k.length;++S)x.push({element:k[S],datasetIndex:y,index:S})}return x},point:(s,i,e,a)=>hn(s,Qi(i,s),e.axis||"xy",a,e.includeInvisible||!1),nearest:(s,i,e,a)=>dn(s,Qi(i,s),e.axis||"xy",e.intersect,a,e.includeInvisible||!1),x:(s,i,e,a)=>la(s,Qi(i,s),"x",e.intersect,a),y:(s,i,e,a)=>la(s,Qi(i,s),"y",e.intersect,a)}};const ha=["left","top","right","bottom"];function ms(s,i){return s.filter(e=>e.pos===i)}function da(s,i){return s.filter(e=>-1===ha.indexOf(e.pos)&&e.box.axis===i)}function fs(s,i){return s.sort((e,a)=>{const r=i?a:e,c=i?e:a;return r.weight===c.weight?r.index-c.index:r.weight-c.weight})}function ca(s,i,e,a){return Math.max(s[e],i[e])+Math.max(s[a],i[a])}function ua(s,i){s.top=Math.max(s.top,i.top),s.left=Math.max(s.left,i.left),s.bottom=Math.max(s.bottom,i.bottom),s.right=Math.max(s.right,i.right)}function Hr(s,i,e,a){const{pos:r,box:c}=e,u=s.maxPadding;if(!ne(r)){e.size&&(s[r]-=e.size);const L=a[e.stack]||{size:0,count:1};L.size=Math.max(L.size,e.horizontal?c.height:c.width),e.size=L.size/L.count,s[r]+=e.size}c.getPadding&&ua(u,c.getPadding());const x=Math.max(0,i.outerWidth-ca(u,s,"left","right")),y=Math.max(0,i.outerHeight-ca(u,s,"top","bottom")),k=x!==s.w,S=y!==s.h;return s.w=x,s.h=y,e.horizontal?{same:k,other:S}:{same:S,other:k}}function Ur(s,i){const e=i.maxPadding;return function a(r){const c={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{c[u]=Math.max(i[u],e[u])}),c}(s?["left","right"]:["top","bottom"])}function bs(s,i,e,a){const r=[];let c,u,x,y,k,S;for(c=0,u=s.length,k=0;c<u;++c){x=s[c],y=x.box,y.update(x.width||i.w,x.height||i.h,Ur(x.horizontal,i));const{same:L,other:D}=Hr(i,e,x,a);k|=L&&r.length,S=S||D,y.fullSize||r.push(x)}return k&&bs(r,i,e,a)||S}function Is(s,i,e,a,r){s.top=e,s.left=i,s.right=i+a,s.bottom=e+r,s.width=a,s.height=r}function pa(s,i,e,a){const r=e.padding;let{x:c,y:u}=i;for(const x of s){const y=x.box,k=a[x.stack]||{count:1,placed:0,weight:1},S=x.stackWeight/k.weight||1;if(x.horizontal){const L=i.w*S,D=k.size||y.height;q(k.start)&&(u=k.start),y.fullSize?Is(y,r.left,u,e.outerWidth-r.right-r.left,D):Is(y,i.left+k.placed,u,L,D),k.start=u,k.placed+=L,u=y.bottom}else{const L=i.h*S,D=k.size||y.width;q(k.start)&&(c=k.start),y.fullSize?Is(y,c,r.top,D,e.outerHeight-r.bottom-r.top):Is(y,c,i.top+k.placed,D,L),k.start=c,k.placed+=L,c=y.right}}i.x=c,i.y=u}var di={addBox(s,i){s.boxes||(s.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(e){i.draw(e)}}]},s.boxes.push(i)},removeBox(s,i){const e=s.boxes?s.boxes.indexOf(i):-1;-1!==e&&s.boxes.splice(e,1)},configure(s,i,e){i.fullSize=e.fullSize,i.position=e.position,i.weight=e.weight},update(s,i,e,a){if(!s)return;const r=hi(s.options.layout.padding),c=Math.max(i-r.width,0),u=Math.max(e-r.height,0),x=function Nr(s){const i=function zr(s){const i=[];let e,a,r,c,u,x;for(e=0,a=(s||[]).length;e<a;++e)r=s[e],({position:c,options:{stack:u,stackWeight:x=1}}=r),i.push({index:e,box:r,pos:c,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&c+u,stackWeight:x});return i}(s),e=fs(i.filter(k=>k.box.fullSize),!0),a=fs(ms(i,"left"),!0),r=fs(ms(i,"right")),c=fs(ms(i,"top"),!0),u=fs(ms(i,"bottom")),x=da(i,"x"),y=da(i,"y");return{fullSize:e,leftAndTop:a.concat(c),rightAndBottom:r.concat(y).concat(u).concat(x),chartArea:ms(i,"chartArea"),vertical:a.concat(r).concat(y),horizontal:c.concat(u).concat(x)}}(s.boxes),y=x.vertical,k=x.horizontal;Ht(s.boxes,J=>{"function"==typeof J.beforeLayout&&J.beforeLayout()});const S=y.reduce((J,K)=>K.box.options&&!1===K.box.options.display?J:J+1,0)||1,L=Object.freeze({outerWidth:i,outerHeight:e,padding:r,availableWidth:c,availableHeight:u,vBoxMaxWidth:c/2/S,hBoxMaxHeight:u/2}),D=Object.assign({},r);ua(D,hi(a));const X=Object.assign({maxPadding:D,w:c,h:u,x:r.left,y:r.top},r),j=function Rr(s,i){const e=function Yr(s){const i={};for(const e of s){const{stack:a,pos:r,stackWeight:c}=e;if(!a||!ha.includes(r))continue;const u=i[a]||(i[a]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=c}return i}(s),{vBoxMaxWidth:a,hBoxMaxHeight:r}=i;let c,u,x;for(c=0,u=s.length;c<u;++c){x=s[c];const{fullSize:y}=x.box,k=e[x.stack],S=k&&x.stackWeight/k.weight;x.horizontal?(x.width=S?S*a:y&&i.availableWidth,x.height=r):(x.width=a,x.height=S?S*r:y&&i.availableHeight)}return e}(y.concat(k),L);bs(x.fullSize,X,L,j),bs(y,X,L,j),bs(k,X,L,j)&&bs(y,X,L,j),function jr(s){const i=s.maxPadding;function e(a){const r=Math.max(i[a]-s[a],0);return s[a]+=r,r}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}(X),pa(x.leftAndTop,X,L,j),X.x+=X.w,X.y+=X.h,pa(x.rightAndBottom,X,L,j),s.chartArea={left:X.left,top:X.top,right:X.left+X.w,bottom:X.top+X.h,height:X.h,width:X.w},Ht(x.chartArea,J=>{const K=J.box;Object.assign(K,s.chartArea),K.update(X.w,X.h,{left:0,top:0,right:0,bottom:0})})}};class xa{acquireContext(i,e){}releaseContext(i){return!1}addEventListener(i,e,a){}removeEventListener(i,e,a){}getDevicePixelRatio(){return 1}getMaximumSize(i,e,a,r){return e=Math.max(0,e||i.width),a=a||i.height,{width:e,height:Math.max(0,r?Math.floor(e/r):a)}}isAttached(i){return!0}updateConfig(i){}}class Jr extends xa{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const Ds="$chartjs",Kr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ga=s=>null===s||""===s,ma=!!Ko&&{passive:!0};function $r(s,i,e){s&&s.canvas&&s.canvas.removeEventListener(i,e,ma)}function Vs(s,i){for(const e of s)if(e===i||e.contains(i))return!0}function qr(s,i,e){const a=s.canvas,r=new MutationObserver(c=>{let u=!1;for(const x of c)u=u||Vs(x.addedNodes,a),u=u&&!Vs(x.removedNodes,a);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function tl(s,i,e){const a=s.canvas,r=new MutationObserver(c=>{let u=!1;for(const x of c)u=u||Vs(x.removedNodes,a),u=u&&!Vs(x.addedNodes,a);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const ys=new Map;let fa=0;function ba(){const s=window.devicePixelRatio;s!==fa&&(fa=s,ys.forEach((i,e)=>{e.currentDevicePixelRatio!==s&&i()}))}function sl(s,i,e){const a=s.canvas,r=a&&sn(a);if(!r)return;const c=$((x,y)=>{const k=r.clientWidth;e(x,y),k<r.clientWidth&&e()},window),u=new ResizeObserver(x=>{const y=x[0],k=y.contentRect.width,S=y.contentRect.height;0===k&&0===S||c(k,S)});return u.observe(r),function el(s,i){ys.size||window.addEventListener("resize",ba),ys.set(s,i)}(s,c),u}function cn(s,i,e){e&&e.disconnect(),"resize"===i&&function il(s){ys.delete(s),ys.size||window.removeEventListener("resize",ba)}(s)}function nl(s,i,e){const a=s.canvas,r=$(c=>{null!==s.ctx&&e(function Gr(s,i){const e=Kr[s.type]||s.type,{x:a,y:r}=Qi(s,i);return{type:e,chart:i,native:s,x:void 0!==a?a:null,y:void 0!==r?r:null}}(c,s))},s);return function Zr(s,i,e){s&&s.addEventListener(i,e,ma)}(a,i,r),r}class al extends xa{acquireContext(i,e){const a=i&&i.getContext&&i.getContext("2d");return a&&a.canvas===i?(function Qr(s,i){const e=s.style,a=s.getAttribute("height"),r=s.getAttribute("width");if(s[Ds]={initial:{height:a,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",ga(r)){const c=Xn(s,"width");void 0!==c&&(s.width=c)}if(ga(a))if(""===s.style.height)s.height=s.width/(i||2);else{const c=Xn(s,"height");void 0!==c&&(s.height=c)}}(i,e),a):null}releaseContext(i){const e=i.canvas;if(!e[Ds])return!1;const a=e[Ds].initial;["height","width"].forEach(c=>{const u=a[c];Pt(u)?e.removeAttribute(c):e.setAttribute(c,u)});const r=a.style||{};return Object.keys(r).forEach(c=>{e.style[c]=r[c]}),e.width=e.width,delete e[Ds],!0}addEventListener(i,e,a){this.removeEventListener(i,e),(i.$proxies||(i.$proxies={}))[e]=({attach:qr,detach:tl,resize:sl}[e]||nl)(i,e,a)}removeEventListener(i,e){const a=i.$proxies||(i.$proxies={}),r=a[e];r&&(({attach:cn,detach:cn,resize:cn}[e]||$r)(i,e,r),a[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,e,a,r){return function Jo(s,i,e,a){const r=Fs(s),c=Ki(r,"margin"),u=Bs(r.maxWidth,s,"clientWidth")||Ye,x=Bs(r.maxHeight,s,"clientHeight")||Ye,y=function Uo(s,i,e){let a,r;if(void 0===i||void 0===e){const c=s&&sn(s);if(c){const u=c.getBoundingClientRect(),x=Fs(c),y=Ki(x,"border","width"),k=Ki(x,"padding");i=u.width-k.width-y.width,e=u.height-k.height-y.height,a=Bs(x.maxWidth,c,"clientWidth"),r=Bs(x.maxHeight,c,"clientHeight")}else i=s.clientWidth,e=s.clientHeight}return{width:i,height:e,maxWidth:a||Ye,maxHeight:r||Ye}}(s,i,e);let{width:k,height:S}=y;if("content-box"===r.boxSizing){const D=Ki(r,"border","width"),X=Ki(r,"padding");k-=X.width+D.width,S-=X.height+D.height}return k=Math.max(0,k-c.width),S=Math.max(0,a?k/a:S-c.height),k=Ls(Math.min(k,u,y.maxWidth)),S=Ls(Math.min(S,x,y.maxHeight)),k&&!S&&(S=Ls(k/2)),(void 0!==i||void 0!==e)&&a&&y.height&&S>y.height&&(S=y.height,k=Ls(Math.floor(S*a))),{width:k,height:S}}(i,e,a,r)}isAttached(i){const e=i&&sn(i);return!(!e||!e.isConnected)}}class Ci{constructor(){_t(this,"x",void 0),_t(this,"y",void 0),_t(this,"active",!1),_t(this,"options",void 0),_t(this,"$animations",void 0)}tooltipPosition(i){const{x:e,y:a}=this.getProps(["x","y"],i);return{x:e,y:a}}hasValue(){return o(this.x)&&o(this.y)}getProps(i,e){const a=this.$animations;if(!e||!a)return this;const r={};return i.forEach(c=>{r[c]=a[c]&&a[c].active()?a[c]._to:this[c]}),r}}function Ws(s,i,e,a,r){const c=$t(a,0),u=Math.min($t(r,s.length),s.length);let y,k,S,x=0;for(e=Math.ceil(e),r&&(y=r-a,e=y/Math.floor(y/e)),S=c;S<0;)x++,S=Math.round(c+x*e);for(k=Math.max(c,0);k<u;k++)k===S&&(i.push(s[k]),x++,S=Math.round(c+x*e))}_t(Ci,"defaults",{}),_t(Ci,"defaultRoutes",void 0);const ya=(s,i,e)=>"top"===i||"left"===i?s[i]+e:s[i]-e,va=(s,i)=>Math.min(i||s,s);function Ma(s,i){const e=[],a=s.length/i,r=s.length;let c=0;for(;c<r;c+=a)e.push(s[Math.floor(c)]);return e}function xl(s,i,e){const a=s.ticks.length,r=Math.min(i,a-1),c=s._startPixel,u=s._endPixel,x=1e-6;let k,y=s.getPixelForTick(r);if(!(e&&(k=1===a?Math.max(y-c,u-y):0===i?(s.getPixelForTick(1)-y)/2:(y-s.getPixelForTick(r-1))/2,y+=r<i?k:-k,y<c-x||y>u+x)))return y}function vs(s){return s.drawTicks?s.tickLength:0}function ka(s,i){if(!s.display)return 0;const e=qe(s.font,i),a=hi(s.padding);return(ye(s.text)?s.text.length:1)*e.lineHeight+a.height}function bl(s,i,e){let a=U(s);return(e&&"right"!==i||!e&&"right"===i)&&(a=(s=>"left"===s?"right":"right"===s?"left":s)(a)),a}class Gi extends Ci{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,e){return i}getUserBounds(){let{_userMin:i,_userMax:e,_suggestedMin:a,_suggestedMax:r}=this;return i=ii(i,Number.POSITIVE_INFINITY),e=ii(e,Number.NEGATIVE_INFINITY),a=ii(a,Number.POSITIVE_INFINITY),r=ii(r,Number.NEGATIVE_INFINITY),{min:ii(i,a),max:ii(e,r),minDefined:ge(i),maxDefined:ge(e)}}getMinMax(i){let u,{min:e,max:a,minDefined:r,maxDefined:c}=this.getUserBounds();if(r&&c)return{min:e,max:a};const x=this.getMatchingVisibleMetas();for(let y=0,k=x.length;y<k;++y)u=x[y].controller.getMinMax(this,i),r||(e=Math.min(e,u.min)),c||(a=Math.max(a,u.max));return e=c&&e>a?a:e,a=r&&e>a?e:a,{min:ii(e,ii(a,e)),max:ii(a,ii(e,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ae(this.options.beforeUpdate,[this])}update(i,e,a){const{beginAtZero:r,grace:c,ticks:u}=this.options,x=u.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=e,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Po(s,i,e){const{min:a,max:r}=s,c=Ii(i,(r-a)/2),u=(x,y)=>e&&0===x?0:x+y;return{min:u(a,-Math.abs(c)),max:u(r,c)}}(this,c,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const y=x<this.ticks.length;this._convertTicksToLabels(y?Ma(this.ticks,x):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||"auto"===u.source)&&(this.ticks=function rl(s,i){const e=s.options.ticks,a=function ll(s){const i=s.options.offset,e=s._tickSize();return Math.floor(Math.min(s._length/e+(i?0:1),s._maxLength/e))}(s),r=Math.min(e.maxTicksLimit||a,a),c=e.major.enabled?function dl(s){const i=[];let e,a;for(e=0,a=s.length;e<a;e++)s[e].major&&i.push(e);return i}(i):[],u=c.length,x=c[0],y=c[u-1],k=[];if(u>r)return function cl(s,i,e,a){let u,r=0,c=e[0];for(a=Math.ceil(a),u=0;u<s.length;u++)u===c&&(i.push(s[u]),r++,c=e[r*a])}(i,k,c,u/r),k;const S=function hl(s,i,e){const a=function ul(s){const i=s.length;let e,a;if(i<2)return!1;for(a=s[0],e=1;e<i;++e)if(s[e]-s[e-1]!==a)return!1;return a}(s),r=i.length/e;if(!a)return Math.max(r,1);const c=function d(s){const i=[],e=Math.sqrt(s);let a;for(a=1;a<e;a++)s%a==0&&(i.push(a),i.push(s/a));return e===(0|e)&&i.push(e),i.sort((r,c)=>r-c).pop(),i}(a);for(let u=0,x=c.length-1;u<x;u++){const y=c[u];if(y>r)return y}return Math.max(r,1)}(c,i,r);if(u>0){let L,D;const X=u>1?Math.round((y-x)/(u-1)):null;for(Ws(i,k,S,Pt(X)?0:x-X,x),L=0,D=u-1;L<D;L++)Ws(i,k,S,c[L],c[L+1]);return Ws(i,k,S,y,Pt(X)?i.length:y+X),k}return Ws(i,k,S),k}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),y&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,a,i=this.options.reverse;this.isHorizontal()?(e=this.left,a=this.right):(e=this.top,a=this.bottom,i=!i),this._startPixel=e,this._endPixel=a,this._reversePixels=i,this._length=a-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ae(this.options.afterUpdate,[this])}beforeSetDimensions(){Ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ae(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),Ae(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const e=this.options.ticks;let a,r,c;for(a=0,r=i.length;a<r;a++)c=i[a],c.label=Ae(e.callback,[c.value,a,i],this)}afterTickToLabelConversion(){Ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,e=i.ticks,a=va(this.ticks.length,i.ticks.maxTicksLimit),r=e.minRotation||0,c=e.maxRotation;let x,y,k,u=r;if(!this._isVisible()||!e.display||r>=c||a<=1||!this.isHorizontal())return void(this.labelRotation=r);const S=this._getLabelSizes(),L=S.widest.width,D=S.highest.height,X=h(this.chart.width-L,0,this.maxWidth);x=i.offset?this.maxWidth/a:X/(a-1),L+6>x&&(x=X/(a-(i.offset?.5:1)),y=this.maxHeight-vs(i.grid)-e.padding-ka(i.title,this.chart.options.font),k=Math.sqrt(L*L+D*D),u=g(Math.min(Math.asin(h((S.highest.height+6)/x,-1,1)),Math.asin(h(y/k,-1,1))-Math.asin(h(D/k,-1,1)))),u=Math.max(r,Math.min(c,u))),this.labelRotation=u}afterCalculateLabelRotation(){Ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ae(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:e,options:{ticks:a,title:r,grid:c}}=this,u=this._isVisible(),x=this.isHorizontal();if(u){const y=ka(r,e.options.font);if(x?(i.width=this.maxWidth,i.height=vs(c)+y):(i.height=this.maxHeight,i.width=vs(c)+y),a.display&&this.ticks.length){const{first:k,last:S,widest:L,highest:D}=this._getLabelSizes(),X=2*a.padding,j=p(this.labelRotation),J=Math.cos(j),K=Math.sin(j);x?i.height=Math.min(this.maxHeight,i.height+(a.mirror?0:K*L.width+J*D.height)+X):i.width=Math.min(this.maxWidth,i.width+(a.mirror?0:J*L.width+K*D.height)+X),this._calculatePadding(k,S,K,J)}}this._handleMargins(),x?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,e,a,r){const{ticks:{align:c,padding:u},position:x}=this.options,y=0!==this.labelRotation,k="top"!==x&&"x"===this.axis;if(this.isHorizontal()){const S=this.getPixelForTick(0)-this.left,L=this.right-this.getPixelForTick(this.ticks.length-1);let D=0,X=0;y?k?(D=r*i.width,X=a*e.height):(D=a*i.height,X=r*e.width):"start"===c?X=e.width:"end"===c?D=i.width:"inner"!==c&&(D=i.width/2,X=e.width/2),this.paddingLeft=Math.max((D-S+u)*this.width/(this.width-S),0),this.paddingRight=Math.max((X-L+u)*this.width/(this.width-L),0)}else{let S=e.height/2,L=i.height/2;"start"===c?(S=0,L=i.height):"end"===c&&(S=e.height,L=0),this.paddingTop=S+u,this.paddingBottom=L+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ae(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:e}=this.options;return"top"===e||"bottom"===e||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let e,a;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),e=0,a=i.length;e<a;e++)Pt(i[e].label)&&(i.splice(e,1),a--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const e=this.options.ticks.sampleSize;let a=this.ticks;e<a.length&&(a=Ma(a,e)),this._labelSizes=i=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,e,a){const{ctx:r,_longestTextCache:c}=this,u=[],x=[],y=Math.floor(e/va(e,a));let L,D,X,j,J,K,ot,at,bt,kt,xt,k=0,S=0;for(L=0;L<e;L+=y){if(j=i[L].label,J=this._resolveTickFontOptions(L),r.font=K=J.string,ot=c[K]=c[K]||{data:{},gc:[]},at=J.lineHeight,bt=kt=0,Pt(j)||ye(j)){if(ye(j))for(D=0,X=j.length;D<X;++D)xt=j[D],!Pt(xt)&&!ye(xt)&&(bt=pe(r,ot.data,ot.gc,bt,xt),kt+=at)}else bt=pe(r,ot.data,ot.gc,bt,j),kt=at;u.push(bt),x.push(kt),k=Math.max(bt,k),S=Math.max(kt,S)}!function gl(s,i){Ht(s,e=>{const a=e.gc,r=a.length/2;let c;if(r>i){for(c=0;c<r;++c)delete e.data[a[c]];a.splice(0,r)}})}(c,e);const yt=u.indexOf(k),Dt=x.indexOf(S),wt=Xt=>({width:u[Xt]||0,height:x[Xt]||0});return{first:wt(0),last:wt(e-1),widest:wt(yt),highest:wt(Dt),widths:u,heights:x}}getLabelForValue(i){return i}getPixelForValue(i,e){return NaN}getValueForPixel(i){}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const e=this._startPixel+i*this._length;return function C(s){return h(s,-32768,32767)}(this._alignToPixels?ve(this.chart,e,0):e)}getDecimalForPixel(i){const e=(i-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:e}=this;return i<0&&e<0?e:i>0&&e>0?i:0}getContext(i){const e=this.ticks||[];if(i>=0&&i<e.length){const a=e[i];return a.$context||(a.$context=function fl(s,i,e){return Ri(s,{tick:e,index:i,type:"tick"})}(this.getContext(),i,a))}return this.$context||(this.$context=function ml(s,i){return Ri(s,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,e=p(this.labelRotation),a=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),c=this._getLabelSizes(),u=i.autoSkipPadding||0,x=c?c.widest.width+u:0,y=c?c.highest.height+u:0;return this.isHorizontal()?y*a>x*r?x/a:y/r:y*r<x*a?y/a:x/r}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const e=this.axis,a=this.chart,r=this.options,{grid:c,position:u,border:x}=r,y=c.offset,k=this.isHorizontal(),L=this.ticks.length+(y?1:0),D=vs(c),X=[],j=x.setContext(this.getContext()),J=j.display?j.width:0,K=J/2,ot=function(Xe){return ve(a,Xe,J)};let at,bt,kt,xt,yt,Dt,wt,Xt,ue,de,be,ai;if("top"===u)at=ot(this.bottom),Dt=this.bottom-D,Xt=at-K,de=ot(i.top)+K,ai=i.bottom;else if("bottom"===u)at=ot(this.top),de=i.top,ai=ot(i.bottom)-K,Dt=at+K,Xt=this.top+D;else if("left"===u)at=ot(this.right),yt=this.right-D,wt=at-K,ue=ot(i.left)+K,be=i.right;else if("right"===u)at=ot(this.left),ue=i.left,be=ot(i.right)-K,yt=at+K,wt=this.left+D;else if("x"===e){if("center"===u)at=ot((i.top+i.bottom)/2+.5);else if(ne(u)){const Xe=Object.keys(u)[0];at=ot(this.chart.scales[Xe].getPixelForValue(u[Xe]))}de=i.top,ai=i.bottom,Dt=at+K,Xt=Dt+D}else if("y"===e){if("center"===u)at=ot((i.left+i.right)/2);else if(ne(u)){const Xe=Object.keys(u)[0];at=ot(this.chart.scales[Xe].getPixelForValue(u[Xe]))}yt=at-K,wt=yt-D,ue=i.left,be=i.right}const bi=$t(r.ticks.maxTicksLimit,L),Be=Math.max(1,Math.ceil(L/bi));for(bt=0;bt<L;bt+=Be){const Xe=this.getContext(bt),He=c.setContext(Xe),Si=x.setContext(Xe),ci=He.lineWidth,hs=He.color,Qs=Si.dash||[],ds=Si.dashOffset,Cs=He.tickWidth,ts=He.tickColor,Ss=He.tickBorderDash||[],es=He.tickBorderDashOffset;kt=xl(this,bt,y),void 0!==kt&&(xt=ve(a,kt,ci),k?yt=wt=ue=be=xt:Dt=Xt=de=ai=xt,X.push({tx1:yt,ty1:Dt,tx2:wt,ty2:Xt,x1:ue,y1:de,x2:be,y2:ai,width:ci,color:hs,borderDash:Qs,borderDashOffset:ds,tickWidth:Cs,tickColor:ts,tickBorderDash:Ss,tickBorderDashOffset:es}))}return this._ticksLength=L,this._borderValue=at,X}_computeLabelItems(i){const e=this.axis,a=this.options,{position:r,ticks:c}=a,u=this.isHorizontal(),x=this.ticks,{align:y,crossAlign:k,padding:S,mirror:L}=c,D=vs(a.grid),X=D+S,j=L?-S:X,J=-p(this.labelRotation),K=[];let ot,at,bt,kt,xt,yt,Dt,wt,Xt,ue,de,be,ai="middle";if("top"===r)yt=this.bottom-j,Dt=this._getXAxisLabelAlignment();else if("bottom"===r)yt=this.top+j,Dt=this._getXAxisLabelAlignment();else if("left"===r){const Be=this._getYAxisLabelAlignment(D);Dt=Be.textAlign,xt=Be.x}else if("right"===r){const Be=this._getYAxisLabelAlignment(D);Dt=Be.textAlign,xt=Be.x}else if("x"===e){if("center"===r)yt=(i.top+i.bottom)/2+X;else if(ne(r)){const Be=Object.keys(r)[0];yt=this.chart.scales[Be].getPixelForValue(r[Be])+X}Dt=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)xt=(i.left+i.right)/2-X;else if(ne(r)){const Be=Object.keys(r)[0];xt=this.chart.scales[Be].getPixelForValue(r[Be])}Dt=this._getYAxisLabelAlignment(D).textAlign}"y"===e&&("start"===y?ai="top":"end"===y&&(ai="bottom"));const bi=this._getLabelSizes();for(ot=0,at=x.length;ot<at;++ot){bt=x[ot],kt=bt.label;const Be=c.setContext(this.getContext(ot));wt=this.getPixelForTick(ot)+c.labelOffset,Xt=this._resolveTickFontOptions(ot),ue=Xt.lineHeight,de=ye(kt)?kt.length:1;const Xe=de/2,He=Be.color,Si=Be.textStrokeColor,ci=Be.textStrokeWidth;let Qs,hs=Dt;if(u?(xt=wt,"inner"===Dt&&(hs=ot===at-1?this.options.reverse?"left":"right":0===ot?this.options.reverse?"right":"left":"center"),be="top"===r?"near"===k||0!==J?-de*ue+ue/2:"center"===k?-bi.highest.height/2-Xe*ue+ue:ue/2-bi.highest.height:"near"===k||0!==J?ue/2:"center"===k?bi.highest.height/2-Xe*ue:bi.highest.height-de*ue,L&&(be*=-1),0!==J&&!Be.showLabelBackdrop&&(xt+=ue/2*Math.sin(J))):(yt=wt,be=(1-de)*ue/2),Be.showLabelBackdrop){const ds=hi(Be.backdropPadding),Cs=bi.heights[ot],ts=bi.widths[ot];let Ss=be-ds.top,es=0-ds.left;switch(ai){case"middle":Ss-=Cs/2;break;case"bottom":Ss-=Cs}switch(Dt){case"center":es-=ts/2;break;case"right":es-=ts;break;case"inner":ot===at-1?es-=ts:ot>0&&(es-=ts/2)}Qs={left:es,top:Ss,width:ts+ds.width,height:Cs+ds.height,color:Be.backdropColor}}K.push({label:kt,font:Xt,textOffset:be,options:{rotation:J,color:He,strokeColor:Si,strokeWidth:ci,textAlign:hs,textBaseline:ai,translation:[xt,yt],backdrop:Qs}})}return K}_getXAxisLabelAlignment(){const{position:i,ticks:e}=this.options;if(-p(this.labelRotation))return"top"===i?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(i){const{position:e,ticks:{crossAlign:a,mirror:r,padding:c}}=this.options,x=i+c,y=this._getLabelSizes().widest.width;let k,S;return"left"===e?r?(S=this.right+c,"near"===a?k="left":"center"===a?(k="center",S+=y/2):(k="right",S+=y)):(S=this.right-x,"near"===a?k="right":"center"===a?(k="center",S-=y/2):(k="left",S=this.left)):"right"===e?r?(S=this.left+c,"near"===a?k="right":"center"===a?(k="center",S-=y/2):(k="left",S-=y)):(S=this.left+x,"near"===a?k="left":"center"===a?(k="center",S+=y/2):(k="right",S=this.right)):k="right",{textAlign:k,x:S}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:e},left:a,top:r,width:c,height:u}=this;e&&(i.save(),i.fillStyle=e,i.fillRect(a,r,c,u),i.restore())}getLineWidthForValue(i){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(c=>c.value===i);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(i){const e=this.options.grid,a=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let c,u;const x=(y,k,S)=>{!S.width||!S.color||(a.save(),a.lineWidth=S.width,a.strokeStyle=S.color,a.setLineDash(S.borderDash||[]),a.lineDashOffset=S.borderDashOffset,a.beginPath(),a.moveTo(y.x,y.y),a.lineTo(k.x,k.y),a.stroke(),a.restore())};if(e.display)for(c=0,u=r.length;c<u;++c){const y=r[c];e.drawOnChartArea&&x({x:y.x1,y:y.y1},{x:y.x2,y:y.y2},y),e.drawTicks&&x({x:y.tx1,y:y.ty1},{x:y.tx2,y:y.ty2},{color:y.tickColor,width:y.tickWidth,borderDash:y.tickBorderDash,borderDashOffset:y.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:e,options:{border:a,grid:r}}=this,c=a.setContext(this.getContext()),u=a.display?c.width:0;if(!u)return;const x=r.setContext(this.getContext(0)).lineWidth,y=this._borderValue;let k,S,L,D;this.isHorizontal()?(k=ve(i,this.left,u)-u/2,S=ve(i,this.right,x)+x/2,L=D=y):(L=ve(i,this.top,u)-u/2,D=ve(i,this.bottom,x)+x/2,k=S=y),e.save(),e.lineWidth=c.width,e.strokeStyle=c.color,e.beginPath(),e.moveTo(k,L),e.lineTo(S,D),e.stroke(),e.restore()}drawLabels(i){if(!this.options.ticks.display)return;const a=this.ctx,r=this._computeLabelArea();r&&St(a,r);const c=this.getLabelItems(i);for(const u of c)Gt(a,u.label,0,u.textOffset,u.font,u.options);r&&fe(a)}drawTitle(){const{ctx:i,options:{position:e,title:a,reverse:r}}=this;if(!a.display)return;const c=qe(a.font),u=hi(a.padding),x=a.align;let y=c.lineHeight/2;"bottom"===e||"center"===e||ne(e)?(y+=u.bottom,ye(a.text)&&(y+=c.lineHeight*(a.text.length-1))):y+=u.top;const{titleX:k,titleY:S,maxWidth:L,rotation:D}=function yl(s,i,e,a){const{top:r,left:c,bottom:u,right:x,chart:y}=s,{chartArea:k,scales:S}=y;let D,X,j,L=0;const J=u-r,K=x-c;if(s.isHorizontal()){if(X=E(a,c,x),ne(e)){const ot=Object.keys(e)[0];j=S[ot].getPixelForValue(e[ot])+J-i}else j="center"===e?(k.bottom+k.top)/2+J-i:ya(s,e,i);D=x-c}else{if(ne(e)){const ot=Object.keys(e)[0];X=S[ot].getPixelForValue(e[ot])-K+i}else X="center"===e?(k.left+k.right)/2-K+i:ya(s,e,i);j=E(a,u,r),L="left"===e?-le:le}return{titleX:X,titleY:j,maxWidth:D,rotation:L}}(this,y,e,x);Gt(i,a.text,0,0,c,{color:a.color,maxWidth:L,rotation:D,textAlign:bl(x,e,r),textBaseline:"middle",translation:[k,S]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,e=i.ticks&&i.ticks.z||0,a=$t(i.grid&&i.grid.z,-1),r=$t(i.border&&i.border.z,0);return this._isVisible()&&this.draw===Gi.prototype.draw?[{z:a,draw:c=>{this.drawBackground(),this.drawGrid(c),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:c=>{this.drawLabels(c)}}]:[{z:e,draw:c=>{this.draw(c)}}]}getMatchingVisibleMetas(i){const e=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",r=[];let c,u;for(c=0,u=e.length;c<u;++c){const x=e[c];x[a]===this.id&&(!i||x.type===i)&&r.push(x)}return r}_resolveTickFontOptions(i){return qe(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class Os{constructor(i,e,a){this.type=i,this.scope=e,this.override=a,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const e=Object.getPrototypeOf(i);let a;(function kl(s){return"id"in s&&"defaults"in s})(e)&&(a=this.register(e));const r=this.items,c=i.id,u=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+i);return c in r||(r[c]=i,function vl(s,i,e){const a=Ve(Object.create(null),[e?Wt.get(e):{},Wt.get(i),s.defaults]);Wt.set(i,a),s.defaultRoutes&&function Ml(s,i){Object.keys(i).forEach(e=>{const a=e.split("."),r=a.pop(),c=[s].concat(a).join("."),u=i[e].split("."),x=u.pop(),y=u.join(".");Wt.route(c,r,y,x)})}(i,s.defaultRoutes),s.descriptors&&Wt.describe(i,s.descriptors)}(i,u,a),this.override&&Wt.override(i.id,i.overrides)),u}get(i){return this.items[i]}unregister(i){const e=this.items,a=i.id,r=this.scope;a in e&&delete e[a],r&&a in Wt[r]&&(delete Wt[r][a],this.override&&delete ht[a])}}class _l{constructor(){this.controllers=new Os(Ni,"datasets",!0),this.elements=new Os(Ci,"elements"),this.plugins=new Os(Object,"plugins"),this.scales=new Os(Gi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,e,a){[...e].forEach(r=>{const c=a||this._getRegistryForType(r);a||c.isForType(r)||c===this.plugins&&r.id?this._exec(i,c,r):Ht(r,u=>{const x=a||this._getRegistryForType(u);this._exec(i,x,u)})})}_exec(i,e,a){const r=O(i);Ae(a["before"+r],[],a),e[i](a),Ae(a["after"+r],[],a)}_getRegistryForType(i){for(let e=0;e<this._typedRegistries.length;e++){const a=this._typedRegistries[e];if(a.isForType(i))return a}return this.plugins}_get(i,e,a){const r=e.get(i);if(void 0===r)throw new Error('"'+i+'" is not a registered '+a+".");return r}}var Vi=new _l;class Tl{constructor(){this._init=[]}notify(i,e,a,r){"beforeInit"===e&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const c=r?this._descriptors(i).filter(r):this._descriptors(i),u=this._notify(c,i,e,a);return"afterDestroy"===e&&(this._notify(c,i,"stop"),this._notify(this._init,i,"uninstall")),u}_notify(i,e,a,r){r=r||{};for(const c of i){const u=c.plugin;if(!1===Ae(u[a],[e,r,c.options],u)&&r.cancelable)return!1}return!0}invalidate(){Pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),e}_createDescriptors(i,e){const a=i&&i.config,r=$t(a.options&&a.options.plugins,{}),c=function Pl(s){const i={},e=[],a=Object.keys(Vi.plugins.items);for(let c=0;c<a.length;c++)e.push(Vi.getPlugin(a[c]));const r=s.plugins||[];for(let c=0;c<r.length;c++){const u=r[c];-1===e.indexOf(u)&&(e.push(u),i[u.id]=!0)}return{plugins:e,localIds:i}}(a);return!1!==r||e?function Sl(s,{plugins:i,localIds:e},a,r){const c=[],u=s.getContext();for(const x of i){const y=x.id,k=Cl(a[y],r);null!==k&&c.push({plugin:x,options:wl(s.config,{plugin:x,local:e[y]},k,u)})}return c}(i,c,r,e):[]}_notifyStateChanges(i){const e=this._oldCache||[],a=this._cache,r=(c,u)=>c.filter(x=>!u.some(y=>x.plugin.id===y.plugin.id));this._notify(r(e,a),i,"stop"),this._notify(r(a,e),i,"start")}}function Cl(s,i){return i||!1!==s?!0===s?{}:s:null}function wl(s,{plugin:i,local:e},a,r){const c=s.pluginScopeKeys(i),u=s.getOptionScopes(a,c);return e&&i.defaults&&u.push(i.defaults),s.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function un(s,i){return((i.datasets||{})[s]||{}).indexAxis||i.indexAxis||(Wt.datasets[s]||{}).indexAxis||"x"}function _a(s){if("x"===s||"y"===s||"r"===s)return s}function Fl(s){return"top"===s||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0}function pn(s,...i){if(_a(s))return s;for(const e of i){const a=e.axis||Fl(e.position)||s.length>1&&_a(s[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function Ta(s,i,e){if(e[i+"AxisID"]===s)return{axis:i}}function Pa(s){const i=s.options||(s.options={});i.plugins=$t(i.plugins,{}),i.scales=function Il(s,i){const e=ht[s.type]||{scales:{}},a=i.scales||{},r=un(s.type,i),c=Object.create(null);return Object.keys(a).forEach(u=>{const x=a[u];if(!ne(x))return console.error(`Invalid scale configuration for scale: ${u}`);if(x._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const y=pn(u,x,function Ll(s,i){if(i.data&&i.data.datasets){const e=i.data.datasets.filter(a=>a.xAxisID===s||a.yAxisID===s);if(e.length)return Ta(s,"x",e[0])||Ta(s,"y",e[0])}return{}}(u,s),Wt.scales[x.type]),k=function Bl(s,i){return s===i?"_index_":"_value_"}(y,r),S=e.scales||{};c[u]=Te(Object.create(null),[{axis:y},x,S[y],S[k]])}),s.data.datasets.forEach(u=>{const x=u.type||s.type,y=u.indexAxis||un(x,i),S=(ht[x]||{}).scales||{};Object.keys(S).forEach(L=>{const D=function Al(s,i){let e=s;return"_index_"===s?e=i:"_value_"===s&&(e="x"===i?"y":"x"),e}(L,y),X=u[D+"AxisID"]||D;c[X]=c[X]||Object.create(null),Te(c[X],[{axis:D},a[X],S[L]])})}),Object.keys(c).forEach(u=>{const x=c[u];Te(x,[Wt.scales[x.type],Wt.scale])}),c}(s,i)}function Ca(s){return(s=s||{}).datasets=s.datasets||[],s.labels=s.labels||[],s}const Sa=new Map,wa=new Set;function Es(s,i){let e=Sa.get(s);return e||(e=i(),Sa.set(s,e),wa.add(e)),e}const Ms=(s,i,e)=>{const a=B(i,e);void 0!==a&&s.add(a)};class Vl{constructor(i){this._config=function Dl(s){return(s=s||{}).data=Ca(s.data),Pa(s),s}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=Ca(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),Pa(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return Es(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,e){return Es(`${i}.transition.${e}`,()=>[[`datasets.${i}.transitions.${e}`,`transitions.${e}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,e){return Es(`${i}-${e}`,()=>[[`datasets.${i}.elements.${e}`,`datasets.${i}`,`elements.${e}`,""]])}pluginScopeKeys(i){const e=i.id;return Es(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,e){const a=this._scopeCache;let r=a.get(i);return(!r||e)&&(r=new Map,a.set(i,r)),r}getOptionScopes(i,e,a){const{options:r,type:c}=this,u=this._cachedScopes(i,a),x=u.get(e);if(x)return x;const y=new Set;e.forEach(S=>{i&&(y.add(i),S.forEach(L=>Ms(y,i,L))),S.forEach(L=>Ms(y,r,L)),S.forEach(L=>Ms(y,ht[c]||{},L)),S.forEach(L=>Ms(y,Wt,L)),S.forEach(L=>Ms(y,dt,L))});const k=Array.from(y);return 0===k.length&&k.push(Object.create(null)),wa.has(e)&&u.set(e,k),k}chartOptionScopes(){const{options:i,type:e}=this;return[i,ht[e]||{},Wt.datasets[e]||{},{type:e},Wt,dt]}resolveNamedOptions(i,e,a,r=[""]){const c={$shared:!0},{resolver:u,subPrefixes:x}=Aa(this._resolverCache,i,r);let y=u;(function Ol(s,i){const{isScriptable:e,isIndexable:a}=Bn(s);for(const r of i){const c=e(r),u=a(r),x=(u||c)&&s[r];if(c&&(pt(x)||Wl(x))||u&&ye(x))return!0}return!1})(u,e)&&(c.$shared=!1,y=as(u,a=pt(a)?a():a,this.createResolver(i,a,x)));for(const k of e)c[k]=y[k];return c}createResolver(i,e,a=[""],r){const{resolver:c}=Aa(this._resolverCache,i,a);return ne(e)?as(c,e,void 0,r):c}}function Aa(s,i,e){let a=s.get(i);a||(a=new Map,s.set(i,a));const r=e.join();let c=a.get(r);return c||(c={resolver:Gs(i,e),subPrefixes:e.filter(x=>!x.toLowerCase().includes("hover"))},a.set(r,c)),c}const Wl=s=>ne(s)&&Object.getOwnPropertyNames(s).some(i=>pt(s[i])),Xl=["top","bottom","left","right","chartArea"];function Ba(s,i){return"top"===s||"bottom"===s||-1===Xl.indexOf(s)&&"x"===i}function Fa(s,i){return function(e,a){return e[s]===a[s]?e[i]-a[i]:e[s]-a[s]}}function La(s){const i=s.chart,e=i.options.animation;i.notifyPlugins("afterRender"),Ae(e&&e.onComplete,[s],i)}function zl(s){const i=s.chart,e=i.options.animation;Ae(e&&e.onProgress,[s],i)}function Ia(s){return en()&&"string"==typeof s?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Xs={},Da=s=>{const i=Ia(s);return Object.values(Xs).filter(e=>e.canvas===i).pop()};function Yl(s,i,e){const a=Object.keys(s);for(const r of a){const c=+r;if(c>=i){const u=s[r];delete s[r],(e>0||c>i)&&(s[c+e]=u)}}}function zs(s,i,e){return s.options.clip?s[e]:i[e]}let xn=(()=>{class s{static register(...e){Vi.add(...e),Va()}static unregister(...e){Vi.remove(...e),Va()}constructor(e,a){const r=this.config=new Vl(a),c=Ia(e),u=Da(c);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");const x=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function ol(s){return!en()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Jr:al}(c)),this.platform.updateConfig(r);const y=this.platform.acquireContext(c,x.aspectRatio),k=y&&y.canvas,S=k&&k.height,L=k&&k.width;this.id=_e(),this.ctx=y,this.canvas=k,this.width=L,this.height=S,this._options=x,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Tl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Q(s,i){let e;return function(...a){return i?(clearTimeout(e),e=setTimeout(s,i,a)):s.apply(this,a),i}}(D=>this.update(D),x.resizeDelay||0),this._dataChanges=[],Xs[this.id]=this,y&&k?(Xi.listen(this,"complete",La),Xi.listen(this,"progress",zl),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:a},width:r,height:c,_aspectRatio:u}=this;return Pt(e)?a&&u?u:c?r/c:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Vi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():En(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return We(this.canvas,this.ctx),this}stop(){return Xi.stop(this),this}resize(e,a){Xi.running(this)?this._resizeBeforeDraw={width:e,height:a}:this._resize(e,a)}_resize(e,a){const r=this.options,x=this.platform.getMaximumSize(this.canvas,e,a,r.maintainAspectRatio&&this.aspectRatio),y=r.devicePixelRatio||this.platform.getDevicePixelRatio(),k=this.width?"resize":"attach";this.width=x.width,this.height=x.height,this._aspectRatio=this.aspectRatio,En(this,y,!0)&&(this.notifyPlugins("resize",{size:x}),Ae(r.onResize,[this,x],this),this.attached&&this._doResize(k)&&this.render())}ensureScalesHaveIDs(){Ht(this.options.scales||{},(r,c)=>{r.id=c})}buildOrUpdateScales(){const e=this.options,a=e.scales,r=this.scales,c=Object.keys(r).reduce((x,y)=>(x[y]=!1,x),{});let u=[];a&&(u=u.concat(Object.keys(a).map(x=>{const y=a[x],k=pn(x,y),S="r"===k,L="x"===k;return{options:y,dposition:S?"chartArea":L?"bottom":"left",dtype:S?"radialLinear":L?"category":"linear"}}))),Ht(u,x=>{const y=x.options,k=y.id,S=pn(k,y),L=$t(y.type,x.dtype);(void 0===y.position||Ba(y.position,S)!==Ba(x.dposition))&&(y.position=x.dposition),c[k]=!0;let D=null;k in r&&r[k].type===L?D=r[k]:(D=new(Vi.getScale(L))({id:k,type:L,ctx:this.ctx,chart:this}),r[D.id]=D),D.init(y,e)}),Ht(c,(x,y)=>{x||delete r[y]}),Ht(r,x=>{di.configure(this,x,x.options),di.addBox(this,x)})}_updateMetasets(){const e=this._metasets,a=this.data.datasets.length,r=e.length;if(e.sort((c,u)=>c.index-u.index),r>a){for(let c=a;c<r;++c)this._destroyDatasetMeta(c);e.splice(a,r-a)}this._sortedMetasets=e.slice(0).sort(Fa("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:a}}=this;e.length>a.length&&delete this._stacks,e.forEach((r,c)=>{0===a.filter(u=>u===r._dataset).length&&this._destroyDatasetMeta(c)})}buildOrUpdateControllers(){const e=[],a=this.data.datasets;let r,c;for(this._removeUnreferencedMetasets(),r=0,c=a.length;r<c;r++){const u=a[r];let x=this.getDatasetMeta(r);const y=u.type||this.config.type;if(x.type&&x.type!==y&&(this._destroyDatasetMeta(r),x=this.getDatasetMeta(r)),x.type=y,x.indexAxis=u.indexAxis||un(y,this.options),x.order=u.order||0,x.index=r,x.label=""+u.label,x.visible=this.isDatasetVisible(r),x.controller)x.controller.updateIndex(r),x.controller.linkScales();else{const k=Vi.getController(y),{datasetElementType:S,dataElementType:L}=Wt.datasets[y];Object.assign(k,{dataElementType:Vi.getElement(L),datasetElementType:S&&Vi.getElement(S)}),x.controller=new k(this,r),e.push(x.controller)}}return this._updateMetasets(),e}_resetElements(){Ht(this.data.datasets,(e,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const a=this.config;a.update();const r=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),c=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let x=0;for(let S=0,L=this.data.datasets.length;S<L;S++){const{controller:D}=this.getDatasetMeta(S),X=!c&&-1===u.indexOf(D);D.buildOrUpdateElements(X),x=Math.max(+D.getMaxOverflow(),x)}x=this._minPadding=r.layout.autoPadding?x:0,this._updateLayout(x),c||Ht(u,S=>{S.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Fa("z","_idx"));const{_active:y,_lastEvent:k}=this;k?this._eventHandler(k,!0):y.length&&this._updateHoverStyles(y,y,!0),this.render()}_updateScales(){Ht(this.scales,e=>{di.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,a=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Mt(a,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,a=this._getUniformDataChanges()||[];for(const{method:r,start:c,count:u}of a)Yl(e,c,"_removeElements"===r?-u:u)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const a=this.data.datasets.length,r=u=>new Set(e.filter(x=>x[0]===u).map((x,y)=>y+","+x.splice(1).join(","))),c=r(0);for(let u=1;u<a;u++)if(!Mt(c,r(u)))return;return Array.from(c).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;di.update(this,this.width,this.height,e);const a=this.chartArea,r=a.width<=0||a.height<=0;this._layers=[],Ht(this.boxes,c=>{r&&"chartArea"===c.position||(c.configure&&c.configure(),this._layers.push(...c._layers()))},this),this._layers.forEach((c,u)=>{c._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let a=0,r=this.data.datasets.length;a<r;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,r=this.data.datasets.length;a<r;++a)this._updateDataset(a,pt(e)?e({datasetIndex:a}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,a){const r=this.getDatasetMeta(e),c={meta:r,index:e,mode:a,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",c)&&(r.controller._update(a),c.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",c))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Xi.has(this)?this.attached&&!Xi.running(this)&&Xi.start(this):(this.draw(),La({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:c}=this._resizeBeforeDraw;this._resize(r,c),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const a=this._layers;for(e=0;e<a.length&&a[e].z<=0;++e)a[e].draw(this.chartArea);for(this._drawDatasets();e<a.length;++e)a[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const a=this._sortedMetasets,r=[];let c,u;for(c=0,u=a.length;c<u;++c){const x=a[c];(!e||x.visible)&&r.push(x)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let a=e.length-1;a>=0;--a)this._drawDataset(e[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const a=this.ctx,r=e._clip,c=!r.disabled,u=function Nl(s,i){const{xScale:e,yScale:a}=s;return e&&a?{left:zs(e,i,"left"),right:zs(e,i,"right"),top:zs(a,i,"top"),bottom:zs(a,i,"bottom")}:i}(e,this.chartArea),x={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",x)&&(c&&St(a,{left:!1===r.left?0:u.left-r.left,right:!1===r.right?this.width:u.right+r.right,top:!1===r.top?0:u.top-r.top,bottom:!1===r.bottom?this.height:u.bottom+r.bottom}),e.controller.draw(),c&&fe(a),x.cancelable=!1,this.notifyPlugins("afterDatasetDraw",x))}isPointInArea(e){return Nt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,a,r,c){const u=Xr.modes[a];return"function"==typeof u?u(this,e,r,c):[]}getDatasetMeta(e){const a=this.data.datasets[e],r=this._metasets;let c=r.filter(u=>u&&u._dataset===a).pop();return c||(c={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:e,_dataset:a,_parsed:[],_sorted:!1},r.push(c)),c}getContext(){return this.$context||(this.$context=Ri(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const a=this.data.datasets[e];if(!a)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!a.hidden}setDatasetVisibility(e,a){this.getDatasetMeta(e).hidden=!a}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,a,r){const c=r?"show":"hide",u=this.getDatasetMeta(e),x=u.controller._resolveAnimations(void 0,c);q(a)?(u.data[a].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),x.update(u,{visible:r}),this.update(y=>y.datasetIndex===e?c:void 0))}hide(e,a){this._updateVisibility(e,a,!1)}show(e,a){this._updateVisibility(e,a,!0)}_destroyDatasetMeta(e){const a=this._metasets[e];a&&a.controller&&a.controller._destroy(),delete this._metasets[e]}_stop(){let e,a;for(this.stop(),Xi.remove(this),e=0,a=this.data.datasets.length;e<a;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:a}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),We(e,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete Xs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,a=this.platform,r=(u,x)=>{a.addEventListener(this,u,x),e[u]=x},c=(u,x,y)=>{u.offsetX=x,u.offsetY=y,this._eventHandler(u)};Ht(this.options.events,u=>r(u,c))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,a=this.platform,r=(k,S)=>{a.addEventListener(this,k,S),e[k]=S},c=(k,S)=>{e[k]&&(a.removeEventListener(this,k,S),delete e[k])},u=(k,S)=>{this.canvas&&this.resize(k,S)};let x;const y=()=>{c("attach",y),this.attached=!0,this.resize(),r("resize",u),r("detach",x)};x=()=>{this.attached=!1,c("resize",u),this._stop(),this._resize(0,0),r("attach",y)},a.isAttached(this.canvas)?y():x()}unbindEvents(){Ht(this._listeners,(e,a)=>{this.platform.removeEventListener(this,a,e)}),this._listeners={},Ht(this._responsiveListeners,(e,a)=>{this.platform.removeEventListener(this,a,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,a,r){const c=r?"set":"remove";let u,x,y,k;for("dataset"===a&&(u=this.getDatasetMeta(e[0].datasetIndex),u.controller["_"+c+"DatasetHoverStyle"]()),y=0,k=e.length;y<k;++y){x=e[y];const S=x&&this.getDatasetMeta(x.datasetIndex).controller;S&&S[c+"HoverStyle"](x.element,x.datasetIndex,x.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const a=this._active||[],r=e.map(({datasetIndex:u,index:x})=>{const y=this.getDatasetMeta(u);if(!y)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:y.data[x],index:x}});!Ei(r,a)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,a))}notifyPlugins(e,a,r){return this._plugins.notify(this,e,a,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(a=>a.plugin.id===e).length}_updateHoverStyles(e,a,r){const c=this.options.hover,u=(k,S)=>k.filter(L=>!S.some(D=>L.datasetIndex===D.datasetIndex&&L.index===D.index)),x=u(a,e),y=r?e:u(e,a);x.length&&this.updateHoverStyle(x,c.mode,!1),y.length&&c.mode&&this.updateHoverStyle(y,c.mode,!0)}_eventHandler(e,a){const r={event:e,replay:a,cancelable:!0,inChartArea:this.isPointInArea(e)},c=x=>(x.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,c))return;const u=this._handleEvent(e,a,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,c),(u||r.changed)&&this.render(),this}_handleEvent(e,a,r){const{_active:c=[],options:u}=this,y=this._getActiveElements(e,c,r,a),k=function nt(s){return"mouseup"===s.type||"click"===s.type||"contextmenu"===s.type}(e),S=function Rl(s,i,e,a){return e&&"mouseout"!==s.type?a?i:s:null}(e,this._lastEvent,r,k);r&&(this._lastEvent=null,Ae(u.onHover,[e,y,this],this),k&&Ae(u.onClick,[e,y,this],this));const L=!Ei(y,c);return(L||a)&&(this._active=y,this._updateHoverStyles(y,c,a)),this._lastEvent=S,L}_getActiveElements(e,a,r,c){if("mouseout"===e.type)return[];if(!r)return a;const u=this.options.hover;return this.getElementsAtEventForMode(e,u.mode,u,c)}}return _t(s,"defaults",Wt),_t(s,"instances",Xs),_t(s,"overrides",ht),_t(s,"registry",Vi),_t(s,"version","4.4.3"),_t(s,"getChart",Da),s})();function Va(){return Ht(xn.instances,s=>s._plugins.invalidate())}function ls(s,i,e,a){return{x:e+s*Math.cos(i),y:a+s*Math.sin(i)}}function Ys(s,i,e,a,r,c){const{x:u,y:x,startAngle:y,pixelMargin:k,innerRadius:S}=i,L=Math.max(i.outerRadius+a+e-k,0),D=S>0?S+a+e+k:0;let X=0;const j=r-y;if(a){const He=((S>0?S-a:0)+(L>0?L-a:0))/2;X=(j-(0!==He?j*He/(He+a):j))/2}const K=(j-Math.max(.001,j*L-e/It)/L)/2,ot=y+K+X,at=r-K-X,{outerStart:bt,outerEnd:kt,innerStart:xt,innerEnd:yt}=function Ul(s,i,e,a){const r=function jl(s){return $s(s,["outerStart","outerEnd","innerStart","innerEnd"])}(s.options.borderRadius),c=(e-i)/2,u=Math.min(c,a*i/2),x=y=>{const k=(e-Math.min(c,y))*a/2;return h(y,0,Math.min(c,k))};return{outerStart:x(r.outerStart),outerEnd:x(r.outerEnd),innerStart:h(r.innerStart,0,u),innerEnd:h(r.innerEnd,0,u)}}(i,D,L,at-ot),Dt=L-bt,wt=L-kt,Xt=ot+bt/Dt,ue=at-kt/wt,de=D+xt,be=D+yt,ai=ot+xt/de,bi=at-yt/be;if(s.beginPath(),c){const Be=(Xt+ue)/2;if(s.arc(u,x,L,Xt,Be),s.arc(u,x,L,Be,ue),kt>0){const ci=ls(wt,ue,u,x);s.arc(ci.x,ci.y,kt,ue,at+le)}const Xe=ls(be,at,u,x);if(s.lineTo(Xe.x,Xe.y),yt>0){const ci=ls(be,bi,u,x);s.arc(ci.x,ci.y,yt,at+le,bi+Math.PI)}const He=(at-yt/D+(ot+xt/D))/2;if(s.arc(u,x,D,at-yt/D,He,!0),s.arc(u,x,D,He,ot+xt/D,!0),xt>0){const ci=ls(de,ai,u,x);s.arc(ci.x,ci.y,xt,ai+Math.PI,ot-le)}const Si=ls(Dt,ot,u,x);if(s.lineTo(Si.x,Si.y),bt>0){const ci=ls(Dt,Xt,u,x);s.arc(ci.x,ci.y,bt,ot-le,Xt)}}else{s.moveTo(u,x);const Be=Math.cos(Xt)*L+u,Xe=Math.sin(Xt)*L+x;s.lineTo(Be,Xe);const He=Math.cos(ue)*L+u,Si=Math.sin(ue)*L+x;s.lineTo(He,Si)}s.closePath()}class ks extends Ci{constructor(i){super(),_t(this,"circumference",void 0),_t(this,"endAngle",void 0),_t(this,"fullCircles",void 0),_t(this,"innerRadius",void 0),_t(this,"outerRadius",void 0),_t(this,"pixelMargin",void 0),_t(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,e,a){const r=this.getProps(["x","y"],a),{angle:c,distance:u}=_(r,{x:i,y:e}),{startAngle:x,endAngle:y,innerRadius:k,outerRadius:S,circumference:L}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),D=(this.options.spacing+this.options.borderWidth)/2,j=$t(L,y-x)>=Ot||v(c,x,y),J=w(u,k+D,S+D);return j&&J}getCenterPoint(i){const{x:e,y:a,startAngle:r,endAngle:c,innerRadius:u,outerRadius:x}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:y,spacing:k}=this.options,S=(r+c)/2,L=(u+x+k+y)/2;return{x:e+Math.cos(S)*L,y:a+Math.sin(S)*L}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:e,circumference:a}=this,r=(e.offset||0)/4,c=(e.spacing||0)/2,u=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=a>Ot?Math.floor(a/Ot):0,0===a||this.innerRadius<0||this.outerRadius<0)return;i.save();const x=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(x)*r,Math.sin(x)*r);const k=r*(1-Math.sin(Math.min(It,a||0)));i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,function Jl(s,i,e,a,r){const{fullCircles:c,startAngle:u,circumference:x}=i;let y=i.endAngle;if(c){Ys(s,i,e,a,y,r);for(let k=0;k<c;++k)s.fill();isNaN(x)||(y=u+(x%Ot||Ot))}Ys(s,i,e,a,y,r),s.fill()}(i,this,k,c,u),function Kl(s,i,e,a,r){const{fullCircles:c,startAngle:u,circumference:x,options:y}=i,{borderWidth:k,borderJoinStyle:S,borderDash:L,borderDashOffset:D}=y,X="inner"===y.borderAlign;if(!k)return;s.setLineDash(L||[]),s.lineDashOffset=D,X?(s.lineWidth=2*k,s.lineJoin=S||"round"):(s.lineWidth=k,s.lineJoin=S||"bevel");let j=i.endAngle;if(c){Ys(s,i,e,a,j,r);for(let J=0;J<c;++J)s.stroke();isNaN(x)||(j=u+(x%Ot||Ot))}X&&function Hl(s,i,e){const{startAngle:a,pixelMargin:r,x:c,y:u,outerRadius:x,innerRadius:y}=i;let k=r/x;s.beginPath(),s.arc(c,u,x,a-k,e+k),y>r?(k=r/y,s.arc(c,u,y,e+k,a-k,!0)):s.arc(c,u,r,e+le,a-le),s.closePath(),s.clip()}(s,i,j),c||(Ys(s,i,e,a,j,r),s.stroke())}(i,this,k,c,u),i.restore()}}function Wa(s,i,e=i){s.lineCap=$t(e.borderCapStyle,i.borderCapStyle),s.setLineDash($t(e.borderDash,i.borderDash)),s.lineDashOffset=$t(e.borderDashOffset,i.borderDashOffset),s.lineJoin=$t(e.borderJoinStyle,i.borderJoinStyle),s.lineWidth=$t(e.borderWidth,i.borderWidth),s.strokeStyle=$t(e.borderColor,i.borderColor)}function Ql(s,i,e){s.lineTo(e.x,e.y)}function Oa(s,i,e={}){const a=s.length,{start:r=0,end:c=a-1}=e,{start:u,end:x}=i,y=Math.max(r,u),k=Math.min(c,x);return{count:a,start:y,loop:i.loop,ilen:k<y&&!(r<u&&c<u||r>x&&c>x)?a+k-y:k-y}}function $l(s,i,e,a){const{points:r,options:c}=i,{count:u,start:x,loop:y,ilen:k}=Oa(r,e,a),S=function Zl(s){return s.stepped?we:s.tension||"monotone"===s.cubicInterpolationMode?Re:Ql}(c);let X,j,J,{move:L=!0,reverse:D}=a||{};for(X=0;X<=k;++X)j=r[(x+(D?k-X:X))%u],!j.skip&&(L?(s.moveTo(j.x,j.y),L=!1):S(s,J,j,D,c.stepped),J=j);return y&&(j=r[(x+(D?k:0))%u],S(s,J,j,D,c.stepped)),!!y}function Gl(s,i,e,a){const r=i.points,{count:c,start:u,ilen:x}=Oa(r,e,a),{move:y=!0,reverse:k}=a||{};let D,X,j,J,K,ot,S=0,L=0;const at=kt=>(u+(k?x-kt:kt))%c,bt=()=>{J!==K&&(s.lineTo(S,K),s.lineTo(S,J),s.lineTo(S,ot))};for(y&&(X=r[at(0)],s.moveTo(X.x,X.y)),D=0;D<=x;++D){if(X=r[at(D)],X.skip)continue;const kt=X.x,xt=X.y,yt=0|kt;yt===j?(xt<J?J=xt:xt>K&&(K=xt),S=(L*S+kt)/++L):(bt(),s.lineTo(kt,xt),j=yt,L=0,J=K=xt),ot=xt}bt()}function gn(s){const i=s.options;return s._decimated||s._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?$l:Gl}_t(ks,"id","arc"),_t(ks,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),_t(ks,"defaultRoutes",{backgroundColor:"backgroundColor"}),_t(ks,"descriptors",{_scriptable:!0,_indexable:s=>"borderDash"!==s});const ih="function"==typeof Path2D;let Rs=(()=>{class s extends Ci{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,a){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(Yo(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,a),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function ir(s,i){const e=s.points,a=s.options.spanGaps,r=e.length;if(!r)return[];const c=!!s._loop,{start:u,end:x}=function tr(s,i,e,a){let r=0,c=i-1;if(e&&!a)for(;r<i&&!s[r].skip;)r++;for(;r<i&&s[r].skip;)r++;for(r%=i,e&&(c+=r);c>r&&s[c%i].skip;)c--;return c%=i,{start:r,end:c}}(e,r,c,a);return function Un(s,i,e,a){return a&&a.setContext&&e?function sr(s,i,e,a){const r=s._chart.getContext(),c=Jn(s.options),{_datasetIndex:u,options:{spanGaps:x}}=s,y=e.length,k=[];let S=c,L=i[0].start,D=L;function X(j,J,K,ot){const at=x?-1:1;if(j!==J){for(j+=y;e[j%y].skip;)j-=at;for(;e[J%y].skip;)J+=at;j%y!=J%y&&(k.push({start:j%y,end:J%y,loop:K,style:ot}),S=ot,L=J%y)}}for(const j of i){L=x?L:j.start;let K,J=e[L%y];for(D=L+1;D<=j.end;D++){const ot=e[D%y];K=Jn(a.setContext(Ri(r,{type:"segment",p0:J,p1:ot,p0DataIndex:(D-1)%y,p1DataIndex:D%y,datasetIndex:u}))),nr(K,S)&&X(L,D-1,j.loop,S),J=ot,S=K}L<D-1&&X(L,D-1,j.loop,S)}return k}(s,i,e,a):i}(s,!0===a?[{start:u,end:x,loop:c}]:function er(s,i,e,a){const r=s.length,c=[];let y,u=i,x=s[i];for(y=i+1;y<=e;++y){const k=s[y%r];k.skip||k.stop?x.skip||(c.push({start:i%r,end:(y-1)%r,loop:a=!1}),i=u=k.stop?y:null):(u=y,x.skip&&(i=y)),x=k}return null!==u&&c.push({start:i%r,end:u%r,loop:a}),c}(e,u,x<u?x+r:x,!!s._fullLoop&&0===u&&x===r-1),e,i)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,a){const r=this.options,c=e[a],u=this.points,x=jn(this,{property:a,start:c,end:c});if(!x.length)return;const y=[],k=function ql(s){return s.stepped?Qo:s.tension||"monotone"===s.cubicInterpolationMode?Zo:Zi}(r);let S,L;for(S=0,L=x.length;S<L;++S){const{start:D,end:X}=x[S],j=u[D],J=u[X];if(j===J){y.push(j);continue}const ot=k(j,J,Math.abs((c-j[a])/(J[a]-j[a])),r.stepped);ot[a]=e[a],y.push(ot)}return 1===y.length?y[0]:y}pathSegment(e,a,r){return gn(this)(e,this,a,r)}path(e,a,r){const c=this.segments,u=gn(this);let x=this._loop;a=a||0,r=r||this.points.length-a;for(const y of c)x&=u(e,this,y,{start:a,end:a+r-1});return!!x}draw(e,a,r,c){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function sh(s,i,e,a){ih&&!i.options.segment?function th(s,i,e,a){let r=i._path;r||(r=i._path=new Path2D,i.path(r,e,a)&&r.closePath()),Wa(s,i.options),s.stroke(r)}(s,i,e,a):function eh(s,i,e,a){const{segments:r,options:c}=i,u=gn(i);for(const x of r)Wa(s,c,x.style),s.beginPath(),u(s,i,x,{start:e,end:e+a-1})&&s.closePath(),s.stroke()}(s,i,e,a)}(e,this,r,c),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return _t(s,"id","line"),_t(s,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),_t(s,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),_t(s,"descriptors",{_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i}),s})();function Ea(s,i,e,a){const r=s.options,{[e]:c}=s.getProps([e],a);return Math.abs(i-c)<r.radius+r.hitRadius}let nh=(()=>{class s extends Ci{constructor(e){super(),_t(this,"parsed",void 0),_t(this,"skip",void 0),_t(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,a,r){const c=this.options,{x:u,y:x}=this.getProps(["x","y"],r);return Math.pow(e-u,2)+Math.pow(a-x,2)<Math.pow(c.hitRadius+c.radius,2)}inXRange(e,a){return Ea(this,e,"x",a)}inYRange(e,a){return Ea(this,e,"y",a)}getCenterPoint(e){const{x:a,y:r}=this.getProps(["x","y"],e);return{x:a,y:r}}size(e){let a=(e=e||this.options||{}).radius||0;return a=Math.max(a,a&&e.hoverRadius||0),2*(a+(a&&e.borderWidth||0))}draw(e,a){const r=this.options;this.skip||r.radius<.1||!Nt(this,a,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,xe(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return _t(s,"id","point"),_t(s,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),_t(s,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),s})();function Xa(s,i){const{x:e,y:a,base:r,width:c,height:u}=s.getProps(["x","y","base","width","height"],i);let x,y,k,S,L;return s.horizontal?(L=u/2,x=Math.min(e,r),y=Math.max(e,r),k=a-L,S=a+L):(L=c/2,x=e-L,y=e+L,k=Math.min(a,r),S=Math.max(a,r)),{left:x,top:k,right:y,bottom:S}}function Hi(s,i,e,a){return s?0:h(i,e,a)}function mn(s,i,e,a){const r=null===i,c=null===e,x=s&&!(r&&c)&&Xa(s,a);return x&&(r||w(i,x.left,x.right))&&(c||w(e,x.top,x.bottom))}function hh(s,i){s.rect(i.x,i.y,i.w,i.h)}function fn(s,i,e={}){const a=s.x!==e.x?-i:0,r=s.y!==e.y?-i:0;return{x:s.x+a,y:s.y+r,w:s.w+((s.x+s.w!==e.x+e.w?i:0)-a),h:s.h+((s.y+s.h!==e.y+e.h?i:0)-r),radius:s.radius}}class Ns extends Ci{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:e,options:{borderColor:a,backgroundColor:r}}=this,{inner:c,outer:u}=function rh(s){const i=Xa(s),e=i.right-i.left,a=i.bottom-i.top,r=function ah(s,i,e){const r=s.borderSkipped,c=An(s.options.borderWidth);return{t:Hi(r.top,c.top,0,e),r:Hi(r.right,c.right,0,i),b:Hi(r.bottom,c.bottom,0,e),l:Hi(r.left,c.left,0,i)}}(s,e/2,a/2),c=function oh(s,i,e){const{enableBorderRadius:a}=s.getProps(["enableBorderRadius"]),r=s.options.borderRadius,c=Ji(r),u=Math.min(i,e),x=s.borderSkipped,y=a||ne(r);return{topLeft:Hi(!y||x.top||x.left,c.topLeft,0,u),topRight:Hi(!y||x.top||x.right,c.topRight,0,u),bottomLeft:Hi(!y||x.bottom||x.left,c.bottomLeft,0,u),bottomRight:Hi(!y||x.bottom||x.right,c.bottomRight,0,u)}}(s,e/2,a/2);return{outer:{x:i.left,y:i.top,w:e,h:a,radius:c},inner:{x:i.left+r.l,y:i.top+r.t,w:e-r.l-r.r,h:a-r.t-r.b,radius:{topLeft:Math.max(0,c.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,c.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,c.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,c.bottomRight-Math.max(r.b,r.r))}}}}(this),x=function lh(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}(u.radius)?Di:hh;i.save(),(u.w!==c.w||u.h!==c.h)&&(i.beginPath(),x(i,fn(u,e,c)),i.clip(),x(i,fn(c,-e,u)),i.fillStyle=a,i.fill("evenodd")),i.beginPath(),x(i,fn(c,e)),i.fillStyle=r,i.fill(),i.restore()}inRange(i,e,a){return mn(this,i,e,a)}inXRange(i,e){return mn(this,i,null,e)}inYRange(i,e){return mn(this,null,i,e)}getCenterPoint(i){const{x:e,y:a,base:r,horizontal:c}=this.getProps(["x","y","base","horizontal"],i);return{x:c?(e+r)/2:e,y:c?a:(a+r)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}}_t(Ns,"id","bar"),_t(Ns,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),_t(Ns,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var dh=Object.freeze({__proto__:null,ArcElement:ks,BarElement:Ns,LineElement:Rs,PointElement:nh});const bn=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],za=bn.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ya(s){return bn[s%bn.length]}function Ra(s){return za[s%za.length]}function Na(s){let i;for(i in s)if(s[i].borderColor||s[i].backgroundColor)return!0;return!1}var mh={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,i,e){if(!e.enabled)return;const{data:{datasets:a},options:r}=s.config,{elements:c}=r;if(!e.forceOverride&&(Na(a)||function gh(s){return s&&(s.borderColor||s.backgroundColor)}(r)||c&&Na(c)))return;const u=function xh(s){let i=0;return(e,a)=>{const r=s.getDatasetMeta(a).controller;r instanceof rn?i=function uh(s,i){return s.backgroundColor=s.data.map(()=>Ya(i++)),i}(e,i):r instanceof ra?i=function ph(s,i){return s.backgroundColor=s.data.map(()=>Ra(i++)),i}(e,i):r&&(i=function ch(s,i){return s.borderColor=Ya(i),s.backgroundColor=Ra(i),++i}(e,i))}}(s);a.forEach(u)}};function Ha(s){if(s._decimated){const i=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function ja(s){s.data.datasets.forEach(i=>{Ha(i)})}var vh={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,i,e)=>{if(!e.enabled)return void ja(s);const a=s.width;s.data.datasets.forEach((r,c)=>{const{_data:u,indexAxis:x}=r,y=s.getDatasetMeta(c),k=u||r.data;if("y"===ps([x,s.options.indexAxis])||!y.controller.supportsDecimation)return;const S=s.scales[y.xAxisID];if("linear"!==S.type&&"time"!==S.type||s.options.parsing)return;let j,{start:L,count:D}=function yh(s,i){const e=i.length;let r,a=0;const{iScale:c}=s,{min:u,max:x,minDefined:y,maxDefined:k}=c.getUserBounds();return y&&(a=h(T(i,c.axis,u).lo,0,e-1)),r=k?h(T(i,c.axis,x).hi+1,a,e)-a:e-a,{start:a,count:r}}(y,k);if(D<=(e.threshold||4*a))Ha(r);else{switch(Pt(u)&&(r._data=k,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(J){this._data=J}})),e.algorithm){case"lttb":j=function fh(s,i,e,a,r){const c=r.samples||a;if(c>=e)return s.slice(i,i+e);const u=[],x=(e-2)/(c-2);let y=0;const k=i+e-1;let L,D,X,j,J,S=i;for(u[y++]=s[S],L=0;L<c-2;L++){let at,K=0,ot=0;const bt=Math.floor((L+1)*x)+1+i,kt=Math.min(Math.floor((L+2)*x)+1,e)+i,xt=kt-bt;for(at=bt;at<kt;at++)K+=s[at].x,ot+=s[at].y;K/=xt,ot/=xt;const yt=Math.floor(L*x)+1+i,Dt=Math.min(Math.floor((L+1)*x)+1,e)+i,{x:wt,y:Xt}=s[S];for(X=j=-1,at=yt;at<Dt;at++)j=.5*Math.abs((wt-K)*(s[at].y-Xt)-(wt-s[at].x)*(ot-Xt)),j>X&&(X=j,D=s[at],J=at);u[y++]=D,S=J}return u[y++]=s[k],u}(k,L,D,a,e);break;case"min-max":j=function bh(s,i,e,a){let u,x,y,k,S,L,D,X,j,J,r=0,c=0;const K=[],at=s[i].x,kt=s[i+e-1].x-at;for(u=i;u<i+e;++u){x=s[u],y=(x.x-at)/kt*a,k=x.y;const xt=0|y;if(xt===S)k<j?(j=k,L=u):k>J&&(J=k,D=u),r=(c*r+x.x)/++c;else{const yt=u-1;if(!Pt(L)&&!Pt(D)){const Dt=Math.min(L,D),wt=Math.max(L,D);Dt!==X&&Dt!==yt&&K.push({...s[Dt],x:r}),wt!==X&&wt!==yt&&K.push({...s[wt],x:r})}u>0&&yt!==X&&K.push(s[yt]),K.push(x),S=xt,c=0,j=J=k,L=D=X=u}}return K}(k,L,D,a);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=j}})},destroy(s){ja(s)}};function yn(s,i,e,a){if(a)return;let r=i[s],c=e[s];return"angle"===s&&(r=b(r),c=b(c)),{property:s,start:r,end:c}}function vn(s,i,e){for(;i>s;i--){const a=e[i];if(!isNaN(a.x)&&!isNaN(a.y))break}return i}function Ua(s,i,e,a){return s&&i?a(s[e],i[e]):s?s[e]:i?i[e]:0}function Ja(s,i){let e=[],a=!1;return ye(s)?(a=!0,e=s):e=function kh(s,i){const{x:e=null,y:a=null}=s||{},r=i.points,c=[];return i.segments.forEach(({start:u,end:x})=>{x=vn(u,x,r);const y=r[u],k=r[x];null!==a?(c.push({x:y.x,y:a}),c.push({x:k.x,y:a})):null!==e&&(c.push({x:e,y:y.y}),c.push({x:e,y:k.y}))}),c}(s,i),e.length?new Rs({points:e,options:{tension:0},_loop:a,_fullLoop:a}):null}function Ka(s){return s&&!1!==s.fill}function _h(s,i,e){let r=s[i].fill;const c=[i];let u;if(!e)return r;for(;!1!==r&&-1===c.indexOf(r);){if(!ge(r))return r;if(u=s[r],!u)return!1;if(u.visible)return r;c.push(r),r=u.fill}return!1}function Th(s,i,e){const a=function wh(s){const i=s.options,e=i.fill;let a=$t(e&&e.target,e);return void 0===a&&(a=!!i.backgroundColor),!1!==a&&null!==a&&(!0===a?"origin":a)}(s);if(ne(a))return!isNaN(a.value)&&a;let r=parseFloat(a);return ge(r)&&Math.floor(r)===r?function Ph(s,i,e,a){return("-"===s||"+"===s)&&(e=i+e),!(e===i||e<0||e>=a)&&e}(a[0],i,r,e):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function Fh(s,i,e){const a=[];for(let r=0;r<e.length;r++){const c=e[r],{first:u,last:x,point:y}=Lh(c,i,"x");if(!(!y||u&&x))if(u)a.unshift(y);else if(s.push(y),!x)break}s.push(...a)}function Lh(s,i,e){const a=s.interpolate(i,e);if(!a)return{};const r=a[e],c=s.segments,u=s.points;let x=!1,y=!1;for(let k=0;k<c.length;k++){const S=c[k],L=u[S.start][e],D=u[S.end][e];if(w(r,L,D)){x=r===L,y=r===D;break}}return{first:x,last:y,point:a}}class Qa{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,e,a){const{x:r,y:c,radius:u}=this;return i.arc(r,c,u,(e=e||{start:0,end:Ot}).end,e.start,!0),!a.bounds}interpolate(i){const{x:e,y:a,radius:r}=this,c=i.angle;return{x:e+Math.cos(c)*r,y:a+Math.sin(c)*r,angle:c}}}function Mn(s,i,e){const a=function Ih(s){const{chart:i,fill:e,line:a}=s;if(ge(e))return function Dh(s,i){const e=s.getDatasetMeta(i);return e&&s.isDatasetVisible(i)?e.dataset:null}(i,e);if("stack"===e)return function Ah(s){const{scale:i,index:e,line:a}=s,r=[],c=a.segments,u=a.points,x=function Bh(s,i){const e=[],a=s.getMatchingVisibleMetas("line");for(let r=0;r<a.length;r++){const c=a[r];if(c.index===i)break;c.hidden||e.unshift(c.dataset)}return e}(i,e);x.push(Ja({x:null,y:i.bottom},a));for(let y=0;y<c.length;y++){const k=c[y];for(let S=k.start;S<=k.end;S++)Fh(r,u[S],x)}return new Rs({points:r,options:{}})}(s);if("shape"===e)return!0;const r=function Vh(s){return(s.scale||{}).getPointPositionForValue?function Oh(s){const{scale:i,fill:e}=s,a=i.options,r=i.getLabels().length,c=a.reverse?i.max:i.min,u=function Sh(s,i,e){let a;return a="start"===s?e:"end"===s?i.options.reverse?i.min:i.max:ne(s)?s.value:i.getBaseValue(),a}(e,i,c),x=[];if(a.grid.circular){const y=i.getPointPositionForValue(0,c);return new Qa({x:y.x,y:y.y,radius:i.getDistanceFromCenterForValue(u)})}for(let y=0;y<r;++y)x.push(i.getPointPositionForValue(y,u));return x}(s):function Wh(s){const{scale:i={},fill:e}=s,a=function Ch(s,i){let e=null;return"start"===s?e=i.bottom:"end"===s?e=i.top:ne(s)?e=i.getPixelForValue(s.value):i.getBasePixel&&(e=i.getBasePixel()),e}(e,i);if(ge(a)){const r=i.isHorizontal();return{x:r?a:null,y:r?null:a}}return null}(s)}(s);return r instanceof Qa?r:Ja(r,a)}(i),{line:r,scale:c,axis:u}=i,x=r.options,y=x.fill,k=x.backgroundColor,{above:S=k,below:L=k}=y||{};a&&r.points.length&&(St(s,e),function Eh(s,i){const{line:e,target:a,above:r,below:c,area:u,scale:x}=i,y=e._loop?"angle":i.axis;s.save(),"x"===y&&c!==r&&(Za(s,a,u.top),$a(s,{line:e,target:a,color:r,scale:x,property:y}),s.restore(),s.save(),Za(s,a,u.bottom)),$a(s,{line:e,target:a,color:c,scale:x,property:y}),s.restore()}(s,{line:r,target:a,above:S,below:L,area:e,scale:c,axis:u}),fe(s))}function Za(s,i,e){const{segments:a,points:r}=i;let c=!0,u=!1;s.beginPath();for(const x of a){const{start:y,end:k}=x,S=r[y],L=r[vn(y,k,r)];c?(s.moveTo(S.x,S.y),c=!1):(s.lineTo(S.x,e),s.lineTo(S.x,S.y)),u=!!i.pathSegment(s,x,{move:u}),u?s.closePath():s.lineTo(L.x,e)}s.lineTo(i.first().x,e),s.closePath(),s.clip()}function $a(s,i){const{line:e,target:a,property:r,color:c,scale:u}=i,x=function Mh(s,i,e){const a=s.segments,r=s.points,c=i.points,u=[];for(const x of a){let{start:y,end:k}=x;k=vn(y,k,r);const S=yn(e,r[y],r[k],x.loop);if(!i.segments){u.push({source:x,target:S,start:r[y],end:r[k]});continue}const L=jn(i,S);for(const D of L){const X=yn(e,c[D.start],c[D.end],D.loop),j=Hn(x,r,X);for(const J of j)u.push({source:J,target:D,start:{[e]:Ua(S,X,"start",Math.max)},end:{[e]:Ua(S,X,"end",Math.min)}})}}return u}(e,a,r);for(const{source:y,target:k,start:S,end:L}of x){const{style:{backgroundColor:D=c}={}}=y,X=!0!==a;s.save(),s.fillStyle=D,Xh(s,u,X&&yn(r,S,L)),s.beginPath();const j=!!e.pathSegment(s,y);let J;if(X){j?s.closePath():Ga(s,a,L,r);const K=!!a.pathSegment(s,k,{move:j,reverse:!0});J=j&&K,J||Ga(s,a,S,r)}s.closePath(),s.fill(J?"evenodd":"nonzero"),s.restore()}}function Xh(s,i,e){const{top:a,bottom:r}=i.chart.chartArea,{property:c,start:u,end:x}=e||{};"x"===c&&(s.beginPath(),s.rect(u,a,x-u,r-a),s.clip())}function Ga(s,i,e,a){const r=i.interpolate(e,a);r&&s.lineTo(r.x,r.y)}var zh={id:"filler",afterDatasetsUpdate(s,i,e){const a=(s.data.datasets||[]).length,r=[];let c,u,x,y;for(u=0;u<a;++u)c=s.getDatasetMeta(u),x=c.dataset,y=null,x&&x.options&&x instanceof Rs&&(y={visible:s.isDatasetVisible(u),index:u,fill:Th(x,u,a),chart:s,axis:c.controller.options.indexAxis,scale:c.vScale,line:x}),c.$filler=y,r.push(y);for(u=0;u<a;++u)y=r[u],y&&!1!==y.fill&&(y.fill=_h(r,u,e.propagate))},beforeDraw(s,i,e){const a="beforeDraw"===e.drawTime,r=s.getSortedVisibleDatasetMetas(),c=s.chartArea;for(let u=r.length-1;u>=0;--u){const x=r[u].$filler;x&&(x.line.updateControlPoints(c,x.axis),a&&x.fill&&Mn(s.ctx,x,c))}},beforeDatasetsDraw(s,i,e){if("beforeDatasetsDraw"!==e.drawTime)return;const a=s.getSortedVisibleDatasetMetas();for(let r=a.length-1;r>=0;--r){const c=a[r].$filler;Ka(c)&&Mn(s.ctx,c,s.chartArea)}},beforeDatasetDraw(s,i,e){const a=i.meta.$filler;!Ka(a)||"beforeDatasetDraw"!==e.drawTime||Mn(s.ctx,a,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qa=(s,i)=>{let{boxHeight:e=i,boxWidth:a=i}=s;return s.usePointStyle&&(e=Math.min(e,i),a=s.pointStyleWidth||Math.min(a,i)),{boxWidth:a,boxHeight:e,itemHeight:Math.max(i,e)}};class to extends Ci{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e,a){this.maxWidth=i,this.maxHeight=e,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let e=Ae(i.generateLabels,[this.chart],this)||[];i.filter&&(e=e.filter(a=>i.filter(a,this.chart.data))),i.sort&&(e=e.sort((a,r)=>i.sort(a,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:i,ctx:e}=this;if(!i.display)return void(this.width=this.height=0);const a=i.labels,r=qe(a.font),c=r.size,u=this._computeTitleHeight(),{boxWidth:x,itemHeight:y}=qa(a,c);let k,S;e.font=r.string,this.isHorizontal()?(k=this.maxWidth,S=this._fitRows(u,c,x,y)+10):(S=this.maxHeight,k=this._fitCols(u,r,x,y)+10),this.width=Math.min(k,i.maxWidth||this.maxWidth),this.height=Math.min(S,i.maxHeight||this.maxHeight)}_fitRows(i,e,a,r){const{ctx:c,maxWidth:u,options:{labels:{padding:x}}}=this,y=this.legendHitBoxes=[],k=this.lineWidths=[0],S=r+x;let L=i;c.textAlign="left",c.textBaseline="middle";let D=-1,X=-S;return this.legendItems.forEach((j,J)=>{const K=a+e/2+c.measureText(j.text).width;(0===J||k[k.length-1]+K+2*x>u)&&(L+=S,k[k.length-(J>0?0:1)]=0,X+=S,D++),y[J]={left:0,top:X,row:D,width:K,height:r},k[k.length-1]+=K+x}),L}_fitCols(i,e,a,r){const{ctx:c,maxHeight:u,options:{labels:{padding:x}}}=this,y=this.legendHitBoxes=[],k=this.columnSizes=[],S=u-i;let L=x,D=0,X=0,j=0,J=0;return this.legendItems.forEach((K,ot)=>{const{itemWidth:at,itemHeight:bt}=function Rh(s,i,e,a,r){const c=function Nh(s,i,e,a){let r=s.text;return r&&"string"!=typeof r&&(r=r.reduce((c,u)=>c.length>u.length?c:u)),i+e.size/2+a.measureText(r).width}(a,s,i,e),u=function Hh(s,i,e){let a=s;return"string"!=typeof i.text&&(a=eo(i,e)),a}(r,a,i.lineHeight);return{itemWidth:c,itemHeight:u}}(a,e,c,K,r);ot>0&&X+bt+2*x>S&&(L+=D+x,k.push({width:D,height:X}),j+=D+x,J++,D=X=0),y[ot]={left:j,top:X,col:J,width:at,height:bt},D=Math.max(D,at),X+=bt+x}),L+=D,k.push({width:D,height:X}),L}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:a,labels:{padding:r},rtl:c}}=this,u=rs(c,this.left,this.width);if(this.isHorizontal()){let x=0,y=E(a,this.left+r,this.right-this.lineWidths[x]);for(const k of e)x!==k.row&&(x=k.row,y=E(a,this.left+r,this.right-this.lineWidths[x])),k.top+=this.top+i+r,k.left=u.leftForLtr(u.x(y),k.width),y+=k.width+r}else{let x=0,y=E(a,this.top+i+r,this.bottom-this.columnSizes[x].height);for(const k of e)k.col!==x&&(x=k.col,y=E(a,this.top+i+r,this.bottom-this.columnSizes[x].height)),k.top=y,k.left+=this.left+r,k.left=u.leftForLtr(u.x(k.left),k.width),y+=k.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;St(i,this),this._draw(),fe(i)}}_draw(){const{options:i,columnSizes:e,lineWidths:a,ctx:r}=this,{align:c,labels:u}=i,x=Wt.color,y=rs(i.rtl,this.left,this.width),k=qe(u.font),{padding:S}=u,L=k.size,D=L/2;let X;this.drawTitle(),r.textAlign=y.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=k.string;const{boxWidth:j,boxHeight:J,itemHeight:K}=qa(u,L),bt=this.isHorizontal(),kt=this._computeTitleHeight();X=bt?{x:E(c,this.left+S,this.right-a[0]),y:this.top+S+kt,line:0}:{x:this.left+S,y:E(c,this.top+kt+S,this.bottom-e[0].height),line:0},zn(this.ctx,i.textDirection);const xt=K+S;this.legendItems.forEach((yt,Dt)=>{r.strokeStyle=yt.fontColor,r.fillStyle=yt.fontColor;const wt=r.measureText(yt.text).width,Xt=y.textAlign(yt.textAlign||(yt.textAlign=u.textAlign)),ue=j+D+wt;let de=X.x,be=X.y;y.setWidth(this.width),bt?Dt>0&&de+ue+S>this.right&&(be=X.y+=xt,X.line++,de=X.x=E(c,this.left+S,this.right-a[X.line])):Dt>0&&be+xt>this.bottom&&(de=X.x=de+e[X.line].width+S,X.line++,be=X.y=E(c,this.top+kt+S,this.bottom-e[X.line].height)),function(yt,Dt,wt){if(isNaN(j)||j<=0||isNaN(J)||J<0)return;r.save();const Xt=$t(wt.lineWidth,1);if(r.fillStyle=$t(wt.fillStyle,x),r.lineCap=$t(wt.lineCap,"butt"),r.lineDashOffset=$t(wt.lineDashOffset,0),r.lineJoin=$t(wt.lineJoin,"miter"),r.lineWidth=Xt,r.strokeStyle=$t(wt.strokeStyle,x),r.setLineDash($t(wt.lineDash,[])),u.usePointStyle){const ue={radius:J*Math.SQRT2/2,pointStyle:wt.pointStyle,rotation:wt.rotation,borderWidth:Xt},de=y.xPlus(yt,j/2);Kt(r,ue,de,Dt+D,u.pointStyleWidth&&j)}else{const ue=Dt+Math.max((L-J)/2,0),de=y.leftForLtr(yt,j),be=Ji(wt.borderRadius);r.beginPath(),Object.values(be).some(ai=>0!==ai)?Di(r,{x:de,y:ue,w:j,h:J,radius:be}):r.rect(de,ue,j,J),r.fill(),0!==Xt&&r.stroke()}r.restore()}(y.x(de),be,yt),de=((s,i,e,a)=>s===(a?"left":"right")?e:"center"===s?(i+e)/2:i)(Xt,de+j+D,bt?de+ue:this.right,i.rtl),function(yt,Dt,wt){Gt(r,wt.text,yt,Dt+K/2,k,{strikethrough:wt.hidden,textAlign:y.textAlign(wt.textAlign)})}(y.x(de),be,yt),bt?X.x+=ue+S:X.y+="string"!=typeof yt.text?eo(yt,k.lineHeight)+S:xt}),Yn(this.ctx,i.textDirection)}drawTitle(){const i=this.options,e=i.title,a=qe(e.font),r=hi(e.padding);if(!e.display)return;const c=rs(i.rtl,this.left,this.width),u=this.ctx,x=e.position,k=r.top+a.size/2;let S,L=this.left,D=this.width;if(this.isHorizontal())D=Math.max(...this.lineWidths),S=this.top+k,L=E(i.align,L,this.right-D);else{const j=this.columnSizes.reduce((J,K)=>Math.max(J,K.height),0);S=k+E(i.align,this.top,this.bottom-j-i.labels.padding-this._computeTitleHeight())}const X=E(x,L,L+D);u.textAlign=c.textAlign(U(x)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=a.string,Gt(u,e.text,X,S,a)}_computeTitleHeight(){const i=this.options.title,e=qe(i.font),a=hi(i.padding);return i.display?e.lineHeight+a.height:0}_getLegendItemAt(i,e){let a,r,c;if(w(i,this.left,this.right)&&w(e,this.top,this.bottom))for(c=this.legendHitBoxes,a=0;a<c.length;++a)if(r=c[a],w(i,r.left,r.left+r.width)&&w(e,r.top,r.top+r.height))return this.legendItems[a];return null}handleEvent(i){const e=this.options;if(!function jh(s,i){return!(("mousemove"!==s&&"mouseout"!==s||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==s&&"mouseup"!==s))}(i.type,e))return;const a=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const r=this._hoveredItem,c=((s,i)=>null!==s&&null!==i&&s.datasetIndex===i.datasetIndex&&s.index===i.index)(r,a);r&&!c&&Ae(e.onLeave,[i,r,this],this),this._hoveredItem=a,a&&!c&&Ae(e.onHover,[i,a,this],this)}else a&&Ae(e.onClick,[i,a,this],this)}}function eo(s,i){return i*(s.text?s.text.length:0)}var Uh={id:"legend",_element:to,start(s,i,e){const a=s.legend=new to({ctx:s.ctx,options:e,chart:s});di.configure(s,a,e),di.addBox(s,a)},stop(s){di.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,i,e){const a=s.legend;di.configure(s,a,e),a.options=e},afterUpdate(s){const i=s.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(s,i){i.replay||s.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,i,e){const a=i.datasetIndex,r=e.chart;r.isDatasetVisible(a)?(r.hide(a),i.hidden=!0):(r.show(a),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const i=s.data.datasets,{labels:{usePointStyle:e,pointStyle:a,textAlign:r,color:c,useBorderRadius:u,borderRadius:x}}=s.legend.options;return s._getSortedDatasetMetas().map(y=>{const k=y.controller.getStyle(e?0:void 0),S=hi(k.borderWidth);return{text:i[y.index].label,fillStyle:k.backgroundColor,fontColor:c,hidden:!y.visible,lineCap:k.borderCapStyle,lineDash:k.borderDash,lineDashOffset:k.borderDashOffset,lineJoin:k.borderJoinStyle,lineWidth:(S.width+S.height)/4,strokeStyle:k.borderColor,pointStyle:a||k.pointStyle,rotation:k.rotation,textAlign:r||k.textAlign,borderRadius:u&&(x||k.borderRadius),datasetIndex:y.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class kn extends Ci{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e){const a=this.options;if(this.left=0,this.top=0,!a.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=e;const r=ye(a.text)?a.text.length:1;this._padding=hi(a.padding);const c=r*qe(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=c:this.width=c}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:e,left:a,bottom:r,right:c,options:u}=this,x=u.align;let k,S,L,y=0;return this.isHorizontal()?(S=E(x,a,c),L=e+i,k=c-a):("left"===u.position?(S=a+i,L=E(x,r,e),y=-.5*It):(S=c-i,L=E(x,e,r),y=.5*It),k=r-e),{titleX:S,titleY:L,maxWidth:k,rotation:y}}draw(){const i=this.ctx,e=this.options;if(!e.display)return;const a=qe(e.font),c=a.lineHeight/2+this._padding.top,{titleX:u,titleY:x,maxWidth:y,rotation:k}=this._drawArgs(c);Gt(i,e.text,0,0,a,{color:e.color,maxWidth:y,rotation:k,textAlign:U(e.align),textBaseline:"middle",translation:[u,x]})}}var Kh={id:"title",_element:kn,start(s,i,e){!function Jh(s,i){const e=new kn({ctx:s.ctx,options:i,chart:s});di.configure(s,e,i),di.addBox(s,e),s.titleBlock=e}(s,e)},stop(s){di.removeBox(s,s.titleBlock),delete s.titleBlock},beforeUpdate(s,i,e){const a=s.titleBlock;di.configure(s,a,e),a.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hs=new WeakMap;var Qh={id:"subtitle",start(s,i,e){const a=new kn({ctx:s.ctx,options:e,chart:s});di.configure(s,a,e),di.addBox(s,a),Hs.set(s,a)},stop(s){di.removeBox(s,Hs.get(s)),Hs.delete(s)},beforeUpdate(s,i,e){const a=Hs.get(s);di.configure(s,a,e),a.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _s={average(s){if(!s.length)return!1;let i,e,a=new Set,r=0,c=0;for(i=0,e=s.length;i<e;++i){const x=s[i].element;if(x&&x.hasValue()){const y=x.tooltipPosition();a.add(y.x),r+=y.y,++c}}return{x:[...a].reduce((x,y)=>x+y)/a.size,y:r/c}},nearest(s,i){if(!s.length)return!1;let c,u,x,e=i.x,a=i.y,r=Number.POSITIVE_INFINITY;for(c=0,u=s.length;c<u;++c){const y=s[c].element;if(y&&y.hasValue()){const S=f(i,y.getCenterPoint());S<r&&(r=S,x=y)}}if(x){const y=x.tooltipPosition();e=y.x,a=y.y}return{x:e,y:a}}};function Wi(s,i){return i&&(ye(i)?Array.prototype.push.apply(s,i):s.push(i)),s}function zi(s){return("string"==typeof s||s instanceof String)&&s.indexOf("\n")>-1?s.split("\n"):s}function Zh(s,i){const{element:e,datasetIndex:a,index:r}=i,c=s.getDatasetMeta(a).controller,{label:u,value:x}=c.getLabelAndValue(r);return{chart:s,label:u,parsed:c.getParsed(r),raw:s.data.datasets[a].data[r],formattedValue:x,dataset:c.getDataset(),dataIndex:r,datasetIndex:a,element:e}}function io(s,i){const e=s.chart.ctx,{body:a,footer:r,title:c}=s,{boxWidth:u,boxHeight:x}=i,y=qe(i.bodyFont),k=qe(i.titleFont),S=qe(i.footerFont),L=c.length,D=r.length,X=a.length,j=hi(i.padding);let J=j.height,K=0,ot=a.reduce((kt,xt)=>kt+xt.before.length+xt.lines.length+xt.after.length,0);ot+=s.beforeBody.length+s.afterBody.length,L&&(J+=L*k.lineHeight+(L-1)*i.titleSpacing+i.titleMarginBottom),ot&&(J+=X*(i.displayColors?Math.max(x,y.lineHeight):y.lineHeight)+(ot-X)*y.lineHeight+(ot-1)*i.bodySpacing),D&&(J+=i.footerMarginTop+D*S.lineHeight+(D-1)*i.footerSpacing);let at=0;const bt=function(kt){K=Math.max(K,e.measureText(kt).width+at)};return e.save(),e.font=k.string,Ht(s.title,bt),e.font=y.string,Ht(s.beforeBody.concat(s.afterBody),bt),at=i.displayColors?u+2+i.boxPadding:0,Ht(a,kt=>{Ht(kt.before,bt),Ht(kt.lines,bt),Ht(kt.after,bt)}),at=0,e.font=S.string,Ht(s.footer,bt),e.restore(),K+=j.width,{width:K,height:J}}function qh(s,i,e,a){const{x:r,width:c}=e,{width:u,chartArea:{left:x,right:y}}=s;let k="center";return"center"===a?k=r<=(x+y)/2?"left":"right":r<=c/2?k="left":r>=u-c/2&&(k="right"),function Gh(s,i,e,a){const{x:r,width:c}=a,u=e.caretSize+e.caretPadding;if("left"===s&&r+c+u>i.width||"right"===s&&r-c-u<0)return!0}(k,s,i,e)&&(k="center"),k}function so(s,i,e){const a=e.yAlign||i.yAlign||function $h(s,i){const{y:e,height:a}=i;return e<a/2?"top":e>s.height-a/2?"bottom":"center"}(s,e);return{xAlign:e.xAlign||i.xAlign||qh(s,i,e,a),yAlign:a}}function no(s,i,e,a){const{caretSize:r,caretPadding:c,cornerRadius:u}=s,{xAlign:x,yAlign:y}=e,k=r+c,{topLeft:S,topRight:L,bottomLeft:D,bottomRight:X}=Ji(u);let j=function td(s,i){let{x:e,width:a}=s;return"right"===i?e-=a:"center"===i&&(e-=a/2),e}(i,x);const J=function ed(s,i,e){let{y:a,height:r}=s;return"top"===i?a+=e:a-="bottom"===i?r+e:r/2,a}(i,y,k);return"center"===y?"left"===x?j+=k:"right"===x&&(j-=k):"left"===x?j-=Math.max(S,D)+r:"right"===x&&(j+=Math.max(L,X)+r),{x:h(j,0,a.width-i.width),y:h(J,0,a.height-i.height)}}function js(s,i,e){const a=hi(e.padding);return"center"===i?s.x+s.width/2:"right"===i?s.x+s.width-a.right:s.x+a.left}function ao(s){return Wi([],zi(s))}function oo(s,i){const e=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return e?s.override(e):s}const ro={beforeTitle:Tt,title(s){if(s.length>0){const i=s[0],e=i.chart.data.labels,a=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(a>0&&i.dataIndex<a)return e[i.dataIndex]}return""},afterTitle:Tt,beforeBody:Tt,beforeLabel:Tt,label(s){if(this&&this.options&&"dataset"===this.options.mode)return s.label+": "+s.formattedValue||s.formattedValue;let i=s.dataset.label||"";i&&(i+=": ");const e=s.formattedValue;return Pt(e)||(i+=e),i},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Tt,afterBody:Tt,beforeFooter:Tt,footer:Tt,afterFooter:Tt};function xi(s,i,e,a){const r=s[i].call(e,a);return typeof r>"u"?ro[i].call(e,a):r}let lo=(()=>{class s extends Ci{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const a=this.chart,r=this.options.setContext(this.getContext()),c=r.enabled&&a.options.animation&&r.animations,u=new Qn(this.chart,c);return c._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=function id(s,i,e){return Ri(s,{tooltip:i,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,a){const{callbacks:r}=a,c=xi(r,"beforeTitle",this,e),u=xi(r,"title",this,e),x=xi(r,"afterTitle",this,e);let y=[];return y=Wi(y,zi(c)),y=Wi(y,zi(u)),y=Wi(y,zi(x)),y}getBeforeBody(e,a){return ao(xi(a.callbacks,"beforeBody",this,e))}getBody(e,a){const{callbacks:r}=a,c=[];return Ht(e,u=>{const x={before:[],lines:[],after:[]},y=oo(r,u);Wi(x.before,zi(xi(y,"beforeLabel",this,u))),Wi(x.lines,xi(y,"label",this,u)),Wi(x.after,zi(xi(y,"afterLabel",this,u))),c.push(x)}),c}getAfterBody(e,a){return ao(xi(a.callbacks,"afterBody",this,e))}getFooter(e,a){const{callbacks:r}=a,c=xi(r,"beforeFooter",this,e),u=xi(r,"footer",this,e),x=xi(r,"afterFooter",this,e);let y=[];return y=Wi(y,zi(c)),y=Wi(y,zi(u)),y=Wi(y,zi(x)),y}_createItems(e){const a=this._active,r=this.chart.data,c=[],u=[],x=[];let k,S,y=[];for(k=0,S=a.length;k<S;++k)y.push(Zh(this.chart,a[k]));return e.filter&&(y=y.filter((L,D,X)=>e.filter(L,D,X,r))),e.itemSort&&(y=y.sort((L,D)=>e.itemSort(L,D,r))),Ht(y,L=>{const D=oo(e.callbacks,L);c.push(xi(D,"labelColor",this,L)),u.push(xi(D,"labelPointStyle",this,L)),x.push(xi(D,"labelTextColor",this,L))}),this.labelColors=c,this.labelPointStyles=u,this.labelTextColors=x,this.dataPoints=y,y}update(e,a){const r=this.options.setContext(this.getContext()),c=this._active;let u,x=[];if(c.length){const y=_s[r.position].call(this,c,this._eventPosition);x=this._createItems(r),this.title=this.getTitle(x,r),this.beforeBody=this.getBeforeBody(x,r),this.body=this.getBody(x,r),this.afterBody=this.getAfterBody(x,r),this.footer=this.getFooter(x,r);const k=this._size=io(this,r),S=Object.assign({},y,k),L=so(this.chart,r,S),D=no(r,S,L,this.chart);this.xAlign=L.xAlign,this.yAlign=L.yAlign,u={opacity:1,x:D.x,y:D.y,width:k.width,height:k.height,caretX:y.x,caretY:y.y}}else 0!==this.opacity&&(u={opacity:0});this._tooltipItems=x,this.$context=void 0,u&&this._resolveAnimations().update(this,u),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(e,a,r,c){const u=this.getCaretPosition(e,r,c);a.lineTo(u.x1,u.y1),a.lineTo(u.x2,u.y2),a.lineTo(u.x3,u.y3)}getCaretPosition(e,a,r){const{xAlign:c,yAlign:u}=this,{caretSize:x,cornerRadius:y}=r,{topLeft:k,topRight:S,bottomLeft:L,bottomRight:D}=Ji(y),{x:X,y:j}=e,{width:J,height:K}=a;let ot,at,bt,kt,xt,yt;return"center"===u?(xt=j+K/2,"left"===c?(ot=X,at=ot-x,kt=xt+x,yt=xt-x):(ot=X+J,at=ot+x,kt=xt-x,yt=xt+x),bt=ot):(at="left"===c?X+Math.max(k,L)+x:"right"===c?X+J-Math.max(S,D)-x:this.caretX,"top"===u?(kt=j,xt=kt-x,ot=at-x,bt=at+x):(kt=j+K,xt=kt+x,ot=at+x,bt=at-x),yt=kt),{x1:ot,x2:at,x3:bt,y1:kt,y2:xt,y3:yt}}drawTitle(e,a,r){const c=this.title,u=c.length;let x,y,k;if(u){const S=rs(r.rtl,this.x,this.width);for(e.x=js(this,r.titleAlign,r),a.textAlign=S.textAlign(r.titleAlign),a.textBaseline="middle",x=qe(r.titleFont),y=r.titleSpacing,a.fillStyle=r.titleColor,a.font=x.string,k=0;k<u;++k)a.fillText(c[k],S.x(e.x),e.y+x.lineHeight/2),e.y+=x.lineHeight+y,k+1===u&&(e.y+=r.titleMarginBottom-y)}}_drawColorBox(e,a,r,c,u){const x=this.labelColors[r],y=this.labelPointStyles[r],{boxHeight:k,boxWidth:S}=u,L=qe(u.bodyFont),D=js(this,"left",u),X=c.x(D),J=a.y+(k<L.lineHeight?(L.lineHeight-k)/2:0);if(u.usePointStyle){const K={radius:Math.min(S,k)/2,pointStyle:y.pointStyle,rotation:y.rotation,borderWidth:1},ot=c.leftForLtr(X,S)+S/2,at=J+k/2;e.strokeStyle=u.multiKeyBackground,e.fillStyle=u.multiKeyBackground,xe(e,K,ot,at),e.strokeStyle=x.borderColor,e.fillStyle=x.backgroundColor,xe(e,K,ot,at)}else{e.lineWidth=ne(x.borderWidth)?Math.max(...Object.values(x.borderWidth)):x.borderWidth||1,e.strokeStyle=x.borderColor,e.setLineDash(x.borderDash||[]),e.lineDashOffset=x.borderDashOffset||0;const K=c.leftForLtr(X,S),ot=c.leftForLtr(c.xPlus(X,1),S-2),at=Ji(x.borderRadius);Object.values(at).some(bt=>0!==bt)?(e.beginPath(),e.fillStyle=u.multiKeyBackground,Di(e,{x:K,y:J,w:S,h:k,radius:at}),e.fill(),e.stroke(),e.fillStyle=x.backgroundColor,e.beginPath(),Di(e,{x:ot,y:J+1,w:S-2,h:k-2,radius:at}),e.fill()):(e.fillStyle=u.multiKeyBackground,e.fillRect(K,J,S,k),e.strokeRect(K,J,S,k),e.fillStyle=x.backgroundColor,e.fillRect(ot,J+1,S-2,k-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,a,r){const{body:c}=this,{bodySpacing:u,bodyAlign:x,displayColors:y,boxHeight:k,boxWidth:S,boxPadding:L}=r,D=qe(r.bodyFont);let X=D.lineHeight,j=0;const J=rs(r.rtl,this.x,this.width),K=function(Xt){a.fillText(Xt,J.x(e.x+j),e.y+X/2),e.y+=X+u},ot=J.textAlign(x);let at,bt,kt,xt,yt,Dt,wt;for(a.textAlign=x,a.textBaseline="middle",a.font=D.string,e.x=js(this,ot,r),a.fillStyle=r.bodyColor,Ht(this.beforeBody,K),j=y&&"right"!==ot?"center"===x?S/2+L:S+2+L:0,xt=0,Dt=c.length;xt<Dt;++xt){for(at=c[xt],bt=this.labelTextColors[xt],a.fillStyle=bt,Ht(at.before,K),kt=at.lines,y&&kt.length&&(this._drawColorBox(a,e,xt,J,r),X=Math.max(D.lineHeight,k)),yt=0,wt=kt.length;yt<wt;++yt)K(kt[yt]),X=D.lineHeight;Ht(at.after,K)}j=0,X=D.lineHeight,Ht(this.afterBody,K),e.y-=u}drawFooter(e,a,r){const c=this.footer,u=c.length;let x,y;if(u){const k=rs(r.rtl,this.x,this.width);for(e.x=js(this,r.footerAlign,r),e.y+=r.footerMarginTop,a.textAlign=k.textAlign(r.footerAlign),a.textBaseline="middle",x=qe(r.footerFont),a.fillStyle=r.footerColor,a.font=x.string,y=0;y<u;++y)a.fillText(c[y],k.x(e.x),e.y+x.lineHeight/2),e.y+=x.lineHeight+r.footerSpacing}}drawBackground(e,a,r,c){const{xAlign:u,yAlign:x}=this,{x:y,y:k}=e,{width:S,height:L}=r,{topLeft:D,topRight:X,bottomLeft:j,bottomRight:J}=Ji(c.cornerRadius);a.fillStyle=c.backgroundColor,a.strokeStyle=c.borderColor,a.lineWidth=c.borderWidth,a.beginPath(),a.moveTo(y+D,k),"top"===x&&this.drawCaret(e,a,r,c),a.lineTo(y+S-X,k),a.quadraticCurveTo(y+S,k,y+S,k+X),"center"===x&&"right"===u&&this.drawCaret(e,a,r,c),a.lineTo(y+S,k+L-J),a.quadraticCurveTo(y+S,k+L,y+S-J,k+L),"bottom"===x&&this.drawCaret(e,a,r,c),a.lineTo(y+j,k+L),a.quadraticCurveTo(y,k+L,y,k+L-j),"center"===x&&"left"===u&&this.drawCaret(e,a,r,c),a.lineTo(y,k+D),a.quadraticCurveTo(y,k,y+D,k),a.closePath(),a.fill(),c.borderWidth>0&&a.stroke()}_updateAnimationTarget(e){const a=this.chart,r=this.$animations,c=r&&r.x,u=r&&r.y;if(c||u){const x=_s[e.position].call(this,this._active,this._eventPosition);if(!x)return;const y=this._size=io(this,e),k=Object.assign({},x,this._size),S=so(a,e,k),L=no(e,k,S,a);(c._to!==L.x||u._to!==L.y)&&(this.xAlign=S.xAlign,this.yAlign=S.yAlign,this.width=y.width,this.height=y.height,this.caretX=x.x,this.caretY=x.y,this._resolveAnimations().update(this,L))}}_willRender(){return!!this.opacity}draw(e){const a=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(a);const c={width:this.width,height:this.height},u={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const x=hi(a.padding);a.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(u,e,c,a),zn(e,a.textDirection),u.y+=x.top,this.drawTitle(u,e,a),this.drawBody(u,e,a),this.drawFooter(u,e,a),Yn(e,a.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,a){const r=this._active,c=e.map(({datasetIndex:y,index:k})=>{const S=this.chart.getDatasetMeta(y);if(!S)throw new Error("Cannot find a dataset at index "+y);return{datasetIndex:y,element:S.data[k],index:k}}),u=!Ei(r,c),x=this._positionChanged(c,a);(u||x)&&(this._active=c,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,a,r=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const c=this.options,u=this._active||[],x=this._getActiveElements(e,u,a,r),y=this._positionChanged(x,e),k=a||!Ei(x,u)||y;return k&&(this._active=x,(c.enabled||c.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,a))),k}_getActiveElements(e,a,r,c){const u=this.options;if("mouseout"===e.type)return[];if(!c)return a.filter(y=>this.chart.data.datasets[y.datasetIndex]&&void 0!==this.chart.getDatasetMeta(y.datasetIndex).controller.getParsed(y.index));const x=this.chart.getElementsAtEventForMode(e,u.mode,u,r);return u.reverse&&x.reverse(),x}_positionChanged(e,a){const{caretX:r,caretY:c,options:u}=this,x=_s[u.position].call(this,e,a);return!1!==x&&(r!==x.x||c!==x.y)}}return _t(s,"positioners",_s),s})();var nd=Object.freeze({__proto__:null,Colors:mh,Decimation:vh,Filler:zh,Legend:Uh,SubTitle:Qh,Title:Kh,Tooltip:{id:"tooltip",_element:lo,positioners:_s,afterInit(s,i,e){e&&(s.tooltip=new lo({chart:s,options:e}))},beforeUpdate(s,i,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,i,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const i=s.tooltip;if(i&&i._willRender()){const e={tooltip:i};if(!1===s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;i.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,i){s.tooltip&&s.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,i)=>i.bodyFont.size,boxWidth:(s,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ro},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>"filter"!==s&&"itemSort"!==s&&"external"!==s,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function ho(s){const i=this.getLabels();return s>=0&&s<i.length?i[s]:s}let ld=(()=>{class s extends Gi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const a=this._addedLabels;if(a.length){const r=this.getLabels();for(const{index:c,label:u}of a)r[c]===u&&r.splice(c,1);this._addedLabels=[]}super.init(e)}parse(e,a){if(Pt(e))return null;const r=this.getLabels();return((s,i)=>null===s?null:h(Math.round(s),0,i))(a=isFinite(a)&&r[a]===e?a:function od(s,i,e,a){const r=s.indexOf(i);return-1===r?((s,i,e,a)=>("string"==typeof i?(e=s.push(i)-1,a.unshift({index:e,label:i})):isNaN(i)&&(e=null),e))(s,i,e,a):r!==s.lastIndexOf(i)?e:r}(r,e,$t(a,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:a}=this.getUserBounds();let{min:r,max:c}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),a||(c=this.getLabels().length-1)),this.min=r,this.max=c}buildTicks(){const e=this.min,a=this.max,r=this.options.offset,c=[];let u=this.getLabels();u=0===e&&a===u.length-1?u:u.slice(e,a+1),this._valueRange=Math.max(u.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let x=e;x<=a;x++)c.push({value:x});return c}getLabelForValue(e){return ho.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const a=this.ticks;return e<0||e>a.length-1?null:this.getPixelForValue(a[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return _t(s,"id","category"),_t(s,"defaults",{ticks:{callback:ho}}),s})();function co(s,i,{horizontal:e,minRotation:a}){const r=p(a),c=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(i/c,.75*i*(""+s).length)}class Us extends Gi{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,e){return Pt(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:e,maxDefined:a}=this.getUserBounds();let{min:r,max:c}=this;const u=y=>r=e?r:y,x=y=>c=a?c:y;if(i){const y=At(r),k=At(c);y<0&&k<0?x(0):y>0&&k>0&&u(0)}if(r===c){let y=0===c?1:Math.abs(.05*c);x(c+y),i||u(r-y)}this.min=r,this.max=c}getTickLimit(){const i=this.options.ticks;let r,{maxTicksLimit:e,stepSize:a}=i;return a?(r=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,e=i.ticks;let a=this.getTickLimit();a=Math.max(2,a);const u=function hd(s,i){const e=[],{bounds:r,step:c,min:u,max:x,precision:y,count:k,maxTicks:S,maxDigits:L,includeBounds:D}=s,X=c||1,j=S-1,{min:J,max:K}=i,ot=!Pt(u),at=!Pt(x),bt=!Pt(k),kt=(K-J)/(L+1);let yt,Dt,wt,Xt,xt=t((K-J)/j/X)*X;if(xt<1e-14&&!ot&&!at)return[{value:J},{value:K}];Xt=Math.ceil(K/xt)-Math.floor(J/xt),Xt>j&&(xt=t(Xt*xt/j/X)*X),Pt(y)||(yt=Math.pow(10,y),xt=Math.ceil(xt*yt)/yt),"ticks"===r?(Dt=Math.floor(J/xt)*xt,wt=Math.ceil(K/xt)*xt):(Dt=J,wt=K),ot&&at&&c&&function n(s,i){const e=Math.round(s);return e-i<=s&&e+i>=s}((x-u)/c,xt/1e3)?(Xt=Math.round(Math.min((x-u)/xt,S)),xt=(x-u)/Xt,Dt=u,wt=x):bt?(Dt=ot?u:Dt,wt=at?x:wt,Xt=k-1,xt=(wt-Dt)/Xt):(Xt=(wt-Dt)/xt,Xt=me(Xt,Math.round(Xt),xt/1e3)?Math.round(Xt):Math.ceil(Xt));const ue=Math.max(M(xt),M(Dt));yt=Math.pow(10,Pt(y)?ue:y),Dt=Math.round(Dt*yt)/yt,wt=Math.round(wt*yt)/yt;let de=0;for(ot&&(D&&Dt!==u?(e.push({value:u}),Dt<u&&de++,me(Math.round((Dt+de*xt)*yt)/yt,u,co(u,kt,s))&&de++):Dt<u&&de++);de<Xt;++de){const be=Math.round((Dt+de*xt)*yt)/yt;if(at&&be>x)break;e.push({value:be})}return at&&D&&wt!==x?e.length&&me(e[e.length-1].value,x,co(x,kt,s))?e[e.length-1].value=x:e.push({value:x}):(!at||wt===x)&&e.push({value:wt}),e}({maxTicks:a,bounds:i.bounds,min:i.min,max:i.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===i.bounds&&l(u,this,"value"),i.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const i=this.ticks;let e=this.min,a=this.max;if(super.configure(),this.options.offset&&i.length){const r=(a-e)/Math.max(i.length-1,1)/2;e-=r,a+=r}this._startValue=e,this._endValue=a,this._valueRange=a-e}getLabelForValue(i){return ni(i,this.chart.options.locale,this.options.ticks.format)}}class _n extends Us{determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=ge(i)?i:0,this.max=ge(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),e=i?this.width:this.height,a=p(this.options.ticks.minRotation),r=(i?Math.sin(a):Math.cos(a))||.001,c=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,c.lineHeight/r))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}_t(_n,"id","linear"),_t(_n,"defaults",{ticks:{callback:Ie.formatters.numeric}});const Ts=s=>Math.floor(Le(s)),qi=(s,i)=>Math.pow(10,Ts(s)+i);function uo(s){return s/Math.pow(10,Ts(s))==1}function po(s,i,e){const a=Math.pow(10,e),r=Math.floor(s/a);return Math.ceil(i/a)-r}class Tn extends Gi{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,e){const a=Us.prototype.parse.apply(this,[i,e]);if(0!==a)return ge(a)&&a>0?a:null;this._zero=!0}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=ge(i)?Math.max(0,i):null,this.max=ge(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ge(this._userMin)&&(this.min=i===qi(this.min,0)?qi(this.min,-1):qi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let a=this.min,r=this.max;const c=x=>a=i?a:x,u=x=>r=e?r:x;a===r&&(a<=0?(c(1),u(10)):(c(qi(a,-1)),u(qi(r,1)))),a<=0&&c(qi(r,-1)),r<=0&&u(qi(a,1)),this.min=a,this.max=r}buildTicks(){const i=this.options,a=function cd(s,{min:i,max:e}){i=ii(s.min,i);const a=[],r=Ts(i);let c=function dd(s,i){let a=Ts(i-s);for(;po(s,i,a)>10;)a++;for(;po(s,i,a)<10;)a--;return Math.min(a,Ts(s))}(i,e),u=c<0?Math.pow(10,Math.abs(c)):1;const x=Math.pow(10,c),y=r>c?Math.pow(10,r):0,k=Math.round((i-y)*u)/u,S=Math.floor((i-y)/x/10)*x*10;let L=Math.floor((k-S)/Math.pow(10,c)),D=ii(s.min,Math.round((y+S+L*Math.pow(10,c))*u)/u);for(;D<e;)a.push({value:D,major:uo(D),significand:L}),L>=10?L=L<15?15:20:L++,L>=20&&(c++,L=2,u=c>=0?1:u),D=Math.round((y+S+L*Math.pow(10,c))*u)/u;const X=ii(s.max,D);return a.push({value:X,major:uo(X),significand:L}),a}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&l(a,this,"value"),i.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(i){return void 0===i?"0":ni(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=Le(i),this._valueRange=Le(this.max)-Le(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(Le(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const e=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+e*this._valueRange)}}function Pn(s){const i=s.ticks;if(i.display&&s.display){const e=hi(i.backdropPadding);return $t(i.font&&i.font.size,Wt.font.size)+e.height}return 0}function ud(s,i,e){return e=ye(e)?e:[e],{w:Ft(s,i.string,e),h:e.length*i.lineHeight}}function xo(s,i,e,a,r){return s===a||s===r?{start:i-e/2,end:i+e/2}:s<a||s>r?{start:i-e,end:i}:{start:i,end:i+e}}function xd(s,i,e,a,r){const c=Math.abs(Math.sin(e)),u=Math.abs(Math.cos(e));let x=0,y=0;a.start<i.l?(x=(i.l-a.start)/c,s.l=Math.min(s.l,i.l-x)):a.end>i.r&&(x=(a.end-i.r)/c,s.r=Math.max(s.r,i.r+x)),r.start<i.t?(y=(i.t-r.start)/u,s.t=Math.min(s.t,i.t-y)):r.end>i.b&&(y=(r.end-i.b)/u,s.b=Math.max(s.b,i.b+y))}function gd(s,i,e){const a=s.drawingArea,{extra:r,additionalAngle:c,padding:u,size:x}=e,y=s.getPointPosition(i,a+r+u,c),k=Math.round(g(b(y.angle+le))),S=function vd(s,i,e){return 90===e||270===e?s-=i/2:(e>270||e<90)&&(s-=i),s}(y.y,x.h,k),L=function bd(s){return 0===s||180===s?"center":s<180?"left":"right"}(k),D=function yd(s,i,e){return"right"===e?s-=i:"center"===e&&(s-=i/2),s}(y.x,x.w,L);return{visible:!0,x:y.x,y:S,textAlign:L,left:D,top:S,right:D+x.w,bottom:S+x.h}}function md(s,i){if(!i)return!0;const{left:e,top:a,right:r,bottom:c}=s;return!(Nt({x:e,y:a},i)||Nt({x:e,y:c},i)||Nt({x:r,y:a},i)||Nt({x:r,y:c},i))}function Md(s,i,e){const{left:a,top:r,right:c,bottom:u}=e,{backdropColor:x}=i;if(!Pt(x)){const y=Ji(i.borderRadius),k=hi(i.backdropPadding);s.fillStyle=x;const S=a-k.left,L=r-k.top,D=c-a+k.width,X=u-r+k.height;Object.values(y).some(j=>0!==j)?(s.beginPath(),Di(s,{x:S,y:L,w:D,h:X,radius:y}),s.fill()):s.fillRect(S,L,D,X)}}function go(s,i,e,a){const{ctx:r}=s;if(e)r.arc(s.xCenter,s.yCenter,i,0,Ot);else{let c=s.getPointPosition(0,i);r.moveTo(c.x,c.y);for(let u=1;u<a;u++)c=s.getPointPosition(u,i),r.lineTo(c.x,c.y)}}_t(Tn,"id","logarithmic"),_t(Tn,"defaults",{ticks:{callback:Ie.formatters.logarithmic,major:{enabled:!0}}});class Ps extends Us{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=hi(Pn(this.options)/2),e=this.width=this.maxWidth-i.width,a=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+e/2+i.left),this.yCenter=Math.floor(this.top+a/2+i.top),this.drawingArea=Math.floor(Math.min(e,a)/2)}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!1);this.min=ge(i)&&!isNaN(i)?i:0,this.max=ge(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Pn(this.options))}generateTickLabels(i){Us.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((e,a)=>{const r=Ae(this.options.pointLabels.callback,[e,a],this);return r||0===r?r:""}).filter((e,a)=>this.chart.getDataVisibility(a))}fit(){const i=this.options;i.display&&i.pointLabels.display?function pd(s){const i={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},i),a=[],r=[],c=s._pointLabels.length,u=s.options.pointLabels,x=u.centerPointLabels?It/c:0;for(let y=0;y<c;y++){const k=u.setContext(s.getPointLabelContext(y));r[y]=k.padding;const S=s.getPointPosition(y,s.drawingArea+r[y],x),L=qe(k.font),D=ud(s.ctx,L,s._pointLabels[y]);a[y]=D;const X=b(s.getIndexAngle(y)+x),j=Math.round(g(X));xd(e,i,X,xo(j,S.x,D.w,0,180),xo(j,S.y,D.h,90,270))}s.setCenterPoint(i.l-e.l,e.r-i.r,i.t-e.t,e.b-i.b),s._pointLabelItems=function fd(s,i,e){const a=[],r=s._pointLabels.length,c=s.options,{centerPointLabels:u,display:x}=c.pointLabels,y={extra:Pn(c)/2,additionalAngle:u?It/r:0};let k;for(let S=0;S<r;S++){y.padding=e[S],y.size=i[S];const L=gd(s,S,y);a.push(L),"auto"===x&&(L.visible=md(L,k),L.visible&&(k=L))}return a}(s,a,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,e,a,r){this.xCenter+=Math.floor((i-e)/2),this.yCenter+=Math.floor((a-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,e,a,r))}getIndexAngle(i){return b(i*(Ot/(this._pointLabels.length||1))+p(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(Pt(i))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*e:(i-this.min)*e}getValueForDistanceFromCenter(i){if(Pt(i))return NaN;const e=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(i){const e=this._pointLabels||[];if(i>=0&&i<e.length){const a=e[i];return function Td(s,i,e){return Ri(s,{label:e,index:i,type:"pointLabel"})}(this.getContext(),i,a)}}getPointPosition(i,e,a=0){const r=this.getIndexAngle(i)-le+a;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(i,e){return this.getPointPosition(i,this.getDistanceFromCenterForValue(e))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:e,top:a,right:r,bottom:c}=this._pointLabelItems[i];return{left:e,top:a,right:r,bottom:c}}drawBackground(){const{backgroundColor:i,grid:{circular:e}}=this.options;if(i){const a=this.ctx;a.save(),a.beginPath(),go(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),a.closePath(),a.fillStyle=i,a.fill(),a.restore()}}drawGrid(){const i=this.ctx,e=this.options,{angleLines:a,grid:r,border:c}=e,u=this._pointLabels.length;let x,y,k;if(e.pointLabels.display&&function kd(s,i){const{ctx:e,options:{pointLabels:a}}=s;for(let r=i-1;r>=0;r--){const c=s._pointLabelItems[r];if(!c.visible)continue;const u=a.setContext(s.getPointLabelContext(r));Md(e,u,c);const x=qe(u.font),{x:y,y:k,textAlign:S}=c;Gt(e,s._pointLabels[r],y,k+x.lineHeight/2,x,{color:u.color,textAlign:S,textBaseline:"middle"})}}(this,u),r.display&&this.ticks.forEach((S,L)=>{if(0!==L||0===L&&this.min<0){y=this.getDistanceFromCenterForValue(S.value);const D=this.getContext(L),X=r.setContext(D),j=c.setContext(D);!function _d(s,i,e,a,r){const c=s.ctx,u=i.circular,{color:x,lineWidth:y}=i;!u&&!a||!x||!y||e<0||(c.save(),c.strokeStyle=x,c.lineWidth=y,c.setLineDash(r.dash),c.lineDashOffset=r.dashOffset,c.beginPath(),go(s,e,u,a),c.closePath(),c.stroke(),c.restore())}(this,X,y,u,j)}}),a.display){for(i.save(),x=u-1;x>=0;x--){const S=a.setContext(this.getPointLabelContext(x)),{color:L,lineWidth:D}=S;!D||!L||(i.lineWidth=D,i.strokeStyle=L,i.setLineDash(S.borderDash),i.lineDashOffset=S.borderDashOffset,y=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),k=this.getPointPosition(x,y),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(k.x,k.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,e=this.options,a=e.ticks;if(!a.display)return;const r=this.getIndexAngle(0);let c,u;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(r),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((x,y)=>{if(0===y&&this.min>=0&&!e.reverse)return;const k=a.setContext(this.getContext(y)),S=qe(k.font);if(c=this.getDistanceFromCenterForValue(this.ticks[y].value),k.showLabelBackdrop){i.font=S.string,u=i.measureText(x.label).width,i.fillStyle=k.backdropColor;const L=hi(k.backdropPadding);i.fillRect(-u/2-L.left,-c-S.size/2-L.top,u+L.width,S.size+L.height)}Gt(i,x.label,0,-c,S,{color:k.color,strokeColor:k.textStrokeColor,strokeWidth:k.textStrokeWidth})}),i.restore()}drawTitle(){}}_t(Ps,"id","radialLinear"),_t(Ps,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ie.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:s=>s,padding:5,centerPointLabels:!1}}),_t(Ps,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),_t(Ps,"descriptors",{angleLines:{_fallback:"grid"}});const Js={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gi=Object.keys(Js);function mo(s,i){return s-i}function fo(s,i){if(Pt(i))return null;const e=s._adapter,{parser:a,round:r,isoWeekday:c}=s._parseOpts;let u=i;return"function"==typeof a&&(u=a(u)),ge(u)||(u="string"==typeof a?e.parse(u,a):e.parse(u)),null===u?null:(r&&(u="week"!==r||!o(c)&&!0!==c?e.startOf(u,r):e.startOf(u,"isoWeek",c)),+u)}function bo(s,i,e,a){const r=gi.length;for(let c=gi.indexOf(s);c<r-1;++c){const u=Js[gi[c]];if(u.common&&Math.ceil((e-i)/((u.steps?u.steps:Number.MAX_SAFE_INTEGER)*u.size))<=a)return gi[c]}return gi[r-1]}function yo(s,i,e){if(e){if(e.length){const{lo:a,hi:r}=F(e,i);s[e[a]>=i?e[a]:e[r]]=!0}}else s[i]=!0}function vo(s,i,e){const a=[],r={},c=i.length;let u,x;for(u=0;u<c;++u)x=i[u],r[x]=u,a.push({value:x,major:!1});return 0!==c&&e?function Sd(s,i,e,a){const r=s._adapter,c=+r.startOf(i[0].value,a),u=i[i.length-1].value;let x,y;for(x=c;x<=u;x=+r.add(x,1,a))y=e[x],y>=0&&(i[y].major=!0);return i}(s,a,r,e):a}let Cn=(()=>{class s extends Gi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,a={}){const r=e.time||(e.time={}),c=this._adapter=new Dr__date(e.adapters.date);c.init(a),Te(r.displayFormats,c.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=a.normalized}parse(e,a){return void 0===e?null:fo(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,a=this._adapter,r=e.time.unit||"day";let{min:c,max:u,minDefined:x,maxDefined:y}=this.getUserBounds();function k(S){!x&&!isNaN(S.min)&&(c=Math.min(c,S.min)),!y&&!isNaN(S.max)&&(u=Math.max(u,S.max))}(!x||!y)&&(k(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&k(this.getMinMax(!1))),c=ge(c)&&!isNaN(c)?c:+a.startOf(Date.now(),r),u=ge(u)&&!isNaN(u)?u:+a.endOf(Date.now(),r)+1,this.min=Math.min(c,u-1),this.max=Math.max(c+1,u)}_getLabelBounds(){const e=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(a=e[0],r=e[e.length-1]),{min:a,max:r}}buildTicks(){const e=this.options,a=e.time,r=e.ticks,c="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&c.length&&(this.min=this._userMin||c[0],this.max=this._userMax||c[c.length-1]);const u=this.min,y=function A(s,i,e){let a=0,r=s.length;for(;a<r&&s[a]<i;)a++;for(;r>a&&s[r-1]>e;)r--;return a>0||r<s.length?s.slice(a,r):s}(c,u,this.max);return this._unit=a.unit||(r.autoSkip?bo(a.minUnit,this.min,this.max,this._getLabelCapacity(u)):function Pd(s,i,e,a,r){for(let c=gi.length-1;c>=gi.indexOf(e);c--){const u=gi[c];if(Js[u].common&&s._adapter.diff(r,a,u)>=i-1)return u}return gi[e?gi.indexOf(e):0]}(this,y.length,a.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function Cd(s){for(let i=gi.indexOf(s)+1,e=gi.length;i<e;++i)if(Js[gi[i]].common)return gi[i]}(this._unit):void 0,this.initOffsets(c),e.reverse&&y.reverse(),vo(this,y,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let c,u,a=0,r=0;this.options.offset&&e.length&&(c=this.getDecimalForValue(e[0]),a=1===e.length?1-c:(this.getDecimalForValue(e[1])-c)/2,u=this.getDecimalForValue(e[e.length-1]),r=1===e.length?u:(u-this.getDecimalForValue(e[e.length-2]))/2);const x=e.length<3?.5:.25;a=h(a,0,x),r=h(r,0,x),this._offsets={start:a,end:r,factor:1/(a+1+r)}}_generate(){const e=this._adapter,a=this.min,r=this.max,c=this.options,u=c.time,x=u.unit||bo(u.minUnit,a,r,this._getLabelCapacity(a)),y=$t(c.ticks.stepSize,1),k="week"===x&&u.isoWeekday,S=o(k)||!0===k,L={};let X,j,D=a;if(S&&(D=+e.startOf(D,"isoWeek",k)),D=+e.startOf(D,S?"day":x),e.diff(r,a,x)>1e5*y)throw new Error(a+" and "+r+" are too far apart with stepSize of "+y+" "+x);const J="data"===c.ticks.source&&this.getDataTimestamps();for(X=D,j=0;X<r;X=+e.add(X,y,x),j++)yo(L,X,J);return(X===r||"ticks"===c.bounds||1===j)&&yo(L,X,J),Object.keys(L).sort(mo).map(K=>+K)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,a){return this._adapter.format(e,a||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,a,r,c){const u=this.options,x=u.ticks.callback;if(x)return Ae(x,[e,a,r],this);const y=u.time.displayFormats,k=this._unit,S=this._majorUnit,D=S&&y[S],X=r[a];return this._adapter.format(e,c||(S&&D&&X&&X.major?D:k&&y[k]))}generateTickLabels(e){let a,r,c;for(a=0,r=e.length;a<r;++a)c=e[a],c.label=this._tickFormatFunction(c.value,a,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const a=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((a.start+r)*a.factor)}getValueForPixel(e){const a=this._offsets,r=this.getDecimalForPixel(e)/a.factor-a.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const a=this.options.ticks,r=this.ctx.measureText(e).width,c=p(this.isHorizontal()?a.maxRotation:a.minRotation),u=Math.cos(c),x=Math.sin(c),y=this._resolveTickFontOptions(0).size;return{w:r*u+y*x,h:r*x+y*u}}_getLabelCapacity(e){const a=this.options.time,r=a.displayFormats,c=r[a.unit]||r.millisecond,u=this._tickFormatFunction(e,0,vo(this,[e],this._majorUnit),c),x=this._getLabelSize(u),y=Math.floor(this.isHorizontal()?this.width/x.w:this.height/x.h)-1;return y>0?y:1}getDataTimestamps(){let a,r,e=this._cache.data||[];if(e.length)return e;const c=this.getMatchingVisibleMetas();if(this._normalized&&c.length)return this._cache.data=c[0].controller.getAllParsedValues(this);for(a=0,r=c.length;a<r;++a)e=e.concat(c[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let a,r;if(e.length)return e;const c=this.getLabels();for(a=0,r=c.length;a<r;++a)e.push(fo(this,c[a]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return et(e.sort(mo))}}return _t(s,"id","time"),_t(s,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),s})();function Ks(s,i,e){let c,u,x,y,a=0,r=s.length-1;e?(i>=s[a].pos&&i<=s[r].pos&&({lo:a,hi:r}=T(s,"pos",i)),({pos:c,time:x}=s[a]),({pos:u,time:y}=s[r])):(i>=s[a].time&&i<=s[r].time&&({lo:a,hi:r}=T(s,"time",i)),({time:c,pos:x}=s[a]),({time:u,pos:y}=s[r]));const k=u-c;return k?x+(y-x)*(i-c)/k:x}class Sn extends Cn{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(i);this._minPos=Ks(e,this.min),this._tableRange=Ks(e,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:e,max:a}=this,r=[],c=[];let u,x,y,k,S;for(u=0,x=i.length;u<x;++u)k=i[u],k>=e&&k<=a&&r.push(k);if(r.length<2)return[{time:e,pos:0},{time:a,pos:1}];for(u=0,x=r.length;u<x;++u)S=r[u+1],y=r[u-1],k=r[u],Math.round((S+y)/2)!==k&&c.push({time:k,pos:u/(x-1)});return c}_generate(){const i=this.min,e=this.max;let a=super.getDataTimestamps();return(!a.includes(i)||!a.length)&&a.splice(0,0,i),(!a.includes(e)||1===a.length)&&a.push(e),a.sort((r,c)=>r-c)}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const e=this.getDataTimestamps(),a=this.getLabelTimestamps();return i=e.length&&a.length?this.normalize(e.concat(a)):e.length?e:a,i=this._cache.all=i,i}getDecimalForValue(i){return(Ks(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const e=this._offsets,a=this.getDecimalForPixel(i)/e.factor-e.end;return Ks(this._table,a*this._tableRange+this._minPos,!0)}}_t(Sn,"id","timeseries"),_t(Sn,"defaults",Cn.defaults),xn.register(Ir,dh,nd,Object.freeze({__proto__:null,CategoryScale:ld,LinearScale:_n,LogarithmicScale:Tn,RadialLinearScale:Ps,TimeScale:Cn,TimeSeriesScale:Sn}));const Bd=xn}}]);