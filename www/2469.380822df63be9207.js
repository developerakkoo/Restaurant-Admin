"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2469],{2469:(F,P,i)=>{i.r(P),i.d(P,{PartnersPageModule:()=>y});var u=i(177),h=i(4341),s=i(4488),p=i(8986),g=i(467),t=i(4438),m=i(4796);function _(e,c){if(1&e){const a=t.RV6();t.j41(0,"ion-content",42)(1,"ion-list")(2,"ion-item",43),t.bIt("click",function(){t.eBV(a);const o=t.XpG(2).$implicit,r=t.XpG(2);return t.Njj(r.openDishViewPage(null==o||null==o.hotels[0]?null:o.hotels[0]._id))}),t.nrm(3,"ion-icon",33),t.j41(4,"ion-label"),t.EFF(5,"View Dishes"),t.k0s()(),t.j41(6,"ion-item",43),t.bIt("click",function(){t.eBV(a);const o=t.XpG(2).$implicit,r=t.XpG(2);return t.Njj(r.openAddDishPage(null==o||null==o.hotels[0]?null:o.hotels[0]._id))}),t.nrm(7,"ion-icon",44),t.j41(8,"ion-label"),t.EFF(9,"Add Dish"),t.k0s()()()()}}function f(e,c){if(1&e&&(t.qex(0),t.j41(1,"ion-badge",39),t.nrm(2,"ion-icon",40),t.EFF(3," Dish "),t.k0s(),t.j41(4,"ion-popover",41),t.DNE(5,_,10,0,"ng-template"),t.k0s(),t.bVm()),2&e){const a=t.XpG().$implicit;t.R7$(),t.Y8G("id","hover-trigger-"+a._id),t.R7$(3),t.Y8G("trigger","hover-trigger-"+a._id)}}function C(e,c){if(1&e){const a=t.RV6();t.j41(0,"ion-badge",45),t.bIt("click",function(){t.eBV(a);const o=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.openLocationPage(o._id))}),t.nrm(1,"ion-icon",46),t.EFF(2," Add Hotel "),t.k0s()}}function b(e,c){if(1&e){const a=t.RV6();t.j41(0,"tr",24)(1,"td",25),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.j41(4,"td",26),t.EFF(5),t.k0s(),t.j41(6,"td",27),t.EFF(7),t.k0s(),t.j41(8,"td",28),t.EFF(9),t.k0s(),t.j41(10,"td",29),t.EFF(11),t.k0s(),t.j41(12,"td",30)(13,"div",31)(14,"ion-badge",32),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG(2);return t.Njj(r.openViewPage(o._id))}),t.nrm(15,"ion-icon",33),t.EFF(16," View "),t.k0s(),t.j41(17,"ion-badge",34),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG(2);return t.Njj(r.presentAlertConfirmForDelete(o._id,o.hotels._id))}),t.nrm(18,"ion-icon",35),t.EFF(19," Delete "),t.k0s(),t.DNE(20,f,6,2,"ng-container",36)(21,C,3,0,"ng-template",null,0,t.C5r),t.j41(23,"div",37)(24,"ion-toggle",38),t.bIt("ionChange",function(){const o=t.eBV(a).$implicit,r=t.XpG(2);return t.Njj(r.openhotel(null==o?null:o.hotels[0]))}),t.k0s()()()()()}if(2&e){const a=c.$implicit,n=t.sdS(22);t.R7$(2),t.JRh(t.i5U(3,9,a.createdAt,"shortDate")),t.R7$(3),t.JRh(a.name),t.R7$(2),t.JRh((null==a||null==a.hotels[0]?null:a.hotels[0].hotelName)||"N/A"),t.R7$(2),t.JRh(a.phoneNumber),t.R7$(2),t.JRh(a.email),t.R7$(9),t.Y8G("ngIf",0!==(null==a?null:a.hotels.length))("ngIfElse",n),t.R7$(4),t.Y8G("enableOnOffLabels",!0)("checked",!0===(null==a||null==a.hotels[0]?null:a.hotels[0].isOnline))}}function M(e,c){if(1&e&&(t.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"h3"),t.EFF(4,"Partner List"),t.k0s(),t.j41(5,"ion-badge",20),t.EFF(6),t.k0s()(),t.j41(7,"div",21)(8,"table",22)(9,"thead")(10,"tr")(11,"th"),t.EFF(12,"Date"),t.k0s(),t.j41(13,"th"),t.EFF(14,"Partner Name"),t.k0s(),t.j41(15,"th"),t.EFF(16,"Restaurant Name"),t.k0s(),t.j41(17,"th"),t.EFF(18,"Phone No"),t.k0s(),t.j41(19,"th"),t.EFF(20,"Email"),t.k0s(),t.j41(21,"th"),t.EFF(22,"Actions"),t.k0s()()(),t.j41(23,"tbody"),t.DNE(24,b,25,12,"tr",23),t.k0s()()()()()),2&e){const a=t.XpG();t.R7$(6),t.SpI("",a.partner.length," Partners"),t.R7$(18),t.Y8G("ngForOf",a.partner)}}function O(e,c){if(1&e){const a=t.RV6();t.j41(0,"div",47),t.nrm(1,"ion-icon",48),t.j41(2,"h3"),t.EFF(3,"No Partners Found!"),t.k0s(),t.j41(4,"p"),t.EFF(5,"Start by adding your first restaurant partner"),t.k0s(),t.j41(6,"ion-button",49),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.openPartnerRegisterPage())}),t.nrm(7,"ion-icon",11),t.EFF(8," Add Partner "),t.k0s()()}}const v=[{path:"",component:(()=>{var e;class c{constructor(n,o,r,l,d){this.auth=n,this.router=o,this.alertController=r,this.loadingController=l,this.toastController=d,this.partner=[],this.currentPage=1,this.totalPages=1,this.pageSize=10,this.query="",this.status=0}ngOnInit(){console.log("PartnersPage initialized")}ionViewDidEnter(){this.getAllPartners()}segmentChanged(n){console.log(n.detail.value),this.status=n.detail.value,this.getAllPartners()}presentToast(n){var o=this;return(0,g.A)(function*(){(yield o.toastController.create({message:n,duration:3e3,animated:!0})).present()})()}getAllPartners(){var n=this;return(0,g.A)(function*(){var o;n.auth.getAllPartners(n.query,1,100,"","",n.status).subscribe({next:(o=(0,g.A)(function*(r){console.log(r),n.partner=r.data.content,n.totalPages=r.data.totalPages}),function(l){return o.apply(this,arguments)}),error:function(){var o=(0,g.A)(function*(r){console.log(r.error)});return function(l){return o.apply(this,arguments)}}()})})()}onSearchChange(n){console.log(n.detail.value),this.query=n.detail.value,this.getAllPartners()}openPartnerRegisterPage(){this.router.navigate(["folder","partners","add"])}viewNotifications(){}openhotel(n){var r,o=this;console.log(n),null!=n&&null!=n?!0===n.isOnline?this.auth.setHotelLiveStatus(0,n._id).subscribe({next:(r=(0,g.A)(function*(l){console.log(l),o.getAllPartners()}),function(d){return r.apply(this,arguments)}),error:function(){var r=(0,g.A)(function*(l){console.log(l)});return function(d){return r.apply(this,arguments)}}()}):!1===n.isOnline&&this.auth.setHotelLiveStatus(1,n._id).subscribe({next:function(){var r=(0,g.A)(function*(l){console.log(l),o.getAllPartners()});return function(d){return r.apply(this,arguments)}}(),error:function(){var r=(0,g.A)(function*(l){console.log(l)});return function(d){return r.apply(this,arguments)}}()}):this.presentToast("You need to add hotel First.")}closehotel(n){}openLocationPage(n){console.log(n),this.router.navigate(["folder","partners","map",n])}openAddDishPage(n){console.log(n),this.router.navigate(["folder","partners","dish",n])}openDishViewPage(n){this.router.navigate(["folder","partners","dish",n,"view",n])}openViewPage(n){console.log(n),this.router.navigate(["folder","partners","view",n])}presentAlertConfirmForDelete(n,o){var r=this;return(0,g.A)(function*(){yield(yield r.alertController.create({header:"Confirm!",message:"Are you sure you want to delete the partner?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel: blah")}},{text:"Okay",handler:()=>{console.log("Confirm Okay"),r.deletePartner(n)}}]})).present()})()}deletePartner(n){var r,o=this;this.auth.deletePartnerComplete(n).subscribe({next:(r=(0,g.A)(function*(l){console.log(l),o.getAllPartners()}),function(d){return r.apply(this,arguments)}),error:function(){var r=(0,g.A)(function*(l){console.log(l),o.getAllPartners()});return function(d){return r.apply(this,arguments)}}()})}}return(e=c).\u0275fac=function(n){return new(n||e)(t.rXU(m.u),t.rXU(p.Ix),t.rXU(s.hG),t.rXU(s.Xi),t.rXU(s.K_))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-partners"]],decls:29,vars:5,consts:[["addHotel",""],[1,"ion-no-border",3,"translucent"],["color","primary","slot","end","fill","clear",3,"click"],["slot","icon-only","name","notifications-circle-outline"],["slot","icon-only","name","chatbox-ellipses-outline"],["mode","ios","placeholder","Search partners...","inputmode","decimal","type","decimal","showCancelButton","always",3,"ionChange","debounce"],[1,"ion-padding",3,"fullscreen"],[1,"page-header"],[1,"header-content"],[1,"title-section"],["fill","solid","color","primary",3,"click"],["name","add","slot","start"],["value","0",1,"filter-segment",3,"ionChange"],["value","0"],["value","1"],["class","table-container",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"table-container"],[1,"table-card"],[1,"table-header"],["color","primary"],[1,"table-responsive"],[1,"modern-table"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"date-cell"],[1,"name-cell"],[1,"restaurant-cell"],[1,"phone-cell"],[1,"email-cell"],[1,"actions-cell"],[1,"action-buttons"],["color","secondary","mode","ios",1,"action-badge",3,"click"],["name","eye-outline","slot","start"],["color","danger","mode","ios",1,"action-badge",3,"click"],["name","trash-outline","slot","start"],[4,"ngIf","ngIfElse"],[1,"toggle-container"],["slot","end",3,"ionChange","enableOnOffLabels","checked"],["color","warning","mode","ios",1,"action-badge",3,"id"],["name","restaurant-outline","slot","start"],["triggerAction","click",3,"trigger"],[1,"ion-padding"],["lines","full",3,"click"],["name","add-outline","slot","start"],["color","primary","mode","ios",1,"action-badge",3,"click"],["name","business-outline","slot","start"],[1,"empty-state"],["name","people-outline",1,"empty-icon"],["fill","outline",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Partners"),t.k0s(),t.j41(4,"ion-button",2),t.bIt("click",function(){return o.viewNotifications()}),t.nrm(5,"ion-icon",3),t.k0s(),t.j41(6,"ion-button",2),t.bIt("click",function(){return o.viewNotifications()}),t.nrm(7,"ion-icon",4),t.k0s()(),t.j41(8,"ion-searchbar",5),t.bIt("ionChange",function(l){return o.onSearchChange(l)}),t.k0s()(),t.j41(9,"ion-content",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h2"),t.EFF(14,"\u{1f468}\u200d\u{1f373} Partner Management"),t.k0s(),t.j41(15,"p"),t.EFF(16,"Manage your restaurant partners and their details"),t.k0s()(),t.j41(17,"ion-button",10),t.bIt("click",function(){return o.openPartnerRegisterPage()}),t.nrm(18,"ion-icon",11),t.EFF(19," Add New Partner "),t.k0s()()(),t.j41(20,"ion-segment",12),t.bIt("ionChange",function(l){return o.segmentChanged(l)}),t.j41(21,"ion-segment-button",13)(22,"ion-label"),t.EFF(23,"Active"),t.k0s()(),t.j41(24,"ion-segment-button",14)(25,"ion-label"),t.EFF(26,"Blocked"),t.k0s()()(),t.DNE(27,M,25,2,"div",15)(28,O,9,0,"div",16),t.k0s()),2&n&&(t.Y8G("translucent",!0),t.R7$(8),t.Y8G("debounce",250),t.R7$(),t.Y8G("fullscreen",!0),t.R7$(18),t.Y8G("ngIf",o.partner.length>0),t.R7$(),t.Y8G("ngIf",0===o.partner.length))},dependencies:[u.Sq,u.bT,s.In,s.Jm,s.W9,s.eU,s.iq,s.uz,s.he,s.nf,s.S1,s.Gp,s.eP,s.BC,s.BY,s.ai,s.CF,s.hB,s.Je,s.Gw,u.vh],styles:[".page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 4px;font-size:24px;font-weight:600;color:var(--ion-color-dark)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium);font-size:14px}.filter-segment[_ngcontent-%COMP%]{margin-bottom:24px;--background: var(--ion-color-light);--border-radius: 12px}.table-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #00000014;overflow:hidden}.table-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:var(--ion-color-light);border-bottom:1px solid var(--ion-color-light-shade)}.table-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:var(--ion-color-dark)}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--ion-color-light)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px 12px;text-align:left;font-weight:600;font-size:14px;color:var(--ion-color-dark);border-bottom:2px solid var(--ion-color-light-shade);white-space:nowrap}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{transition:all .2s ease;border-bottom:1px solid var(--ion-color-light-shade)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background:var(--ion-color-light)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 12px;vertical-align:middle;font-size:14px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.date-cell[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-weight:500}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.name-cell[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-dark)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.restaurant-cell[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-weight:500}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.phone-cell[_ngcontent-%COMP%]{font-family:monospace;color:var(--ion-color-dark)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.email-cell[_ngcontent-%COMP%]{color:var(--ion-color-medium);word-break:break-all}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   td.actions-cell[_ngcontent-%COMP%]{min-width:200px}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;align-items:center}.action-buttons[_ngcontent-%COMP%]   .action-badge[_ngcontent-%COMP%]{font-size:12px;font-weight:500;padding:6px 12px;border-radius:8px;cursor:pointer;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .action-badge[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #00000026}.action-buttons[_ngcontent-%COMP%]   .action-badge[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.action-buttons[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{margin-left:auto}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;text-align:center;color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:600;color:var(--ion-color-dark)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;font-size:14px;line-height:1.4}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{text-align:center}.modern-table[_ngcontent-%COMP%]{font-size:12px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px}.modern-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:4px}.modern-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-badge[_ngcontent-%COMP%]{font-size:10px;padding:4px 8px}.table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{padding:16px;flex-direction:column;gap:8px;text-align:center}}.table-row[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]}),c})()},{path:"add",loadChildren:()=>i.e(2873).then(i.bind(i,2873)).then(e=>e.AddPageModule)},{path:"map/:id",loadChildren:()=>Promise.all([i.e(2076),i.e(4125)]).then(i.bind(i,4125)).then(e=>e.MapPageModule)},{path:"hotels/:lat/:lng/:id",loadChildren:()=>Promise.all([i.e(2076),i.e(1067)]).then(i.bind(i,1067)).then(e=>e.HotelsPageModule)},{path:"dish/:id",loadChildren:()=>i.e(1813).then(i.bind(i,1813)).then(e=>e.DishPageModule)},{path:"view/:id",loadChildren:()=>Promise.all([i.e(2076),i.e(6489)]).then(i.bind(i,6489)).then(e=>e.ViewPageModule)},{path:"settle/:id",loadChildren:()=>Promise.all([i.e(2076),i.e(9913)]).then(i.bind(i,9913)).then(e=>e.SettlePageModule)}];let x=(()=>{var e;class c{}return(e=c).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[p.iI.forChild(v),p.iI]}),c})(),y=(()=>{var e;class c{}return(e=c).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[u.MD,h.YN,s.bv,x]}),c})()}}]);