"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2008],{2008:(E,f,u)=>{u.r(f),u.d(f,{CustomerPageModule:()=>x});var g=u(177),h=u(4341),r=u(4488),d=u(8986),c=u(467),e=u(4438),_=u(4796);function p(t,a){1&t&&(e.j41(0,"ion-text",17)(1,"h1"),e.EFF(2," No Users Found! "),e.k0s()())}function C(t,a){if(1&t){const o=e.RV6();e.j41(0,"ion-badge",26),e.bIt("click",function(){e.eBV(o);const s=e.XpG().$implicit,i=e.XpG(2);return e.Njj(i.block(s._id))}),e.EFF(1,"Block"),e.k0s()}}function b(t,a){if(1&t){const o=e.RV6();e.j41(0,"ion-badge",27),e.bIt("click",function(){e.eBV(o);const s=e.XpG().$implicit,i=e.XpG(2);return e.Njj(i.unblock(s._id))}),e.EFF(1,"Unblock"),e.k0s()}}function v(t,a){1&t&&(e.j41(0,"ion-badge",28),e.EFF(1,"Online"),e.k0s())}function k(t,a){1&t&&(e.j41(0,"ion-badge",28),e.EFF(1,"Offline"),e.k0s())}function F(t,a){if(1&t){const o=e.RV6();e.j41(0,"tr")(1,"th"),e.EFF(2),e.k0s(),e.j41(3,"th"),e.EFF(4),e.k0s(),e.j41(5,"th"),e.EFF(6),e.k0s(),e.j41(7,"th"),e.EFF(8),e.k0s(),e.j41(9,"th")(10,"ion-badge",22),e.bIt("click",function(){const s=e.eBV(o).$implicit,i=e.XpG(2);return e.Njj(i.openDetailsPage(s._id))}),e.EFF(11,"View"),e.k0s(),e.DNE(12,C,2,0,"ion-badge",23)(13,b,2,0,"ion-badge",24),e.k0s(),e.j41(14,"th"),e.DNE(15,v,2,0,"ion-badge",25)(16,k,2,0,"ion-badge",25),e.k0s()()}if(2&t){const o=a.$implicit;e.R7$(2),e.JRh(null==o?null:o.name),e.R7$(2),e.JRh(null==o?null:o.phoneNumber),e.R7$(2),e.JRh(null==o?null:o.orderCount),e.R7$(2),e.JRh((null==o||null==o.userAddresses||null==o.userAddresses[0]?null:o.userAddresses[0].address)||"No Address Added"),e.R7$(4),e.Y8G("ngIf",0==o.status),e.R7$(),e.Y8G("ngIf",1==o.status),e.R7$(2),e.Y8G("ngIf",!0===(null==o?null:o.isOnline)),e.R7$(),e.Y8G("ngIf",!1===(null==o?null:o.isOnline))}}function j(t,a){if(1&t&&(e.j41(0,"div",18)(1,"table",19)(2,"thead")(3,"tr")(4,"th",20),e.EFF(5,"Customer name"),e.k0s(),e.j41(6,"th",20),e.EFF(7,"Phone no"),e.k0s(),e.j41(8,"th",20),e.EFF(9,"Orders"),e.k0s(),e.j41(10,"th",20),e.EFF(11,"Address"),e.k0s(),e.j41(12,"th",20),e.EFF(13,"Action"),e.k0s(),e.j41(14,"th",20),e.EFF(15,"Status"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,F,17,8,"tr",21),e.k0s()()()),2&t){const o=e.XpG();e.R7$(17),e.Y8G("ngForOf",o.users)}}const P=[{path:"",component:(()=>{var t;class a{constructor(n,s,i){this.auth=n,this.loadingController=s,this.router=i,this.users=[],this.query="",this.status="",this.isBlocked=0}ngOnInit(){}onSearchChange(n){console.log(n.detail.value),this.query=n.detail.value,this.getAllCustomers()}ionViewDidEnter(){this.getAllCustomers()}filterEvent(n){console.log(n.detail.value),this.status=n.detail.value,this.getAllCustomers()}getAllCustomers(){var n=this;return(0,c.A)(function*(){var s;n.auth.getAllCustomers(n.query,1,50,"","",n.status,n.isBlocked).subscribe({next:(s=(0,c.A)(function*(i){console.log(i),n.users=i.data.content}),function(l){return s.apply(this,arguments)}),error:function(){var s=(0,c.A)(function*(i){console.log(i.error)});return function(l){return s.apply(this,arguments)}}()})})()}viewNotifications(){}openDetailsPage(n){this.router.navigate(["folder","customer","view",n])}segmentChanged(n){console.log(n.detail.value),this.isBlocked=n.detail.value,this.getAllCustomers()}block(n){var i,s=this;this.auth.blockUnblockCustomer({userId:n,status:1}).subscribe({next:(i=(0,c.A)(function*(l){console.log(l),s.getAllCustomers()}),function(m){return i.apply(this,arguments)}),error:function(){var i=(0,c.A)(function*(l){console.log(l)});return function(m){return i.apply(this,arguments)}}()})}unblock(n){var i,s=this;this.auth.blockUnblockCustomer({userId:n,status:0}).subscribe({next:(i=(0,c.A)(function*(l){console.log(l),s.getAllCustomers()}),function(m){return i.apply(this,arguments)}),error:function(){var i=(0,c.A)(function*(l){console.log(l)});return function(m){return i.apply(this,arguments)}}()})}}return(t=a).\u0275fac=function(n){return new(n||t)(e.rXU(_.u),e.rXU(r.Xi),e.rXU(d.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-customer"]],decls:35,vars:5,consts:[[3,"translucent"],["color","primary","slot","end","fill","clear",3,"click"],["slot","icon-only","name","notifications-circle-outline"],["slot","icon-only","name","chatbox-ellipses-outline"],["mode","ios","placeholder","Search here","inputmode","decimal","type","decimal","showCancelButton","always",3,"ionChange","debounce"],[3,"fullscreen"],["color","primary","class","ion-text-center",4,"ngIf"],["size","6"],["lines","none"],[1,"container"],["value","All","fill","outline","interface","popover","placeholder","Select Status",3,"ionChange"],["value","true"],["value","false"],["value","0",3,"ionChange"],["value","0"],["value","1"],["class","table-responsive",4,"ngIf"],["color","primary",1,"ion-text-center"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["color","danger","mode","ios",1,"ion-padding",2,"cursor","pointer",3,"click"],["style","cursor: pointer;","class","ion-padding ion-margin-start","color","success","mode","ios",3,"click",4,"ngIf"],["style","cursor: pointer;","class","ion-padding ion-margin-start","color","tertiary","mode","ios",3,"click",4,"ngIf"],["class","ion-padding","color","danger","mode","ios",4,"ngIf"],["color","success","mode","ios",1,"ion-padding","ion-margin-start",2,"cursor","pointer",3,"click"],["color","tertiary","mode","ios",1,"ion-padding","ion-margin-start",2,"cursor","pointer",3,"click"],["color","danger","mode","ios",1,"ion-padding"]],template:function(n,s){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Customers"),e.k0s(),e.j41(4,"ion-button",1),e.bIt("click",function(){return s.viewNotifications()}),e.nrm(5,"ion-icon",2),e.k0s(),e.j41(6,"ion-button",1),e.bIt("click",function(){return s.viewNotifications()}),e.nrm(7,"ion-icon",3),e.k0s()(),e.j41(8,"ion-searchbar",4),e.bIt("ionChange",function(l){return s.onSearchChange(l)}),e.k0s()(),e.j41(9,"ion-content",5),e.DNE(10,p,3,0,"ion-text",6),e.j41(11,"ion-grid")(12,"ion-row")(13,"ion-col",7)(14,"ion-item",8)(15,"ion-label"),e.EFF(16,"Users "),e.j41(17,"p"),e.EFF(18,"Your users here"),e.k0s()()()(),e.j41(19,"ion-col",7)(20,"div",9)(21,"ion-item",8)(22,"ion-select",10),e.bIt("ionChange",function(l){return s.filterEvent(l)}),e.j41(23,"ion-select-option",11),e.EFF(24,"Online"),e.k0s(),e.j41(25,"ion-select-option",12),e.EFF(26,"Offline"),e.k0s()()()()()()(),e.j41(27,"ion-segment",13),e.bIt("ionChange",function(l){return s.segmentChanged(l)}),e.j41(28,"ion-segment-button",14)(29,"ion-label"),e.EFF(30,"Active"),e.k0s()(),e.j41(31,"ion-segment-button",15)(32,"ion-label"),e.EFF(33,"Blocked"),e.k0s()()(),e.DNE(34,j,18,1,"div",16),e.k0s()),2&n&&(e.Y8G("translucent",!0),e.R7$(8),e.Y8G("debounce",250),e.R7$(),e.Y8G("fullscreen",!1),e.R7$(),e.Y8G("ngIf",0==s.users.length),e.R7$(24),e.Y8G("ngIf",s.users.length>0))},dependencies:[g.Sq,g.bT,r.In,r.Jm,r.hU,r.W9,r.lO,r.eU,r.iq,r.uz,r.he,r.ln,r.S1,r.Gp,r.eP,r.Nm,r.Ip,r.IO,r.BC,r.ai,r.Je,r.Gw],styles:[".top-container[_ngcontent-%COMP%]{width:100vw;height:auto;display:flex;flex-direction:row;justify-content:space-between;align-items:center;background-color:#00f}.title-div[_ngcontent-%COMP%]{width:20vw}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:10px;align-items:center;width:auto}ion-select[_ngcontent-%COMP%]{min-width:200px;--max-width: 400px}.badge[_ngcontent-%COMP%]{height:57px;width:149px;border-radius:8px;display:flex;justify-content:center;align-items:center}.badge[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{background-color:#f5dbe0;color:#ff5b5b}"]}),a})()},{path:"view/:id",loadChildren:()=>u.e(9246).then(u.bind(u,9246)).then(t=>t.ViewPageModule)}];let y=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[d.iI.forChild(P),d.iI]}),a})(),x=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.MD,h.YN,r.bv,y]}),a})()}}]);