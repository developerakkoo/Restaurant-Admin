"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1813],{1813:(I,f,u)=>{u.r(f),u.d(f,{DishPageModule:()=>j});var g=u(177),a=u(4341),l=u(4488),h=u(8986),p=u(467),e=u(4438),b=u(4796);const k=()=>[0,.25,.5,.75];function _(n,c){if(1&n&&(e.j41(0,"ion-select-option",23),e.EFF(1),e.k0s()),2&n){const r=c.$implicit;e.Y8G("value",r._id),e.R7$(),e.JRh(r.hotelName)}}function v(n,c){if(1&n&&(e.j41(0,"ion-select-option",23),e.EFF(1),e.k0s()),2&n){const r=c.$implicit;e.Y8G("value",r._id),e.R7$(),e.JRh(r.name)}}function F(n,c){if(1&n){const r=e.RV6();e.j41(0,"ion-header",24)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Upload a Hotel Image"),e.k0s(),e.j41(4,"ion-buttons",25)(5,"ion-button",26),e.bIt("click",function(){e.eBV(r);const t=e.XpG();return e.Njj(t.setOpen(!1))}),e.EFF(6,"Close"),e.k0s()()()(),e.j41(7,"ion-content",27)(8,"div",28)(9,"input",29,0),e.bIt("change",function(t){e.eBV(r);const i=e.XpG();return e.Njj(i.uploadImage(t))}),e.k0s(),e.j41(11,"ion-button",30),e.bIt("click",function(){e.eBV(r);const t=e.sdS(10);return e.Njj(t.click())}),e.EFF(12," Select and Upload "),e.k0s()()()}}const y=[{path:"",component:(()=>{var n;class c{constructor(o,t,i,s,d){this.auth=o,this.router=t,this.toastController=i,this.fb=s,this.loadingController=d,this.hotels=[],this.categories=[],this.isDishImageUploadModalOpen=!1,this.form=this.fb.group({hotelId:[,[a.k0.required]],categoryId:[,[a.k0.required]],name:[,[a.k0.required]],dishType:[,[a.k0.required]],partnerPrice:[,[a.k0.required]],spicLevel:[,[a.k0.required]],stock:[,[a.k0.required]],timeToPrepare:[30]})}ngOnInit(){}ionViewDidEnter(){this.loadCategory(),this.getAllHotels()}loadCategory(){var t,o=this;this.auth.getAllCategory().subscribe({next:(t=(0,p.A)(function*(i){console.log(i),o.categories=i.data.content}),function(s){return t.apply(this,arguments)}),error:function(){var t=(0,p.A)(function*(i){console.log(i.error)});return function(s){return t.apply(this,arguments)}}()})}presentToast(o,t,i,s){var d=this;return(0,p.A)(function*(){(yield d.toastController.create({message:o,duration:t,color:i,position:s})).present()})()}uploadImage(o){var t=this;let i=o.target.files[0];console.log(i);let s=new FormData;var d;s.append("document",i,i.name),s.append("dishId",this.dishId),this.auth.uploadDishImage(s).subscribe({next:(d=(0,p.A)(function*(m){console.log(m),t.setOpen(!1),t.presentToast("Dish Addedd Successfully",2e3,"success","bottom"),setTimeout(()=>{t.router.navigate(["folder","partners"])},2e3)}),function(P){return d.apply(this,arguments)}),error:function(){var d=(0,p.A)(function*(m){console.log(m),t.presentToast("Image Upload Failed",2e3,"danger","bottom")});return function(P){return d.apply(this,arguments)}}()})}setOpen(o){this.isDishImageUploadModalOpen=o}onSubmit(){var o=this;return(0,p.A)(function*(){o.form.valid&&(console.log(o.form.value),o.auth.addProduct(o.form.value).subscribe({next:t=>{console.log(t),o.dishId=t.data._id,o.setOpen(!0)},error:t=>{console.log(t.error),o.setOpen(!1)}}))})()}getAllHotels(){var o=this;return(0,p.A)(function*(){let t=yield o.loadingController.create({message:"loading..."});var i;yield t.present(),o.auth.getAllHotelsPartner().subscribe({next:(i=(0,p.A)(function*(s){console.log(s),o.hotels=s.data,yield t.dismiss()}),function(d){return i.apply(this,arguments)}),error:function(){var i=(0,p.A)(function*(s){console.log(s),yield t.dismiss()});return function(d){return i.apply(this,arguments)}}()})})()}viewNotifications(){}}return(n=c).\u0275fac=function(o){return new(o||n)(e.rXU(b.u),e.rXU(h.Ix),e.rXU(l.K_),e.rXU(a.ok),e.rXU(l.Xi))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-dish"]],decls:60,vars:10,consts:[["f",""],[3,"translucent"],["color","primary","slot","end","fill","clear",3,"click"],["slot","icon-only","name","notifications-circle-outline"],["slot","icon-only","name","chatbox-ellipses-outline"],[3,"fullscreen"],[3,"ngSubmit","formGroup"],["formControlName","hotelId","multiple","false","placeholder","Select here","interface","popover"],[3,"value",4,"ngFor","ngForOf"],["formControlName","categoryId","multiple","false","placeholder","Select here","interface","popover"],["formControlName","name","type","text","fill","outline","label","Menu Name","labelPlacement","stacked","placeholder","Menu Name"],["formControlName","dishType","value","veg","multiple","false","placeholder","Veg/Non-Veg"],["value","veg"],["value","non-veg"],["formControlName","partnerPrice","type","text","fill","outline","label","Menu Price","labelPlacement","stacked","placeholder","Menu Price"],["formControlName","stock","value","1","multiple","false","placeholder","In Stock/ Out of Stock"],["value","1"],["value","0"],["formControlName","spicLevel","value","0","multiple","false","placeholder","Veg/Non-Veg"],["value","2"],["value","3"],["expand","block","color","primary","type","submit",3,"disabled"],[3,"isOpen","initialBreakpoint","breakpoints"],[3,"value"],[1,"ion-no-border"],["slot","end"],[3,"click"],[1,"ion-padding"],[1,"image-upload-container"],["hidden","","type","file","name","","id","",3,"change"],["expand","block","fill","outline","shape","round",3,"click"]],template:function(o,t){1&o&&(e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Dish"),e.k0s(),e.j41(4,"ion-button",2),e.bIt("click",function(){return t.viewNotifications()}),e.nrm(5,"ion-icon",3),e.k0s(),e.j41(6,"ion-button",2),e.bIt("click",function(){return t.viewNotifications()}),e.nrm(7,"ion-icon",4),e.k0s()()(),e.j41(8,"ion-content",5)(9,"form",6),e.bIt("ngSubmit",function(){return t.onSubmit()}),e.j41(10,"ion-item")(11,"ion-label"),e.EFF(12,"Select Hotel"),e.k0s(),e.j41(13,"ion-select",7),e.DNE(14,_,2,2,"ion-select-option",8),e.k0s()(),e.nrm(15,"br"),e.j41(16,"ion-item")(17,"ion-label"),e.EFF(18,"Category"),e.k0s(),e.j41(19,"ion-select",9),e.DNE(20,v,2,2,"ion-select-option",8),e.k0s()(),e.nrm(21,"br")(22,"ion-input",10)(23,"br"),e.j41(24,"ion-item")(25,"ion-label"),e.EFF(26,"Dish Type"),e.k0s(),e.j41(27,"ion-select",11)(28,"ion-select-option",12),e.EFF(29,"Veg"),e.k0s(),e.j41(30,"ion-select-option",13),e.EFF(31,"Non-veg"),e.k0s()()(),e.nrm(32,"br")(33,"ion-input",14)(34,"br"),e.j41(35,"ion-item")(36,"ion-label"),e.EFF(37,"In Stock"),e.k0s(),e.j41(38,"ion-select",15)(39,"ion-select-option",16),e.EFF(40,"Yes"),e.k0s(),e.j41(41,"ion-select-option",17),e.EFF(42,"No"),e.k0s()()(),e.nrm(43,"br"),e.j41(44,"ion-item")(45,"ion-label"),e.EFF(46,"Spice Level"),e.k0s(),e.j41(47,"ion-select",18)(48,"ion-select-option",17),e.EFF(49,"Mild"),e.k0s(),e.j41(50,"ion-select-option",16),e.EFF(51,"Little Spicy"),e.k0s(),e.j41(52,"ion-select-option",19),e.EFF(53,"Medium Spicy"),e.k0s(),e.j41(54,"ion-select-option",20),e.EFF(55,"Very Spicy"),e.k0s()()(),e.j41(56,"ion-button",21),e.EFF(57," Add Product "),e.k0s()(),e.j41(58,"ion-modal",22),e.DNE(59,F,13,0,"ng-template"),e.k0s()()),2&o&&(e.Y8G("translucent",!0),e.R7$(8),e.Y8G("fullscreen",!0),e.R7$(),e.Y8G("formGroup",t.form),e.R7$(5),e.Y8G("ngForOf",t.hotels),e.R7$(6),e.Y8G("ngForOf",t.categories),e.R7$(36),e.Y8G("disabled",t.form.invalid),e.R7$(2),e.Y8G("isOpen",t.isDishImageUploadModalOpen)("initialBreakpoint",.75)("breakpoints",e.lJ4(9,k)))},dependencies:[g.Sq,a.qT,a.BC,a.cb,a.j4,a.JD,l.Jm,l.QW,l.W9,l.eU,l.iq,l.$w,l.uz,l.he,l.Nm,l.Ip,l.BC,l.ai,l.Sb,l.Je,l.Gw]}),c})()}];let D=(()=>{var n;class c{}return(n=c).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[h.iI.forChild(y),h.iI]}),c})(),j=(()=>{var n;class c{}return(n=c).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[g.MD,a.YN,a.X1,l.bv,D]}),c})()}}]);