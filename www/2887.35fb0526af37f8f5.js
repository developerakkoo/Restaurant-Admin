"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2887],{2887:(G,h,d)=>{d.r(h),d.d(h,{LoginPageModule:()=>j});var f=d(177),r=d(4341),l=d(4488),p=d(8986),u=d(467),e=d(4438),P=d(4796),F=d(8490);const b=n=>({"is-invalid":n});function L(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Email is required"),e.k0s())}function k(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Enter a valid email"),e.k0s())}function y(n,i){if(1&n&&(e.j41(0,"div",19),e.DNE(1,L,2,0,"div",20)(2,k,2,0,"div",20),e.k0s()),2&n){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.email.errors.required),e.R7$(),e.Y8G("ngIf",s.f.email.errors.email)}}function C(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Password is required"),e.k0s())}function _(n,i){1&n&&(e.j41(0,"div"),e.EFF(1,"Minimum 6 characters"),e.k0s())}function E(n,i){if(1&n&&(e.j41(0,"div",19),e.DNE(1,C,2,0,"div",20)(2,_,2,0,"div",20),e.k0s()),2&n){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.password.errors.required),e.R7$(),e.Y8G("ngIf",s.f.password.errors.minlength)}}const I=[{path:"",component:(()=>{var n;class i{constructor(o,t,m,a,g,c,v){this.menuController=o,this.formBuilder=t,this.auth=m,this.data=a,this.router=g,this.loadingController=c,this.toastController=v,this.submitted=!1,this.menuController.enable(!1),this.loginForm=this.formBuilder.group({email:["admindropeat@email.com",[r.k0.required,r.k0.email,r.k0.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["Pass@123",[r.k0.required,r.k0.minLength(6)]]})}ngOnInit(){}get f(){return this.loginForm.controls}presentToast(o,t,m,a){var g=this;return(0,u.A)(function*(){(yield g.toastController.create({message:o,duration:t,position:m,color:a})).present()})()}onSubmit(){var o=this;return(0,u.A)(function*(){if(o.submitted=!0,o.loginForm.invalid)return;let t=yield o.loadingController.create({message:"Logging in...",duration:5e3});var m;yield t.present(),o.auth.login(o.loginForm.value).subscribe({next:(m=(0,u.A)(function*(a){console.log(a);let g=a.accessToken,c=a.refreshToken,v=a.userId;yield o.data.set("accessToken",g),yield o.data.set("refreshToken",c),yield o.data.set("userId",v),yield t.dismiss(),o.presentToast("Login Successfull!",2e3,"top","success"),o.router.navigate(["folder","dash"])}),function(g){return m.apply(this,arguments)}),error:function(){var m=(0,u.A)(function*(a){console.log(a),yield t.dismiss(),o.presentToast(a.error.message,3e3,"top","danger")});return function(g){return m.apply(this,arguments)}}()})})()}}return(n=i).\u0275fac=function(o){return new(o||n)(e.rXU(l._t),e.rXU(r.ok),e.rXU(P.u),e.rXU(F.u),e.rXU(p.Ix),e.rXU(l.Xi),e.rXU(l.K_))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],decls:28,vars:11,consts:[[1,"ion-no-border",3,"translucent"],["color","light",1,"ion-text-center","shadow-sm"],[1,"fw-bold"],[1,"animated","fadeIn",3,"fullscreen"],["fixed","",1,"ion-margin-top"],[1,"justify-content-center"],["size","12","size-md","6","size-lg","4"],[1,"card","p-4","shadow","rounded","animate__animated","animate__fadeInDown"],[1,"text-center","mb-3"],["src","assets/logo.svg","alt","DropEat Logo",1,"mb-3","animate__animated","animate__zoomIn",2,"max-height","80px"],[1,"text-muted"],["novalidate","",3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],[1,"fw-medium"],["type","email","formControlName","email","placeholder","Enter your email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","mb-4"],["type","password","formControlName","password","placeholder","Enter your password",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-danger","w-100","fw-bold","animate__animated","animate__fadeInUp"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,t){1&o&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title",2),e.EFF(3,"\u{1f510} Login to DropEat Admin"),e.k0s()()(),e.j41(4,"ion-content",3)(5,"ion-grid",4)(6,"ion-row",5)(7,"ion-col",6)(8,"div",7)(9,"div",8),e.nrm(10,"img",9),e.j41(11,"h4",2),e.EFF(12,"Welcome Back!"),e.k0s(),e.j41(13,"p",10),e.EFF(14,"Sign in to manage restaurants & orders"),e.k0s()(),e.j41(15,"form",11),e.bIt("ngSubmit",function(){return t.onSubmit()}),e.j41(16,"div",12)(17,"label",13),e.EFF(18,"Email"),e.k0s(),e.nrm(19,"input",14),e.DNE(20,y,3,2,"div",15),e.k0s(),e.j41(21,"div",16)(22,"label",13),e.EFF(23,"Password"),e.k0s(),e.nrm(24,"input",17),e.DNE(25,E,3,2,"div",15),e.k0s(),e.j41(26,"button",18),e.EFF(27,"Login"),e.k0s()()()()()()()),2&o&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(11),e.Y8G("formGroup",t.loginForm),e.R7$(4),e.Y8G("ngClass",e.eq3(7,b,t.submitted&&t.f.email.errors)),e.R7$(),e.Y8G("ngIf",t.submitted&&t.f.email.errors),e.R7$(4),e.Y8G("ngClass",e.eq3(9,b,t.submitted&&t.f.password.errors)),e.R7$(),e.Y8G("ngIf",t.submitted&&t.f.password.errors))},dependencies:[f.YU,f.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,l.hU,l.W9,l.lO,l.eU,l.ln,l.BC,l.ai],styles:["ion-title[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}.card[_ngcontent-%COMP%]{border:none;background-color:#fff}.form-control[_ngcontent-%COMP%]{border-radius:.5rem}.btn[_ngcontent-%COMP%]{padding:.75rem 1.25rem;font-size:1rem;border-radius:.5rem}"]}),i})()}];let T=(()=>{var n;class i{}return(n=i).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[p.iI.forChild(I),p.iI]}),i})(),j=(()=>{var n;class i{}return(n=i).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.MD,r.YN,r.X1,l.bv,T]}),i})()}}]);