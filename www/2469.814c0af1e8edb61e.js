"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2469],{2469:(y,m,l)=>{l.r(m),l.d(m,{PartnersPageModule:()=>C});var g=l(177),p=l(4341),a=l(4488),h=l(8986),u=l(467),e=l(4438),f=l(4796);function P(r,c){if(1&r){const i=e.RV6();e.j41(0,"ion-content",32)(1,"ion-list")(2,"ion-item",33),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2).$implicit,n=e.XpG();return e.Njj(n.openDishViewPage(null==o||null==o.hotels[0]?null:o.hotels[0]._id))}),e.j41(3,"ion-label"),e.EFF(4,"View"),e.k0s()(),e.j41(5,"ion-item",33),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2).$implicit,n=e.XpG();return e.Njj(n.openAddDishPage(null==o||null==o.hotels[0]?null:o.hotels[0]._id))}),e.j41(6,"ion-label"),e.EFF(7,"Add"),e.k0s()()()()}}function b(r,c){1&r&&(e.qex(0),e.j41(1,"ion-badge",30),e.EFF(2," Dish "),e.k0s(),e.j41(3,"ion-popover",31),e.DNE(4,P,8,0,"ng-template"),e.k0s(),e.bVm())}function F(r,c){if(1&r){const i=e.RV6();e.j41(0,"ion-badge",34),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,n=e.XpG();return e.Njj(n.openLocationPage(o._id))}),e.EFF(1," Add Hotel "),e.k0s()}}function v(r,c){if(1&r){const i=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td")(13,"div",24)(14,"ion-badge",25),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.openViewPage(o._id))}),e.EFF(15," View "),e.k0s(),e.j41(16,"ion-badge",26),e.bIt("click",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.presentAlertConfirmForDelete(o._id,o.hotels._id))}),e.EFF(17," Delete "),e.k0s(),e.DNE(18,b,5,0,"ng-container",27)(19,F,2,0,"ng-template",null,0,e.C5r),e.j41(21,"div",28)(22,"ion-toggle",29),e.bIt("ionChange",function(){const o=e.eBV(i).$implicit,n=e.XpG();return e.Njj(n.openhotel(null==o?null:o.hotels[0]))}),e.k0s()()()()()}if(2&r){const i=c.$implicit,t=e.sdS(20);e.R7$(2),e.JRh(e.i5U(3,9,i.createdAt,"shortDate")),e.R7$(3),e.JRh(i.name),e.R7$(2),e.JRh((null==i||null==i.hotels[0]?null:i.hotels[0].hotelName)||"N/A"),e.R7$(2),e.JRh(i.phoneNumber),e.R7$(2),e.JRh(i.email),e.R7$(7),e.Y8G("ngIf",0!==(null==i?null:i.hotels.length))("ngIfElse",t),e.R7$(4),e.Y8G("enableOnOffLabels",!0)("checked",!0===(null==i||null==i.hotels[0]?null:i.hotels[0].isOnline))}}function _(r,c){1&r&&(e.j41(0,"ion-text",35)(1,"h1"),e.EFF(2,"No Partners Found!"),e.k0s()())}const j=[{path:"",component:(()=>{var r;class c{constructor(t,o,n,s,d){this.auth=t,this.router=o,this.alertController=n,this.loadingController=s,this.toastController=d,this.partner=[],this.currentPage=1,this.totalPages=1,this.pageSize=10,this.query="",this.status=0}ngOnInit(){console.log("PartnersPage initialized")}ionViewDidEnter(){this.getAllPartners()}segmentChanged(t){console.log(t.detail.value),this.status=t.detail.value,this.getAllPartners()}presentToast(t){var o=this;return(0,u.A)(function*(){(yield o.toastController.create({message:t,duration:3e3,animated:!0})).present()})()}getAllPartners(){var t=this;return(0,u.A)(function*(){var o;t.auth.getAllPartners(t.query,1,100,"","",t.status).subscribe({next:(o=(0,u.A)(function*(n){console.log(n),t.partner=n.data.content,t.totalPages=n.data.totalPages}),function(s){return o.apply(this,arguments)}),error:function(){var o=(0,u.A)(function*(n){console.log(n.error)});return function(s){return o.apply(this,arguments)}}()})})()}onSearchChange(t){console.log(t.detail.value),this.query=t.detail.value,this.getAllPartners()}openPartnerRegisterPage(){this.router.navigate(["folder","partners","add"])}viewNotifications(){}openhotel(t){var n,o=this;console.log(t),null!=t&&null!=t?!0===t.isOnline?this.auth.setHotelLiveStatus(0,t._id).subscribe({next:(n=(0,u.A)(function*(s){console.log(s),o.getAllPartners()}),function(d){return n.apply(this,arguments)}),error:function(){var n=(0,u.A)(function*(s){console.log(s)});return function(d){return n.apply(this,arguments)}}()}):!1===t.isOnline&&this.auth.setHotelLiveStatus(1,t._id).subscribe({next:function(){var n=(0,u.A)(function*(s){console.log(s),o.getAllPartners()});return function(d){return n.apply(this,arguments)}}(),error:function(){var n=(0,u.A)(function*(s){console.log(s)});return function(d){return n.apply(this,arguments)}}()}):this.presentToast("You need to add hotel First.")}closehotel(t){}openLocationPage(t){console.log(t),this.router.navigate(["folder","partners","map",t])}openAddDishPage(t){console.log(t),this.router.navigate(["folder","partners","dish",t])}openDishViewPage(t){this.router.navigate(["folder","partners","dish",t,"view",t])}openViewPage(t){console.log(t),this.router.navigate(["folder","partners","view",t])}presentAlertConfirmForDelete(t,o){var n=this;return(0,u.A)(function*(){yield(yield n.alertController.create({header:"Confirm!",message:"Are you sure you want to delete the partner?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel: blah")}},{text:"Okay",handler:()=>{console.log("Confirm Okay"),n.deletePartner(t)}}]})).present()})()}deletePartner(t){var n,o=this;this.auth.deletePartnerComplete(t).subscribe({next:(n=(0,u.A)(function*(s){console.log(s),o.getAllPartners()}),function(d){return n.apply(this,arguments)}),error:function(){var n=(0,u.A)(function*(s){console.log(s),o.getAllPartners()});return function(d){return n.apply(this,arguments)}}()})}}return(r=c).\u0275fac=function(t){return new(t||r)(e.rXU(f.u),e.rXU(h.Ix),e.rXU(a.hG),e.rXU(a.Xi),e.rXU(a.K_))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-partners"]],decls:54,vars:5,consts:[["addHotel",""],[1,"ion-no-border",3,"translucent"],["color","primary","slot","end","fill","clear",3,"click"],["slot","icon-only","name","notifications-circle-outline"],["slot","icon-only","name","chatbox-ellipses-outline"],["mode","ios","placeholder","Search here","inputmode","decimal","type","decimal","showCancelButton","always",3,"ionChange","debounce"],[1,"ion-padding",3,"fullscreen"],["size","9"],["lines","none"],["size","3"],["expand","block",3,"click"],["value","0",3,"ionChange"],["value","0"],["value","1"],[1,"table-responsive"],[1,"card","shadow-sm","mb-4"],[1,"card-header","d-flex","justify-content-between","align-items-center","bg-light"],[1,"mb-0"],[1,"bi","bi-people-fill","text-secondary","fs-5"],[1,"card-body","p-0"],[1,"table","table-hover","table-bordered","mb-0"],[1,"table-secondary"],[4,"ngFor","ngForOf"],["color","primary","class","ion-text-center",4,"ngIf"],[1,"d-flex","flex-wrap","align-items-center","gap-2","gap-md-3","p-2"],["color","secondary","mode","ios",1,"btn","btn-sm","mx-2",3,"click"],["color","danger","mode","ios",1,"btn","btn-sm","mx-2",3,"click"],[4,"ngIf","ngIfElse"],[1,"ms-md-3","mt-2","mt-md-0"],["slot","end",3,"ionChange","enableOnOffLabels","checked"],["color","warning","mode","ios","id","hover-trigger",1,"btn","btn-sm","mx-2"],["trigger","hover-trigger","triggerAction","click"],[1,"ion-padding"],["lines","full",3,"click"],["color","primary","mode","ios",1,"btn","btn-sm","mx-2",3,"click"],["color","primary",1,"ion-text-center"]],template:function(t,o){1&t&&(e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Partners"),e.k0s(),e.j41(4,"ion-button",2),e.bIt("click",function(){return o.viewNotifications()}),e.nrm(5,"ion-icon",3),e.k0s(),e.j41(6,"ion-button",2),e.bIt("click",function(){return o.viewNotifications()}),e.nrm(7,"ion-icon",4),e.k0s()(),e.j41(8,"ion-searchbar",5),e.bIt("ionChange",function(s){return o.onSearchChange(s)}),e.k0s()(),e.j41(9,"ion-content",6)(10,"ion-grid")(11,"ion-row")(12,"ion-col",7)(13,"ion-item",8)(14,"ion-label"),e.EFF(15,"Partners "),e.j41(16,"p"),e.EFF(17,"Your partenrs here"),e.k0s()()()(),e.j41(18,"ion-col",9)(19,"ion-button",10),e.bIt("click",function(){return o.openPartnerRegisterPage()}),e.EFF(20," Add new Partner "),e.k0s()()()(),e.j41(21,"ion-segment",11),e.bIt("ionChange",function(s){return o.segmentChanged(s)}),e.j41(22,"ion-segment-button",12)(23,"ion-label"),e.EFF(24,"Active"),e.k0s()(),e.j41(25,"ion-segment-button",13)(26,"ion-label"),e.EFF(27,"Blocked"),e.k0s()()(),e.j41(28,"div",14)(29,"div",15)(30,"div",16)(31,"h5",17),e.EFF(32,"\u{1f468}\u200d\u{1f373} Partner List"),e.k0s(),e.nrm(33,"i",18),e.k0s(),e.j41(34,"div",19)(35,"div",14)(36,"table",20)(37,"thead",21)(38,"tr")(39,"th"),e.EFF(40,"Date"),e.k0s(),e.j41(41,"th"),e.EFF(42,"Partner Name"),e.k0s(),e.j41(43,"th"),e.EFF(44,"Restaurant Name"),e.k0s(),e.j41(45,"th"),e.EFF(46,"Phone No"),e.k0s(),e.j41(47,"th"),e.EFF(48,"Email"),e.k0s(),e.j41(49,"th"),e.EFF(50,"Action"),e.k0s()()(),e.j41(51,"tbody"),e.DNE(52,v,23,12,"tr",22),e.k0s()()()()(),e.DNE(53,_,3,0,"ion-text",23),e.k0s()()),2&t&&(e.Y8G("translucent",!0),e.R7$(8),e.Y8G("debounce",250),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(43),e.Y8G("ngForOf",o.partner),e.R7$(),e.Y8G("ngIf",0===o.partner.length))},dependencies:[g.Sq,g.bT,a.In,a.Jm,a.hU,a.W9,a.lO,a.eU,a.iq,a.uz,a.he,a.nf,a.ln,a.S1,a.Gp,a.eP,a.IO,a.BC,a.BY,a.ai,a.CF,a.hB,a.Je,a.Gw,g.vh],styles:[".top-container[_ngcontent-%COMP%]{width:100vw;height:auto;display:flex;flex-direction:row;justify-content:space-between;align-items:center;background-color:#00f}.title-div[_ngcontent-%COMP%]{width:20vw}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:10px;align-items:center;width:auto}ion-select[_ngcontent-%COMP%]{min-width:200px;--max-width: 400px}.badge[_ngcontent-%COMP%]{height:57px;width:149px;border-radius:8px;display:flex;justify-content:center;align-items:center}.badge[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{background-color:#f5dbe0;color:#ff5b5b}"]}),c})()},{path:"add",loadChildren:()=>l.e(2873).then(l.bind(l,2873)).then(r=>r.AddPageModule)},{path:"map/:id",loadChildren:()=>Promise.all([l.e(7762),l.e(2076),l.e(4223)]).then(l.bind(l,4223)).then(r=>r.MapPageModule)},{path:"hotels/:lat/:lng/:id",loadChildren:()=>Promise.all([l.e(2076),l.e(1067)]).then(l.bind(l,1067)).then(r=>r.HotelsPageModule)},{path:"dish/:id",loadChildren:()=>l.e(1813).then(l.bind(l,1813)).then(r=>r.DishPageModule)},{path:"view/:id",loadChildren:()=>l.e(6489).then(l.bind(l,6489)).then(r=>r.ViewPageModule)}];let x=(()=>{var r;class c{}return(r=c).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[h.iI.forChild(j),h.iI]}),c})(),C=(()=>{var r;class c{}return(r=c).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[g.MD,p.YN,a.bv,x]}),c})()}}]);