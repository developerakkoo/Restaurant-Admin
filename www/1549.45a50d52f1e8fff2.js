(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1549],{7636:(ds,es)=>{var bi;(function(){function He(T,B){T.prototype=function Ie(T){function B(){}return B.prototype=T,new B}(B.prototype),T.prototype.constructor=T,T.base=B.prototype}function _t(T,B,W){return"millisecond"===W?T.setMilliseconds(T.getMilliseconds()+1*B):"second"===W?T.setSeconds(T.getSeconds()+1*B):"minute"===W?T.setMinutes(T.getMinutes()+1*B):"hour"===W?T.setHours(T.getHours()+1*B):"day"===W?T.setDate(T.getDate()+1*B):"week"===W?T.setDate(T.getDate()+7*B):"month"===W?T.setMonth(T.getMonth()+1*B):"year"===W&&T.setFullYear(T.getFullYear()+1*B),T}function ft(T,B){var W=!1;for(0>T&&(W=!0,T*=-1),T=""+T,B=B||1;T.length<B;)T="0"+T;return W?"-"+T:T}function $e(T){if(!T)return T;for(var B=/\s/,W=(T=T.replace(/^\s\s*/,"")).length;B.test(T.charAt(--W)););return T.slice(0,W+1)}function oi(T){T.roundRect=function(B,W,q,pt,Mt,nt,It,Et){It&&(this.fillStyle=It),Et&&(this.strokeStyle=Et),typeof Mt>"u"&&(Mt=5),this.lineWidth=nt,this.beginPath(),this.moveTo(B+Mt,W),this.lineTo(B+q-Mt,W),this.quadraticCurveTo(B+q,W,B+q,W+Mt),this.lineTo(B+q,W+pt-Mt),this.quadraticCurveTo(B+q,W+pt,B+q-Mt,W+pt),this.lineTo(B+Mt,W+pt),this.quadraticCurveTo(B,W+pt,B,W+pt-Mt),this.lineTo(B,W+Mt),this.quadraticCurveTo(B,W,B+Mt,W),this.closePath(),It&&this.fill(),Et&&0<nt&&this.stroke()}}function wi(T,B){return T-B}function Nt(T){var B=((16711680&T)>>16).toString(16),W=((65280&T)>>8).toString(16);return T=(255&T).toString(16),"#"+(B=2>B.length?"0"+B:B)+(W=2>W.length?"0"+W:W)+(2>T.length?"0"+T:T)}function ui(T,B){var q,W=this.length>>>0;for(0>(q=0>(q=Number(B)||0)?Math.ceil(q):Math.floor(q))&&(q+=W);q<W;q++)if(q in this&&this[q]===T)return q;return-1}function E(T){return null===T||typeof T>"u"}function We(T){return T.indexOf||(T.indexOf=ui),T}function Si(T,B,W){var q=T+"_"+B+"_"+(W=W||"normal"),pt=se[q];if(isNaN(pt)){try{if(!ge){var Mt=document.body;(ge=document.createElement("span")).innerHTML="";var nt=document.createTextNode("Mpgyi");ge.appendChild(nt),Mt.appendChild(ge)}ge.style.display="",ue(ge,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:T,fontSize:B+"px",fontWeight:W}),pt=Math.round(ge.offsetHeight),ge.style.display="none"}catch{pt=Math.ceil(1.1*B)}pt=Math.max(pt,B),se[q]=pt}return pt}function mt(T,B){var W=[];if(W={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[T||"solid"])for(var q=0;q<W.length;q++)W[q]*=B;else W=[];return W}function Rt(T,B,W,q,pt){return q=q||[],pt=E(pt)?!!be&&{passive:!1,capture:!1}:pt,q.push([T,B,W,pt]),T.addEventListener?(T.addEventListener(B,W,pt),W):!!T.attachEvent&&(T.attachEvent("on"+B,q=function(Mt){(Mt=Mt||window.event).preventDefault=Mt.preventDefault||function(){Mt.returnValue=!1},Mt.stopPropagation=Mt.stopPropagation||function(){Mt.cancelBubble=!0},W.call(T,Mt)}),q)}function ze(T,B,W){for(T=W.getImageData(T*=De,B*=De,2,2).data,B=!0,W=0;4>W;W++)if(T[W]!==T[W+4]|T[W]!==T[W+8]|T[W]!==T[W+12]){B=!1;break}return B?T[0]<<16|T[1]<<8|T[2]:0}function oe(T,B,W){return T in B?B[T]:W[T]}function ri(T,B,W,q){H&&Ni?(q=!E(q)&&q?T.getContext("2d",{willReadFrequently:!0}):T.getContext("2d"),T.width=B*(De=is/(ss=q.webkitBackingStorePixelRatio||q.mozBackingStorePixelRatio||q.msBackingStorePixelRatio||q.oBackingStorePixelRatio||q.backingStorePixelRatio||1)),T.height=W*De,is!==ss&&(T.style.width=B+"px",T.style.height=W+"px",q.scale(De,De))):(T.width=B,T.height=W)}function Je(T,B,W){Fi&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var q=document.createElement("canvas");return q.setAttribute("class","canvasjs-chart-canvas"),ri(q,T,B,W),H||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(q),q}function ue(T,B){for(var W in B)T.style[W]=B[W]}function Oe(T,B,W){B.getAttribute("state")||(B.style.backgroundColor=T.toolbar.itemBackgroundColor,B.style.color=T.toolbar.fontColor,B.style.border="none",ue(B,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),B.getAttribute("state")!==W&&(B.setAttribute("state",W),B.setAttribute("type","button"),ue(B,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),B.innerHTML="<img src='"+Ss[W].image+"' alt='"+T._cultureInfo[W+"Text"]+"' />",ue(B.childNodes[0],{height:"95%",pointerEvents:"none"})),B.setAttribute("title",T._cultureInfo[W+"Text"])}function ke(){for(var T=null,B=0;B<arguments.length;B++)(T=arguments[B]).style&&(T.style.display="inline")}function Ze(){for(var T=null,B=0;B<arguments.length;B++)(T=arguments[B])&&T.style&&(T.style.display="none")}function _i(T,B,W,q,pt){return null===T||typeof T>"u"?typeof W>"u"?B:W:(T=parseFloat(T.toString())*(0<=T.toString().indexOf("%")?B/100:1),typeof q<"u"&&(T=Math.min(q,T),typeof pt<"u"&&(T=Math.max(pt,T))),!isNaN(T)&&T<=B&&0<=T?T:typeof W>"u"?B:W)}function Me(T,B,W,q,pt){this._defaultsKey=T,this._themeOptionsKey=B,this._index=q,this.parent=pt,this._eventListeners=[],T={},this.theme&&E(this.parent)&&E(B)&&E(q)?T=E(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[B]&&(null===q?T=this.parent.themeOptions[B]:0<this.parent.themeOptions[B].length&&(q=Math.min(this.parent.themeOptions[B].length-1,q),T=this.parent.themeOptions[B][q])),this.themeOptions=T,this.options=W||{_isPlaceholder:!0},this.setOptions(this.options,T)}function Ai(T,B,W,q,pt){typeof pt>"u"&&(pt=0),this._padding=pt,this._x1=T,this._y1=B,this._x2=W,this._y2=q,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function ie(T,B){ie.base.constructor.call(this,"TextBlock",null,B,null,null),this.ctx=T,this._isDirty=!0,this._wrappedText=null,this._initialize()}function mi(T,B){mi.base.constructor.call(this,"Toolbar","toolbar",B,null,T),this.chart=T,this.canvas=T.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function vi(T,B){if(vi.base.constructor.call(this,"Title","title",B,null,T),this.chart=T,this.canvas=T.canvas,this.ctx=this.chart.ctx,this.optionsName="title",E(this.options.margin)&&T.options.subtitles)for(var W=T.options.subtitles,q=0;q<W.length;q++)if((E(W[q].horizontalAlign)&&"center"===this.horizontalAlign||W[q].horizontalAlign===this.horizontalAlign)&&(E(W[q].verticalAlign)&&"top"===this.verticalAlign||W[q].verticalAlign===this.verticalAlign)&&!W[q].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Bi(T,B,W){Bi.base.constructor.call(this,"Subtitle","subtitles",B,W,T),this.chart=T,this.canvas=T.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Pi(){this.pool=[]}function fi(T){var B;T&&Xt[T]&&(B=Xt[T]),fi.base.constructor.call(this,"CultureInfo",null,B,null,null)}var it,gt,ut,zt,re,Fi=!1,ti={},H=!!document.createElement("canvas").getContext,pi={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:H?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:H?"transparent":null,borderColor:H?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:H?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:H?"transparent":null,titleBorderColor:H?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:H?"transparent":null,labelBorderColor:H?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:H?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:H?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:H?"grey":null,labelBorderColor:H?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:H?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,explodeOnClick:!0,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:!1,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:H?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:H?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},Xt={en:{}},V=H?"Trebuchet MS, Helvetica, sans-serif":"Arial",Z=H?"Impact, Charcoal, sans-serif":"Arial",st={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},Be={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:Z,fontSize:32,fontColor:gt="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Z,fontSize:Pt=14,fontColor:gt,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:V,indexLabelFontSize:Pt,indexLabelFontColor:gt,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Kt=20,titleFontColor:gt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:it="#666666",tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re=zt="#000000",color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:gt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:gt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:gt,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:V,fontSize:14,fontColor:gt,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};ut=gt="#F5F5F5",it="#FFFFFF",zt="#40BAF1",re="#F5F5F5";var $t={colorSet:"colorSet2",title:{fontFamily:V,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:V,fontSize:Pt=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:V,indexLabelFontSize:Pt,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Kt=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:V,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};ut=gt="#F5F5F5",Z={colorSet:"colorSet1",backgroundColor:"#2A2A2A",title:{fontFamily:Z,fontSize:32,fontColor:gt,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Z,fontSize:Pt=14,fontColor:gt,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:V,indexLabelFontSize:Pt,indexLabelFontColor:ut,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Kt=20,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it="#FFFFFF",tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re="#F5F5F5",color:zt="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:V,fontSize:14,fontColor:gt,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:ut,backgroundColor:"rgba(0, 0, 0, .7)"}},ut=gt="#FAFAFA";var Kt,Pt,_e={light1:Be,light2:$t,dark1:Z,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:V,fontSize:32,fontColor:gt,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:V,fontSize:Pt=14,fontColor:gt,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:V,indexLabelFontSize:Pt,indexLabelFontColor:ut,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:V,titleFontSize:Kt=20,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it="#FFFFFF",tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re="#F5F5F5",color:zt="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:1,lineColor:it,tickThickness:1,tickColor:it,gridThickness:0,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:0,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:V,titleFontSize:Kt,titleFontColor:ut,titleFontWeight:"normal",labelFontFamily:V,labelFontSize:Pt,labelFontColor:ut,labelFontWeight:"normal",lineThickness:0,lineColor:it,tickThickness:1,tickColor:it,gridThickness:1,gridColor:it,stripLines:[{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:V,labelFontSize:Pt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:re,color:zt,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:V,fontSize:14,fontColor:gt,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:V,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:ut,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:Be,theme2:$t,theme3:Be},Tt={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};ti.fSDec=function(T){for(var B="",W=0;W<T.length;W++)B+=String.fromCharCode(Math.ceil(T.length/57/5)^T.charCodeAt(W));return B},delete pi[ti.fSDec("Bi`su")][ti.fSDec("bsdehuIsdg")],ti.pro={sCH:pi[ti.fSDec("Bi`su")][ti.fSDec("bsdehuIsdg")]};var T,B,W,q,pt,Mt,nt,be=function(){var T=!1;try{var B=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return T=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,B),window.removeEventListener("test",null,B))}catch{T=!1}return T}(),se={},ge=null,ei=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},Zt=function(T){T.width=1,T.height=1,T.getContext("2d")&&T.getContext("2d").clearRect(0,0,1,1)},Js=function(T,B,W){return B=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=B?12:11,Math.round(B*(T/400)))},Li=(T=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,B="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),W="Sun Mon Tue Wed Thu Fri Sat".split(" "),q="January February March April May June July August September October November December".split(" "),pt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Mt=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,nt=/[^-+\dA-Z]/g,function(It,Et,Ut){var Ye=Ut?Ut.days:B,Ce=Ut?Ut.months:q,he=Ut?Ut.shortDays:W,ne=Ut?Ut.shortMonths:pt;Ut="";var qe=!1;if(It=It&&It.getTime?It:It?new Date(It):new Date,isNaN(It))throw SyntaxError("invalid date");"UTC:"===Et.slice(0,4)&&(Et=Et.slice(4),qe=!0);var Fe=It[(Ut=qe?"getUTC":"get")+"Date"](),St=It[Ut+"Day"](),me=It[Ut+"Month"](),t=It[Ut+"FullYear"](),d=It[Ut+"Hours"](),o=It[Ut+"Minutes"](),n=It[Ut+"Seconds"](),l=It[Ut+"Milliseconds"](),p=qe?0:It.getTimezoneOffset();return Et.replace(T,function(g){switch(g){case"D":return Fe;case"DD":return ft(Fe,2);case"DDD":return he[St];case"DDDD":return Ye[St];case"M":return me+1;case"MM":return ft(me+1,2);case"MMM":return ne[me];case"MMMM":return Ce[me];case"Y":return parseInt(String(t).slice(-2));case"YY":return ft(String(t).slice(-2),2);case"YYY":return ft(String(t).slice(-3),3);case"YYYY":return ft(t,4);case"h":return d%12||12;case"hh":return ft(d%12||12,2);case"H":return d;case"HH":return ft(d,2);case"m":return o;case"mm":return ft(o,2);case"s":return n;case"ss":return ft(n,2);case"f":return ft(String(l),3).slice(0,1);case"ff":return ft(String(l),3).slice(0,2);case"fff":return ft(String(l),3).slice(0,3);case"t":return 12>d?"a":"p";case"tt":return 12>d?"am":"pm";case"T":return 12>d?"A":"P";case"TT":return 12>d?"AM":"PM";case"K":return qe?"UTC":(String(It).match(Mt)||[""]).pop().replace(nt,"");case"z":return(0<p?"-":"+")+Math.floor(Math.abs(p)/60);case"zz":return(0<p?"-":"+")+ft(Math.floor(Math.abs(p)/60),2);case"zzz":return(0<p?"-":"+")+ft(Math.floor(Math.abs(p)/60),2)+ft(Math.abs(p)%60,2);default:return g.slice(1,g.length-1)}})}),Ht=function(T,B,W){if(null===T)return"";if(!isFinite(T))return T;var q=0>(T=Number(T));q&&(T*=-1);var pt=W?W.decimalSeparator:".",Mt=W?W.digitGroupSeparator:",",nt="";B=String(B),nt=1;var Fe=W="",It=-1,Et=[],Ut=[],Ye=0,Ce=0,he=0,ne=!1,qe=0;Fe=B.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),B=null;for(var St=0;Fe&&St<Fe.length;St++)if("."===(B=Fe[St])&&0>It)It=St;else{if("%"===B)nt*=100;else{if("\u2030"===B){nt*=1e3;continue}if(","===B[0]&&"."===B[B.length-1]){nt/=Math.pow(1e3,B.length-1),It=St+B.length-1;continue}"E"!==B[0]&&"e"!==B[0]||"0"!==B[B.length-1]||(ne=!0)}0>It?(Et.push(B),"#"===B||"0"===B?Ye++:","===B&&he++):(Ut.push(B),"#"!==B&&"0"!==B||Ce++)}for(ne&&(B=Math.floor(T),Fe=-Math.floor(Math.log(T)/Math.LN10+1),qe=0===T?0:0===B?-(Ye+Fe):function(T){var B=0>T;if(1>Math.abs(T)){var W=parseInt(T.toString().split("e-")[1]);W&&(T=(B?-1*T:T)*Math.pow(10,W-1),T="0."+Array(W).join("0")+T.toString().substring(2),T=B?"-"+T:T)}else 20<(W=parseInt(T.toString().split("+")[1]))&&(W-=20,T=(T/=Math.pow(10,W)).toString()+Array(W+1).join("0"));return String(T)}(B).length-Ye,nt/=Math.pow(10,qe)),0>It&&(It=St),B=(nt=(T*nt).toFixed(Ce)).split("."),nt=(B[0]+"").split(""),T=(B[1]+"").split(""),nt&&"0"===nt[0]&&nt.shift(),ne=Fe=St=Ce=It=0;0<Et.length;)if("#"===(B=Et.pop())||"0"===B)if(++It===Ye){var me=nt;if(nt=[],"0"===B)for(B=Ye-Ce-(me?me.length:0);0<B;)me.unshift("0"),B--;for(;0<me.length;)W=me.pop()+W,++ne%Fe==0&&St===he&&0<me.length&&(W=Mt+W)}else 0<nt.length?(W=nt.pop()+W,Ce++,ne++):"0"===B&&(W="0"+W,Ce++,ne++),ne%Fe==0&&St===he&&0<nt.length&&(W=Mt+W);else"E"!==B[0]&&"e"!==B[0]||"0"!==B[B.length-1]||!/[eE][+-]*[0]+/.test(B)?","===B?(St++,Fe=ne,ne=0,0<nt.length&&(W=Mt+W)):W=1<B.length&&('"'===B[0]&&'"'===B[B.length-1]||"'"===B[0]&&"'"===B[B.length-1])?B.slice(1,B.length-1)+W:B+W:W+=(B=0>qe?B.replace("+","").replace("-",""):B.replace("-","")).replace(/[0]+/,function(t){return ft(qe,t.length)});for(Mt="",Et=!1;0<Ut.length;)"#"===(B=Ut.shift())||"0"===B?0<T.length&&0!==Number(T.join(""))?(Mt+=T.shift(),Et=!0):"0"===B&&(Mt+="0",Et=!0):1<B.length&&('"'===B[0]&&'"'===B[B.length-1]||"'"===B[0]&&"'"===B[B.length-1])?Mt+=B.slice(1,B.length-1):"E"!==B[0]&&"e"!==B[0]||"0"!==B[B.length-1]||!/[eE][+-]*[0]+/.test(B)?Mt+=B:Mt+=(B=0>qe?B.replace("+","").replace("-",""):B.replace("-","")).replace(/[0]+/,function(t){return ft(qe,t.length)});return W+=(Et?pt:"")+Mt,q?"-"+W:W},Wi=function(T){var B=0,W=0;return(T=T||window.event).offsetX||0===T.offsetX?(B=T.offsetX,W=T.offsetY):T.layerX||0==T.layerX?(B=T.layerX,W=T.layerY):(B=T.pageX-T.target.offsetLeft,W=T.pageY-T.target.offsetTop),{x:B,y:W}},Ni=!0,is=window.devicePixelRatio||1,ss=1,De=Ni?is/ss:1,Pe=function(T,B,W,q,pt,Mt,nt,It,Et,Ut,Ye,Ce,he){typeof he>"u"&&(he=1),nt=nt||0,It=It||"black";var ne=15<q-B&&15<pt-W?8:.35*Math.min(q-B,pt-W);T.beginPath(),T.moveTo(B,W),T.save(),T.fillStyle=Mt,T.globalAlpha=he,T.fillRect(B,W,q-B,pt-W),T.globalAlpha=1,0<nt&&(he=nt%2==0?0:.5,T.beginPath(),T.lineWidth=nt,T.strokeStyle=It,T.moveTo(B,W),T.rect(B-he,W-he,q-B+2*he,pt-W+2*he),T.stroke()),T.restore(),!0===Et&&(T.save(),T.beginPath(),T.moveTo(B,W),T.lineTo(B+ne,W+ne),T.lineTo(q-ne,W+ne),T.lineTo(q,W),T.closePath(),(nt=T.createLinearGradient((q+B)/2,W+ne,(q+B)/2,W)).addColorStop(0,Mt),nt.addColorStop(1,"rgba(255, 255, 255, .4)"),T.fillStyle=nt,T.fill(),T.restore()),!0===Ut&&(T.save(),T.beginPath(),T.moveTo(B,pt),T.lineTo(B+ne,pt-ne),T.lineTo(q-ne,pt-ne),T.lineTo(q,pt),T.closePath(),(nt=T.createLinearGradient((q+B)/2,pt-ne,(q+B)/2,pt)).addColorStop(0,Mt),nt.addColorStop(1,"rgba(255, 255, 255, .4)"),T.fillStyle=nt,T.fill(),T.restore()),!0===Ye&&(T.save(),T.beginPath(),T.moveTo(B,W),T.lineTo(B+ne,W+ne),T.lineTo(B+ne,pt-ne),T.lineTo(B,pt),T.closePath(),(nt=T.createLinearGradient(B+ne,(pt+W)/2,B,(pt+W)/2)).addColorStop(0,Mt),nt.addColorStop(1,"rgba(255, 255, 255, 0.1)"),T.fillStyle=nt,T.fill(),T.restore()),!0===Ce&&(T.save(),T.beginPath(),T.moveTo(q,W),T.lineTo(q-ne,W+ne),T.lineTo(q-ne,pt-ne),T.lineTo(q,pt),(nt=T.createLinearGradient(q-ne,(pt+W)/2,q,(pt+W)/2)).addColorStop(0,Mt),nt.addColorStop(1,"rgba(255, 255, 255, 0.1)"),T.fillStyle=nt,nt.addColorStop(0,Mt),nt.addColorStop(1,"rgba(255, 255, 255, 0.1)"),T.fillStyle=nt,T.fill(),T.closePath(),T.restore())},ii=function(T){for(var B="",W=0;W<T.length;W++)B+=String.fromCharCode(Math.ceil(T.length/57/5)^T.charCodeAt(W));return B},Sn=window&&window[ii("mnb`uhno")]&&window[ii("mnb`uhno")].href&&window[ii("mnb`uhno")].href.indexOf&&(-1!==window[ii("mnb`uhno")].href.indexOf(ii("b`ow`rkr/bnl"))||-1!==window[ii("mnb`uhno")].href.indexOf(ii("gdonqhy/bnl"))||-1!==window[ii("mnb`uhno")].href.indexOf(ii("gheemd")))&&-1===window[ii("mnb`uhno")].href.indexOf(ii("gheemd")),Ss={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};Me.prototype.setOptions=function(T,B){if(pi[this._defaultsKey]){var q,W=pi[this._defaultsKey];for(q in W)"publicProperties"!==q&&W.hasOwnProperty(q)&&(this[q]=T&&q in T?T[q]:B&&q in B?B[q]:W[q])}else Fi&&window.console&&console.log("defaults not set")},Me.prototype.get=function(T){var B=pi[this._defaultsKey];return"options"===T?this.options&&this.options._isPlaceholder?null:this.options:B.hasOwnProperty(T)||B.publicProperties&&B.publicProperties.hasOwnProperty(T)?this[T]:void(window.console&&window.console.log('Property "'+T+"\" doesn't exist. Please check for typo."))},Me.prototype.set=function(T,B,W){W=typeof W>"u"||W;var q=pi[this._defaultsKey];if("options"===T)this.createUserOptions(B);else{if(!(q.hasOwnProperty(T)||q.publicProperties&&q.publicProperties.hasOwnProperty(T)&&"readWrite"===q.publicProperties[T]))return void(window.console&&(q.publicProperties&&q.publicProperties.hasOwnProperty(T)&&"readOnly"===q.publicProperties[T]?window.console.log('Property "'+T+'" is read-only.'):window.console.log('Property "'+T+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[T]=B}W&&(this.stockChart||this.chart||this).render()},Me.prototype.addTo=function(T,B,W,q){q=typeof q>"u"||q;var pt=pi[this._defaultsKey];pt.hasOwnProperty(T)||pt.publicProperties&&pt.publicProperties.hasOwnProperty(T)&&"readWrite"===pt.publicProperties[T]?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[T]>"u"&&(this.options[T]=[]),(T=this.options[T]).splice(W=typeof W>"u"||null===W?T.length:W,0,B),q&&(this.stockChart||this.chart||this).render()):window.console&&(pt.publicProperties&&pt.publicProperties.hasOwnProperty(T)&&"readOnly"===pt.publicProperties[T]?window.console.log('Property "'+T+'" is read-only.'):window.console.log('Property "'+T+"\" doesn't exist. Please check for typo."))},Me.prototype.createUserOptions=function(T){if(typeof T<"u"||this.options._isPlaceholder)if(this.parent&&this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var B=this.parent.options[this.optionsName],W=B.length;this.options._isPlaceholder||(We(B),W=B.indexOf(this.options)),this.options=typeof T>"u"?{}:T,B[W]=this.options}else this.options=typeof T>"u"?{}:T,this.parent&&(T=this.parent.options,this.optionsName?B=this.optionsName:(B=this._defaultsKey)&&0!==B.length?(W=B.charAt(0).toLowerCase(),1<B.length&&(W=W.concat(B.slice(1))),B=W):B=void 0,T[B]=this.options)},Me.prototype.remove=function(T){if(T=typeof T>"u"||T,this.isOptionsInArray){var B=this.parent.options[this.optionsName];We(B);var W=B.indexOf(this.options);0<=W&&B.splice(W,1)}else delete this.parent.options[this.optionsName];T&&(this.stockChart||this.chart||this).render()},Me.prototype.updateOption=function(T){!pi[this._defaultsKey]&&Fi&&window.console&&console.log("defaults not set");var B=pi[this._defaultsKey],W={},q=this[T],pt=this._themeOptionsKey,Mt=this._index;return this.theme&&E(this.parent)&&E(pt)&&E(Mt)?W=E(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&(this.options.theme&&_e[this.options.theme]?W=_e[this.options.theme]:this.parent.themeOptions[pt]&&(null===Mt?W=this.parent.themeOptions[pt]:0<this.parent.themeOptions[pt].length&&(W=Math.min(this.parent.themeOptions[pt].length-1,Mt),W=this.parent.themeOptions[pt][W]))),this.themeOptions=W,T in B&&(q=T in this.options?this.options[T]:W&&T in W?W[T]:B[T]),q!==this[T]&&(this[T]=q,!0)},Me.prototype.trackChanges=function(T){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[T]=this.options[T]},Me.prototype.isBeingTracked=function(T){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[T]},Me.prototype.hasOptionChanged=function(T){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[T]!==this.options[T]},Me.prototype.addEventListener=function(T,B,W){T&&B&&(this._eventListeners[T]=this._eventListeners[T]||[],this._eventListeners[T].push({context:W||this,eventHandler:B}))},Me.prototype.removeEventListener=function(T,B){if(T&&B&&this._eventListeners[T])for(var W=this._eventListeners[T],q=0;q<W.length;q++)if(W[q].eventHandler===B){W[q].splice(q,1);break}},Me.prototype.removeAllEventListeners=function(){this._eventListeners=[]},Me.prototype.dispatchEvent=function(T,B,W){if(T&&this._eventListeners[T]){B=B||{};for(var q=this._eventListeners[T],pt=0;pt<q.length;pt++)q[pt].eventHandler.call(q[pt].context,B)}"function"==typeof this[T]&&this[T].call(W||this.chart,B)},Ai.prototype.registerSpace=function(T,B){"top"===T?this._topOccupied+=B.height:"bottom"===T?this._bottomOccupied+=B.height:"left"===T?this._leftOccupied+=B.width:"right"===T&&(this._rightOccupied+=B.width)},Ai.prototype.unRegisterSpace=function(T,B){"top"===T?this._topOccupied-=B.height:"bottom"===T?this._bottomOccupied-=B.height:"left"===T?this._leftOccupied-=B.width:"right"===T&&(this._rightOccupied-=B.width)},Ai.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},Ai.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},He(ie,Me),ie.prototype._initialize=function(){E(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=E(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=E(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=E(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=E(this.padding.left)?0:0|Number(this.padding.left))},ie.prototype.render=function(T){if(0!==this.fontSize){T&&this.ctx.save();var B=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var W=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+W),"middle"===this.textBaseline&&(W=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var q=0,pt=this.topPadding,Mt=null;for(this.ctx.roundRect||oi(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,W,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,W=0;W<this._wrappedText.lines.length;W++)Mt=this._wrappedText.lines[W],"right"===this.horizontalAlign||"right"===this.textAlign?q=this.width-Mt.width-this.rightPadding:"left"===this.horizontalAlign||"left"===this.textAlign?q=this.leftPadding:("center"===this.horizontalAlign||"center"===this.textAlign)&&(q=(this.width-(this.leftPadding+this.rightPadding))/2-Mt.width/2+this.leftPadding),this.ctx.fillText(Mt.text,q,pt),pt+=Mt.height;this.ctx.font=B,T&&this.ctx.restore()}},ie.prototype.setText=function(T){this.text=T,this._isDirty=!0,this._wrappedText=null},ie.prototype.measureText=function(){if(this._lineHeight=Si(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},ie.prototype._getLineWithWidth=function(T,B,W){if(!(T=String(T)))return{text:"",width:0};var q=W=0,pt=T.length-1,Mt=1/0;for(this.ctx.font=this._getFontString();q<=pt;){Mt=Math.floor((q+pt)/2);var nt=T.substr(0,Mt+1);if((W=this.ctx.measureText(nt).width)<B)q=Mt+1;else{if(!(W>B))break;pt=Mt-1}}return W>B&&1<nt.length&&(nt=nt.substr(0,nt.length-1),W=this.ctx.measureText(nt).width),B=!0,(nt.length===T.length||" "===T[nt.length])&&(B=!1),B&&(1<(T=nt.split(" ")).length&&T.pop(),nt=T.join(" "),W=this.ctx.measureText(nt).width),{text:nt,width:W}},ie.prototype._wrapText=function(){var T=new String($e(String(this.text))),B=[],W=this.ctx.font,q=0,pt=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)pt=q=0;else for(;0<T.length;){var Mt=this.maxHeight-(this.topPadding+this.bottomPadding),nt=this._getLineWithWidth(T,this.maxWidth-(this.leftPadding+this.rightPadding),!1);nt.height=this._lineHeight,B.push(nt);var It=pt;pt=Math.max(pt,nt.width),q+=nt.height,T=$e(T.slice(nt.text.length,T.length)),Mt&&q>Mt&&(q-=(nt=B.pop()).height,pt=It)}this._wrappedText={lines:B,width:pt,height:q},this.width=pt+(this.leftPadding+this.rightPadding),this.height=q+(this.topPadding+this.bottomPadding),this.ctx.font=W},ie.prototype._getFontString=function(){var T;T=this.fontStyle?this.fontStyle+" ":"",T+=this.fontWeight?this.fontWeight+" ":"",T+=this.fontSize?this.fontSize+"px ":"";var B=this.fontFamily?this.fontFamily+"":"";return!H&&B&&"'"!==(B=B.split(",")[0])[0]&&'"'!==B[0]&&(B="'"+B+"'"),T+B},He(mi,Me),He(vi,Me),vi.prototype.setLayout=function(){if(this.text){var It,Et,Ut,T=this.dockInsidePlotArea?this.chart.plotArea:this.chart,B=T.layoutManager.getFreeSpace(),W=B.x1,q=B.y1,pt=0,Mt=0,nt=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?40:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=B.width-4-nt*("center"===this.horizontalAlign?2:1)),Mt=.5*B.height-this.margin-2,pt=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=B.height-4),Mt=.5*B.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=B.width-4),Mt=.5*B.height-4)),E(this.padding)||"number"!=typeof this.padding?E(this.padding)||"object"!=typeof this.padding||(Ut=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,Ut+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):Ut=2*this.padding,this.wrap||(Mt=Math.min(Mt,1.5*this.fontSize+Ut)),Ut=(Mt=new ie(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,textAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:Mt,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"middle"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(q=B.y1+2+this.fontSize/2+4,Et="top"):"bottom"===this.verticalAlign&&(q=B.y2-2-Ut.height+this.fontSize/2+4,Et="bottom"),"left"===this.horizontalAlign?W=B.x1+2:"center"===this.horizontalAlign?W=B.x1+B.width/2-Ut.width/2:"right"===this.horizontalAlign&&(W=B.x2-2-Ut.width-nt),It=this.horizontalAlign,this.width=Ut.width,this.height=Ut.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(W=B.x1+2+(this.fontSize/2+4),q=B.y2-2-(this.maxWidth/2-Ut.width/2),pt=-90,Et="left",this.width=Ut.height,this.height=Ut.width):"right"===this.horizontalAlign?(W=B.x2-2-(this.fontSize/2+4),q=B.y1+2+(this.maxWidth/2-Ut.width/2),pt=90,Et="right",this.width=Ut.height,this.height=Ut.width):"center"===this.horizontalAlign&&(q=T.y1+(T.height/2-Ut.height/2)+this.fontSize/2+4,W=T.x1+(T.width/2-Ut.width/2),Et="center",this.width=Ut.width,this.height=Ut.height),It="center"),Mt.x=W,Mt.y=q,Mt.angle=pt,Mt.horizontalAlign=It,this._textBlock=Mt,T.layoutManager.registerSpace(Et,{width:this.width+("left"===Et||"right"===Et?this.margin+2:0),height:this.height+("top"===Et||"bottom"===Et?this.margin+2:0)}),this.bounds={x1:W,y1:q,x2:W+this.width,y2:q+this.height},this.ctx.textBaseline="top"}},vi.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},He(Bi,Me),Bi.prototype.setLayout=vi.prototype.setLayout,Bi.prototype.render=vi.prototype.render,Pi.prototype.get=function(T,B){var W=null;return 0<this.pool.length?ri(W=this.pool.pop(),T,B):W=Je(T,B),W},Pi.prototype.release=function(T){this.pool.push(T)},He(fi,Me);var cs={addTheme:function(T,B){_e[T]=B},addColorSet:function(T,B){st[T]=B},addCultureInfo:function(T,B){Xt[T]=B},formatNumber:function(T,B,W){if(Xt[W=W||"en"])return Ht(T,B||"#,##0.##",new fi(W));throw"Unknown Culture Name"},formatDate:function(T,B,W){if(Xt[W=W||"en"])return Li(T,B||"DD MMM YYYY",new fi(W));throw"Unknown Culture Name"}};typeof ds.exports<"u"?ds.exports=cs:void 0!==(bi=function(){return cs}.apply(es,[]))&&(ds.exports=bi),V=cs.Chart=function(){function T(t,d){return t.x-d.x}function B(t,d,o){d=d||{},E(o)?(this.predefinedThemes=_e,this.optionsName=this.parent=this.index=null):(this.parent=o.parent,this.index=o.index,this.predefinedThemes=o.predefinedThemes,this.optionsName=o.optionsName,this.stockChart=o.stockChart,this.panel=t,this.isOptionsInArray=o.isOptionsInArray),this.theme=E(d.theme)||E(this.predefinedThemes[d.theme])?"light1":d.theme,B.base.constructor.call(this,"Chart",this.optionsName,d,this.index,this.parent);var n=this;this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new Pi,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",d=t=0,d=o&&o.height?o.height:this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=t=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,this.height=d,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof st[this.colorSet]<"u"?st[this.colorSet]:st.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",H||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=Je(t,d),this._preRenderCanvas=Je(t,d),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",oi(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",oi(this._preRenderCtx),H?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=Je(t,d),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=Je(t,d),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",oi(this.overlaidCanvasCtx)),this._eventManager=new he(this),this.windowResizeHandler=Rt(window,"resize",function(){n._updateSize()&&n.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),ue(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},Rt(this.overlaidCanvas,"click",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,"mousemove",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,"mouseup",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,"mousedown",function(l){n._mouseEventHandler(l),Ze(n._dropdownMenu)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,"mouseout",function(l){n._mouseEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),Rt(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(l){n._touchEventHandler(l)},this.allDOMEventHandlers),this.toolTip=new Ce(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function W(t,d){for(var n,o=[],l=0;l<t.length;l++)if(0==l)o.push(t[0]);else{var p,g,M;p=0==(M=l-1)?0:M-1,g=M===t.length-1?M:M+1,n=Math.abs((t[g].x-t[p].x)/(t[g].x-t[M].x==0?.01:t[g].x-t[M].x))*(d-1)/2+1;var _=(t[g].x-t[p].x)/n;n=(t[g].y-t[p].y)/n,o[o.length]=t[M].x>t[p].x&&0<_||t[M].x<t[p].x&&0>_?{x:t[M].x+_/3,y:t[M].y+n/3}:{x:t[M].x,y:t[M].y+(1===o.length?0:n/9)},p=0===(M=l)?0:M-1,g=M===t.length-1?M:M+1,n=Math.abs((t[g].x-t[p].x)/(t[M].x-t[p].x==0?.01:t[M].x-t[p].x))*(d-1)/2+1,_=(t[g].x-t[p].x)/n,n=(t[g].y-t[p].y)/n,o[o.length]=t[M].x>t[p].x&&0<_||t[M].x<t[p].x&&0>_?{x:t[M].x-_/3,y:t[M].y-n/3}:{x:t[M].x,y:t[M].y-n/9},o[o.length]=t[l]}return o}function q(t,d,o,n,l,p,g,M,_,f){var m=0;f?(g.color=p,M.color=p):f=1,m=Math.abs(_?l-o:n-d),m=0<g.trimLength?Math.abs(m*g.trimLength/100):Math.abs(m-g.length),_?(o+=m/2,l-=m/2):(d+=m/2,n-=m/2),m=Math.round(g.thickness)%2==1?.5:0;var y=Math.round(M.thickness)%2==1?.5:0;t.save(),t.globalAlpha=f,t.strokeStyle=M.color||p,t.lineWidth=M.thickness||2,t.setLineDash&&t.setLineDash(mt(M.dashType,M.thickness)),t.beginPath(),_&&0<M.thickness?(t.moveTo(n-g.thickness/2,Math.round((o+l)/2)-y),t.lineTo(d+g.thickness/2,Math.round((o+l)/2)-y)):0<M.thickness&&(t.moveTo(Math.round((d+n)/2)-y,o+g.thickness/2),t.lineTo(Math.round((d+n)/2)-y,l-g.thickness/2)),t.stroke(),t.strokeStyle=g.color||p,t.lineWidth=g.thickness||2,t.setLineDash&&t.setLineDash(mt(g.dashType,g.thickness)),t.beginPath(),_&&0<g.thickness?(t.moveTo(n-m,o),t.lineTo(n-m,l),t.moveTo(d+m,o),t.lineTo(d+m,l)):0<g.thickness&&(t.moveTo(d,o+m),t.lineTo(n,o+m),t.moveTo(d,l-m),t.lineTo(n,l-m)),t.stroke(),t.restore()}function pt(t,d){pt.base.constructor.call(this,"Legend","legend",d,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=Si(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function Mt(t,d,o,n){for(Mt.base.constructor.call(this,"DataSeries","data",d,o,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=o,this.noDataPointsInPlotArea=0,this.id=n,this.chart._eventManager.objectMap[n]={id:n,objectType:"dataSeries",dataSeriesIndex:o},t=d.dataPoints?d.dataPoints.length:0,this.dataPointEOs=[],d=0;d<t;d++)this.dataPointEOs[d]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function nt(t,d,o,n,l,p){if(nt.base.constructor.call(this,"Axis",d,o,n,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===l?("left"===p||"bottom"===p?(this.optionsName="axisX",E(this.chart.sessionVariables.axisX[n])&&(this.chart.sessionVariables.axisX[n]={}),this.sessionVariables=this.chart.sessionVariables.axisX[n]):(this.optionsName="axisX2",E(this.chart.sessionVariables.axisX2[n])&&(this.chart.sessionVariables.axisX2[n]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[n]),this.options.interval||(this.intervalType=null)):"left"===p||"bottom"===p?(this.optionsName="axisY",E(this.chart.sessionVariables.axisY[n])&&(this.chart.sessionVariables.axisY[n]={}),this.sessionVariables=this.chart.sessionVariables.axisY[n]):(this.optionsName="axisY2",E(this.chart.sessionVariables.axisY2[n])&&(this.chart.sessionVariables.axisY2[n]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[n]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=l,"axisX"!==l||o&&typeof o.gridThickness<"u"||(this.gridThickness=0),this._position=p,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new It(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(t=0;t<this.options.stripLines.length;t++)this.stripLines.push(new Ut(this.chart,this.options.stripLines[t],t,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new Ye(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function It(t,d,o,n){if(It.base.constructor.call(this,"ScaleBreaks","scaleBreaks",d,null,n),this.id=o,this.chart=t,this.ctx=this.chart.ctx,this.axis=n,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(t=0;t<this.options.customBreaks.length;t++)this.customBreaks.push(new Et(this.chart,"customBreaks",this.options.customBreaks[t],t,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[t].startValue&&"number"==typeof this.customBreaks[t].endValue&&this.customBreaks[t].endValue!==this.customBreaks[t].startValue&&this._appliedBreaks.push(this.customBreaks[t]);for(this._appliedBreaks.sort(function(l,p){return l.startValue-p.startValue}),t=0;t<this._appliedBreaks.length-1;t++)this._appliedBreaks[t].endValue>=this._appliedBreaks[t+1].startValue&&(this._appliedBreaks[t].endValue=Math.max(this._appliedBreaks[t].endValue,this._appliedBreaks[t+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+t+" and "+(t+1)+" are overlapping."),this._appliedBreaks.splice(t,2),t--)}}function Et(t,d,o,n,l,p){Et.base.constructor.call(this,"Break",d,o,n,p),this.id=l,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=p,this.optionsName=d,this.isOptionsInArray=!0,this.type=o.type?this.type:p.type,this.fillOpacity=E(o.fillOpacity)?p.fillOpacity:this.fillOpacity,this.lineThickness=E(o.lineThickness)?p.lineThickness:this.lineThickness,this.color=o.color?this.color:p.color,this.lineColor=o.lineColor?this.lineColor:p.lineColor,this.lineDashType=o.lineDashType?this.lineDashType:p.lineDashType,!E(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!E(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(t=this.startValue,this.startValue=this.endValue,this.endValue=t),this.spacing=typeof o.spacing>"u"?p.spacing:o.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=p.spacing),this.size=p.parent.logarithmic?1:0}function Ut(t,d,o,n,l){Ut.base.constructor.call(this,"StripLine","stripLines",d,o,l),this.id=n,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=l,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=l.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function Ye(t,d,o){Ye.base.constructor.call(this,"Crosshair","crosshair",d,null,o),this.chart=t,this.ctx=this.chart.ctx,this.axis=o,this.optionsName="crosshair",this._thicknessType="pixel"}function Ce(t,d){Ce.base.constructor.call(this,"ToolTip","toolTip",d,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function he(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=Je(this.chart.width,this.chart.height,!0),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function ne(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}He(B,Me),B.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var d=0;d<t.length;d++){var o=t[d][0],n=t[d][1],l=t[d][2],p=(p=t[d][3])||!1;o.removeEventListener?o.removeEventListener(n,l,p):o.detachEvent&&o.detachEvent("on"+n,l)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&Zt(this.canvas),this.overlaidCanvas&&Zt(this.overlaidCanvas),this._preRenderCanvas&&Zt(this._preRenderCanvas),this._breaksCanvas&&Zt(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&Zt(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},B.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.theme<"u"&&E(this.options.theme)&&(this.theme=this.stockChart.theme),this.updateOption("colorSet")&&(this.selectedColorSet=typeof st[this.colorSet]<"u"?st[this.colorSet]:st.colorSet1),this.updateOption("backgroundColor"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.backgroundColor<"u"&&E(this.options.backgroundColor)&&(this.backgroundColor=this.stockChart.backgroundColor),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this.stockChart&&E(this.options.culture)&&(this.culture=this.stockChart.culture),this._cultureInfo=new fi(this.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&H,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new mi(this,this.options.toolbar),this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)ue(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),Oe(this,this._zoomButton,"zoom"),0>=navigator.userAgent.search("MSIE")&&this._zoomButton.childNodes[0]&&ue(this._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"});else{var d=!1;Ze(this._zoomButton=document.createElement("button")),Oe(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,Rt(this._zoomButton,"touchstart",function(n){d=!0},this.allDOMEventHandlers),Rt(this._zoomButton,"click",function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,Oe(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,Oe(t,t._zoomButton,"pan")),t.render()},this.allDOMEventHandlers),Rt(this._zoomButton,"mousemove",function(){d?d=!1:(ue(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ue(t._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Rt(this._zoomButton,"mouseout",function(){d||(ue(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ue(t._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(ue(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&this._resetButton.childNodes[0]&&ue(this._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),this._resetButton.title=this._cultureInfo.resetText):(d=!1,Ze(this._resetButton=document.createElement("button")),Oe(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),Rt(this._resetButton,"touchstart",function(n){d=!0},this.allDOMEventHandlers),Rt(this._resetButton,"click",function(){if(t.toolTip.hide(),t.toolTip&&t.toolTip.enabled&&t.toolTip.dispatchEvent("hidden",{chart:t,toolTip:t.toolTip},t.toolTip),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,Oe(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(var n=0;n<t.sessionVariables.axisX.length;n++)t.sessionVariables.axisX[n].newViewportMinimum=null,t.sessionVariables.axisX[n].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(n=0;n<t.sessionVariables.axisX2.length;n++)t.sessionVariables.axisX2[n].newViewportMinimum=null,t.sessionVariables.axisX2[n].newViewportMaximum=null;if(t.sessionVariables.axisY)for(n=0;n<t.sessionVariables.axisY.length;n++)t.sessionVariables.axisY[n].newViewportMinimum=null,t.sessionVariables.axisY[n].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(n=0;n<t.sessionVariables.axisY2.length;n++)t.sessionVariables.axisY2[n].newViewportMinimum=null,t.sessionVariables.axisY2[n].newViewportMaximum=null;t.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&ue(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),Ze(t._zoomButton,t._resetButton),t.stockChart&&(t.stockChart._rangeEventParameter={stockChart:t.stockChart,source:"chart",index:t.stockChart.charts.indexOf(t),minimum:null,maximum:null}),t._dispatchRangeEvent("rangeChanging","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanging",t.stockChart.dispatchEvent("rangeChanging",t.stockChart._rangeEventParameter,t.stockChart)),t.render(),t.syncCharts&&t.stockChart&&(t.stockChart.rangeUpdatedBy=!t.stockChart.navigator.slider||E(t.stockChart.navigator.slider.options.minimum)&&E(t.stockChart.navigator.slider.options.maximum)?!t.stockChart.rangeSelector.enabled||!t.stockChart.rangeSelector.inputFields.enabled||E(t.stockChart.rangeSelector.inputFields.options.startValue)&&E(t.stockChart.rangeSelector.inputFields.options.endValue)?null:"inputFields":"navigator",E(t.stockChart._selectedRangeButtonIndex)||(t.stockChart.rangeUpdatedBy="rangeButton"),t.syncCharts(null,null),"rangeButton"===t.stockChart.rangeUpdatedBy&&t.stockChart.rangeSelector.selectedRangeButtonIndex<t.stockChart.rangeSelector.buttons.length&&((n=t.stockChart.rangeSelector.buttons[t.stockChart.rangeSelector.selectedRangeButtonIndex]).state="on",n.textBlock.fontWeight="bold",n.textBlock.fontColor=t.stockChart.rangeSelector.buttonStyle.labelFontColorOnHover,n.textBlock.backgroundColor=t.stockChart.rangeSelector.buttonStyle.backgroundColorOnSelect,n.render())),t._dispatchRangeEvent("rangeChanged","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanged",t.stockChart.dispatchEvent("rangeChanged",t.stockChart._rangeEventParameter,t.stockChart))},this.allDOMEventHandlers),Rt(this._resetButton,"mousemove",function(){d||(ue(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ue(t._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),Rt(this._resetButton,"mouseout",function(){d||(ue(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&ue(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),ke(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;for(var o in function je(T){if(T._menuButton)T.exportEnabled?(ue(T._menuButton,{backgroundColor:T.toolbar.itemBackgroundColor,color:T.toolbar.fontColor}),ke(T._menuButton),Oe(T,T._menuButton,"menu"),0>=navigator.userAgent.search("MSIE")&&T._menuButton.childNodes[0]&&ue(T._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"})):Ze(T._menuButton);else if(T.exportEnabled&&H){var B=!1;T._menuButton=document.createElement("button"),Oe(T,T._menuButton,"menu"),T._toolBar.appendChild(T._menuButton),Rt(T._menuButton,"touchstart",function(Mt){B=!0},T.allDOMEventHandlers),Rt(T._menuButton,"click",function(){"none"!==T._dropdownMenu.style.display||T._dropDownCloseTime&&500>=(new Date).getTime()-T._dropDownCloseTime.getTime()||(T._dropdownMenu.style.display="block",T._menuButton.blur(),T._dropdownMenu.focus())},T.allDOMEventHandlers,!0),Rt(T._menuButton,"mousemove",function(){B||(ue(T._menuButton,{backgroundColor:T.toolbar.itemBackgroundColorOnHover,color:T.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&ue(T._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},T.allDOMEventHandlers,!0),Rt(T._menuButton,"mouseout",function(){B||(ue(T._menuButton,{backgroundColor:T.toolbar.itemBackgroundColor,color:T.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&ue(T._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},T.allDOMEventHandlers,!0)}if(T.exportEnabled&&T._dropdownMenu){var W=T.theme&&-1!==T.theme.indexOf("dark")?"black":"#888888";ue(T._dropdownMenu,{backgroundColor:T.toolbar.itemBackgroundColor,color:T.toolbar.fontColor,boxShadow:"2px 2px 10px "+W}),W=T._dropdownMenu.childNodes;for(var q=[T._cultureInfo.printText,T._cultureInfo.saveJPGText,T._cultureInfo.savePNGText],pt=0;pt<q.length;pt++)ue(W[pt],{backgroundColor:T.toolbar.itemBackgroundColor,color:T.toolbar.fontColor}),W[pt].innerHTML=q[pt]}else!T._dropdownMenu&&T.exportEnabled&&H&&(B=!1,T._dropdownMenu=document.createElement("div"),T._dropdownMenu.setAttribute("tabindex",-1),W=T.theme&&-1!==T.theme.indexOf("dark")?"black":"#888888",ue(T._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:T.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px "+W}),T._dropdownMenu.style.display="none",T._toolBar.appendChild(T._dropdownMenu),Rt(T._dropdownMenu,"blur",function(){Ze(T._dropdownMenu),T._dropDownCloseTime=new Date},T.allDOMEventHandlers,!0),ue(W=document.createElement("div"),{padding:"12px 8px 12px 8px"}),W.innerHTML=T._cultureInfo.printText,W.style.backgroundColor=T.toolbar.itemBackgroundColor,W.style.color=T.toolbar.fontColor,T._dropdownMenu.appendChild(W),Rt(W,"touchstart",function(Mt){B=!0},T.allDOMEventHandlers),Rt(W,"mousemove",function(){B||(this.style.backgroundColor=T.toolbar.itemBackgroundColorOnHover,this.style.color=T.toolbar.fontColorOnHover)},T.allDOMEventHandlers,!0),Rt(W,"mouseout",function(){B||(this.style.backgroundColor=T.toolbar.itemBackgroundColor,this.style.color=T.toolbar.fontColor)},T.allDOMEventHandlers,!0),Rt(W,"click",function(){T.print(),Ze(T._dropdownMenu)},T.allDOMEventHandlers,!0),ue(W=document.createElement("div"),{padding:"12px 8px 12px 8px"}),W.innerHTML=T._cultureInfo.saveJPGText,W.style.backgroundColor=T.toolbar.itemBackgroundColor,W.style.color=T.toolbar.fontColor,T._dropdownMenu.appendChild(W),Rt(W,"touchstart",function(Mt){B=!0},T.allDOMEventHandlers),Rt(W,"mousemove",function(){B||(this.style.backgroundColor=T.toolbar.itemBackgroundColorOnHover,this.style.color=T.toolbar.fontColorOnHover)},T.allDOMEventHandlers,!0),Rt(W,"mouseout",function(){B||(this.style.backgroundColor=T.toolbar.itemBackgroundColor,this.style.color=T.toolbar.fontColor)},T.allDOMEventHandlers,!0),Rt(W,"click",function(){T.exportChart({format:"jpeg",fileName:T.exportFileName}),Ze(T._dropdownMenu)},T.allDOMEventHandlers,!0),ue(W=document.createElement("div"),{padding:"12px 8px 12px 8px"}),W.innerHTML=T._cultureInfo.savePNGText,W.style.backgroundColor=T.toolbar.itemBackgroundColor,W.style.color=T.toolbar.fontColor,T._dropdownMenu.appendChild(W),Rt(W,"touchstart",function(Mt){B=!0},T.allDOMEventHandlers),Rt(W,"mousemove",function(){B||(this.style.backgroundColor=T.toolbar.itemBackgroundColorOnHover,this.style.color=T.toolbar.fontColorOnHover)},T.allDOMEventHandlers,!0),Rt(W,"mouseout",function(){B||(this.style.backgroundColor=T.toolbar.itemBackgroundColor,this.style.color=T.toolbar.fontColor)},T.allDOMEventHandlers,!0),Rt(W,"click",function(){T.exportChart({format:"png",fileName:T.exportFileName}),Ze(T._dropdownMenu)},T.allDOMEventHandlers,!0))}(this),"none"!==this._toolBar.style.display&&this._zoomButton&&(Oe(t,t._zoomButton,this.panEnabled?"zoom":"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&Oe(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(o)&&this.toolTip.updateOption(o)},B.prototype._updateSize=function(){var t;t=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var d=0,o=0;if(this.options.width?d=this.width:this.width=d=0<this.container.clientWidth?this.container.clientWidth:this.width,E(this.stockChart)||E(this.index)?this.options.height?o=this.height:this.height=o=0<this.container.clientHeight?this.container.clientHeight:this.height:o=this.height=this.stockChart._chartsHeight[this.index],this.canvas.width!==d*De||this.canvas.height!==o*De){for(var n=0;n<t.length;n++)ri(t[n],d,o);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},t=!0}else t=!1;return t},B.prototype._initialize=function(){this.isNavigator=!(E(this.parent)||E(this.parent._defaultsKey)||"Navigator"!==this.parent._defaultsKey),this._animator?this._animator.cancelAllAnimations():this._animator=new ne(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=H&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new Ai(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var t=0,d=null;if(this.options.data){for(var o=0;o<this.options.data.length;o++)if(t++,!this.options.data[o].type||0<=B._supportedChartTypes.indexOf(this.options.data[o].type)){var p,n=new Mt(this,this.options.data[o],t-1,++this._eventManager.lastObjectId);if(!E(n)&&n.dataPoints)for(var l=0;l<n.dataPoints.length;l++)if(n.dataPoints[l].x&&n.dataPoints[l].x.getTime){n.xValueType="dateTime";break}if("error"===n.type&&(n.linkedDataSeriesIndex=E(this.options.data[o].linkedDataSeriesIndex)?o-1:this.options.data[o].linkedDataSeriesIndex,0>n.linkedDataSeriesIndex||n.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof n.linkedDataSeriesIndex||"error"===this.options.data[n.linkedDataSeriesIndex].type)&&(n.linkedDataSeriesIndex=null),null===n.name&&(n.name="DataSeries "+t),null===n.color?1<this.options.data.length?(n._colorSet=[this.selectedColorSet[n.index%this.selectedColorSet.length]],n.color=this.selectedColorSet[n.index%this.selectedColorSet.length]):n._colorSet="line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"candlestick"===n.type||"ohlc"===n.type||"waterfall"===n.type||"boxAndWhisker"===n.type?[this.selectedColorSet[0]]:this.selectedColorSet:n._colorSet=[n.color],null===n.markerSize&&(("line"===n.type||"stepLine"===n.type||"spline"===n.type||0<=n.type.toLowerCase().indexOf("area"))&&n.dataPoints&&n.dataPoints.length<this.width/16||"scatter"===n.type)&&(n.markerSize=8),"bubble"!==n.type&&"scatter"!==n.type||!n.dataPoints||(n.dataPoints.some?n.dataPoints.some(function(M){return M.x})&&n.dataPoints.sort(T):n.dataPoints.sort(T)),this.data.push(n),l=n.axisPlacement,d=d||l,"normal"===l?"xySwapped"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===l?"normal"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===l?"normal"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?p='You cannot combine "'+n.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===l&&"none"===this.plotInfo.axisPlacement&&(p='You cannot combine "'+n.type+'" with pie chart'),p&&window.console)return void window.console.log(p)}for(o=0;o<this.data.length;o++){if("none"==d&&"error"===this.data[o].type&&window.console)return void window.console.log('You cannot combine "'+n.type+'" with error chart');"error"===this.data[o].type&&(this.data[o].axisPlacement=this.plotInfo.axisPlacement=d||"normal",this.data[o]._linkedSeries=null===this.data[o].linkedDataSeriesIndex?null:this.data[this.data[o].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},B._supportedChartTypes=We("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),B.prototype.setLayout=function(){for(var t=this._plotAreaElements,d=0;d<this.data.length;d++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[d].axisYType||"primary"===this.data[d].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var o=0;o<this.options.axisY.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[o]=new nt(this,"axisY",this.options.axisY[o],o,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[o]=new nt(this,"axisY",this.options.axisY[o],o,"axisY","bottom"));this.data[d].axisY=this.axisY[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY.length?this.data[d].axisYIndex:0],this.axisY[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY.length?this.data[d].axisYIndex:0].dataSeries.push(this.data[d])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new nt(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new nt(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[d].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[d]);if("secondary"===this.data[d].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(o=0;o<this.options.axisY2.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[o]=new nt(this,"axisY2",this.options.axisY2[o],o,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[o]=new nt(this,"axisY2",this.options.axisY2[o],o,"axisY","top"));this.data[d].axisY=this.axisY2[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY2.length?this.data[d].axisYIndex:0],this.axisY2[0<=this.data[d].axisYIndex&&this.data[d].axisYIndex<this.axisY2.length?this.data[d].axisYIndex:0].dataSeries.push(this.data[d])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new nt(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new nt(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[d].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[d]);if(!this.data[d].axisXType||"primary"===this.data[d].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(o=0;o<this.options.axisX.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[o]=new nt(this,"axisX",this.options.axisX[o],o,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[o]=new nt(this,"axisX",this.options.axisX[o],o,"axisX","left"));this.data[d].axisX=this.axisX[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX.length?this.data[d].axisXIndex:0],this.axisX[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX.length?this.data[d].axisXIndex:0].dataSeries.push(this.data[d])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new nt(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new nt(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[d].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[d]);if("secondary"===this.data[d].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(o=0;o<this.options.axisX2.length;o++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[o]=new nt(this,"axisX2",this.options.axisX2[o],o,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[o]=new nt(this,"axisX2",this.options.axisX2[o],o,"axisX","right"));this.data[d].axisX=this.axisX2[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX2.length?this.data[d].axisXIndex:0],this.axisX2[0<=this.data[d].axisXIndex&&this.data[d].axisXIndex<this.axisX2.length?this.data[d].axisXIndex:0].dataSeries.push(this.data[d])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new nt(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new nt(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[d].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[d])}if(this.axisY){for(o=1;o<this.axisY.length;o++)typeof this.axisY[o].options.gridThickness>"u"&&(this.axisY[o].gridThickness=0);for(o=0;o<this.axisY.length-1;o++)typeof this.axisY[o].options.margin>"u"&&(this.axisY[o].margin=10)}if(this.axisY2){for(o=1;o<this.axisY2.length;o++)typeof this.axisY2[o].options.gridThickness>"u"&&(this.axisY2[o].gridThickness=0);for(o=0;o<this.axisY2.length-1;o++)typeof this.axisY2[o].options.margin>"u"&&(this.axisY2[o].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(o=0;o<this.axisX.length;o++)typeof this.axisX[o].options.gridThickness>"u"&&(this.axisX[o].gridThickness=0);if(this.axisX2)for(o=0;o<this.axisX2.length;o++)typeof this.axisX2[o].options.gridThickness>"u"&&(this.axisX2[o].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),o=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled))for(d=0;d<this._axes.length;d++)if(!E(this._axes[d].viewportMinimum)||!E(this._axes[d].viewportMaximum)){o=!0;break}if(o?(ke(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(Ze(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),function ki(T){ti.fSDec&&T[ii("`eeDwdouMhrudods")](ii("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){ti._fTWm&&ti._fTWm(T)})}(this),this._processData(),this.options.title&&(this.title=new vi(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.options.subtitles)for(d=0;d<this.options.subtitles.length;d++)o=new Bi(this,this.options.subtitles[d],d),this.subtitles.push(o),o.dockInsidePlotArea?t.push(o):o.setLayout();for(this.legend=new pt(this,this.options.legend),d=0;d<this.data.length;d++)(this.data[d].showInLegend||"pie"===this.data[d].type||"doughnut"===this.data[d].type||"funnel"===this.data[d].type||"pyramid"===this.data[d].type)&&this.legend.dataSeries.push(this.data[d]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout(),d=0;d<this._axes.length;d++)if(this._axes[d].scaleBreaks&&this._axes[d].scaleBreaks._appliedBreaks.length){H?(this._breaksCanvas=Je(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=Je(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||nt.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},B.prototype.renderElements=function(){if(this.height){var n=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var t=0;t<this.subtitles.length;t++)this.subtitles[t].dockInsidePlotArea||this.subtitles[t].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)nt.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(t=0;t<n.length;t++)n[t].setLayout(),n[t].render();var l,d=[];if(this.animatedRender){var o=Je(this.width,this.height);o.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(function Vi(T){if(!Sn){var B=!1,W=!1;typeof pi.Chart.creditHref>"u"?(T.creditHref=ii("iuuqr;..b`ow`rkr/bnl."),T.creditText=ii("B`ow`rKR/bnl")):(B=T.updateOption("creditText"),W=T.updateOption("creditHref")),T.creditHref&&T.creditText&&(T._creditLink||(T._creditLink=document.createElement("a"),T._creditLink.setAttribute("class","canvasjs-chart-credit"),T._creditLink.setAttribute("title","JavaScript Charts"),ue(T._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:T.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),T._creditLink.setAttribute("tabIndex",-1),T._creditLink.setAttribute("target","_blank")),(0===T.renderCount||B||W)&&(T._creditLink.setAttribute("href",T.creditHref),T._creditLink.innerHTML=T.creditText),T._creditLink&&T.creditHref&&T.creditText?(T._creditLink.parentElement||T._canvasJSContainer.appendChild(T._creditLink),T._creditLink.style.top=T.height-14+"px"):T._creditLink.parentElement&&T._canvasJSContainer.removeChild(T._creditLink))}}(this),n=this.ctx.miterLimit,this.ctx.miterLimit=3,H&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),t=0;t<this.plotInfo.plotTypes.length;t++)for(var p=this.plotInfo.plotTypes[t],g=0;g<p.plotUnits.length;g++){var M=p.plotUnits[g],_=null;M.targetCanvas&&Zt(M.targetCanvas),M.targetCanvas=null,this.animatedRender&&(M.targetCanvas=Je(this.width,this.height),M.targetCanvasCtx=M.targetCanvas.getContext("2d"),l=M.targetCanvasCtx.miterLimit,M.targetCanvasCtx.miterLimit=3),"line"===M.type?_=this.renderLine(M):"stepLine"===M.type?_=this.renderStepLine(M):"spline"===M.type?_=this.renderSpline(M):"column"===M.type?_=this.renderColumn(M):"bar"===M.type?_=this.renderBar(M):"area"===M.type?_=this.renderArea(M):"stepArea"===M.type?_=this.renderStepArea(M):"splineArea"===M.type?_=this.renderSplineArea(M):"stackedColumn"===M.type?_=this.renderStackedColumn(M):"stackedColumn100"===M.type?_=this.renderStackedColumn100(M):"stackedBar"===M.type?_=this.renderStackedBar(M):"stackedBar100"===M.type?_=this.renderStackedBar100(M):"stackedArea"===M.type?_=this.renderStackedArea(M):"stackedArea100"===M.type?_=this.renderStackedArea100(M):"bubble"===M.type?_=_=this.renderBubble(M):"scatter"===M.type?_=this.renderScatter(M):"pie"===M.type||"doughnut"===M.type?this.renderPie(M):"funnel"===M.type||"pyramid"===M.type?_=this.renderFunnel(M):"candlestick"===M.type||"ohlc"===M.type?_=this.renderCandlestick(M):"rangeColumn"===M.type?_=this.renderRangeColumn(M):"error"===M.type?_=this.renderError(M):"rangeBar"===M.type?_=this.renderRangeBar(M):"rangeArea"===M.type?_=this.renderRangeArea(M):"rangeSplineArea"===M.type?_=this.renderRangeSplineArea(M):"waterfall"===M.type?_=this.renderWaterfall(M):"boxAndWhisker"===M.type&&(_=this.renderBoxAndWhisker(M));for(var f=0;f<M.dataSeriesIndexes.length;f++)this._dataInRenderedOrder.push(this.data[M.dataSeriesIndexes[f]]);this.animatedRender&&(M.targetCanvasCtx.miterLimit=l,_&&d.push(_))}this.ctx.miterLimit=n,this.animatedRender&&this._breaksCanvasCtx&&d.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:St.fadeInAnimation,easingFunction:St.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(oi(l=Je(this.width,this.height).getContext("2d")),d.push(this.renderIndexLabels(l)));var m=this;if(0<d.length)m.disableToolTip=!0,m._animator.animate(200,m.animationDuration,function(y){m.ctx.clearRect(0,0,m.width,m.height),m.ctx.drawImage(o,0,0,Math.floor(m.width*De),Math.floor(m.height*De),0,0,m.width,m.height);for(var v=0;v<d.length;v++)_=d[v],1>y&&typeof _.startTimePercent<"u"?y>=_.startTimePercent&&_.animationCallback(_.easingFunction(y-_.startTimePercent,0,1,1-_.startTimePercent),_):_.animationCallback(_.easingFunction(y,0,1,1),_);m.dispatchEvent("dataAnimationIterationEnd",{chart:m})},function(){d=[];for(var y=0;y<m.plotInfo.plotTypes.length;y++)for(var v=m.plotInfo.plotTypes[y],h=0;h<v.plotUnits.length;h++){var C=v.plotUnits[h];C.targetCanvas&&Zt(C.targetCanvas),C.targetCanvas=null}o=null,m.disableToolTip=!1,m.dispatchEvent("dataAnimationEnd",{chart:m})});else{if(m._breaksCanvas)if(H)m.plotArea.ctx.drawImage(m._breaksCanvas,0,0,this.width,this.height);else for(f=0;f<m._axes.length;f++)m._axes[f].createMask();0<m._indexLabels.length&&m.renderIndexLabels(),m.dispatchEvent("dataAnimationIterationEnd",{chart:m}),m.dispatchEvent("dataAnimationEnd",{chart:m})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||Ze(this._zoomButton,this._resetButton),E(this.toolTip._xValue)||E(this.toolTip._dataSeriesIndex)||this.toolTip.showAtX(this.toolTip._xValue,this.toolTip._dataSeriesIndex),this.toolTip._updateToolTip(),this.renderCount++,Fi&&(m=this,setTimeout(function(){var y=document.getElementById("ghostCanvasCopy");y&&(ri(y,m.width,m.height),y.getContext("2d").drawImage(m._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),f=0;f<this._axes.length;f++)this._axes[f].maskCanvas&&(delete this._axes[f].maskCanvas,delete this._axes[f].maskCtx)}},B.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&Zt(this._preRenderCanvas)},B.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},B.prototype.categoriseDataSeries=function(){for(var t="",d=0;d<this.data.length;d++)if((t=this.data[d]).dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=B._supportedChartTypes.indexOf(t.type)){for(var o=null,n=!1,l=null,p=!1,g=0;g<this.plotInfo.plotTypes.length;g++)if(this.plotInfo.plotTypes[g].type===t.type){n=!0,o=this.plotInfo.plotTypes[g];break}for(n||this.plotInfo.plotTypes.push(o={type:t.type,totalDataSeries:0,plotUnits:[]}),g=0;g<o.plotUnits.length;g++)if(o.plotUnits[g].axisYType===t.axisYType&&o.plotUnits[g].axisXType===t.axisXType&&o.plotUnits[g].axisYIndex===t.axisYIndex&&o.plotUnits[g].axisXIndex===t.axisXIndex){p=!0,l=o.plotUnits[g];break}p||o.plotUnits.push(l={type:t.type,previousDataSeriesCount:0,index:o.plotUnits.length,plotType:o,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:"primary"===t.axisYType?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:"primary"===t.axisXType?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]}),o.totalDataSeries++,l.dataSeriesIndexes.push(d),t.plotUnit=l}for(d=0;d<this.plotInfo.plotTypes.length;d++)for(o=this.plotInfo.plotTypes[d],g=t=0;g<o.plotUnits.length;g++)o.plotUnits[g].previousDataSeriesCount=t,t+=o.plotUnits[g].dataSeriesIndexes.length},B.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var d=this.data[t];if(d.dataPoints)for(var o=d.dataPoints.length,n=0;n<o;n++)d.dataPointIds[n]=++this._eventManager.lastObjectId}},B.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var d=this.plotInfo.plotTypes[t],o=0;o<d.plotUnits.length;o++){var n=d.plotUnits[o];"line"===n.type||"stepLine"===n.type||"spline"===n.type||"column"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"bar"===n.type||"bubble"===n.type||"scatter"===n.type?this._processMultiseriesPlotUnit(n):"stackedColumn"===n.type||"stackedBar"===n.type||"stackedArea"===n.type?this._processStackedPlotUnit(n):"stackedColumn100"===n.type||"stackedBar100"===n.type||"stackedArea100"===n.type?this._processStacked100PlotUnit(n):"candlestick"===n.type||"ohlc"===n.type||"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type||"boxAndWhisker"===n.type?this._processMultiYPlotUnit(n):"waterfall"===n.type&&this._processSpecificPlotUnit(n)}this.calculateAutoBreaks()},B.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,g=0;g<t.dataSeriesIndexes.length;g++){var y,M=this.data[t.dataSeriesIndexes[g]],_=0,f=!1,m=!1;if("normal"===M.axisPlacement||"xySwapped"===M.axisPlacement)var v=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,h=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((M.dataPoints[_].x&&M.dataPoints[_].x.getTime||"dateTime"===M.xValueType)&&(p=!0),_=0;_<M.dataPoints.length;_++){if(typeof M.dataPoints[_].x>"u"&&(M.dataPoints[_].x=_+(t.axisX.logarithmic?1:0)),M.dataPoints[_].x.getTime?(p=!0,n=M.dataPoints[_].x.getTime()):n=M.dataPoints[_].x,l=M.dataPoints[_].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),l<d.min&&"number"==typeof l&&(d.min=l),l>d.max&&"number"==typeof l&&(d.max=l),0<_){if(t.axisX.logarithmic){var C=n/M.dataPoints[_-1].x;1>C&&(C=1/C),o.minDiff>C&&1!==C&&(o.minDiff=C)}else 0>(C=n-M.dataPoints[_-1].x)&&(C*=-1),o.minDiff>C&&0!==C&&(o.minDiff=C);null!==l&&null!==M.dataPoints[_-1].y&&(t.axisY.logarithmic?(1>(C=l/M.dataPoints[_-1].y)&&(C=1/C),d.minDiff>C&&1!==C&&(d.minDiff=C)):(0>(C=l-M.dataPoints[_-1].y)&&(C*=-1),d.minDiff>C&&0!==C&&(d.minDiff=C)))}if(n<v&&!f)null!==l&&(y=n);else{if(!f&&(f=!0,0<_)){_-=2;continue}if(n>h&&!m)m=!0;else if(n>h&&m)continue;M.dataPoints[_].label&&(t.axisX.labels[n]=M.dataPoints[_].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),null===l?o.viewPortMin===n&&y<n&&(o.viewPortMin=y):(l<d.viewPortMin&&"number"==typeof l&&(d.viewPortMin=l),l>d.viewPortMax&&"number"==typeof l&&(d.viewPortMax=l))}}M.axisX.valueType=M.xValueType=p?"dateTime":"number"}},B.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,g=[],M=[],_=1/0,f=-1/0,m={},y=0;y<t.dataSeriesIndexes.length;y++){var F,v=this.data[t.dataSeriesIndexes[y]],h=0,C=!1,S=!1;if("normal"===v.axisPlacement||"xySwapped"===v.axisPlacement)var P=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,I=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((v.dataPoints[h].x&&v.dataPoints[h].x.getTime||"dateTime"===v.xValueType)&&(p=!0),h=0;h<v.dataPoints.length;h++){if(typeof v.dataPoints[h].x>"u"&&(v.dataPoints[h].x=h+(t.axisX.logarithmic?1:0)),v.dataPoints[h].x.getTime?(p=!0,n=v.dataPoints[h].x.getTime()):n=v.dataPoints[h].x,l=E(v.dataPoints[h].y)?0:v.dataPoints[h].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),0<h){if(t.axisX.logarithmic){var A=n/v.dataPoints[h-1].x;1>A&&(A=1/A),o.minDiff>A&&1!==A&&(o.minDiff=A)}else 0>(A=n-v.dataPoints[h-1].x)&&(A*=-1),o.minDiff>A&&0!==A&&(o.minDiff=A);null!==l&&null!==v.dataPoints[h-1].y&&(t.axisY.logarithmic?0<l&&(1>(A=l/v.dataPoints[h-1].y)&&(A=1/A),d.minDiff>A&&1!==A&&(d.minDiff=A)):(0>(A=l-v.dataPoints[h-1].y)&&(A*=-1),d.minDiff>A&&0!==A&&(d.minDiff=A)))}if(n<P&&!C)null!==v.dataPoints[h].y&&(F=n);else{if(!C&&(C=!0,0<h)){h-=2;continue}if(n>I&&!S)S=!0;else if(n>I&&S)continue;v.dataPoints[h].label&&(t.axisX.labels[n]=v.dataPoints[h].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),null===v.dataPoints[h].y?o.viewPortMin===n&&F<n&&(o.viewPortMin=F):(m[n]=(m[n]||0)+v.dataPoints[h].y,v.dataPointEOs[h].cumulativeY=m[n],t.yTotals[n]=(t.yTotals[n]?t.yTotals[n]:0)+l,t.yAbsTotals[n]=(t.yAbsTotals[n]?t.yAbsTotals[n]:0)+Math.abs(l),0<=l?g[n]?g[n]+=l:(g[n]=l,_=Math.min(l,_)):M[n]?M[n]+=l:(M[n]=l,f=Math.max(l,f)))}}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(d.dataPointYPositiveSums?(d.dataPointYPositiveSums.push.apply(d.dataPointYPositiveSums,g),d.dataPointYNegativeSums.push.apply(d.dataPointYPositiveSums,M)):(d.dataPointYPositiveSums=g,d.dataPointYNegativeSums=M)),v.axisX.valueType=v.xValueType=p?"dateTime":"number"}for(h in g)g.hasOwnProperty(h)&&!isNaN(h)&&((t=g[h])<d.min&&(d.min=Math.min(t,_)),t>d.max&&(d.max=t),h<o.viewPortMin||h>o.viewPortMax||(t<d.viewPortMin&&(d.viewPortMin=Math.min(t,_)),t>d.viewPortMax&&(d.viewPortMax=t)));for(h in M)M.hasOwnProperty(h)&&!isNaN(h)&&((t=M[h])<d.min&&(d.min=t),t>d.max&&(d.max=Math.max(t,f)),h<o.viewPortMin||h>o.viewPortMax||(t<d.viewPortMin&&(d.viewPortMin=t),t>d.viewPortMax&&(d.viewPortMax=Math.max(t,f))))}},B.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,g=!1,M=!1,_={},f=[],m=0;m<t.dataSeriesIndexes.length;m++){var S,y=this.data[t.dataSeriesIndexes[m]],v=0,h=!1,C=!1;if("normal"===y.axisPlacement||"xySwapped"===y.axisPlacement)var F=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,P=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((y.dataPoints[v].x&&y.dataPoints[v].x.getTime||"dateTime"===y.xValueType)&&(p=!0),v=0;v<y.dataPoints.length;v++){if(typeof y.dataPoints[v].x>"u"&&(y.dataPoints[v].x=v+(t.axisX.logarithmic?1:0)),y.dataPoints[v].x.getTime?(p=!0,n=y.dataPoints[v].x.getTime()):n=y.dataPoints[v].x,l=E(y.dataPoints[v].y)?null:y.dataPoints[v].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),0<v){if(t.axisX.logarithmic){var I=n/y.dataPoints[v-1].x;1>I&&(I=1/I),o.minDiff>I&&1!==I&&(o.minDiff=I)}else 0>(I=n-y.dataPoints[v-1].x)&&(I*=-1),o.minDiff>I&&0!==I&&(o.minDiff=I);E(l)||null===y.dataPoints[v-1].y||(t.axisY.logarithmic?0<l&&(1>(I=l/y.dataPoints[v-1].y)&&(I=1/I),d.minDiff>I&&1!==I&&(d.minDiff=I)):(0>(I=l-y.dataPoints[v-1].y)&&(I*=-1),d.minDiff>I&&0!==I&&(d.minDiff=I)))}if(n<F&&!h)null!==l&&(S=n);else{if(!h&&(h=!0,0<v)){v-=2;continue}if(n>P&&!C)C=!0;else if(n>P&&C)continue;y.dataPoints[v].label&&(t.axisX.labels[n]=y.dataPoints[v].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),null===l?o.viewPortMin===n&&S<n&&(o.viewPortMin=S):(_[n]=(_[n]||0)+y.dataPoints[v].y,y.dataPointEOs[v].cumulativeY=_[n],t.yTotals[n]=(t.yTotals[n]?t.yTotals[n]:0)+l,t.yAbsTotals[n]=(t.yAbsTotals[n]?t.yAbsTotals[n]:0)+Math.abs(l),0<=l?g=!0:0>l&&(M=!0),f[n]=f[n]?f[n]+Math.abs(l):Math.abs(l))}}y.axisX.valueType=y.xValueType=p?"dateTime":"number"}t.axisY.logarithmic?(d.max=E(d.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(d.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),d.min=E(d.viewPortMin)?1:Math.min(d.viewPortMin,1)):g&&!M?(d.max=E(d.viewPortMax)?99:Math.max(d.viewPortMax,99),d.min=E(d.viewPortMin)?1:Math.min(d.viewPortMin,1)):g&&M?(d.max=E(d.viewPortMax)?99:Math.max(d.viewPortMax,99),d.min=E(d.viewPortMin)?-99:Math.min(d.viewPortMin,-99)):!g&&M&&(d.max=E(d.viewPortMax)?-1:Math.max(d.viewPortMax,-1),d.min=E(d.viewPortMin)?-99:Math.min(d.viewPortMin,-99)),d.viewPortMin=d.min,d.viewPortMax=d.max,t.dataPointYSums=f}},B.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n,l,p,g,d=t.axisY.dataInfo,o=t.axisX.dataInfo,M=!1,_=0;_<t.dataSeriesIndexes.length;_++){var h,C,S,f=this.data[t.dataSeriesIndexes[_]],m=0,y=!1,v=!1;if("normal"===f.axisPlacement||"xySwapped"===f.axisPlacement)var F=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,P=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((f.dataPoints[m].x&&f.dataPoints[m].x.getTime||"dateTime"===f.xValueType)&&(M=!0),m=0;m<f.dataPoints.length;m++){if(typeof f.dataPoints[m].x>"u"&&(f.dataPoints[m].x=m+(t.axisX.logarithmic?1:0)),f.dataPoints[m].x.getTime?(M=!0,n=f.dataPoints[m].x.getTime()):n=f.dataPoints[m].x,(l=f.dataPoints[m].y)&&l.length){p=Math.min.apply(null,l),g=Math.max.apply(null,l),C=!0;for(var I=0;I<l.length;I++)null===l.k&&(C=!1);C&&(y||(S=h),h=n)}if(n<o.min&&(o.min=n),n>o.max&&(o.max=n),p<d.min&&(d.min=p),g>d.max&&(d.max=g),0<m&&(t.axisX.logarithmic?(1>(C=n/f.dataPoints[m-1].x)&&(C=1/C),o.minDiff>C&&1!==C&&(o.minDiff=C)):(0>(C=n-f.dataPoints[m-1].x)&&(C*=-1),o.minDiff>C&&0!==C&&(o.minDiff=C)),l&&null!==l[0]&&f.dataPoints[m-1].y&&null!==f.dataPoints[m-1].y[0]&&(t.axisY.logarithmic?(1>(C=l[0]/f.dataPoints[m-1].y[0])&&(C=1/C),d.minDiff>C&&1!==C&&(d.minDiff=C)):(0>(C=l[0]-f.dataPoints[m-1].y[0])&&(C*=-1),d.minDiff>C&&0!==C&&(d.minDiff=C)))),!(n<F)||y){if(!y&&(y=!0,0<m)){m-=2,h=S;continue}if(n>P&&!v)v=!0;else if(n>P&&v)continue;if(f.dataPoints[m].label&&(t.axisX.labels[n]=f.dataPoints[m].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),o.viewPortMin===n&&l)for(I=0;I<l.length;I++)if(null===l[I]&&h<n){o.viewPortMin=h;break}null===l?o.viewPortMin===n&&h<n&&(o.viewPortMin=h):(p<d.viewPortMin&&(d.viewPortMin=p),g>d.viewPortMax&&(d.viewPortMax=g))}}f.axisX.valueType=f.xValueType=M?"dateTime":"number"}},B.prototype._processSpecificPlotUnit=function(t){if("waterfall"===t.type&&t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var n,l,d=t.axisY.dataInfo,o=t.axisX.dataInfo,p=!1,g=0;g<t.dataSeriesIndexes.length;g++){var M=this.data[t.dataSeriesIndexes[g]],_=0,f=!1,m=!1,y=n=0;if("normal"===M.axisPlacement||"xySwapped"===M.axisPlacement)var v=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,h=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((M.dataPoints[_].x&&M.dataPoints[_].x.getTime||"dateTime"===M.xValueType)&&(p=!0),_=0;_<M.dataPoints.length;_++)typeof M.dataPoints[_].isCumulativeSum<"u"&&!0===M.dataPoints[_].isCumulativeSum?(M.dataPointEOs[_].cumulativeSumYStartValue=0,M.dataPointEOs[_].cumulativeSum=0===_?0:M.dataPointEOs[_-1].cumulativeSum,M.dataPoints[_].y=0===_?0:M.dataPointEOs[_-1].cumulativeSum):typeof M.dataPoints[_].isIntermediateSum<"u"&&!0===M.dataPoints[_].isIntermediateSum?(M.dataPointEOs[_].cumulativeSumYStartValue=y,M.dataPointEOs[_].cumulativeSum=0===_?0:M.dataPointEOs[_-1].cumulativeSum,M.dataPoints[_].y=0===_?0:n,y=0===_?0:M.dataPointEOs[_-1].cumulativeSum,n=0):(l="number"!=typeof M.dataPoints[_].y?0:M.dataPoints[_].y,M.dataPointEOs[_].cumulativeSumYStartValue=0===_?0:M.dataPointEOs[_-1].cumulativeSum,M.dataPointEOs[_].cumulativeSum=0===_?l:M.dataPointEOs[_-1].cumulativeSum+l,n+=l);for(_=0;_<M.dataPoints.length;_++)if(typeof M.dataPoints[_].x>"u"&&(M.dataPoints[_].x=_+(t.axisX.logarithmic?1:0)),M.dataPoints[_].x.getTime?(p=!0,n=M.dataPoints[_].x.getTime()):n=M.dataPoints[_].x,l=M.dataPoints[_].y,n<o.min&&(o.min=n),n>o.max&&(o.max=n),M.dataPointEOs[_].cumulativeSum<d.min&&(d.min=M.dataPointEOs[_].cumulativeSum),M.dataPointEOs[_].cumulativeSum>d.max&&(d.max=M.dataPointEOs[_].cumulativeSum),0<_&&(t.axisX.logarithmic?(1>(y=n/M.dataPoints[_-1].x)&&(y=1/y),o.minDiff>y&&1!==y&&(o.minDiff=y)):(0>(y=n-M.dataPoints[_-1].x)&&(y*=-1),o.minDiff>y&&0!==y&&(o.minDiff=y)),null!==l&&null!==M.dataPoints[_-1].y&&(t.axisY.logarithmic?(1>(l=M.dataPointEOs[_].cumulativeSum/M.dataPointEOs[_-1].cumulativeSum)&&(l=1/l),d.minDiff>l&&1!==l&&(d.minDiff=l)):(0>(l=M.dataPointEOs[_].cumulativeSum-M.dataPointEOs[_-1].cumulativeSum)&&(l*=-1),d.minDiff>l&&0!==l&&(d.minDiff=l)))),!(n<v)||f){if(!f&&(f=!0,0<_)){_-=2;continue}if(n>h&&!m)m=!0;else if(n>h&&m)continue;M.dataPoints[_].label&&(t.axisX.labels[n]=M.dataPoints[_].label),n<o.viewPortMin&&(o.viewPortMin=n),n>o.viewPortMax&&(o.viewPortMax=n),0<_&&(M.dataPointEOs[_-1].cumulativeSum<d.viewPortMin&&(d.viewPortMin=M.dataPointEOs[_-1].cumulativeSum),M.dataPointEOs[_-1].cumulativeSum>d.viewPortMax&&(d.viewPortMax=M.dataPointEOs[_-1].cumulativeSum)),M.dataPointEOs[_].cumulativeSum<d.viewPortMin&&(d.viewPortMin=M.dataPointEOs[_].cumulativeSum),M.dataPointEOs[_].cumulativeSum>d.viewPortMax&&(d.viewPortMax=M.dataPointEOs[_].cumulativeSum)}M.axisX.valueType=M.xValueType=p?"dateTime":"number"}},B.prototype.calculateAutoBreaks=function(){function d(C){if(C.dataSeriesIndexes&&!(1>C.dataSeriesIndexes.length)){var S=C.axisX.scaleBreaks&&C.axisX.scaleBreaks.autoCalculate&&1<=C.axisX.scaleBreaks.maxNumberOfAutoBreaks,F=C.axisY.scaleBreaks&&C.axisY.scaleBreaks.autoCalculate&&1<=C.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(S||F)for(var P,ct,I=(Y=C.axisX.dataInfo).min,A=Y.max,z=(et=C.axisY.dataInfo).min,N=et.max,Y=Y._dataRanges,et=et._dataRanges,J=0,Q=0;Q<C.dataSeriesIndexes.length;Q++){var $=l.data[C.dataSeriesIndexes[Q]];if(!(4>$.dataPoints.length))for(J=0;J<$.dataPoints.length;J++)if(S&&(ct=(A+1-I)*Math.max(parseFloat(C.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(P=$.dataPoints[J].x.getTime?$.dataPoints[J].x.getTime():$.dataPoints[J].x)<Y[ct=Math.floor((P-I)/ct)].min&&(Y[ct].min=P),P>Y[ct].max&&(Y[ct].max=P)),F){var U=(N+1-z)*Math.max(parseFloat(C.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((P="waterfall"===C.type?$.dataPointEOs[J].cumulativeSum:$.dataPoints[J].y)&&P.length)for(var O=0;O<P.length;O++)ct=Math.floor((P[O]-z)/U),P[O]<et[ct].min&&(et[ct].min=P[O]),P[O]>et[ct].max&&(et[ct].max=P[O]);else E(P)||(P<et[ct=Math.floor((P-z)/U)].min&&(et[ct].min=P),P>et[ct].max&&(et[ct].max=P))}}}}function o(C){if(C.dataSeriesIndexes&&!(1>C.dataSeriesIndexes.length)&&C.axisX.scaleBreaks&&C.axisX.scaleBreaks.autoCalculate&&1<=C.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var A,S=C.axisX.dataInfo,F=S.min,P=S.max,I=S._dataRanges,z=0,N=0;N<C.dataSeriesIndexes.length;N++){var Y=l.data[C.dataSeriesIndexes[N]];if(!(4>Y.dataPoints.length))for(z=0;z<Y.dataPoints.length;z++)A=(P+1-F)*Math.max(parseFloat(C.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(S=Y.dataPoints[z].x.getTime?Y.dataPoints[z].x.getTime():Y.dataPoints[z].x)<I[A=Math.floor((S-F)/A)].min&&(I[A].min=S),S>I[A].max&&(I[A].max=S)}}for(var n,l=this,p=!1,g=0;g<this._axes.length;g++)if(this._axes[g].scaleBreaks&&this._axes[g].scaleBreaks.autoCalculate&&1<=this._axes[g].scaleBreaks.maxNumberOfAutoBreaks){p=!0,this._axes[g].dataInfo._dataRanges=[];for(var M=0;M<100/Math.max(parseFloat(this._axes[g].scaleBreaks.collapsibleThreshold)||10,10);M++)this._axes[g].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(p){for(g=0;g<this.plotInfo.plotTypes.length;g++)for(p=this.plotInfo.plotTypes[g],M=0;M<p.plotUnits.length;M++)"line"===(n=p.plotUnits[M]).type||"stepLine"===n.type||"spline"===n.type||"column"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"bar"===n.type||"bubble"===n.type||"scatter"===n.type||"candlestick"===n.type||"ohlc"===n.type||"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"waterfall"===n.type||"error"===n.type||"boxAndWhisker"===n.type?d(n):0<=n.type.indexOf("stacked")&&o(n);for(g=0;g<this._axes.length;g++)if(this._axes[g].dataInfo._dataRanges){var _=this._axes[g].dataInfo.min;n=(this._axes[g].dataInfo.max+1-_)*Math.max(parseFloat(this._axes[g].scaleBreaks.collapsibleThreshold)||10,10)/100;var m,y,f=this._axes[g].dataInfo._dataRanges;if(p=[],this._axes[g].dataInfo.dataPointYPositiveSums){var v=this._axes[g].dataInfo.dataPointYPositiveSums;for(M in m=f,v)if(v.hasOwnProperty(M)&&!isNaN(M)&&!E(y=v[M])){var h=Math.floor((y-_)/n);y<m[h].min&&(m[h].min=y),y>m[h].max&&(m[h].max=y)}delete this._axes[g].dataInfo.dataPointYPositiveSums}if(this._axes[g].dataInfo.dataPointYNegativeSums){for(M in m=f,v=this._axes[g].dataInfo.dataPointYNegativeSums)v.hasOwnProperty(M)&&!isNaN(M)&&(E(y=-1*v[M])||(y<m[h=Math.floor((y-_)/n)].min&&(m[h].min=y),y>m[h].max&&(m[h].max=y)));delete this._axes[g].dataInfo.dataPointYNegativeSums}for(M=0;M<f.length-1;M++)if(m=f[M].max,isFinite(m))for(;M<f.length-1;){if(_=f[M+1].min,isFinite(_)){(y=_-m)>n&&p.push({diff:y,start:m,end:_});break}M++}if(this._axes[g].scaleBreaks.customBreaks)for(M=0;M<this._axes[g].scaleBreaks.customBreaks.length;M++)for(n=0;n<p.length;n++)(this._axes[g].scaleBreaks.customBreaks[M].startValue<=p[n].start&&p[n].start<=this._axes[g].scaleBreaks.customBreaks[M].endValue||this._axes[g].scaleBreaks.customBreaks[M].startValue<=p[n].start&&p[n].start<=this._axes[g].scaleBreaks.customBreaks[M].endValue||p[n].start<=this._axes[g].scaleBreaks.customBreaks[M].startValue&&this._axes[g].scaleBreaks.customBreaks[M].startValue<=p[n].end||p[n].start<=this._axes[g].scaleBreaks.customBreaks[M].endValue&&this._axes[g].scaleBreaks.customBreaks[M].endValue<=p[n].end)&&(p.splice(n,1),n--);for(p.sort(function(S,F){return F.diff-S.diff}),M=0;M<Math.min(p.length,this._axes[g].scaleBreaks.maxNumberOfAutoBreaks);M++)C=p[M].start,S=p[M].end,F=this._axes[g].logarithmic?this._axes[g].dataInfo.max/this._axes[g].dataInfo.min:this._axes[g].dataInfo.max-this._axes[g].dataInfo.min,n=this._axes[g].logarithmic?(1>=(F=Math.pow(Math.min(F*C/S,S/C),.2))&&(F=Math.pow(1>C?1/C:Math.min(S/C,C),.25)),{startValue:C*F,endValue:S/F}):(0>=(F=.2*Math.min(F-S+C,S-C))&&(F=.25*Math.min(S-C,Math.abs(C))),{startValue:C+F,endValue:S-F}),this._axes[g].scaleBreaks.autoBreaks.push(new Et(this,"autoBreaks",n,M,++this._eventManager.lastObjectId,this._axes[g].scaleBreaks)),this._axes[g].scaleBreaks._appliedBreaks.push(this._axes[g].scaleBreaks.autoBreaks[this._axes[g].scaleBreaks.autoBreaks.length-1]);this._axes[g].scaleBreaks._appliedBreaks.sort(function(S,F){return S.startValue-F.startValue})}}var C,S,F},B.prototype.renderCrosshairs=function(t){for(var d=0;d<this.axisX.length;d++)this.axisX[d]!=t&&this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&!this.axisX[d].crosshair._hidden&&this.axisX[d].showCrosshair(this.axisX[d].crosshair._updatedValue);for(d=0;d<this.axisX2.length;d++)this.axisX2[d]!=t&&this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&!this.axisX2[d].crosshair._hidden&&this.axisX2[d].showCrosshair(this.axisX2[d].crosshair._updatedValue);for(d=0;d<this.axisY.length;d++)this.axisY[d]!=t&&this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&!this.axisY[d].crosshair._hidden&&this.axisY[d].showCrosshair(this.axisY[d].crosshair._updatedValue);for(d=0;d<this.axisY2.length;d++)this.axisY2[d]!=t&&this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&!this.axisY2[d].crosshair._hidden&&this.axisY2[d].showCrosshair(this.axisY2[d].crosshair._updatedValue)},B.prototype.getDataPointAtXY=function(t,d,o){o=o||!1;for(var n=[],l=this._dataInRenderedOrder.length-1;0<=l;l--){var p;(p=this._dataInRenderedOrder[l].getDataPointAtXY(t,d,o))&&n.push(p)}for(t=null,d=!1,o=0;o<n.length;o++)if(("line"===n[o].dataSeries.type||"stepLine"===n[o].dataSeries.type||"area"===n[o].dataSeries.type||"stepArea"===n[o].dataSeries.type)&&(l=oe("markerSize",n[o].dataPoint,n[o].dataSeries)||8,n[o].distance<=l/2)){d=!0;break}for(o=0;o<n.length;o++)d&&"line"!==n[o].dataSeries.type&&"stepLine"!==n[o].dataSeries.type&&"area"!==n[o].dataSeries.type&&"stepArea"!==n[o].dataSeries.type||(t?n[o].distance<=t.distance&&(t=n[o]):t=n[o]);return t},B.prototype.getObjectAtXY=function(t,d,o){var n=null;if(o=this.getDataPointAtXY(t,d,o||!1))n=o.dataSeries.dataPointIds[o.dataPointIndex];else if(H)n=ze(t,d,this._eventManager.ghostCtx);else for(o=0;o<this.legend.items.length;o++){var l=this.legend.items[o];t>=l.x1&&t<=l.x2&&d>=l.y1&&d<=l.y2&&(n=l.id)}return n},B.prototype.getAutoFontSize=Js,B.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},B.prototype.clearCanvas=ei,B.prototype.attachEvent=function(t){this._events.push(t)},B.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var d=[],o=t.changedTouches,n=o?o[0]:t,l=null;switch(t.type){case"touchstart":case"MSPointerDown":d=["mousemove","mousedown"],this._lastTouchData=Wi(n),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":d=["mousemove"];break;case"touchend":case"MSPointerUp":var p=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;d="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>p?["mouseup","click"]:["mouseup"];break;default:return}if(!(o&&1<o.length)){(l=Wi(n)).time=new Date;try{var g=l.y-this._lastTouchData.y;p=l.time-this._lastTouchData.time,(1<Math.abs(g)&&this._lastTouchData.scroll||5<Math.abs(g)&&250>p)&&(this._lastTouchData.scroll=!0)}catch{}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(o=0;o<d.length;o++)l=d[o],(g=document.createEvent("MouseEvent")).initMouseEvent(l,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(g),(!E(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<p||"click"===l)&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.cancelable&&t.preventDefault())}}},B.prototype._dispatchRangeEvent=function(t,d){var o={chart:this};o.type=t,o.trigger=d;var n=[];this.axisX&&0<this.axisX.length&&n.push("axisX"),this.axisX2&&0<this.axisX2.length&&n.push("axisX2"),this.axisY&&0<this.axisY.length&&n.push("axisY"),this.axisY2&&0<this.axisY2.length&&n.push("axisY2");for(var l=0;l<n.length;l++)if(E(o[n[l]])&&(o[n[l]]=[]),"axisY"===n[l])for(var p=0;p<this.axisY.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});else if("axisY2"===n[l])for(p=0;p<this.axisY2.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});else if("axisX"===n[l])for(p=0;p<this.axisX.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});else if("axisX2"===n[l])for(p=0;p<this.axisX2.length;p++)o[n[l]].push({viewportMinimum:this[n[l]][p].sessionVariables.newViewportMinimum,viewportMaximum:this[n[l]][p].sessionVariables.newViewportMaximum});this.dispatchEvent(t,o,this)},B.prototype._mouseEventHandler=function(t){function d(){B.capturedEventParam&&(g=(l=B.capturedEventParam).bounds,"mouseup"===n&&(B.capturedEventParam=null,l.chart.overlaidCanvas.releaseCapture?l.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",l.chart._mouseEventHandler,!1)),l.hasOwnProperty(n)&&("mouseup"!==n||l.chart.overlaidCanvas.releaseCapture?t.target!==l.chart.overlaidCanvas&&H||l[n].call(l.context,o.x,o.y):t.target!==l.chart.overlaidCanvas&&(l.chart.isDrag=!1)))}typeof t.target>"u"&&t.srcElement&&(t.target=t.srcElement);var l,p,o=Wi(t),n=t.type;if(t.which?p=3==t.which:t.button&&(p=2==t.button),this._ignoreNextEvent)d(),this._ignoreNextEvent=!1;else if(d(),this.interactivityEnabled){var g;if(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),Fi&&window.console&&(window.console.log(n+" --\x3e x: "+o.x+"; y:"+o.y),p&&window.console.log(t.which),"mouseup"===n&&window.console.log("mouseup")),!p){if(!B.capturedEventParam&&this._events){for(p=0;p<this._events.length;p++)if(this._events[p].hasOwnProperty(n)){if(o.x>=(g=(l=this._events[p]).bounds).x1&&o.x<=g.x2&&o.y>=g.y1&&o.y<=g.y2){l[n].call(l.context,o.x,o.y),"mousedown"===n&&!0===l.capture?(B.capturedEventParam=l,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===n&&(l.chart.overlaidCanvas.releaseCapture?l.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}l=null}t.target.style.cursor=l&&l.cursor?l.cursor:this._defaultCursor}if(o.x<(p=this.plotArea).x1||o.x>p.x2||o.y<p.y1||o.y>p.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),p=0;p<this.axisX.length;p++)this.axisX[p].crosshair&&this.axisX[p].crosshair.enabled&&(this.axisX[p].crosshair.hide(),this.axisX[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[p].options},this.axisX[p].crosshair));for(p=0;p<this.axisX2.length;p++)this.axisX2[p].crosshair&&this.axisX2[p].crosshair.enabled&&(this.axisX2[p].crosshair.hide(),this.axisX2[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[p].options},this.axisX2[p].crosshair));for(p=0;p<this.axisY.length;p++)this.axisY[p].crosshair&&this.axisY[p].crosshair.enabled&&(this.axisY[p].crosshair.hide(),this.axisY[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[p].options},this.axisY[p].crosshair));for(p=0;p<this.axisY2.length;p++)this.axisY2[p].crosshair&&this.axisY2[p].crosshair.enabled&&(this.axisY2[p].crosshair.hide(),this.axisY2[p].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[p].options},this.axisY2[p].crosshair))}this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}}},B.prototype._plotAreaMouseDown=function(t,d){this.isDrag=!0,this.dragStartPoint={x:t,y:d}},B.prototype._plotAreaMouseUp=function(t,d){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var o=d-this.dragStartPoint.y,n=t-this.dragStartPoint.x,M=0<=this.zoomType.indexOf("x"),g=0<=this.zoomType.indexOf("y"),l=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var p=g;g=M,M=p}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(M=g=0;M<this._axes.length;M++)(o=this._axes[M]).logarithmic?o.viewportMinimum<o.minimum?(o.sessionVariables.newViewportMinimum=o.viewportMinimum*(g=o.minimum/o.viewportMinimum),o.sessionVariables.newViewportMaximum=o.viewportMaximum*g,l=!0):o.viewportMaximum>o.maximum&&(o.sessionVariables.newViewportMinimum=o.viewportMinimum/(g=o.viewportMaximum/o.maximum),o.sessionVariables.newViewportMaximum=o.viewportMaximum/g,l=!0):o.viewportMinimum<o.minimum?(o.sessionVariables.newViewportMinimum=o.viewportMinimum+(g=o.minimum-o.viewportMinimum),o.sessionVariables.newViewportMaximum=o.viewportMaximum+g,l=!0):o.viewportMaximum>o.maximum&&(o.sessionVariables.newViewportMinimum=o.viewportMinimum-(g=o.viewportMaximum-o.maximum),o.sessionVariables.newViewportMaximum=o.viewportMaximum-g,l=!0);else if((!M||2<Math.abs(n))&&(!g||2<Math.abs(o))&&this.zoomEnabled){if(!this.dragStartPoint)return;o=M?this.dragStartPoint.x:this.plotArea.x1,n=g?this.dragStartPoint.y:this.plotArea.y1,M=M?t:this.plotArea.x2,g=g?d:this.plotArea.y2,2<Math.abs(o-M)&&2<Math.abs(n-g)&&this._zoomPanToSelectedRegion(o,n,M,g)&&(l=!0)}l&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&(this.stockChart.rangeUpdatedBy="chart",this.stockChart.navigator&&this.stockChart.navigator.enabled&&(this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart))),l&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(ke(this._zoomButton,this._resetButton),Oe(this,this._zoomButton,"pan"),Oe(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].renderCrosshair(t,d);if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].renderCrosshair(t,d);if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].renderCrosshair(t,d);if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].renderCrosshair(t,d);if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].crosshair.renderLabel()}},B.prototype._plotAreaMouseMove=function(t,d){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var o=0,n=0,l=o=null,p=(l=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),g=this;if("xySwapped"===this.plotInfo.axisPlacement&&(o=p,p=l,l=o),o=this.dragStartPoint.x-t,n=this.dragStartPoint.y-d,2<Math.abs(o)&&8>Math.abs(o)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var M=0;M<this.axisX.length;M++)this.axisX[M].crosshair&&this.axisX[M].crosshair.enabled&&(this.axisX[M].crosshair.hide(),this.axisX[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[M].options},this.axisX[M].crosshair));for(M=0;M<this.axisX2.length;M++)this.axisX2[M].crosshair&&this.axisX2[M].crosshair.enabled&&(this.axisX2[M].crosshair.hide(),this.axisX2[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[M].options},this.axisX2[M].crosshair));for(M=0;M<this.axisY.length;M++)this.axisY[M].crosshair&&this.axisY[M].crosshair.enabled&&(this.axisY[M].crosshair.hide(),this.axisY[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[M].options},this.axisY[M].crosshair));for(M=0;M<this.axisY2.length;M++)this.axisY2[M].crosshair&&this.axisY2[M].crosshair.enabled&&(this.axisY2[M].crosshair.hide(),this.axisY2[M].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[M].options},this.axisY2[M].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,d);if((!l||2<Math.abs(o)||!p||2<Math.abs(n))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)l={x1:l?this.plotArea.x1+o:this.plotArea.x1,y1:p?this.plotArea.y1+n:this.plotArea.y1,x2:l?this.plotArea.x2+o:this.plotArea.x2,y2:p?this.plotArea.y2+n:this.plotArea.y2},clearTimeout(g._panTimerId),g._panTimerId=setTimeout(function(m,y,v,h){return function(){g._zoomPanToSelectedRegion(m,y,v,h,!0)&&(g._dispatchRangeEvent("rangeChanging","pan"),g.stockChart&&g.stockChart.navigator&&g.stockChart.navigator.enabled&&(g.stockChart._rangeEventParameter.type="rangeChanging",g.stockChart.dispatchEvent("rangeChanging",g.stockChart._rangeEventParameter,g.stockChart)),g.render(),g._dispatchRangeEvent("rangeChanged","pan"),g.stockChart&&g.stockChart.navigator&&g.stockChart.navigator.enabled&&(g.stockChart._rangeEventParameter.type="rangeChanged",g.stockChart.dispatchEvent("rangeChanged",g.stockChart._rangeEventParameter,g.stockChart)),g.dragStartPoint.x=t,g.dragStartPoint.y=d)}}(l.x1,l.y1,l.x2,l.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),o=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var _=l?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,f=p?d-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(n=l?this.dragStartPoint.x:this.plotArea.x1,M=p?this.dragStartPoint.y:this.plotArea.y1,l?t:this.plotArea.x2-this.plotArea.x1,p?d:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(n,M,_,f),this.overlaidCanvasCtx.globalAlpha=o}}else if(this.toolTip.mouseMoveHandler(t,d),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].renderCrosshair(t,d);if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].renderCrosshair(t,d);if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].renderCrosshair(t,d);if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].renderCrosshair(t,d);if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].crosshair.renderLabel()}},B.prototype._zoomPanToSelectedRegion=function(t,d,o,n,l){if(d=(t=this.validateRegion(t,d,o,n,l)).axesWithValidRange,o=t.axesRanges,t.isValid)for(n=0;n<d.length;n++)d[n].setViewPortRange((l=o[n]).val1,l.val2),this.syncCharts&&"y"!=this.zoomType&&this.syncCharts(l.val1,l.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:l.val1,maximum:l.val2});return t.isValid},B.prototype.validateRegion=function(t,d,o,n,l){l=l||!1;for(var p=0<=this.zoomType.indexOf("x"),g=0<=this.zoomType.indexOf("y"),M=!1,_=[],f=[],m=[],y=0;y<this._axes.length;y++)("axisX"===this._axes[y].type&&p||"axisY"===this._axes[y].type&&g)&&f.push(this._axes[y]);for(g=0;g<f.length;g++){if(p=!1,(C=(y=f[g]).convertPixelToValue({x:t,y:d}))>(h=y.convertPixelToValue({x:o,y:n})))var v=h,h=C,C=v;if(y.scaleBreaks)for(v=0;!p&&v<y.scaleBreaks._appliedBreaks.length;v++)p=y.scaleBreaks._appliedBreaks[v].startValue<=C&&y.scaleBreaks._appliedBreaks[v].endValue>=h;if(isFinite(y.dataInfo.minDiff))if(v=y.getApparentDifference(C,h,null,!0),p||!(this.panEnabled&&y.scaleBreaks&&y.scaleBreaks._appliedBreaks.length)&&(y.logarithmic&&v<Math.pow(y.dataInfo.minDiff,3)||!y.logarithmic&&v<3*Math.abs(y.dataInfo.minDiff))||C<y.minimum||h>y.maximum){if(!l){M=!1;break}}else _.push(y),m.push({val1:C,val2:h}),M=!0}return{isValid:M,axesWithValidRange:_,axesRanges:m}},B.prototype.preparePlotArea=function(){var t=this.plotArea;if(!H&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var d=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var o=this.axisY[0];t.x1=d.x1<d.x2?d.x1:o.lineCoordinates.x1,t.y1=d.y1<o.lineCoordinates.y1?d.y1:o.lineCoordinates.y1,t.x2=d.x2>o.lineCoordinates.x2?d.x2:o.lineCoordinates.x2,t.y2=d.y1>o.lineCoordinates.y2?d.y1:o.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(o=this.axisY2[0],t.x1=d.x1<d.x2?d.x1:o.lineCoordinates.x1,t.y1=d.y1<o.lineCoordinates.y1?d.y1:o.lineCoordinates.y1,t.x2=d.x2>o.lineCoordinates.x2?d.x2:o.lineCoordinates.x2,t.y2=d.y2>o.lineCoordinates.y2?d.y2:o.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1)}else d=this.layoutManager.getFreeSpace(),t.x1=d.x1,t.x2=d.x2,t.y1=d.y1,t.y2=d.y2,t.width=d.width,t.height=d.height;H||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new Ai(t.x1,t.y1,t.x2,t.y2,2)},B.prototype.renderIndexLabels=function(t){var d=t||this.plotArea.ctx,o=this.plotArea,n=0,l=0,p=0,g=l=p=0,M=0,_=n=0,f=0;for(t=0;t<this._indexLabels.length;t++){var v,h,m=this._indexLabels[t],y=m.chartType.toLowerCase(),C=(M=oe("indexLabelFontColor",m.dataPoint,m.dataSeries),oe("indexLabelFontSize",m.dataPoint,m.dataSeries));_=oe("indexLabelFontFamily",m.dataPoint,m.dataSeries),f=oe("indexLabelFontStyle",m.dataPoint,m.dataSeries),v=oe("indexLabelFontWeight",m.dataPoint,m.dataSeries);var S=oe("indexLabelBackgroundColor",m.dataPoint,m.dataSeries);h=oe("indexLabelMaxWidth",m.dataPoint,m.dataSeries),p=oe("indexLabelWrap",m.dataPoint,m.dataSeries);var F=oe("indexLabelLineDashType",m.dataPoint,m.dataSeries),P=oe("indexLabelLineColor",m.dataPoint,m.dataSeries),I=E(m.dataPoint.indexLabelLineThickness)?E(m.dataSeries.options.indexLabelLineThickness)?0:m.dataSeries.options.indexLabelLineThickness:m.dataPoint.indexLabelLineThickness,A=(n=0<I?Math.min(10,0|("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)):0,{percent:null,total:null}),z=null;(0<=m.dataSeries.type.indexOf("stacked")||"pie"===m.dataSeries.type||"doughnut"===m.dataSeries.type)&&(A=this.getPercentAndTotal(m.dataSeries,m.dataPoint)),(m.dataSeries.indexLabelFormatter||m.dataPoint.indexLabelFormatter)&&(z={chart:this,dataSeries:m.dataSeries,dataPoint:m.dataPoint,index:m.indexKeyword,total:A.total,percent:A.percent});var N=m.dataPoint.indexLabelFormatter?m.dataPoint.indexLabelFormatter(z):m.dataPoint.indexLabel?this.replaceKeywordsWithValue(m.dataPoint.indexLabel,m.dataPoint,m.dataSeries,null,m.indexKeyword):m.dataSeries.indexLabelFormatter?m.dataSeries.indexLabelFormatter(z):m.dataSeries.indexLabel?this.replaceKeywordsWithValue(m.dataSeries.indexLabel,m.dataPoint,m.dataSeries,null,m.indexKeyword):null;if(null!==N&&""!==N){A=oe("indexLabelPlacement",m.dataPoint,m.dataSeries),z=oe("indexLabelOrientation",m.dataPoint,m.dataSeries);var Y=oe("indexLabelTextAlign",m.dataPoint,m.dataSeries),et=m.direction,ct=(l=m.dataSeries.axisX,g=m.dataSeries.axisY,!1);if((S=new ie(d,{x:0,y:0,maxWidth:h||.5*this.width,maxHeight:p?5*C:1.5*C,angle:"horizontal"===z?0:-90,text:N,padding:0,backgroundColor:S,textAlign:Y,fontSize:C,fontFamily:_,fontWeight:v,fontColor:M,fontStyle:f,textBaseline:"middle"})).measureText(),m.dataSeries.indexLabelMaxWidth=S.maxWidth,"stackedarea100"===y){if(m.point.x<o.x1||m.point.x>o.x2||m.point.y<o.y1-1||m.point.y>o.y2+1)continue}else if("rangearea"===y||"rangesplinearea"===y){if(m.dataPoint.x<l.viewportMinimum||m.dataPoint.x>l.viewportMaximum||Math.max.apply(null,m.dataPoint.y)<g.viewportMinimum||Math.min.apply(null,m.dataPoint.y)>g.viewportMaximum)continue}else if(0<=y.indexOf("line")||0<=y.indexOf("area")||0<=y.indexOf("bubble")||0<=y.indexOf("scatter")){if(m.dataPoint.x<l.viewportMinimum||m.dataPoint.x>l.viewportMaximum||m.dataPoint.y<g.viewportMinimum||m.dataPoint.y>g.viewportMaximum)continue}else if(0<=y.indexOf("column")||"waterfall"===y||"error"===y&&!m.axisSwapped){if(m.dataPoint.x<l.viewportMinimum||m.dataPoint.x>l.viewportMaximum||m.bounds.y1>o.y2||m.bounds.y2<o.y1)continue}else if(0<=y.indexOf("bar")||"error"===y){if(m.dataPoint.x<l.viewportMinimum||m.dataPoint.x>l.viewportMaximum||m.bounds.x1>o.x2||m.bounds.x2<o.x1)continue}else if("candlestick"===y||"ohlc"===y){if(m.dataPoint.x<l.viewportMinimum||m.dataPoint.x>l.viewportMaximum||Math.max.apply(null,m.dataPoint.y)<g.viewportMinimum||Math.min.apply(null,m.dataPoint.y)>g.viewportMaximum)continue}else if(m.dataPoint.x<l.viewportMinimum||m.dataPoint.x>l.viewportMaximum)continue;g=M=2,"horizontal"===z?(_=S.width,f=S.height):(f=S.width,_=S.height),"normal"===this.plotInfo.axisPlacement?(0<=y.indexOf("line")||0<=y.indexOf("area")?(A="auto",M=4):0<=y.indexOf("stacked")?"auto"===A&&(A="inside"):("bubble"===y||"scatter"===y)&&(A="inside"),v=m.point.x-_/2+("horizontal"===z?0:S._lineHeight/2),"inside"!==A?(l=o.y1,p=o.y2,0<et?(h=m.point.y+S._lineHeight/2-f-M-n)<l&&(!(ct=(h="auto"===A?Math.max(m.point.y,l)+S._lineHeight/2+M+n:l+S._lineHeight/2+M+n)+("horizontal"===z?f-S._lineHeight/2:0)>m.point.y)||0<=y.indexOf("line")||0<=y.indexOf("area")||(h-=n)):(h=m.point.y+S._lineHeight/2+M+n)>p-f+S._lineHeight/2-M&&(!(ct=(h="auto"===A?Math.min(m.point.y,p)+S._lineHeight/2-f-M-n:p+S._lineHeight/2-f-M-n)-("horizontal"===z?S._lineHeight/2:f)<m.point.y)||0<=y.indexOf("line")||0<=y.indexOf("area")||(h+=n))):(Math.max(m.bounds.y1,o.y1),p=Math.min(m.bounds.y2,o.y2)-f+S._lineHeight/2,n=0<=y.indexOf("range")||"error"===y?0<et?Math.max(m.bounds.y1,o.y1)+S._lineHeight/2+M:Math.min(m.bounds.y2,o.y2)+S._lineHeight/2-f-M:(Math.max(m.bounds.y1,o.y1)+Math.min(m.bounds.y2,o.y2))/2-f/2+S._lineHeight/2,0<et?(h=n,("bubble"===y||"scatter"===y)&&(h=m.point.y-f/2+S._lineHeight/2,f>m.bounds.y2-m.bounds.y1&&(h-=f/2+M),0>h-S._lineHeight/2&&(h+=Math.abs(h-S._lineHeight/2)<=(m.bounds.y2-m.bounds.y1)/2+M?Math.abs(h-S._lineHeight/2):(m.bounds.y2-m.bounds.y1)/2+M))):(h=Math.min(m.point.y,n))>p-f-M&&("bubble"===y||"scatter"===y)&&(h=Math.min(m.point.y+M,o.y2-f-M)),h=Math.min(h,p))):(0<=y.indexOf("line")||0<=y.indexOf("area")||0<=y.indexOf("scatter")?(A="auto",g=4):0<=y.indexOf("stacked")?"auto"===A&&(A="inside"):"bubble"===y&&(A="inside"),h=m.point.y+S._lineHeight/2-f/2,"inside"!==A?(p=o.x1,l=o.x2,0>et?(v=m.point.x-_+("horizontal"===z?0:S._lineHeight/2)-g-n,("horizontal"===z?v:v-S._lineHeight/2)<p&&(ct=(v="auto"===A?Math.max(m.point.x,p)+("horizontal"===z?0:S._lineHeight/2)+M+n:p+("horizontal"===z?0:S._lineHeight/2)+g)+_-("horizontal"===z?0:S._lineHeight/2)>m.point.x)&&(v-=n)):(v=m.point.x+("horizontal"===z?0:S._lineHeight/2)+g+n,("horizontal"===z?v:v-S._lineHeight/2)>l-_-g-n&&(ct=(v="auto"===A?Math.min(m.point.x,l)-("horizontal"===z?_:_-S._lineHeight/2)-g-n:l-_-g+("horizontal"===z?0:S._lineHeight/2))-("horizontal"===z?0:S._lineHeight/2)<m.point.x)&&(v+=n))):(p=Math.max(m.bounds.x1,o.x1),Math.min(m.bounds.x2,o.x2),n=0<=y.indexOf("range")||"error"===y?0>et?Math.max(m.bounds.x1,o.x1):Math.min(m.bounds.x2,o.x2)-_-g+("horizontal"===z?0:S._lineHeight/2):(Math.max(m.bounds.x1,o.x1)+Math.min(m.bounds.x2,o.x2))/2-_/2+("horizontal"===z?0:S._lineHeight/2),v=0>et?n:Math.min(m.point.x,n),v=Math.max(v,p+("horizontal"===z?0:S._lineHeight/2+M)))),"vertical"===z&&(h+=f-S._lineHeight/2,0<="ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(y)&&(ct=0<et?h+("horizontal"===z?f-S._lineHeight/2:0)>m.point.y:h-("horizontal"===z?S._lineHeight/2:f)<m.point.y),"bubble"===y||"scatter"===y)&&(v+=S._lineHeight/2-C/2),S.x=v,S.y=h,S.render(!0),I&&"inside"!==A&&(0>y.indexOf("bar")&&("error"!==y||!m.axisSwapped)&&m.point.x>o.x1&&m.point.x<o.x2||!ct)&&(-1==="ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(y)&&("error"!==y||m.axisSwapped)&&m.point.y>o.y1&&m.point.y<o.y2||!ct)&&(d.lineWidth=I,d.strokeStyle=P||"gray",d.setLineDash&&d.setLineDash(mt(F,I)),d.beginPath(),d.moveTo(m.point.x,m.point.y),0<=y.indexOf("bar")||"error"===y&&m.axisSwapped?d.lineTo(v+(0<m.direction?0:_)+("vertical"===z?-S._lineHeight/2:0),h+("vertical"===z?-f/2:f/2-S._lineHeight/2)):0<=y.indexOf("column")||"error"===y&&!m.axisSwapped?d.lineTo(v+_/2-("horizontal"===z?0:S._lineHeight/2),h+("vertical"===z?h-f<m.point.y?0:-f:(h-S._lineHeight/2<m.point.y?f:0)-S._lineHeight/2)):0<=y.indexOf("waterfall")?d.lineTo(v+_/2-("horizontal"===z?0:S._lineHeight/2),"vertical"===z?0<et&&h<m.point.y?h:0>et&&h-f>m.point.y?h-f:m.point.y:0<et&&h+f-S._lineHeight/2<m.point.y?h+f-S._lineHeight/2:0>et&&h-S._lineHeight/2>m.point.y?h-S._lineHeight/2:m.point.y):d.lineTo(v+_/2-("horizontal"===z?0:S._lineHeight/2),h+("vertical"===z?h-f<m.point.y?0:-f:(h+f-S._lineHeight/2<m.point.y?f:0)-S._lineHeight/2)),d.stroke())}}for(d={source:d,dest:this.plotArea.ctx,animationCallback:St.fadeInAnimation,easingFunction:St.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)S=oe("indexLabelBackgroundColor",(m=this._indexLabels[t]).dataPoint,m.dataSeries),m.dataSeries.indexLabelBackgroundColor=E(S)?H?"transparent":null:S;return d},B.prototype.renderLine=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;o.save();var l=this.plotArea;o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip();for(var g,p=[],M=0;M<t.dataSeriesIndexes.length;M++){var _=t.dataSeriesIndexes[M],f=this.data[_];o.lineWidth=f.lineThickness;var m=f.dataPoints,y="solid";if(o.setLineDash){var v=mt(f.nullDataLineDashType,f.lineThickness),h=mt(y=f.lineDashType,f.lineThickness);o.setLineDash(h)}this._eventManager.objectMap[C=f.id]={objectType:"dataSeries",dataSeriesIndex:_},C=Nt(C),n.strokeStyle=C,n.lineWidth=0<f.lineThickness?Math.max(f.lineThickness,4):0;var C=f._colorSet,S=C=f.lineColor=f.options.lineColor?f.options.lineColor:C[0];o.strokeStyle=C;var I,A,F=!0,P=0;if(o.beginPath(),0<m.length){var z=!1;for(P=0;P<m.length;P++)if(!((I=m[P].x.getTime?m[P].x.getTime():m[P].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!z)))if("number"!=typeof m[P].y)0<P&&!(f.connectNullData||z||F)&&(o.stroke(),H&&n.stroke()),z=!0;else{I=t.axisX.convertValueToPixel(I),A=t.axisY.convertValueToPixel(m[P].y);var N=f.dataPointIds[P];if(this._eventManager.objectMap[N]={id:N,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:P,x1:I,y1:A},F||z?(!F&&f.connectNullData?(o.setLineDash&&(f.options.nullDataLineDashType||y===f.lineDashType&&f.lineDashType!==f.nullDataLineDashType)&&(o.stroke(),o.beginPath(),o.moveTo(g.x,g.y),y=f.nullDataLineDashType,o.setLineDash(v)),o.lineTo(I,A),H&&n.lineTo(I,A)):(o.beginPath(),o.moveTo(I,A),H&&(n.beginPath(),n.moveTo(I,A))),z=F=!1):(o.lineTo(I,A),H&&n.lineTo(I,A),P%500==0&&(o.stroke(),o.beginPath(),o.moveTo(I,A),H&&(n.stroke(),n.beginPath(),n.moveTo(I,A)))),g={x:I,y:A},P<m.length-1&&(S!==(m[P].lineColor||C)||y!==(m[P].lineDashType||f.lineDashType))&&(o.stroke(),o.beginPath(),o.moveTo(I,A),o.strokeStyle=S=m[P].lineColor||C,o.setLineDash&&(m[P].lineDashType?o.setLineDash(mt(y=m[P].lineDashType,f.lineThickness)):(y=f.lineDashType,o.setLineDash(h)))),0!==m[P].markerSize&&(0<m[P].markerSize||0<f.markerSize)){var Y=f.getMarkerProperties(P,I,A,o);p.push(Y),N=Nt(N),H&&p.push({x:I,y:A,ctx:n,type:Y.type,size:Y.size,color:N,borderColor:N,borderThickness:Y.borderThickness})}(m[P].indexLabel||f.indexLabel||m[P].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:m[P],dataSeries:f,point:{x:I,y:A},direction:0>m[P].y===t.axisY.reversed?1:-1,color:C})}o.stroke(),H&&n.stroke()}}return me.drawMarkers(p),H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.beginPath()),o.restore(),o.beginPath(),{source:d,dest:this.plotArea.ctx,animationCallback:St.xClipAnimation,easingFunction:St.easing.linear,animationBase:0}}},B.prototype.renderStepLine=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var n=this._eventManager.ghostCtx;o.save();var l=this.plotArea;o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip();for(var g,p=[],M=0;M<t.dataSeriesIndexes.length;M++){var _=t.dataSeriesIndexes[M],f=this.data[_];o.lineWidth=f.lineThickness;var m=f.dataPoints,y="solid";if(o.setLineDash){var v=mt(f.nullDataLineDashType,f.lineThickness),h=mt(y=f.lineDashType,f.lineThickness);o.setLineDash(h)}this._eventManager.objectMap[C=f.id]={objectType:"dataSeries",dataSeriesIndex:_},C=Nt(C),n.strokeStyle=C,n.lineWidth=0<f.lineThickness?Math.max(f.lineThickness,4):0;var C=f._colorSet,S=C=f.lineColor=f.options.lineColor?f.options.lineColor:C[0];o.strokeStyle=C;var I,A,F=!0,P=0;if(o.beginPath(),0<m.length){var z=!1;for(P=0;P<m.length;P++)if(!((I=m[P].getTime?m[P].x.getTime():m[P].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!z)))if("number"!=typeof m[P].y)0<P&&!(f.connectNullData||z||F)&&(o.stroke(),H&&n.stroke()),z=!0;else{var N=A;I=t.axisX.convertValueToPixel(I),A=t.axisY.convertValueToPixel(m[P].y);var Y=f.dataPointIds[P];this._eventManager.objectMap[Y]={id:Y,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:P,x1:I,y1:A},F||z?(!F&&f.connectNullData?(o.setLineDash&&(f.options.nullDataLineDashType||y===f.lineDashType&&f.lineDashType!==f.nullDataLineDashType)&&(o.stroke(),o.beginPath(),o.moveTo(g.x,g.y),y=f.nullDataLineDashType,o.setLineDash(v)),o.lineTo(I,N),o.lineTo(I,A),H&&(n.lineTo(I,N),n.lineTo(I,A))):(o.beginPath(),o.moveTo(I,A),H&&(n.beginPath(),n.moveTo(I,A))),z=F=!1):(o.lineTo(I,N),H&&n.lineTo(I,N),o.lineTo(I,A),H&&n.lineTo(I,A),P%500==0&&(o.stroke(),o.beginPath(),o.moveTo(I,A),H&&(n.stroke(),n.beginPath(),n.moveTo(I,A)))),g={x:I,y:A},P<m.length-1&&(S!==(m[P].lineColor||C)||y!==(m[P].lineDashType||f.lineDashType))&&(o.stroke(),o.beginPath(),o.moveTo(I,A),o.strokeStyle=S=m[P].lineColor||C,o.setLineDash&&(m[P].lineDashType?o.setLineDash(mt(y=m[P].lineDashType,f.lineThickness)):(y=f.lineDashType,o.setLineDash(h)))),0!==m[P].markerSize&&(0<m[P].markerSize||0<f.markerSize)&&(N=f.getMarkerProperties(P,I,A,o),p.push(N),Y=Nt(Y),H&&p.push({x:I,y:A,ctx:n,type:N.type,size:N.size,color:Y,borderColor:Y,borderThickness:N.borderThickness})),(m[P].indexLabel||f.indexLabel||m[P].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:m[P],dataSeries:f,point:{x:I,y:A},direction:0>m[P].y===t.axisY.reversed?1:-1,color:C})}o.stroke(),H&&n.stroke()}}return me.drawMarkers(p),H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.beginPath()),o.restore(),o.beginPath(),{source:d,dest:this.plotArea.ctx,animationCallback:St.xClipAnimation,easingFunction:St.easing.linear,animationBase:0}}},B.prototype.renderSpline=function(t){function d(Y){if(0<(Y=W(Y,2)).length){n.beginPath(),H&&l.beginPath(),n.moveTo(Y[0].x,Y[0].y),Y[0].newStrokeStyle&&(n.strokeStyle=Y[0].newStrokeStyle),Y[0].newLineDashArray&&n.setLineDash(Y[0].newLineDashArray),H&&l.moveTo(Y[0].x,Y[0].y);for(var et=0;et<Y.length-3;et+=3)n.bezierCurveTo(Y[et+1].x,Y[et+1].y,Y[et+2].x,Y[et+2].y,Y[et+3].x,Y[et+3].y),H&&l.bezierCurveTo(Y[et+1].x,Y[et+1].y,Y[et+2].x,Y[et+2].y,Y[et+3].x,Y[et+3].y),(0<et&&et%3e3==0||Y[et+3].newStrokeStyle||Y[et+3].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(Y[et+3].x,Y[et+3].y),Y[et+3].newStrokeStyle&&(n.strokeStyle=Y[et+3].newStrokeStyle),Y[et+3].newLineDashArray&&n.setLineDash(Y[et+3].newLineDashArray),H&&(l.stroke(),l.beginPath(),l.moveTo(Y[et+3].x,Y[et+3].y)));n.stroke(),H&&l.stroke()}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx;n.save();var p=this.plotArea;n.beginPath(),n.rect(p.x1,p.y1,p.width,p.height),n.clip();for(var g=[],M=0;M<t.dataSeriesIndexes.length;M++){var _=t.dataSeriesIndexes[M],f=this.data[_];n.lineWidth=f.lineThickness;var m=f.dataPoints,y="solid";if(n.setLineDash){var v=mt(f.nullDataLineDashType,f.lineThickness),h=mt(y=f.lineDashType,f.lineThickness);n.setLineDash(h)}this._eventManager.objectMap[C=f.id]={objectType:"dataSeries",dataSeriesIndex:_},C=Nt(C),l.strokeStyle=C,l.lineWidth=0<f.lineThickness?Math.max(f.lineThickness,4):0;var C=f._colorSet,S=C=f.lineColor=f.options.lineColor?f.options.lineColor:C[0];n.strokeStyle=C;var P,I,F=0,A=[];if(n.beginPath(),0<m.length)for(I=!1,F=0;F<m.length;F++)if(!((P=m[F].getTime?m[F].x.getTime():m[F].x)<t.axisX.dataInfo.viewPortMin||P>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!I)))if("number"!=typeof m[F].y)0<F&&!I&&(f.connectNullData?n.setLineDash&&0<A.length&&(f.options.nullDataLineDashType||!m[F-1].lineDashType)&&(A[A.length-1].newLineDashArray=v,y=f.nullDataLineDashType):(d(A),A=[])),I=!0;else{P=t.axisX.convertValueToPixel(P),I=t.axisY.convertValueToPixel(m[F].y);var z=f.dataPointIds[F];if(this._eventManager.objectMap[z]={id:z,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:F,x1:P,y1:I},A[A.length]={x:P,y:I},F<m.length-1&&(S!==(m[F].lineColor||C)||y!==(m[F].lineDashType||f.lineDashType))&&(A[A.length-1].newStrokeStyle=S=m[F].lineColor||C,n.setLineDash&&(m[F].lineDashType?A[A.length-1].newLineDashArray=mt(y=m[F].lineDashType,f.lineThickness):(y=f.lineDashType,A[A.length-1].newLineDashArray=h))),0!==m[F].markerSize&&(0<m[F].markerSize||0<f.markerSize)){var N=f.getMarkerProperties(F,P,I,n);g.push(N),z=Nt(z),H&&g.push({x:P,y:I,ctx:l,type:N.type,size:N.size,color:z,borderColor:z,borderThickness:N.borderThickness})}(m[F].indexLabel||f.indexLabel||m[F].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:m[F],dataSeries:f,point:{x:P,y:I},direction:0>m[F].y===t.axisY.reversed?1:-1,color:C}),I=!1}d(A)}return me.drawMarkers(g),H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(p.x1,p.y1,p.width,p.height),l.beginPath()),n.restore(),n.beginPath(),{source:o,dest:this.plotArea.ctx,animationCallback:St.xClipAnimation,easingFunction:St.easing.linear,animationBase:0}}},B.prototype.renderColumn=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,M,n=null,l=this.plotArea,f=0,_=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),m=(f=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)),y=t.axisX.dataInfo.minDiff;for(isFinite(y)||(y=.3*Math.abs(t.axisX.range)),y=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(y)/Math.log(t.axisX.range):Math.abs(y)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&f>m&&(f=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<f&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,f)),y<f&&(y=f),y>m&&(y=m),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),m=0;m<t.dataSeriesIndexes.length;m++){var v=t.dataSeriesIndexes[m],h=this.data[v],C=h.dataPoints;if(0<C.length){var S=!!(5<y&&h.bevelEnabled);for(f=0;f<C.length;f++)if(!((M=C[f].getTime?C[f].x.getTime():C[f].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax)&&"number"==typeof C[f].y){p=t.axisX.convertValueToPixel(M),g=t.axisY.convertValueToPixel(C[f].y),p=t.axisX.reversed?p+t.plotType.totalDataSeries*y/2-(t.previousDataSeriesCount+m)*y|0:p-t.plotType.totalDataSeries*y/2+(t.previousDataSeriesCount+m)*y|0;var P,F=t.axisX.reversed?p-y|0:p+y|0;0<=C[f].y?P=_:(P=g,g=_),g>P&&(n=g,g=P,P=n),Pe(o,t.axisX.reversed?F:p,g,t.axisX.reversed?p:F,P,n=C[f].color?C[f].color:h._colorSet[f%h._colorSet.length],0,null,S&&(t.axisY.reversed?0>C[f].y:0<=C[f].y),(t.axisY.reversed?0<=C[f].y:0>C[f].y)&&S,!1,!1,h.fillOpacity),this._eventManager.objectMap[n=h.dataPointIds[f]]={id:n,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:f,x1:p,y1:g,x2:F,y2:P},n=Nt(n),H&&Pe(this._eventManager.ghostCtx,t.axisX.reversed?F:p,g,t.axisX.reversed?p:F,P,n,0,null,!1,!1,!1,!1),(C[f].indexLabel||h.indexLabel||C[f].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:C[f],dataSeries:h,point:{x:p+(F-p)/2,y:0>C[f].y===t.axisY.reversed?g:P},direction:0>C[f].y===t.axisY.reversed?1:-1,bounds:{x1:p,y1:Math.min(g,P),x2:F,y2:Math.max(g,P)},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.yScaleAnimation,easingFunction:St.easing.easeOutQuart,animationBase:_<t.axisY.bounds.y1?t.axisY.bounds.y1:_>t.axisY.bounds.y2?t.axisY.bounds.y2:_}}},B.prototype.renderStackedColumn=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,m,n=null,l=this.plotArea,p=[],g=[],M=[],_=[],v=0,y=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width|0),C=t.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var S=t.dataSeriesIndexes[h],F=this.data[S],P=F.dataPoints;if(0<P.length){var I=!!(5<C&&F.bevelEnabled);for(o.strokeStyle="#4572A7 ",v=0;v<P.length;v++)if(!((n=P[v].x.getTime?P[v].x.getTime():P[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof P[v].y){var z,A=(f=(f=t.axisX.convertValueToPixel(n))-t.plotType.plotUnits.length*C/2+t.index*C|0)+C|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<P[v].y)M[n]=P[v].y+(M[n]?M[n]:0),0<M[n]&&(m=t.axisY.convertValueToPixel(M[n]),z=typeof p[n]<"u"?p[n]:y,p[n]=m);else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=P[v].y)_[n]=P[v].y+(_[n]?_[n]:0),z=t.axisY.convertValueToPixel(_[n]),m=typeof g[n]<"u"?g[n]:y,g[n]=z;else if(m=t.axisY.convertValueToPixel(P[v].y),0<=P[v].y){var N=typeof p[n]<"u"?p[n]:0;p[n]=N+((z=y-N)-(m-=N))}else g[n]=(N=g[n]?g[n]:0)+((z=m+N)-(m=y+N));Pe(o,f,t.axisY.reversed?z:m,A,t.axisY.reversed?m:z,n=P[v].color?P[v].color:F._colorSet[v%F._colorSet.length],0,null,I&&(t.axisY.reversed?0>P[v].y:0<=P[v].y),(t.axisY.reversed?0<=P[v].y:0>P[v].y)&&I,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:v,x1:f,y1:m,x2:A,y2:z},n=Nt(n),H&&Pe(this._eventManager.ghostCtx,f,m,A,z,n,0,null,!1,!1,!1,!1),(P[v].indexLabel||F.indexLabel||P[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:P[v],dataSeries:F,point:{x:f+(A-f)/2,y:0<=P[v].y?m:z},direction:0>P[v].y===t.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(m,z),x2:A,y2:Math.max(m,z)},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.yScaleAnimation,easingFunction:St.easing.easeOutQuart,animationBase:y<t.axisY.bounds.y1?t.axisY.bounds.y1:y>t.axisY.bounds.y2?t.axisY.bounds.y2:y}}},B.prototype.renderStackedColumn100=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,m,n=null,l=this.plotArea,p=[],g=[],M=[],_=[],v=0,y=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width|0),C=t.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var S=t.dataSeriesIndexes[h],F=this.data[S],P=F.dataPoints;if(0<P.length){var I=!!(5<C&&F.bevelEnabled);for(v=0;v<P.length;v++)if(!((n=P[v].x.getTime?P[v].x.getTime():P[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof P[v].y){f=t.axisX.convertValueToPixel(n),m=0!==t.dataPointYSums[n]?P[v].y/t.dataPointYSums[n]*100:0;var z,A=(f=f-t.plotType.plotUnits.length*C/2+t.index*C|0)+C|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<P[v].y){if(M[n]=m+(typeof M[n]<"u"?M[n]:0),0>=M[n])continue;m=t.axisY.convertValueToPixel(M[n]),z=p[n]?p[n]:y,p[n]=m}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=P[v].y)_[n]=m+(typeof _[n]<"u"?_[n]:0),z=t.axisY.convertValueToPixel(_[n]),m=g[n]?g[n]:y,g[n]=z;else if(m=t.axisY.convertValueToPixel(m),0<=P[v].y){var N=typeof p[n]<"u"?p[n]:0;m-=N,z=y-N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.y1-m)&&(m=l.y1),p[n]=N+(z-m)}else z=m+(N=typeof g[n]<"u"?g[n]:0),m=y+N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.y2-z)&&(z=l.y2),g[n]=N+(z-m);Pe(o,f,t.axisY.reversed?z:m,A,t.axisY.reversed?m:z,n=P[v].color?P[v].color:F._colorSet[v%F._colorSet.length],0,null,I&&(t.axisY.reversed?0>P[v].y:0<=P[v].y),(t.axisY.reversed?0<=P[v].y:0>P[v].y)&&I,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:v,x1:f,y1:m,x2:A,y2:z},n=Nt(n),H&&Pe(this._eventManager.ghostCtx,f,m,A,z,n,0,null,!1,!1,!1,!1),(P[v].indexLabel||F.indexLabel||P[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:P[v],dataSeries:F,point:{x:f+(A-f)/2,y:0<=P[v].y?m:z},direction:0>P[v].y===t.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(m,z),x2:A,y2:Math.max(m,z)},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.yScaleAnimation,easingFunction:St.easing.easeOutQuart,animationBase:y<t.axisY.bounds.y1?t.axisY.bounds.y1:y>t.axisY.bounds.y2?t.axisY.bounds.y2:y}}},B.prototype.renderBar=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,M,n=null,l=this.plotArea,f=0,_=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),m=(f=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)),y=t.axisX.dataInfo.minDiff;for(isFinite(y)||(y=.3*Math.abs(t.axisX.range)),y=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(y)/Math.log(t.axisX.range):Math.abs(y)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&f>m&&(f=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<f&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,f)),y<f&&(y=f),y>m&&(y=m),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),m=0;m<t.dataSeriesIndexes.length;m++){var v=t.dataSeriesIndexes[m],h=this.data[v],C=h.dataPoints;if(0<C.length){var S=!!(5<y&&h.bevelEnabled);for(o.strokeStyle="#4572A7 ",f=0;f<C.length;f++)if(!((M=C[f].getTime?C[f].x.getTime():C[f].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax)&&"number"==typeof C[f].y){g=t.axisX.convertValueToPixel(M),p=t.axisY.convertValueToPixel(C[f].y),g=t.axisX.reversed?g+t.plotType.totalDataSeries*y/2-(t.previousDataSeriesCount+m)*y|0:g-t.plotType.totalDataSeries*y/2+(t.previousDataSeriesCount+m)*y|0;var P,F=t.axisX.reversed?g-y|0:g+y|0;0<=C[f].y?P=_:(P=p,p=_),Pe(o,t.axisY.reversed?p:P,t.axisX.reversed?F:g,t.axisY.reversed?P:p,t.axisX.reversed?g:F,n=C[f].color?C[f].color:h._colorSet[f%h._colorSet.length],0,null,S,!1,!1,!1,h.fillOpacity),this._eventManager.objectMap[n=h.dataPointIds[f]]={id:n,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:f,x1:P,y1:g,x2:p,y2:F},n=Nt(n),H&&Pe(this._eventManager.ghostCtx,P,t.axisX.reversed?F:g,p,t.axisX.reversed?g:F,n,0,null,!1,!1,!1,!1),(C[f].indexLabel||h.indexLabel||C[f].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:C[f],dataSeries:h,point:{x:0<=C[f].y?p:P,y:g+(F-g)/2},direction:0>C[f].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(P,p),y1:g,x2:Math.max(P,p),y2:F},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.xScaleAnimation,easingFunction:St.easing.easeOutQuart,animationBase:_<t.axisY.bounds.x1?t.axisY.bounds.x1:_>t.axisY.bounds.x2?t.axisY.bounds.x2:_}}},B.prototype.renderStackedBar=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,m,n=null,l=this.plotArea,p=[],g=[],M=[],_=[],v=0,y=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height|0),C=t.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var S=t.dataSeriesIndexes[h],F=this.data[S],P=F.dataPoints;if(0<P.length){var I=!!(5<C&&F.bevelEnabled);for(o.strokeStyle="#4572A7 ",v=0;v<P.length;v++)if(!((n=P[v].x.getTime?P[v].x.getTime():P[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof P[v].y){var z,A=(m=(m=t.axisX.convertValueToPixel(n))-t.plotType.plotUnits.length*C/2+t.index*C|0)+C|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<P[v].y)M[n]=P[v].y+(M[n]?M[n]:0),0<M[n]&&(z=p[n]?p[n]:y,p[n]=f=t.axisY.convertValueToPixel(M[n]));else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=P[v].y)_[n]=P[v].y+(_[n]?_[n]:0),f=g[n]?g[n]:y,g[n]=z=t.axisY.convertValueToPixel(_[n]);else if(f=t.axisY.convertValueToPixel(P[v].y),0<=P[v].y){var N=p[n]?p[n]:0;p[n]=N+((f+=N)-(z=y+N))}else z=f-(N=g[n]?g[n]:0),g[n]=N+((f=y-N)-z);Pe(o,t.axisY.reversed?f:z,m,t.axisY.reversed?z:f,A,n=P[v].color?P[v].color:F._colorSet[v%F._colorSet.length],0,null,I,!1,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:v,x1:z,y1:m,x2:f,y2:A},n=Nt(n),H&&Pe(this._eventManager.ghostCtx,z,m,f,A,n,0,null,!1,!1,!1,!1),(P[v].indexLabel||F.indexLabel||P[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:P[v],dataSeries:F,point:{x:0<=P[v].y?f:z,y:m+(A-m)/2},direction:0>P[v].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(z,f),y1:m,x2:Math.max(z,f),y2:A},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.xScaleAnimation,easingFunction:St.easing.easeOutQuart,animationBase:y<t.axisY.bounds.x1?t.axisY.bounds.x1:y>t.axisY.bounds.x2?t.axisY.bounds.x2:y}}},B.prototype.renderStackedBar100=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var f,m,n=null,l=this.plotArea,p=[],g=[],M=[],_=[],v=0,y=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height|0),C=t.axisX.dataInfo.minDiff;for(isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var S=t.dataSeriesIndexes[h],F=this.data[S],P=F.dataPoints;if(0<P.length){var I=!!(5<C&&F.bevelEnabled);for(o.strokeStyle="#4572A7 ",v=0;v<P.length;v++)if(!((n=P[v].x.getTime?P[v].x.getTime():P[v].x)<t.axisX.dataInfo.viewPortMin||n>t.axisX.dataInfo.viewPortMax)&&"number"==typeof P[v].y){var A;m=t.axisX.convertValueToPixel(n),A=0!==t.dataPointYSums[n]?P[v].y/t.dataPointYSums[n]*100:0;var z=(m=m-t.plotType.plotUnits.length*C/2+t.index*C|0)+C|0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<P[v].y){if(M[n]=A+(M[n]?M[n]:0),0>=M[n])continue;A=p[n]?p[n]:y,p[n]=f=t.axisY.convertValueToPixel(M[n])}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=P[v].y)_[n]=A+(_[n]?_[n]:0),f=g[n]?g[n]:y,g[n]=A=t.axisY.convertValueToPixel(_[n]);else if(f=t.axisY.convertValueToPixel(A),0<=P[v].y){var N=p[n]?p[n]:0;A=y+N,f+=N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.x2-f)&&(f=l.x2),p[n]=N+(f-A)}else A=f-(N=g[n]?g[n]:0),f=y-N,t.dataSeriesIndexes.length-1===h&&1>=Math.abs(l.x1-A)&&(A=l.x1),g[n]=N+(f-A);Pe(o,t.axisY.reversed?f:A,m,t.axisY.reversed?A:f,z,n=P[v].color?P[v].color:F._colorSet[v%F._colorSet.length],0,null,I,!1,!1,!1,F.fillOpacity),this._eventManager.objectMap[n=F.dataPointIds[v]]={id:n,objectType:"dataPoint",dataSeriesIndex:S,dataPointIndex:v,x1:A,y1:m,x2:f,y2:z},n=Nt(n),H&&Pe(this._eventManager.ghostCtx,A,m,f,z,n,0,null,!1,!1,!1,!1),(P[v].indexLabel||F.indexLabel||P[v].indexLabelFormatter||F.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:P[v],dataSeries:F,point:{x:0<=P[v].y?f:A,y:m+(z-m)/2},direction:0>P[v].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(A,f),y1:m,x2:Math.max(A,f),y2:z},color:n})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.xScaleAnimation,easingFunction:St.easing.easeOutQuart,animationBase:y<t.axisY.bounds.x1?t.axisY.bounds.x1:y>t.axisY.bounds.x2?t.axisY.bounds.x2:y}}},B.prototype.renderArea=function(t){var d,o;function n(){N&&(0<h.lineThickness&&p.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?z=A:0>t.axisY.viewportMaximum?z=M.y1:0<t.axisY.viewportMinimum&&(z=A),p.lineTo(F,z),p.lineTo(N.x,z),p.closePath(),p.globalAlpha=h.fillOpacity,p.fill(),p.globalAlpha=1,H&&(g.lineTo(F,z),g.lineTo(N.x,z),g.closePath(),g.fill()),p.beginPath(),p.moveTo(F,P),g.beginPath(),g.moveTo(F,P),N={x:F,y:P})}var l=t.targetCanvasCtx||this.plotArea.ctx,p=H?this._preRenderCtx:l;if(!(0>=t.dataSeriesIndexes.length)){var m,g=this._eventManager.ghostCtx,M=t.axisY.lineCoordinates,_=[],f=this.plotArea;p.save(),H&&g.save(),p.beginPath(),p.rect(f.x1,f.y1,f.width,f.height),p.clip(),H&&(g.beginPath(),g.rect(f.x1,f.y1,f.width,f.height),g.clip());for(var y=0;y<t.dataSeriesIndexes.length;y++){var v=t.dataSeriesIndexes[y],h=this.data[v],C=h.dataPoints;this._eventManager.objectMap[_=h.id]={objectType:"dataSeries",dataSeriesIndex:v},_=Nt(_),g.fillStyle=_,_=[],d=!0;var F,P,I,z,S=0,A=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),N=null;if(0<C.length){var Y=h._colorSet[S%h._colorSet.length],et=h.lineColor=h.options.lineColor||Y,ct=et;if(p.fillStyle=Y,p.strokeStyle=et,p.lineWidth=h.lineThickness,o="solid",p.setLineDash){var J=mt(h.nullDataLineDashType,h.lineThickness),Q=mt(o=h.lineDashType,h.lineThickness);p.setLineDash(Q)}for(var $=!0;S<C.length;S++)if(!((I=C[S].x.getTime?C[S].x.getTime():C[S].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!$)))if("number"!=typeof C[S].y)h.connectNullData||$||d||n(),$=!0;else{F=t.axisX.convertValueToPixel(I),P=t.axisY.convertValueToPixel(C[S].y),d||$?(!d&&h.connectNullData?(p.setLineDash&&(h.options.nullDataLineDashType||o===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(d=F,o=P,F=m.x,P=m.y,n(),p.moveTo(m.x,m.y),F=d,P=o,N=m,o=h.nullDataLineDashType,p.setLineDash(J)),p.lineTo(F,P),H&&g.lineTo(F,P)):(p.beginPath(),p.moveTo(F,P),H&&(g.beginPath(),g.moveTo(F,P)),N={x:F,y:P}),$=d=!1):(p.lineTo(F,P),H&&g.lineTo(F,P),S%250==0&&n()),m={x:F,y:P},S<C.length-1&&(ct!==(C[S].lineColor||et)||o!==(C[S].lineDashType||h.lineDashType))&&(n(),p.strokeStyle=ct=C[S].lineColor||et,p.setLineDash&&(C[S].lineDashType?p.setLineDash(mt(o=C[S].lineDashType,h.lineThickness)):(o=h.lineDashType,p.setLineDash(Q))));var U=h.dataPointIds[S];this._eventManager.objectMap[U]={id:U,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:S,x1:F,y1:P},0!==C[S].markerSize&&(0<C[S].markerSize||0<h.markerSize)&&(I=h.getMarkerProperties(S,F,P,p),_.push(I),U=Nt(U),H&&_.push({x:F,y:P,ctx:g,type:I.type,size:I.size,color:U,borderColor:U,borderThickness:I.borderThickness})),(C[S].indexLabel||h.indexLabel||C[S].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:C[S],dataSeries:h,point:{x:F,y:P},direction:0>C[S].y===t.axisY.reversed?1:-1,color:Y})}n(),me.drawMarkers(_)}}return H&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&p.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&p.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),p.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:St.xClipAnimation,easingFunction:St.easing.linear,animationBase:0}}},B.prototype.renderSplineArea=function(t){function d(){var $=W(I,2);if(0<$.length){if(0<m.lineThickness){n.beginPath(),n.moveTo($[0].x,$[0].y),$[0].newStrokeStyle&&(n.strokeStyle=$[0].newStrokeStyle),$[0].newLineDashArray&&n.setLineDash($[0].newLineDashArray);for(var U=0;U<$.length-3;U+=3)n.bezierCurveTo($[U+1].x,$[U+1].y,$[U+2].x,$[U+2].y,$[U+3].x,$[U+3].y),H&&l.bezierCurveTo($[U+1].x,$[U+1].y,$[U+2].x,$[U+2].y,$[U+3].x,$[U+3].y),($[U+3].newStrokeStyle||$[U+3].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo($[U+3].x,$[U+3].y),$[U+3].newStrokeStyle&&(n.strokeStyle=$[U+3].newStrokeStyle),$[U+3].newLineDashArray&&n.setLineDash($[U+3].newLineDashArray));n.stroke()}for(n.beginPath(),n.moveTo($[0].x,$[0].y),H&&(l.beginPath(),l.moveTo($[0].x,$[0].y)),U=0;U<$.length-3;U+=3)n.bezierCurveTo($[U+1].x,$[U+1].y,$[U+2].x,$[U+2].y,$[U+3].x,$[U+3].y),H&&l.bezierCurveTo($[U+1].x,$[U+1].y,$[U+2].x,$[U+2].y,$[U+3].x,$[U+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?F=S:0>t.axisY.viewportMaximum?F=p.y1:0<t.axisY.viewportMinimum&&(F=S),P={x:$[0].x,y:$[0].y},n.lineTo($[$.length-1].x,F),n.lineTo(P.x,F),n.closePath(),n.globalAlpha=m.fillOpacity,n.fill(),n.globalAlpha=1,H&&(l.lineTo($[$.length-1].x,F),l.lineTo(P.x,F),l.closePath(),l.fill())}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=t.axisY.lineCoordinates,g=[],M=this.plotArea;n.save(),H&&l.save(),n.beginPath(),n.rect(M.x1,M.y1,M.width,M.height),n.clip(),H&&(l.beginPath(),l.rect(M.x1,M.y1,M.width,M.height),l.clip());for(var _=0;_<t.dataSeriesIndexes.length;_++){var f=t.dataSeriesIndexes[_],m=this.data[f],y=m.dataPoints;this._eventManager.objectMap[g=m.id]={objectType:"dataSeries",dataSeriesIndex:f},g=Nt(g),l.fillStyle=g,g=[];var h,C,F,v=0,S=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),P=null,I=[];if(0<y.length){var A=m._colorSet[v%m._colorSet.length],z=m.lineColor=m.options.lineColor||A,N=z;n.fillStyle=A,n.strokeStyle=z,n.lineWidth=m.lineThickness;var Y="solid";if(n.setLineDash){var et=mt(m.nullDataLineDashType,m.lineThickness),ct=mt(Y=m.lineDashType,m.lineThickness);n.setLineDash(ct)}for(C=!1;v<y.length;v++)if(!((h=y[v].x.getTime?y[v].x.getTime():y[v].x)<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!C)))if("number"!=typeof y[v].y)0<v&&!C&&(m.connectNullData?n.setLineDash&&0<I.length&&(m.options.nullDataLineDashType||!y[v-1].lineDashType)&&(I[I.length-1].newLineDashArray=et,Y=m.nullDataLineDashType):(d(),I=[])),C=!0;else{h=t.axisX.convertValueToPixel(h),C=t.axisY.convertValueToPixel(y[v].y);var J=m.dataPointIds[v];if(this._eventManager.objectMap[J]={id:J,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:v,x1:h,y1:C},I[I.length]={x:h,y:C},v<y.length-1&&(N!==(y[v].lineColor||z)||Y!==(y[v].lineDashType||m.lineDashType))&&(I[I.length-1].newStrokeStyle=N=y[v].lineColor||z,n.setLineDash&&(y[v].lineDashType?I[I.length-1].newLineDashArray=mt(Y=y[v].lineDashType,m.lineThickness):(Y=m.lineDashType,I[I.length-1].newLineDashArray=ct))),0!==y[v].markerSize&&(0<y[v].markerSize||0<m.markerSize)){var Q=m.getMarkerProperties(v,h,C,n);g.push(Q),J=Nt(J),H&&g.push({x:h,y:C,ctx:l,type:Q.type,size:Q.size,color:J,borderColor:J,borderThickness:Q.borderThickness})}(y[v].indexLabel||m.indexLabel||y[v].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:y[v],dataSeries:m,point:{x:h,y:C},direction:0>y[v].y===t.axisY.reversed?1:-1,color:A}),C=!1}d(),me.drawMarkers(g)}}return H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(M.x1,M.y1,M.width,M.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:St.xClipAnimation,easingFunction:St.easing.linear,animationBase:0}}},B.prototype.renderStepArea=function(t){var d,o;function n(){N&&(0<h.lineThickness&&p.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?z=A:0>t.axisY.viewportMaximum?z=M.y1:0<t.axisY.viewportMinimum&&(z=A),p.lineTo(F,z),p.lineTo(N.x,z),p.closePath(),p.globalAlpha=h.fillOpacity,p.fill(),p.globalAlpha=1,H&&(g.lineTo(F,z),g.lineTo(N.x,z),g.closePath(),g.fill()),p.beginPath(),p.moveTo(F,P),g.beginPath(),g.moveTo(F,P),N={x:F,y:P})}var l=t.targetCanvasCtx||this.plotArea.ctx,p=H?this._preRenderCtx:l;if(!(0>=t.dataSeriesIndexes.length)){var m,g=this._eventManager.ghostCtx,M=t.axisY.lineCoordinates,_=[],f=this.plotArea;p.save(),H&&g.save(),p.beginPath(),p.rect(f.x1,f.y1,f.width,f.height),p.clip(),H&&(g.beginPath(),g.rect(f.x1,f.y1,f.width,f.height),g.clip());for(var y=0;y<t.dataSeriesIndexes.length;y++){var v=t.dataSeriesIndexes[y],h=this.data[v],C=h.dataPoints;this._eventManager.objectMap[_=h.id]={objectType:"dataSeries",dataSeriesIndex:v},_=Nt(_),g.fillStyle=_,_=[],d=!0;var F,P,I,z,S=0,A=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),N=null;if(o=!1,0<C.length){var Y=h._colorSet[S%h._colorSet.length],et=h.lineColor=h.options.lineColor||Y,ct=et;p.fillStyle=Y,p.strokeStyle=et,p.lineWidth=h.lineThickness;var J="solid";if(p.setLineDash){var Q=mt(h.nullDataLineDashType,h.lineThickness),$=mt(J=h.lineDashType,h.lineThickness);p.setLineDash($)}for(;S<C.length;S++)if(!((I=C[S].x.getTime?C[S].x.getTime():C[S].x)<t.axisX.dataInfo.viewPortMin||I>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!o))){var U=P;"number"!=typeof C[S].y?(h.connectNullData||o||d||n(),o=!0):(F=t.axisX.convertValueToPixel(I),P=t.axisY.convertValueToPixel(C[S].y),d||o?(!d&&h.connectNullData?(p.setLineDash&&(h.options.nullDataLineDashType||J===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(d=F,o=P,F=m.x,P=m.y,n(),p.moveTo(m.x,m.y),F=d,P=o,N=m,J=h.nullDataLineDashType,p.setLineDash(Q)),p.lineTo(F,U),p.lineTo(F,P),H&&(g.lineTo(F,U),g.lineTo(F,P))):(p.beginPath(),p.moveTo(F,P),H&&(g.beginPath(),g.moveTo(F,P)),N={x:F,y:P}),o=d=!1):(p.lineTo(F,U),H&&g.lineTo(F,U),p.lineTo(F,P),H&&g.lineTo(F,P),S%250==0&&n()),m={x:F,y:P},S<C.length-1&&(ct!==(C[S].lineColor||et)||J!==(C[S].lineDashType||h.lineDashType))&&(n(),p.strokeStyle=ct=C[S].lineColor||et,p.setLineDash&&(C[S].lineDashType?p.setLineDash(mt(J=C[S].lineDashType,h.lineThickness)):(J=h.lineDashType,p.setLineDash($)))),this._eventManager.objectMap[I=h.dataPointIds[S]]={id:I,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:S,x1:F,y1:P},0!==C[S].markerSize&&(0<C[S].markerSize||0<h.markerSize)&&(U=h.getMarkerProperties(S,F,P,p),_.push(U),I=Nt(I),H&&_.push({x:F,y:P,ctx:g,type:U.type,size:U.size,color:I,borderColor:I,borderThickness:U.borderThickness})),(C[S].indexLabel||h.indexLabel||C[S].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:C[S],dataSeries:h,point:{x:F,y:P},direction:0>C[S].y===t.axisY.reversed?1:-1,color:Y}))}n(),me.drawMarkers(_)}}return H&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&p.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&p.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),p.clearRect(f.x1,f.y1,f.width,f.height),this._eventManager.ghostCtx.restore()),p.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:St.xClipAnimation,easingFunction:St.easing.linear,animationBase:0}}},B.prototype.renderStackedArea=function(t){function d(){if(!(1>f.length)){for(0<Y.lineThickness&&n.stroke();0<f.length;){var R=f.pop();n.lineTo(R.x,R.y),H&&F.lineTo(R.x,R.y)}n.closePath(),n.globalAlpha=Y.fillOpacity,n.fill(),n.globalAlpha=1,n.beginPath(),H&&(F.closePath(),F.fill(),F.beginPath()),f=[]}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var h,C,P,I,A,l=null,p=null,g=[],M=this.plotArea,_=[],f=[],m=[],y=[],v=0,S=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),F=this._eventManager.ghostCtx;H&&F.beginPath(),n.save(),H&&F.save(),n.beginPath(),n.rect(M.x1,M.y1,M.width,M.height),n.clip(),H&&(F.beginPath(),F.rect(M.x1,M.y1,M.width,M.height),F.clip()),l=[];for(var z=0;z<t.dataSeriesIndexes.length;z++){var N=t.dataSeriesIndexes[z],Y=this.data[N],et=Y.dataPoints;for(Y.dataPointIndexes=[],v=0;v<et.length;v++)N=et[v].x.getTime?et[v].x.getTime():et[v].x,Y.dataPointIndexes[N]=v,l[N]||(m.push(N),l[N]=!0);m.sort(wi)}for(z=0;z<t.dataSeriesIndexes.length;z++){if(et=(Y=this.data[N=t.dataSeriesIndexes[z]]).dataPoints,I=!0,f=[],this._eventManager.objectMap[v=Y.id]={objectType:"dataSeries",dataSeriesIndex:N},v=Nt(v),F.fillStyle=v,0<m.length){l=Y._colorSet[0];var ct=Y.lineColor=Y.options.lineColor||l,J=ct;if(n.fillStyle=l,n.strokeStyle=ct,n.lineWidth=Y.lineThickness,A="solid",n.setLineDash){var Q=mt(Y.nullDataLineDashType,Y.lineThickness),$=mt(A=Y.lineDashType,Y.lineThickness);n.setLineDash($)}var U=!0;for(v=0;v<m.length;v++){var O=0<=Y.dataPointIndexes[p=m[v]]?et[Y.dataPointIndexes[p]]:{x:p,y:null};if(!(p<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax&&(!Y.connectNullData||!U)))if("number"!=typeof O.y)Y.connectNullData||U||I||d(),U=!0;else{h=t.axisX.convertValueToPixel(p);var tt=_[p]?_[p]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(y[p]=O.y+(y[p]?y[p]:0),0>=y[p]&&t.axisY.logarithmic)continue;C=t.axisY.convertValueToPixel(y[p])}else C=t.axisY.convertValueToPixel(O.y),C-=tt;if(f.push({x:h,y:S-tt}),_[p]=S-C,I||U?(!I&&Y.connectNullData?(n.setLineDash&&(Y.options.nullDataLineDashType||A===Y.lineDashType&&Y.lineDashType!==Y.nullDataLineDashType)&&(I=f.pop(),A=f[f.length-1],d(),n.moveTo(P.x,P.y),f.push(A),f.push(I),A=Y.nullDataLineDashType,n.setLineDash(Q)),n.lineTo(h,C),H&&F.lineTo(h,C)):(n.beginPath(),n.moveTo(h,C),H&&(F.beginPath(),F.moveTo(h,C))),U=I=!1):(n.lineTo(h,C),H&&F.lineTo(h,C),v%250==0&&(d(),n.moveTo(h,C),H&&F.moveTo(h,C),f.push({x:h,y:S-tt}))),P={x:h,y:C},v<et.length-1&&(J!==(et[v].lineColor||ct)||A!==(et[v].lineDashType||Y.lineDashType))&&(d(),n.beginPath(),n.moveTo(h,C),f.push({x:h,y:S-tt}),n.strokeStyle=J=et[v].lineColor||ct,n.setLineDash&&(et[v].lineDashType?n.setLineDash(mt(A=et[v].lineDashType,Y.lineThickness)):(A=Y.lineDashType,n.setLineDash($)))),0<=Y.dataPointIndexes[p]){var lt=Y.dataPointIds[Y.dataPointIndexes[p]];this._eventManager.objectMap[lt]={id:lt,objectType:"dataPoint",dataSeriesIndex:N,dataPointIndex:Y.dataPointIndexes[p],x1:h,y1:C}}0<=Y.dataPointIndexes[p]&&0!==O.markerSize&&(0<O.markerSize||0<Y.markerSize)&&(tt=Y.getMarkerProperties(Y.dataPointIndexes[p],h,C,n),g.push(tt),p=Nt(lt),H&&g.push({x:h,y:C,ctx:F,type:tt.type,size:tt.size,color:p,borderColor:p,borderThickness:tt.borderThickness})),(O.indexLabel||Y.indexLabel||O.indexLabelFormatter||Y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:O,dataSeries:Y,point:{x:h,y:C},direction:0>O.y===t.axisY.reversed?1:-1,color:l})}}d(),n.moveTo(h,C),H&&F.moveTo(h,C)}delete Y.dataPointIndexes}return me.drawMarkers(g),H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(M.x1,M.y1,M.width,M.height),F.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:St.xClipAnimation,easingFunction:St.easing.linear,animationBase:0}}},B.prototype.renderStackedArea100=function(t){function d(){for(0<Y.lineThickness&&n.stroke();0<f.length;){var Gt=f.pop();n.lineTo(Gt.x,Gt.y),H&&A.lineTo(Gt.x,Gt.y)}n.closePath(),n.globalAlpha=Y.fillOpacity,n.fill(),n.globalAlpha=1,n.beginPath(),H&&(A.closePath(),A.fill(),A.beginPath()),f=[]}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var h,C,S,F,P,l=null,p=null,g=this.plotArea,M=[],_=[],f=[],m=[],y=[],v=0,I=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),A=this._eventManager.ghostCtx;n.save(),H&&A.save(),n.beginPath(),n.rect(g.x1,g.y1,g.width,g.height),n.clip(),H&&(A.beginPath(),A.rect(g.x1,g.y1,g.width,g.height),A.clip()),l=[];for(var z=0;z<t.dataSeriesIndexes.length;z++){var N=t.dataSeriesIndexes[z],Y=this.data[N],et=Y.dataPoints;for(Y.dataPointIndexes=[],v=0;v<et.length;v++)N=et[v].x.getTime?et[v].x.getTime():et[v].x,Y.dataPointIndexes[N]=v,l[N]||(m.push(N),l[N]=!0);m.sort(wi)}for(z=0;z<t.dataSeriesIndexes.length;z++){if(et=(Y=this.data[N=t.dataSeriesIndexes[z]]).dataPoints,F=!0,this._eventManager.objectMap[l=Y.id]={objectType:"dataSeries",dataSeriesIndex:N},l=Nt(l),A.fillStyle=l,f=[],0<m.length){l=Y._colorSet[v%Y._colorSet.length];var ct=Y.lineColor=Y.options.lineColor||l,J=ct;if(n.fillStyle=l,n.strokeStyle=ct,n.lineWidth=Y.lineThickness,P="solid",n.setLineDash){var Q=mt(Y.nullDataLineDashType,Y.lineThickness),$=mt(P=Y.lineDashType,Y.lineThickness);n.setLineDash($)}var U=!0;for(v=0;v<m.length;v++){var O=0<=Y.dataPointIndexes[p=m[v]]?et[Y.dataPointIndexes[p]]:{x:p,y:null};if(!(p<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax&&(!Y.connectNullData||!U)))if("number"!=typeof O.y)Y.connectNullData||U||F||d(),U=!0;else{var tt;tt=0!==t.dataPointYSums[p]?O.y/t.dataPointYSums[p]*100:0,h=t.axisX.convertValueToPixel(p);var lt=_[p]?_[p]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(y[p]=tt+(y[p]?y[p]:0),0>=y[p]&&t.axisY.logarithmic)continue;C=t.axisY.convertValueToPixel(y[p])}else C=t.axisY.convertValueToPixel(tt),C-=lt;if(f.push({x:h,y:I-lt}),_[p]=I-C,F||U?(!F&&Y.connectNullData?(n.setLineDash&&(Y.options.nullDataLineDashType||P===Y.lineDashType&&Y.lineDashType!==Y.nullDataLineDashType)&&(F=f.pop(),P=f[f.length-1],d(),n.moveTo(S.x,S.y),f.push(P),f.push(F),P=Y.nullDataLineDashType,n.setLineDash(Q)),n.lineTo(h,C),H&&A.lineTo(h,C)):(n.beginPath(),n.moveTo(h,C),H&&(A.beginPath(),A.moveTo(h,C))),U=F=!1):(n.lineTo(h,C),H&&A.lineTo(h,C),v%250==0&&(d(),n.moveTo(h,C),H&&A.moveTo(h,C),f.push({x:h,y:I-lt}))),S={x:h,y:C},v<et.length-1&&(J!==(et[v].lineColor||ct)||P!==(et[v].lineDashType||Y.lineDashType))&&(d(),n.beginPath(),n.moveTo(h,C),f.push({x:h,y:I-lt}),n.strokeStyle=J=et[v].lineColor||ct,n.setLineDash&&(et[v].lineDashType?n.setLineDash(mt(P=et[v].lineDashType,Y.lineThickness)):(P=Y.lineDashType,n.setLineDash($)))),0<=Y.dataPointIndexes[p]){var R=Y.dataPointIds[Y.dataPointIndexes[p]];this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:N,dataPointIndex:Y.dataPointIndexes[p],x1:h,y1:C}}0<=Y.dataPointIndexes[p]&&0!==O.markerSize&&(0<O.markerSize||0<Y.markerSize)&&(lt=Y.getMarkerProperties(Y.dataPointIndexes[p],h,C,n),M.push(lt),p=Nt(R),H&&M.push({x:h,y:C,ctx:A,type:lt.type,size:lt.size,color:p,borderColor:p,borderThickness:lt.borderThickness})),(O.indexLabel||Y.indexLabel||O.indexLabelFormatter||Y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:O,dataSeries:Y,point:{x:h,y:C},direction:0>O.y===t.axisY.reversed?1:-1,color:l})}}d(),n.moveTo(h,C),H&&A.moveTo(h,C)}delete Y.dataPointIndexes}return me.drawMarkers(M),H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(g.x1,g.y1,g.width,g.height),A.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:St.xClipAnimation,easingFunction:St.easing.linear,animationBase:0}}},B.prototype.renderBubble=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,n=this.plotArea,l=0;o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(n.x1,n.y1,n.width,n.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var M=-1/0,_=1/0,f=0;f<t.dataSeriesIndexes.length;f++){var m=t.dataSeriesIndexes[f],y=this.data[m],v=y.dataPoints,h=0;for(l=0;l<v.length;l++)(p=p=v[l].getTime?v[l].x.getTime():v[l].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax||typeof v[l].z>"u"||((h=v[l].z)>M&&(M=h),h<_&&(_=h))}var C=25*Math.PI,S=Math.max(Math.pow(.25*Math.min(n.height,n.width)/2,2)*Math.PI,C);for(f=0;f<t.dataSeriesIndexes.length;f++)if(0<(v=(y=this.data[m=t.dataSeriesIndexes[f]]).dataPoints).length)for(o.strokeStyle="#4572A7 ",l=0;l<v.length;l++)if(!((p=p=v[l].getTime?v[l].x.getTime():v[l].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax)&&"number"==typeof v[l].y){p=t.axisX.convertValueToPixel(p),g=t.axisY.convertValueToPixel(v[l].y),h=v[l].z;var F=2*Math.max(0|Math.sqrt((M===_?S/2:C+(S-C)/(M-_)*(h-_))/Math.PI),1);(h=y.getMarkerProperties(l,o)).size=F,o.globalAlpha=y.fillOpacity,me.drawMarker(p,g,o,h.type,h.size,h.color,h.borderColor,h.borderThickness),o.globalAlpha=1;var P=y.dataPointIds[l];this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:l,x1:p,y1:g,size:F},F=Nt(P),H&&me.drawMarker(p,g,this._eventManager.ghostCtx,h.type,h.size,F,F,h.borderThickness),(v[l].indexLabel||y.indexLabel||v[l].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:v[l],dataSeries:y,point:{x:p,y:g},direction:1,bounds:{x1:p-h.size/2,y1:g-h.size/2,x2:p+h.size/2,y2:g+h.size/2},color:null})}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.fadeInAnimation,easingFunction:St.easing.easeInQuad,animationBase:0}}},B.prototype.renderScatter=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,n=this.plotArea,l=0;o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(n.x1,n.y1,n.width,n.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var M=0;M<t.dataSeriesIndexes.length;M++){var _=t.dataSeriesIndexes[M],f=this.data[_],m=f.dataPoints;if(0<m.length){o.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(n.height,n.width)/2,2);var y=0,v=0;for(l=0;l<m.length;l++)if(!((p=p=m[l].getTime?m[l].x.getTime():m[l].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax)&&"number"==typeof m[l].y){p=t.axisX.convertValueToPixel(p),g=t.axisY.convertValueToPixel(m[l].y);var h=f.getMarkerProperties(l,p,g,o);o.globalAlpha=f.fillOpacity,me.drawMarker(h.x,h.y,h.ctx,h.type,h.size,h.color,h.borderColor,h.borderThickness),o.globalAlpha=1,Math.sqrt((y-p)*(y-p)+(v-g)*(v-g))<Math.min(h.size,5)&&m.length>Math.min(this.plotArea.width,this.plotArea.height)||(this._eventManager.objectMap[y=f.dataPointIds[l]]={id:y,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:l,x1:p,y1:g},y=Nt(y),H&&me.drawMarker(h.x,h.y,this._eventManager.ghostCtx,h.type,h.size,y,y,h.borderThickness),(m[l].indexLabel||f.indexLabel||m[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:m[l],dataSeries:f,point:{x:p,y:g},direction:1,bounds:{x1:p-h.size/2,y1:g-h.size/2,x2:p+h.size/2,y2:g+h.size/2},color:null}),y=p,v=g)}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.fadeInAnimation,easingFunction:St.easing.easeInQuad,animationBase:0}}},B.prototype.renderCandlestick=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d,n=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var g,M,_,f,m,y,v=null,h=null,l=this.plotArea,p=0,C=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.7*l.width*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&n.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip());for(var S=0;S<t.dataSeriesIndexes.length;S++){var F=t.dataSeriesIndexes[S],P=this.data[F],I=P.dataPoints;if(0<I.length){var A=!!(5<C&&P.bevelEnabled);for(p=0;p<I.length;p++)if(!((y=I[p].getTime?I[p].x.getTime():I[p].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax)&&!E(I[p].y)&&I[p].y.length&&"number"==typeof I[p].y[0]&&"number"==typeof I[p].y[1]&&"number"==typeof I[p].y[2]&&"number"==typeof I[p].y[3]){g=t.axisX.convertValueToPixel(y),M=t.axisY.convertValueToPixel(I[p].y[0]),_=t.axisY.convertValueToPixel(I[p].y[1]),f=t.axisY.convertValueToPixel(I[p].y[2]),m=t.axisY.convertValueToPixel(I[p].y[3]);var z=g-C/2|0,N=z+C|0,Y=(h=P.options.fallingColor?P.fallingColor:P._colorSet[0],v=I[p].color?I[p].color:P._colorSet[0],Math.round(Math.max(1,.15*C))),et=Y%2==0?0:.5,ct=P.dataPointIds[p];this._eventManager.objectMap[ct]={id:ct,objectType:"dataPoint",dataSeriesIndex:F,dataPointIndex:p,x1:z,y1:M,x2:N,y2:_,x3:g,y3:f,x4:g,y4:m,borderThickness:Y,color:v},o.strokeStyle=v,o.beginPath(),o.lineWidth=Y,n.lineWidth=Math.max(Y,4),"candlestick"===P.type?(o.moveTo(g-et,_),o.lineTo(g-et,Math.min(M,m)),o.stroke(),o.moveTo(g-et,Math.max(M,m)),o.lineTo(g-et,f),o.stroke(),Pe(o,z,Math.min(M,m),N,Math.max(M,m),I[p].y[0]<=I[p].y[3]?P.risingColor:h,Y,v,A,A,!1,!1,P.fillOpacity),H&&(v=Nt(ct),n.strokeStyle=v,n.moveTo(g-et,_),n.lineTo(g-et,Math.min(M,m)),n.stroke(),n.moveTo(g-et,Math.max(M,m)),n.lineTo(g-et,f),n.stroke(),Pe(n,z,Math.min(M,m),N,Math.max(M,m),v,0,null,!1,!1,!1,!1))):"ohlc"===P.type&&(o.moveTo(g-et,_),o.lineTo(g-et,f),o.stroke(),o.beginPath(),o.moveTo(g,M),o.lineTo(z,M),o.stroke(),o.beginPath(),o.moveTo(g,m),o.lineTo(N,m),o.stroke(),H&&(v=Nt(ct),n.strokeStyle=v,n.moveTo(g-et,_),n.lineTo(g-et,f),n.stroke(),n.beginPath(),n.moveTo(g,M),n.lineTo(z,M),n.stroke(),n.beginPath(),n.moveTo(g,m),n.lineTo(N,m),n.stroke())),(I[p].indexLabel||P.indexLabel||I[p].indexLabelFormatter||P.indexLabelFormatter)&&this._indexLabels.push({chartType:P.type,dataPoint:I[p],dataSeries:P,point:{x:z+(N-z)/2,y:t.axisY.reversed?f:_},direction:1,bounds:{x1:z,y1:Math.min(_,f),x2:N,y2:Math.max(_,f)},color:v})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.fadeInAnimation,easingFunction:St.easing.easeInQuad,animationBase:0}}},B.prototype.renderBoxAndWhisker=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d,n=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var p,g,M,_,f,m,y,v=null,l=this.plotArea,h=0,C=(v=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(C)||(C=.3*Math.abs(t.axisX.range)),C=this.options.dataPointWidth?this.dataPointWidth:.7*l.width*(t.axisX.logarithmic?Math.log(C)/Math.log(t.axisX.range):Math.abs(C)/Math.abs(t.axisX.range))|0,this.dataPointMaxWidth&&v>h&&(v=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<v&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,v)),C<v&&(C=v),C>h&&(C=h),o.save(),H&&n.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip());for(var S=!!t.axisY.reversed,F=0;F<t.dataSeriesIndexes.length;F++){var P=t.dataSeriesIndexes[F],I=this.data[P],A=I.dataPoints;if(0<A.length){var z=!!(5<C&&I.bevelEnabled);for(h=0;h<A.length;h++)if(!((y=A[h].getTime?A[h].x.getTime():A[h].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax)&&!E(A[h].y)&&A[h].y.length&&"number"==typeof A[h].y[0]&&"number"==typeof A[h].y[1]&&"number"==typeof A[h].y[2]&&"number"==typeof A[h].y[3]&&"number"==typeof A[h].y[4]&&5===A[h].y.length){p=t.axisX.convertValueToPixel(y),g=t.axisY.convertValueToPixel(A[h].y[0]),M=t.axisY.convertValueToPixel(A[h].y[1]),_=t.axisY.convertValueToPixel(A[h].y[2]),f=t.axisY.convertValueToPixel(A[h].y[3]),m=t.axisY.convertValueToPixel(A[h].y[4]);var N=p-C/2|0,Y=p+C/2|0,et=(v=A[h].color?A[h].color:I._colorSet[0],Math.round(Math.max(1,.15*C))),ct=et%2==0?0:.5,J=A[h].whiskerColor?A[h].whiskerColor:A[h].color?I.whiskerColor?I.whiskerColor:A[h].color:I.whiskerColor?I.whiskerColor:v,Q="number"==typeof A[h].whiskerThickness?A[h].whiskerThickness:"number"==typeof I.options.whiskerThickness?I.whiskerThickness:et,$=A[h].whiskerDashType?A[h].whiskerDashType:I.whiskerDashType,U="number"==typeof(U=E(A[h].whiskerLength)?E(I.options.whiskerLength)?C:I.whiskerLength:A[h].whiskerLength)?0>=U?0:U>=C?C:U:"string"==typeof U?parseInt(U)*C/100>C?C:parseInt(U)*C/100:C,O=Math.round(Q)%2==1?.5:0,tt=A[h].stemColor?A[h].stemColor:A[h].color?I.stemColor?I.stemColor:A[h].color:I.stemColor?I.stemColor:v,lt="number"==typeof A[h].stemThickness?A[h].stemThickness:"number"==typeof I.options.stemThickness?I.stemThickness:et,R=Math.round(lt)%2==1?.5:0,Gt=A[h].stemDashType?A[h].stemDashType:I.stemDashType,qt=A[h].lineColor?A[h].lineColor:A[h].color?I.lineColor?I.lineColor:A[h].color:I.lineColor?I.lineColor:v,de="number"==typeof A[h].lineThickness?A[h].lineThickness:"number"==typeof I.options.lineThickness?I.lineThickness:et,ae=A[h].lineDashType?A[h].lineDashType:I.lineDashType,At=Math.round(de)%2==1?.5:0,we=I.upperBoxColor,te=I.lowerBoxColor,ee=E(I.options.fillOpacity)?1:I.fillOpacity,Lt=I.dataPointIds[h];this._eventManager.objectMap[Lt]={id:Lt,objectType:"dataPoint",dataSeriesIndex:P,dataPointIndex:h,x1:N,y1:g,x2:Y,y2:M,x3:p,y3:_,x4:p,y4:f,y5:m,borderThickness:et,color:v,stemThickness:lt,stemColor:tt,whiskerThickness:Q,whiskerLength:U,whiskerColor:J,lineThickness:de,lineColor:qt},o.save(),0<lt&&(o.beginPath(),o.strokeStyle=tt,o.lineWidth=lt,o.setLineDash&&o.setLineDash(mt(Gt,lt)),o.moveTo(p-R,M),o.lineTo(p-R,g),o.stroke(),o.moveTo(p-R,f),o.lineTo(p-R,_),o.stroke()),o.restore(),n.lineWidth=Math.max(et,4),o.beginPath(),Pe(o,N,Math.min(m,M),Y,Math.max(M,m),te,0,v,!!S&&z,!S&&z,!1,!1,ee),o.beginPath(),Pe(o,N,Math.min(_,m),Y,Math.max(m,_),we,0,v,!S&&z,!!S&&z,!1,!1,ee),o.beginPath(),o.lineWidth=et,o.strokeStyle=v,o.rect(N-ct,Math.min(M,_)-ct,Y-N+2*ct,Math.max(M,_)-Math.min(M,_)+2*ct),o.stroke(),o.save(),0<de&&(o.beginPath(),o.globalAlpha=1,o.setLineDash&&o.setLineDash(mt(ae,de)),o.strokeStyle=qt,o.lineWidth=de,o.moveTo(N,m-At),o.lineTo(Y,m-At),o.stroke()),o.restore(),o.save(),0<Q&&(o.beginPath(),o.setLineDash&&o.setLineDash(mt($,Q)),o.strokeStyle=J,o.lineWidth=Q,o.moveTo(p-U/2|0,f-O),o.lineTo(p+U/2|0,f-O),o.stroke(),o.moveTo(p-U/2|0,g+O),o.lineTo(p+U/2|0,g+O),o.stroke()),o.restore(),H&&(v=Nt(Lt),n.strokeStyle=v,n.lineWidth=lt,0<lt&&(n.moveTo(p-ct-R,M),n.lineTo(p-ct-R,Math.max(g,f)),n.stroke(),n.moveTo(p-ct-R,Math.min(g,f)),n.lineTo(p-ct-R,_),n.stroke()),Pe(n,N,Math.max(M,_),Y,Math.min(M,_),v,0,null,!1,!1,!1,!1),0<Q&&(n.beginPath(),n.lineWidth=Q,n.moveTo(p+U/2,f-O),n.lineTo(p-U/2,f-O),n.stroke(),n.moveTo(p+U/2,g+O),n.lineTo(p-U/2,g+O),n.stroke())),(A[h].indexLabel||I.indexLabel||A[h].indexLabelFormatter||I.indexLabelFormatter)&&this._indexLabels.push({chartType:I.type,dataPoint:A[h],dataSeries:I,point:{x:N+(Y-N)/2,y:t.axisY.reversed?g:f},direction:1,bounds:{x1:N,y1:Math.min(g,f),x2:Y,y2:Math.max(g,f)},color:v})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),n.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.fadeInAnimation,easingFunction:St.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeColumn=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,M,n=null,l=this.plotArea,_=0;_=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:l.width*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&_>p&&(_=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<_&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,_)),f<_&&(f=_),f>p&&(f=p),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var y=t.dataSeriesIndexes[m],v=this.data[y],h=v.dataPoints;if(0<h.length){var C=!!(5<f&&v.bevelEnabled);for(_=0;_<h.length;_++)if(!((M=h[_].getTime?h[_].x.getTime():h[_].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax)&&!E(h[_].y)&&h[_].y.length&&"number"==typeof h[_].y[0]&&"number"==typeof h[_].y[1]){n=t.axisX.convertValueToPixel(M),p=t.axisY.convertValueToPixel(h[_].y[0]),g=t.axisY.convertValueToPixel(h[_].y[1]);var S=t.axisX.reversed?n+t.plotType.totalDataSeries*f/2-(t.previousDataSeriesCount+m)*f|0:n-t.plotType.totalDataSeries*f/2+(t.previousDataSeriesCount+m)*f|0,F=t.axisX.reversed?S-f|0:S+f|0;if(n=h[_].color?h[_].color:v._colorSet[_%v._colorSet.length],p>g){var P=p;p=g,g=P}this._eventManager.objectMap[P=v.dataPointIds[_]]={id:P,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:_,x1:S,y1:p,x2:F,y2:g},Pe(o,t.axisX.reversed?F:S,p,t.axisX.reversed?S:F,g,n,0,n,C,C,!1,!1,v.fillOpacity),n=Nt(P),H&&Pe(this._eventManager.ghostCtx,t.axisX.reversed?F:S,p,t.axisX.reversed?S:F,g,n,0,null,!1,!1,!1,!1),(h[_].indexLabel||v.indexLabel||h[_].indexLabelFormatter||v.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:h[_],dataSeries:v,indexKeyword:0,point:{x:S+(F-S)/2,y:h[_].y[1]>=h[_].y[0]?g:p},direction:h[_].y[1]>=h[_].y[0]?-1:1,bounds:{x1:S,y1:Math.min(p,g),x2:F,y2:Math.max(p,g)},color:n}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:h[_],dataSeries:v,indexKeyword:1,point:{x:S+(F-S)/2,y:h[_].y[1]>=h[_].y[0]?p:g},direction:h[_].y[1]>=h[_].y[0]?1:-1,bounds:{x1:S,y1:Math.min(p,g),x2:F,y2:Math.max(p,g)},color:n}))}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.fadeInAnimation,easingFunction:St.easing.easeInQuad,animationBase:0}}},B.prototype.renderError=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d,n=!!t.axisY._position&&!("left"===t.axisY._position||"right"===t.axisY._position);if(!(0>=t.dataSeriesIndexes.length)){var _,f,m,y,v,h,C,l=null,p=!1,g=this.plotArea,M=0,S=t.axisX.dataInfo.minDiff;isFinite(S)||(S=.3*Math.abs(t.axisX.range)),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(g.x1,g.y1,g.width,g.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var F=0,P=0;P<this.data.length;P++)!this.data[P].type.match(/(bar|column)/gi)||!this.data[P].visible||this.data[P].type.match(/(stacked)/gi)&&F||F++;for(var I=0;I<t.dataSeriesIndexes.length;I++){var A=t.dataSeriesIndexes[I],z=this.data[A],N=z.dataPoints,Y=!E(z._linkedSeries)&&!(!z._linkedSeries.type.match(/(bar|column)/gi)||!z._linkedSeries.visible),et=0;if(Y)for(l=z._linkedSeries.id,P=0;P<l;P++)!this.data[P].type.match(/(bar|column)/gi)||!this.data[P].visible||this.data[P].type.match(/(stacked)/gi)&&et||(this.data[P].type.match(/(range)/gi)&&(p=!0),et++);if(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:n?0|Math.min(.15*this.height,this.plotArea.height/(Y?F:1)*.9):.3*this.width,p&&(M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:n?0|Math.min(.15*this.height,this.plotArea.height/(Y?F:1)*.9):.03*this.width),P=this.options.dataPointWidth?this.dataPointWidth:(n?g.height:g.width)*(t.axisX.logarithmic?Math.log(S)/Math.log(t.axisX.range):Math.abs(S)/Math.abs(t.axisX.range))/(Y?F:1)*.9|0,this.dataPointMaxWidth&&l>M&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,M)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&M<l&&(M=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),P<l&&(P=l),P>M&&(P=M),0<N.length){var ct=z._colorSet;for(M=0;M<N.length;M++){l=z.lineColor=z.options.color?z.options.color:ct[0];var J={color:N[M].whiskerColor?N[M].whiskerColor:N[M].color?z.whiskerColor?z.whiskerColor:N[M].color:z.whiskerColor?z.whiskerColor:l,thickness:E(N[M].whiskerThickness)?z.whiskerThickness:N[M].whiskerThickness,dashType:N[M].whiskerDashType?N[M].whiskerDashType:z.whiskerDashType,length:E(N[M].whiskerLength)?E(z.options.whiskerLength)?P:z.options.whiskerLength:N[M].whiskerLength,trimLength:E(N[M].whiskerLength)&&E(z.options.whiskerLength)?50:0};J.length="number"==typeof J.length?0>=J.length?0:J.length>=P?P:J.length:"string"==typeof J.length?parseInt(J.length)*P/100>P?P:parseInt(J.length)*P/100>P:P,J.thickness="number"==typeof J.thickness?0>J.thickness?0:Math.round(J.thickness):2;var Q={color:N[M].stemColor?N[M].stemColor:N[M].color?z.stemColor?z.stemColor:N[M].color:z.stemColor?z.stemColor:l,thickness:N[M].stemThickness?N[M].stemThickness:z.stemThickness,dashType:N[M].stemDashType?N[M].stemDashType:z.stemDashType};if(Q.thickness="number"==typeof Q.thickness?0>Q.thickness?0:Math.round(Q.thickness):2,!((C=N[M].getTime?N[M].x.getTime():N[M].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax)&&!E(N[M].y)&&N[M].y.length&&"number"==typeof N[M].y[0]&&"number"==typeof N[M].y[1]){var $=t.axisX.convertValueToPixel(C);n?f=$:_=$,$=t.axisY.convertValueToPixel(N[M].y[0]),n?m=$:v=$,$=t.axisY.convertValueToPixel(N[M].y[1]),n?y=$:h=$,n?(v=t.axisX.reversed?f+(Y?F:1)*P/2-(Y?et-1:0)*P|0:f-(Y?F:1)*P/2+(Y?et-1:0)*P|0,h=t.axisX.reversed?v-P|0:v+P|0):(m=t.axisX.reversed?_+(Y?F:1)*P/2-(Y?et-1:0)*P|0:_-(Y?F:1)*P/2+(Y?et-1:0)*P|0,y=t.axisX.reversed?m-P|0:m+P|0),!n&&v>h&&($=v,v=h,h=$),n&&m>y&&($=m,m=y,y=$),this._eventManager.objectMap[$=z.dataPointIds[M]]={id:$,objectType:"dataPoint",dataSeriesIndex:A,dataPointIndex:M,x1:Math.min(m,y),y1:Math.min(v,h),x2:Math.max(y,m),y2:Math.max(h,v),isXYSwapped:n,stemProperties:Q,whiskerProperties:J},q(o,Math.min(m,y),Math.min(v,h),Math.max(y,m),Math.max(h,v),l,J,Q,n),H&&q(this._eventManager.ghostCtx,m,v,y,h,l,J,Q,n),(N[M].indexLabel||z.indexLabel||N[M].indexLabelFormatter||z.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:N[M],dataSeries:z,indexKeyword:0,point:{x:n?N[M].y[1]>=N[M].y[0]?m:y:m+(y-m)/2,y:n?v+(h-v)/2:N[M].y[1]>=N[M].y[0]?h:v},direction:N[M].y[1]>=N[M].y[0]?-1:1,bounds:{x1:n?Math.min(m,y):m,y1:n?v:Math.min(v,h),x2:n?Math.max(m,y):y,y2:n?h:Math.max(v,h)},color:l,axisSwapped:n}),this._indexLabels.push({chartType:"error",dataPoint:N[M],dataSeries:z,indexKeyword:1,point:{x:n?N[M].y[1]>=N[M].y[0]?y:m:m+(y-m)/2,y:n?v+(h-v)/2:N[M].y[1]>=N[M].y[0]?v:h},direction:N[M].y[1]>=N[M].y[0]?1:-1,bounds:{x1:n?Math.min(m,y):m,y1:n?v:Math.min(v,h),x2:n?Math.max(m,y):y,y2:n?h:Math.max(v,h)},color:l,axisSwapped:n}))}}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.fadeInAnimation,easingFunction:St.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeBar=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var p,g,M,_,n=null,l=this.plotArea,f=0;f=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9);var m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9|0,this.dataPointMaxWidth&&f>p&&(f=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<f&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,f)),m<f&&(m=f),m>p&&(m=p),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(l.x1,l.y1,l.width,l.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var y=0;y<t.dataSeriesIndexes.length;y++){var v=t.dataSeriesIndexes[y],h=this.data[v],C=h.dataPoints;if(0<C.length){var S=!!(5<m&&h.bevelEnabled);for(o.strokeStyle="#4572A7 ",f=0;f<C.length;f++)if(!((_=C[f].getTime?C[f].x.getTime():C[f].x)<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax)&&!E(C[f].y)&&C[f].y.length&&"number"==typeof C[f].y[0]&&"number"==typeof C[f].y[1]){p=t.axisY.convertValueToPixel(C[f].y[0]),g=t.axisY.convertValueToPixel(C[f].y[1]),M=t.axisX.convertValueToPixel(_),M=t.axisX.reversed?M+t.plotType.totalDataSeries*m/2-(t.previousDataSeriesCount+y)*m|0:M-t.plotType.totalDataSeries*m/2+(t.previousDataSeriesCount+y)*m|0;var F=t.axisX.reversed?M-m|0:M+m|0;p>g&&(n=p,p=g,g=n),Pe(o,p,t.axisX.reversed?F:M,g,t.axisX.reversed?M:F,n=C[f].color?C[f].color:h._colorSet[f%h._colorSet.length],0,null,S,!1,!1,!1,h.fillOpacity),this._eventManager.objectMap[n=h.dataPointIds[f]]={id:n,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:f,x1:p,y1:M,x2:g,y2:F},n=Nt(n),H&&Pe(this._eventManager.ghostCtx,p,t.axisX.reversed?F:M,g,t.axisX.reversed?M:F,n,0,null,!1,!1,!1,!1),(C[f].indexLabel||h.indexLabel||C[f].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:C[f],dataSeries:h,indexKeyword:0,point:{x:C[f].y[1]>=C[f].y[0]?p:g,y:M+(F-M)/2},direction:C[f].y[1]>=C[f].y[0]?-1:1,bounds:{x1:Math.min(p,g),y1:M,x2:Math.max(p,g),y2:F},color:n}),this._indexLabels.push({chartType:"rangeBar",dataPoint:C[f],dataSeries:h,indexKeyword:1,point:{x:C[f].y[1]>=C[f].y[0]?g:p,y:M+(F-M)/2},direction:C[f].y[1]>=C[f].y[0]?1:-1,bounds:{x1:Math.min(p,g),y1:M,x2:Math.max(p,g),y2:F},color:n}))}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.fadeInAnimation,easingFunction:St.easing.easeInQuad,animationBase:0}}},B.prototype.renderRangeArea=function(t){function d(){if(I){for(var U=null,O=_.length-1;0<=O;O--)n.lineTo((U=_[O]).x,U.y2),l.lineTo(U.x,U.y2);if(n.closePath(),n.globalAlpha=m.fillOpacity,n.fill(),n.globalAlpha=1,l.fill(),0<m.lineThickness){for(n.beginPath(),n.moveTo(U.x,U.y2),O=0;O<_.length;O++)n.lineTo((U=_[O]).x,U.y2);for(n.moveTo(_[0].x,_[0].y1),O=0;O<_.length;O++)n.lineTo((U=_[O]).x,U.y1);n.stroke()}n.beginPath(),n.moveTo(C,S),l.beginPath(),l.moveTo(C,S),I={x:C,y:S},(_=[]).push({x:C,y1:S,y2:F})}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=[],g=this.plotArea;n.save(),H&&l.save(),n.beginPath(),n.rect(g.x1,g.y1,g.width,g.height),n.clip(),H&&(l.beginPath(),l.rect(g.x1,g.y1,g.width,g.height),l.clip());for(var M=0;M<t.dataSeriesIndexes.length;M++){var _=[],f=t.dataSeriesIndexes[M],m=this.data[f],y=m.dataPoints;this._eventManager.objectMap[p=m.id]={objectType:"dataSeries",dataSeriesIndex:f},p=Nt(p),l.fillStyle=p,p=[];var C,S,F,P,v=!0,h=0,I=null;if(0<y.length){var A=m._colorSet[h%m._colorSet.length],z=m.lineColor=m.options.lineColor||A,N=z;n.fillStyle=A,n.strokeStyle=z,n.lineWidth=m.lineThickness;var Y="solid";if(n.setLineDash){var et=mt(m.nullDataLineDashType,m.lineThickness),ct=mt(Y=m.lineDashType,m.lineThickness);n.setLineDash(ct)}for(var J=!0;h<y.length;h++)if(!((P=y[h].x.getTime?y[h].x.getTime():y[h].x)<t.axisX.dataInfo.viewPortMin||P>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!J)))if(null!==y[h].y&&y[h].y.length&&"number"==typeof y[h].y[0]&&"number"==typeof y[h].y[1]){if(C=t.axisX.convertValueToPixel(P),S=t.axisY.convertValueToPixel(y[h].y[0]),F=t.axisY.convertValueToPixel(y[h].y[1]),v||J?(m.connectNullData&&!v?(n.setLineDash&&(m.options.nullDataLineDashType||Y===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(_[_.length-1].newLineDashArray=ct,Y=m.nullDataLineDashType,n.setLineDash(et)),n.lineTo(C,S),H&&l.lineTo(C,S),_.push({x:C,y1:S,y2:F})):(n.beginPath(),n.moveTo(C,S),I={x:C,y:S},(_=[]).push({x:C,y1:S,y2:F}),H&&(l.beginPath(),l.moveTo(C,S))),J=v=!1):(n.lineTo(C,S),_.push({x:C,y1:S,y2:F}),H&&l.lineTo(C,S),h%250==0&&d()),this._eventManager.objectMap[P=m.dataPointIds[h]]={id:P,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:h,x1:C,y1:S,y2:F},h<y.length-1&&(N!==(y[h].lineColor||z)||Y!==(y[h].lineDashType||m.lineDashType))&&(d(),_[_.length-1].newStrokeStyle=N=y[h].lineColor||z,n.strokeStyle=N,n.setLineDash&&(y[h].lineDashType?(_[_.length-1].newLineDashArray=mt(Y=y[h].lineDashType,m.lineThickness),n.setLineDash(_[_.length-1].newLineDashArray)):(Y=m.lineDashType,_[_.length-1].newLineDashArray=ct,n.setLineDash(ct)))),0!==y[h].markerSize&&(0<y[h].markerSize||0<m.markerSize)){var Q=m.getMarkerProperties(h,C,F,n);p.push(Q);var $=Nt(P);H&&p.push({x:C,y:F,ctx:l,type:Q.type,size:Q.size,color:$,borderColor:$,borderThickness:Q.borderThickness}),Q=m.getMarkerProperties(h,C,S,n),p.push(Q),$=Nt(P),H&&p.push({x:C,y:S,ctx:l,type:Q.type,size:Q.size,color:$,borderColor:$,borderThickness:Q.borderThickness})}(y[h].indexLabel||m.indexLabel||y[h].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:y[h],dataSeries:m,indexKeyword:0,point:{x:C,y:S},direction:y[h].y[0]>y[h].y[1]===t.axisY.reversed?-1:1,color:A}),this._indexLabels.push({chartType:"rangeArea",dataPoint:y[h],dataSeries:m,indexKeyword:1,point:{x:C,y:F},direction:y[h].y[0]>y[h].y[1]===t.axisY.reversed?1:-1,color:A}))}else J||v||d(),J=!0;d(),me.drawMarkers(p)}}return H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:St.xClipAnimation,easingFunction:St.easing.linear,animationBase:0}}},B.prototype.renderRangeSplineArea=function(t){function d(Q,$){var U=W(S,2);if(0<U.length){if(0<f.lineThickness){n.strokeStyle=$,n.setLineDash&&n.setLineDash(Q),n.beginPath(),n.moveTo(U[0].x,U[0].y);for(var O=0;O<U.length-3;O+=3)(U[O].newStrokeStyle||U[O].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(U[O].x,U[O].y),U[O].newStrokeStyle&&(n.strokeStyle=U[O].newStrokeStyle),U[O].newLineDashArray&&n.setLineDash(U[O].newLineDashArray)),n.bezierCurveTo(U[O+1].x,U[O+1].y,U[O+2].x,U[O+2].y,U[O+3].x,U[O+3].y)}for(n.beginPath(),n.moveTo(U[0].x,U[0].y),H&&(l.beginPath(),l.moveTo(U[0].x,U[0].y)),O=0;O<U.length-3;O+=3)n.bezierCurveTo(U[O+1].x,U[O+1].y,U[O+2].x,U[O+2].y,U[O+3].x,U[O+3].y),H&&l.bezierCurveTo(U[O+1].x,U[O+1].y,U[O+2].x,U[O+2].y,U[O+3].x,U[O+3].y);for(U=W(F,2),n.lineTo(F[F.length-1].x,F[F.length-1].y),O=U.length-1;2<O;O-=3)n.bezierCurveTo(U[O-1].x,U[O-1].y,U[O-2].x,U[O-2].y,U[O-3].x,U[O-3].y),H&&l.bezierCurveTo(U[O-1].x,U[O-1].y,U[O-2].x,U[O-2].y,U[O-3].x,U[O-3].y);if(n.closePath(),n.globalAlpha=f.fillOpacity,n.fill(),H&&(l.closePath(),l.fill()),n.globalAlpha=1,0<f.lineThickness){n.strokeStyle=$,n.setLineDash&&n.setLineDash(Q),n.beginPath(),n.moveTo(U[0].x,U[0].y);for(var tt=O=0;O<U.length-3;O+=3,tt++)(S[tt].newStrokeStyle||S[tt].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(U[O].x,U[O].y),S[tt].newStrokeStyle&&(n.strokeStyle=S[tt].newStrokeStyle),S[tt].newLineDashArray&&n.setLineDash(S[tt].newLineDashArray)),n.bezierCurveTo(U[O+1].x,U[O+1].y,U[O+2].x,U[O+2].y,U[O+3].x,U[O+3].y);for(U=W(S,2),n.moveTo(U[0].x,U[0].y),tt=O=0;O<U.length-3;O+=3,tt++)(S[tt].newStrokeStyle||S[tt].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(U[O].x,U[O].y),S[tt].newStrokeStyle&&(n.strokeStyle=S[tt].newStrokeStyle),S[tt].newLineDashArray&&n.setLineDash(S[tt].newLineDashArray)),n.bezierCurveTo(U[O+1].x,U[O+1].y,U[O+2].x,U[O+2].y,U[O+3].x,U[O+3].y);n.stroke()}n.beginPath()}}var o=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,p=[],g=this.plotArea;n.save(),H&&l.save(),n.beginPath(),n.rect(g.x1,g.y1,g.width,g.height),n.clip(),H&&(l.beginPath(),l.rect(g.x1,g.y1,g.width,g.height),l.clip());for(var M=0;M<t.dataSeriesIndexes.length;M++){var _=t.dataSeriesIndexes[M],f=this.data[_],m=f.dataPoints;this._eventManager.objectMap[p=f.id]={objectType:"dataSeries",dataSeriesIndex:_},p=Nt(p),l.fillStyle=p,p=[];var v,h,C,y=0,S=[],F=[];if(0<m.length){var P=f._colorSet[y%f._colorSet.length],I=f.lineColor=f.options.lineColor||P,A=I;n.fillStyle=P,n.lineWidth=f.lineThickness;var N,z="solid";if(n.setLineDash){var Y=mt(f.nullDataLineDashType,f.lineThickness);N=mt(z=f.lineDashType,f.lineThickness)}for(h=!1;y<m.length;y++)if(!((v=m[y].x.getTime?m[y].x.getTime():m[y].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!h)))if(null!==m[y].y&&m[y].y.length&&"number"==typeof m[y].y[0]&&"number"==typeof m[y].y[1]){v=t.axisX.convertValueToPixel(v),h=t.axisY.convertValueToPixel(m[y].y[0]),C=t.axisY.convertValueToPixel(m[y].y[1]);var et=f.dataPointIds[y];if(this._eventManager.objectMap[et]={id:et,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:y,x1:v,y1:h,y2:C},S[S.length]={x:v,y:h},F[F.length]={x:v,y:C},y<m.length-1&&(A!==(m[y].lineColor||I)||z!==(m[y].lineDashType||f.lineDashType))&&(S[S.length-1].newStrokeStyle=A=m[y].lineColor||I,n.setLineDash&&(m[y].lineDashType?S[S.length-1].newLineDashArray=mt(z=m[y].lineDashType,f.lineThickness):(z=f.lineDashType,S[S.length-1].newLineDashArray=N))),0!==m[y].markerSize&&(0<m[y].markerSize||0<f.markerSize)){var ct=f.getMarkerProperties(y,v,h,n);p.push(ct);var J=Nt(et);H&&p.push({x:v,y:h,ctx:l,type:ct.type,size:ct.size,color:J,borderColor:J,borderThickness:ct.borderThickness}),ct=f.getMarkerProperties(y,v,C,n),p.push(ct),J=Nt(et),H&&p.push({x:v,y:C,ctx:l,type:ct.type,size:ct.size,color:J,borderColor:J,borderThickness:ct.borderThickness})}(m[y].indexLabel||f.indexLabel||m[y].indexLabelFormatter||f.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:m[y],dataSeries:f,indexKeyword:0,point:{x:v,y:h},direction:m[y].y[0]<=m[y].y[1]?-1:1,color:P}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:m[y],dataSeries:f,indexKeyword:1,point:{x:v,y:C},direction:m[y].y[0]<=m[y].y[1]?1:-1,color:P})),h=!1}else 0<y&&!h&&(f.connectNullData?n.setLineDash&&0<S.length&&(f.options.nullDataLineDashType||!m[y-1].lineDashType)&&(S[S.length-1].newLineDashArray=Y,z=f.nullDataLineDashType):(d(N,I),S=[],F=[])),h=!0;d(N,I),me.drawMarkers(p)}}return H&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:St.xClipAnimation,easingFunction:St.easing.linear,animationBase:0}}},B.prototype.renderWaterfall=function(t){var d=t.targetCanvasCtx||this.plotArea.ctx,o=H?this._preRenderCtx:d;if(!(0>=t.dataSeriesIndexes.length)){var g,M,_,f,n=this._eventManager.ghostCtx,l=null,p=this.plotArea,y=0,m=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);y=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,M=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:0|Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9);var v=t.axisX.dataInfo.minDiff;isFinite(v)||(v=.3*Math.abs(t.axisX.range)),v=this.options.dataPointWidth?this.dataPointWidth:p.width*(t.axisX.logarithmic?Math.log(v)/Math.log(t.axisX.range):Math.abs(v)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.6|0,this.dataPointMaxWidth&&y>M&&(y=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,M)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&M<y&&(M=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,y)),v<y&&(v=y),v>M&&(v=M),o.save(),H&&this._eventManager.ghostCtx.save(),o.beginPath(),o.rect(p.x1,p.y1,p.width,p.height),o.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var C=t.dataSeriesIndexes[h],S=this.data[C],F=S.dataPoints;l=S._colorSet[0],S.risingColor=S.options.risingColor?S.options.risingColor:l,S.fallingColor=S.options.fallingColor?S.options.fallingColor:"#e40a0a";var P="number"==typeof S.options.lineThickness?Math.round(S.lineThickness):1,I=Math.round(P)%2==1?-.5:0;if(0<F.length){var A=!!(5<v&&S.bevelEnabled),z=!1,N=null,Y=null;for(y=0;y<F.length;y++)if(f=F[y].getTime?F[y].x.getTime():F[y].x,"number"!=typeof F[y].y){if(0<y&&!z&&S.connectNullData)var et=S.options.nullDataLineDashType||!F[y-1].lineDashType?S.nullDataLineDashType:F[y-1].lineDashType;z=!0}else{g=t.axisX.convertValueToPixel(f),M=0===S.dataPointEOs[y].cumulativeSum?m:t.axisY.convertValueToPixel(S.dataPointEOs[y].cumulativeSum),_=0===S.dataPointEOs[y].cumulativeSumYStartValue?m:t.axisY.convertValueToPixel(S.dataPointEOs[y].cumulativeSumYStartValue),g=t.axisX.reversed?g+t.plotType.totalDataSeries*v/2-(t.previousDataSeriesCount+h)*v|0:g-t.plotType.totalDataSeries*v/2+(t.previousDataSeriesCount+h)*v|0;var ct=t.axisX.reversed?g-v|0:g+v|0;M>_&&(l=M,M=_,_=l),t.axisY.reversed&&(l=M,M=_,_=l),this._eventManager.objectMap[l=S.dataPointIds[y]]={id:l,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:y,x1:g,y1:M,x2:ct,y2:_},Pe(o,t.axisX.reversed?ct:g,t.axisY.reversed?_:M,t.axisX.reversed?g:ct,t.axisY.reversed?M:_,Q=F[y].color?F[y].color:0<F[y].y?S.risingColor:S.fallingColor,0,Q,A,A,!1,!1,S.fillOpacity),l=Nt(l),H&&Pe(this._eventManager.ghostCtx,t.axisX.reversed?ct:g,M,t.axisX.reversed?g:ct,_,l,0,null,!1,!1,!1,!1);var J,Q=g;J=typeof F[y].isIntermediateSum<"u"&&!0===F[y].isIntermediateSum||typeof F[y].isCumulativeSum<"u"&&!0===F[y].isCumulativeSum?0<F[y].y?M:_:0<F[y].y?_:M,0<y&&N&&(!z||S.connectNullData)&&(z&&o.setLineDash&&o.setLineDash(mt(et,P)),o.beginPath(),o.moveTo(N,Y-I),o.lineTo(Q,J-I),0<P&&o.stroke(),H&&(n.beginPath(),n.moveTo(N,Y-I),n.lineTo(Q,J-I),0<P&&n.stroke())),z=!1,N=ct,Y=0<F[y].y?M:_,Q=F[y].lineDashType?F[y].lineDashType:S.options.lineDashType?S.options.lineDashType:"shortDash",o.strokeStyle=F[y].lineColor?F[y].lineColor:S.options.lineColor?S.options.lineColor:"#9e9e9e",o.lineWidth=P,o.setLineDash&&(Q=mt(Q,P),o.setLineDash(Q)),(F[y].indexLabel||S.indexLabel||F[y].indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:F[y],dataSeries:S,point:{x:g+(ct-g)/2,y:0<=F[y].y?M:_},direction:0>F[y].y===t.axisY.reversed?1:-1,bounds:{x1:g,y1:Math.min(M,_),x2:ct,y2:Math.max(M,_)},color:l})}}}return H&&(d.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(p.x1,p.y1,p.width,p.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:d,dest:this.plotArea.ctx,animationCallback:St.fadeInAnimation,easingFunction:St.easing.easeInQuad,animationBase:0}}};var qe=function(t,d,o,n,l,p,g,M,_){if(!(0>o)){if(typeof M>"u"&&(M=1),!H){var f=Number((g%(2*Math.PI)).toFixed(8));Number((p%(2*Math.PI)).toFixed(8))===f&&(g-=1e-4)}t.save(),t.globalAlpha=M,"pie"===l?(t.beginPath(),t.moveTo(d.x,d.y),t.arc(d.x,d.y,o,p,g,!1),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===l&&(t.beginPath(),t.arc(d.x,d.y,o,p,g,!1),0<=_&&t.arc(d.x,d.y,_*o,g,p,!0),t.closePath(),t.fillStyle=n,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};B.prototype.renderPie=function(t){function o(J,Q){var $=_.plotArea.ctx;for($.clearRect(v.x1,v.y1,v.width,v.height),$.fillStyle=_.backgroundColor,$.fillRect(v.x1,v.y1,v.width,v.height),$=0;$<m.length;$++){var U=h[$].startAngle,O=h[$].endAngle;if(O>U){var tt=.07*Y*Math.cos(h[$].midAngle),lt=.07*Y*Math.sin(h[$].midAngle),R=!1;m[$].exploded?(1e-9<Math.abs(h[$].center.x-(A.x+tt))||1e-9<Math.abs(h[$].center.y-(A.y+lt)))&&(h[$].center.x=A.x+tt*J,h[$].center.y=A.y+lt*J,R=!0):(0<Math.abs(h[$].center.x-A.x)||0<Math.abs(h[$].center.y-A.y))&&(h[$].center.x=A.x+tt*(1-J),h[$].center.y=A.y+lt*(1-J),R=!0),R&&Q&&((tt={}).dataSeries=f,tt.dataPoint=f.dataPoints[$],tt.index=$,_.toolTip.highlightObjects([tt])),qe(_.plotArea.ctx,h[$].center,h[$].radius,m[$].color?m[$].color:f._colorSet[$%f._colorSet.length],f.type,U,O,f.fillOpacity,h[$].percentInnerRadius)}}for(($=_.plotArea.ctx).save(),$.fillStyle="black",$.strokeStyle="grey",$.textBaseline="middle",$.lineJoin="round",U=U=0;U<m.length;U++)(O=h[U]).indexLabelText&&(O.indexLabelTextBlock.y-=O.indexLabelTextBlock.height/2-O.indexLabelTextBlock.fontSize/2,tt=0,O.indexLabelTextBlock.x+=tt="left"===O.hemisphere?"inside"!==f.indexLabelPlacement?-(O.indexLabelTextBlock.width+y):-O.indexLabelTextBlock.width/2:"inside"!==f.indexLabelPlacement?y:-O.indexLabelTextBlock.width/2,O.indexLabelTextBlock.render(!0),O.indexLabelTextBlock.x-=tt,O.indexLabelTextBlock.y+=O.indexLabelTextBlock.height/2-O.indexLabelTextBlock.fontSize/2,"inside"!==O.indexLabelPlacement&&0<O.indexLabelLineThickness&&(tt=O.center.x+Y*Math.cos(O.midAngle),lt=O.center.y+Y*Math.sin(O.midAngle),$.strokeStyle=O.indexLabelLineColor,$.lineWidth=O.indexLabelLineThickness,$.setLineDash&&$.setLineDash(mt(O.indexLabelLineDashType,O.indexLabelLineThickness)),$.beginPath(),$.moveTo(tt,lt),$.lineTo(O.indexLabelTextBlock.x,O.indexLabelTextBlock.y),$.lineTo(O.indexLabelTextBlock.x+("left"===O.hemisphere?-y:y),O.indexLabelTextBlock.y),$.stroke()),$.lineJoin="miter");$.save()}function n(J,Q){return Q.indexLabelTextBlock.y>J.indexLabelTextBlock.y?Q.indexLabelTextBlock.y-Q.indexLabelTextBlock.height/2-(J.indexLabelTextBlock.y+J.indexLabelTextBlock.height/2):J.indexLabelTextBlock.y-J.indexLabelTextBlock.height/2-(Q.indexLabelTextBlock.y+Q.indexLabelTextBlock.height/2)}function l(J){for(var Q=null,$=1;$<m.length;$++){if(h[Q=(J+$+h.length)%h.length].hemisphere!==h[J].hemisphere){Q=null;break}if(h[Q].indexLabelText&&Q!==J&&(0>n(h[Q],h[J])||("right"===h[J].hemisphere?h[Q].indexLabelTextBlock.y>=h[J].indexLabelTextBlock.y:h[Q].indexLabelTextBlock.y<=h[J].indexLabelTextBlock.y)))break;Q=null}return Q}function p(J,Q,$){if(1e3<($=($||0)+1))return 0;Q=Q||0;var U=0,O=A.y-1*S,tt=A.y+1*S;if(0<=J&&J<m.length){var lt=h[J];if(0>Q&&lt.indexLabelTextBlock.y<O||0<Q&&lt.indexLabelTextBlock.y>tt)return 0;var R=0,Gt=0;for(Gt=R=R=0,0>Q?lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2>O&&lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2+Q<O&&(Q=-(O-(lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2+Q))):lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2<O&&lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2+Q>tt&&(Q=lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2+Q-tt),Q=lt.indexLabelTextBlock.y+Q,O=0,O="right"===lt.hemisphere?A.x+Math.sqrt(Math.pow(S,2)-Math.pow(Q-A.y,2)):A.x-Math.sqrt(Math.pow(S,2)-Math.pow(Q-A.y,2)),Gt=A.x+Y*Math.cos(lt.midAngle),R=A.y+Y*Math.sin(lt.midAngle),R=Math.sqrt(Math.pow(O-Gt,2)+Math.pow(Q-R,2)),Gt=Math.acos(Y/S),Q=(R=Math.acos((S*S+Y*Y-R*R)/(2*Y*S)))<Gt?Q-lt.indexLabelTextBlock.y:0,O=null,tt=1;tt<m.length;tt++){if(h[O=(J-tt+h.length)%h.length].hemisphere!==h[J].hemisphere){O=null;break}if(h[O].indexLabelText&&h[O].hemisphere===h[J].hemisphere&&O!==J&&(0>n(h[O],h[J])||("right"===h[J].hemisphere?h[O].indexLabelTextBlock.y<=h[J].indexLabelTextBlock.y:h[O].indexLabelTextBlock.y>=h[J].indexLabelTextBlock.y)))break;O=null}Gt=O,R=l(J),tt=O=0,0>Q?(U=Q,null!==(tt="right"===lt.hemisphere?Gt:R)&&(Gt=-Q,(Q=lt.indexLabelTextBlock.y-lt.indexLabelTextBlock.height/2-(h[tt].indexLabelTextBlock.y+h[tt].indexLabelTextBlock.height/2))-Gt<C&&+(tt=p(tt,O=-Gt,$+1)).toFixed(I)>+O.toFixed(I)&&(U=Q>C?-(Q-C):-(Gt-(tt-O))))):0<Q&&(U=Q,null!==(tt="right"===lt.hemisphere?R:Gt)&&(Gt=Q,(Q=h[tt].indexLabelTextBlock.y-h[tt].indexLabelTextBlock.height/2-(lt.indexLabelTextBlock.y+lt.indexLabelTextBlock.height/2))-Gt<C&&+(tt=p(tt,O=Gt,$+1)).toFixed(I)<+O.toFixed(I)&&(U=Q>C?Q-C:Gt-(O-tt)))),U&&($=lt.indexLabelTextBlock.y+U,Q=0,Q="right"===lt.hemisphere?A.x+Math.sqrt(Math.pow(S,2)-Math.pow($-A.y,2)):A.x-Math.sqrt(Math.pow(S,2)-Math.pow($-A.y,2)),lt.midAngle>Math.PI/2-P&&lt.midAngle<Math.PI/2+P?(O=h[O=(J-1+h.length)%h.length],J=h[(J+1+h.length)%h.length],"left"===lt.hemisphere&&"right"===O.hemisphere&&Q>O.indexLabelTextBlock.x?Q=O.indexLabelTextBlock.x-15:"right"===lt.hemisphere&&"left"===J.hemisphere&&Q<J.indexLabelTextBlock.x&&(Q=J.indexLabelTextBlock.x+15)):lt.midAngle>3*Math.PI/2-P&&lt.midAngle<3*Math.PI/2+P&&(O=h[O=(J-1+h.length)%h.length],J=h[(J+1+h.length)%h.length],"right"===lt.hemisphere&&"left"===O.hemisphere&&Q<O.indexLabelTextBlock.x?Q=O.indexLabelTextBlock.x+15:"left"===lt.hemisphere&&"right"===J.hemisphere&&Q>J.indexLabelTextBlock.x&&(Q=J.indexLabelTextBlock.x-15)),lt.indexLabelTextBlock.y=$,lt.indexLabelTextBlock.x=Q,lt.indexLabelAngle=Math.atan2(lt.indexLabelTextBlock.y-A.y,lt.indexLabelTextBlock.x-A.x))}return U}function g(){(J=_.plotArea.ctx).fillStyle="grey",J.strokeStyle="grey",J.font="16px Arial",J.textBaseline="middle";var U=J=0,Q=0,$=!0;for(U=0;10>U&&(1>U||0<Q);U++){if((f.radius||!f.radius&&typeof f.innerRadius<"u"&&null!==f.innerRadius&&Y-Q<=et)&&($=!1),$&&(Y-=Q),Q=0,"inside"!==f.indexLabelPlacement){for(S=Y*F,J=0;J<m.length;J++)(O=h[J]).indexLabelTextBlock.x=A.x+S*Math.cos(O.midAngle),O.indexLabelTextBlock.y=A.y+S*Math.sin(O.midAngle),O.indexLabelAngle=O.midAngle,O.radius=Y,O.percentInnerRadius=ct;for(var tt,lt,J=0;J<m.length;J++){var O=h[J],R=l(J);if(null!==R){var Gt=0;if(0>(Gt=n(tt=h[J],lt=h[R])-C)){for(var de=lt=0,qt=0;qt<m.length;qt++)qt!==J&&h[qt].hemisphere===O.hemisphere&&(h[qt].indexLabelTextBlock.y<O.indexLabelTextBlock.y?lt++:de++);de=-1*(Gt-(lt=Gt/(lt+de||1)*de));var ae=qt=0;"right"===O.hemisphere?(qt=p(J,lt),+(ae=p(R,de=-1*(Gt-qt))).toFixed(I)<+de.toFixed(I)&&+qt.toFixed(I)<=+lt.toFixed(I)&&p(J,-(de-ae))):(qt=p(R,lt),+(ae=p(J,de=-1*(Gt-qt))).toFixed(I)<+de.toFixed(I)&&+qt.toFixed(I)<=+lt.toFixed(I)&&p(R,-(de-ae)))}}}}else for(J=0;J<m.length;J++)O=h[J],R=A.x+(S="pie"===f.type?.7*Y:.85*Y)*Math.cos(O.midAngle),lt=A.y+S*Math.sin(O.midAngle),O.indexLabelTextBlock.x=R,O.indexLabelTextBlock.y=lt;for(J=0;J<m.length;J++)0!==(R=(O=h[J]).indexLabelTextBlock.measureText()).height&&0!==R.width&&(R=R=0,"right"===O.hemisphere?(R=v.x2-(O.indexLabelTextBlock.x+O.indexLabelTextBlock.width+y),R*=-1):R=v.x1-(O.indexLabelTextBlock.x-O.indexLabelTextBlock.width-y),0<R&&(!$&&O.indexLabelText&&(.3*O.indexLabelTextBlock.maxWidth>(lt="right"===O.hemisphere?v.x2-O.indexLabelTextBlock.x:O.indexLabelTextBlock.x-v.x1)?O.indexLabelText="":O.indexLabelTextBlock.maxWidth=.85*lt,.3*O.indexLabelTextBlock.maxWidth<lt&&(O.indexLabelTextBlock.x-="right"===O.hemisphere?2:-2)),Math.abs(O.indexLabelTextBlock.y-O.indexLabelTextBlock.height/2-A.y)<Y||Math.abs(O.indexLabelTextBlock.y+O.indexLabelTextBlock.height/2-A.y)<Y)&&(9<(R/=Math.abs(Math.cos(O.indexLabelAngle)))&&(R*=.3),R>Q&&(Q=R)),R=R=0,0<O.indexLabelAngle&&O.indexLabelAngle<Math.PI?(R=v.y2-(O.indexLabelTextBlock.y+O.indexLabelTextBlock.height/2+5),R*=-1):R=v.y1-(O.indexLabelTextBlock.y-O.indexLabelTextBlock.height/2-5),0<R&&(!$&&O.indexLabelText&&0===p(J,R*(lt=0<O.indexLabelAngle&&O.indexLabelAngle<Math.PI?-1:1))&&p(J,2*lt),Math.abs(O.indexLabelTextBlock.x-A.x)<Y&&(9<(R/=Math.abs(Math.sin(O.indexLabelAngle)))&&(R*=.3),R>Q&&(Q=R))));var At=function(we,te,ee){for(var Lt=[],Te=0;Lt.push(h[te]),te!==ee;te=(te+1+m.length)%m.length);for(Lt.sort(function(li,Ee){return li.y-Ee.y}),te=0;te<Lt.length&&(ee=Lt[te],Te<.7*we);te++)Te+=ee.indexLabelTextBlock.height,ee.indexLabelTextBlock.text="",ee.indexLabelText="",ee.indexLabelTextBlock.measureText()};!function(){for(var we=-1,te=-1,ee=0,Lt=!1,Te=0;Te<m.length;Te++)if(Lt=!1,(tt=h[Te]).indexLabelText){var li=l(Te);if(null!==li){var Mi,Ee=h[li];Gt=0,(Mi=0>(Gt=n(tt,Ee)))&&(Mi=tt.indexLabelTextBlock.x,Mi=!(tt.indexLabelTextBlock.x+tt.indexLabelTextBlock.width<Ee.indexLabelTextBlock.x-y||Mi>Ee.indexLabelTextBlock.x+Ee.indexLabelTextBlock.width+y||tt.indexLabelTextBlock.y-tt.indexLabelTextBlock.height/2>Ee.indexLabelTextBlock.y+Ee.indexLabelTextBlock.height/2+y||tt.indexLabelTextBlock.y+tt.indexLabelTextBlock.height/2<Ee.indexLabelTextBlock.y-Ee.indexLabelTextBlock.height/2-y)),Mi?(0>we&&(we=Te),li!==we&&(te=li,ee+=-Gt),Te%Math.max(m.length/10,3)==0&&(Lt=!0)):Lt=!0,Lt&&0<ee&&0<=we&&0<=te&&(At(ee,we,te),te=we=-1,ee=0)}}0<ee&&At(ee,we,te)}()}}function M(){if(_.plotArea.layoutManager.reset(),_.title&&(_.title.dockInsidePlotArea||"center"===_.title.horizontalAlign&&"center"===_.title.verticalAlign)&&_.title.render(),_.subtitles)for(var J=0;J<_.subtitles.length;J++){var Q=_.subtitles[J];(Q.dockInsidePlotArea||"center"===Q.horizontalAlign&&"center"===Q.verticalAlign)&&Q.render()}_.legend&&(_.legend.dockInsidePlotArea||"center"===_.legend.horizontalAlign&&"center"===_.legend.verticalAlign)&&(_.legend.setLayout(),_.legend.render())}var _=this;if(!(0>=t.dataSeriesIndexes.length)){var S,f=this.data[t.dataSeriesIndexes[0]],m=f.dataPoints,y=10,v=this.plotArea,h=f.dataPointEOs,C=2,F=1.3,P=20/180*Math.PI,I=6,A={x:(v.x2+v.x1)/2,y:(v.y2+v.y1)/2},z=0;t=!1;for(var N=0;N<m.length;N++)z+=Math.abs(m[N].y),!t&&typeof m[N].indexLabel<"u"&&null!==m[N].indexLabel&&0<m[N].indexLabel.toString().length&&(t=!0),!t&&typeof m[N].label<"u"&&null!==m[N].label&&0<m[N].label.toString().length&&(t=!0);if(0!==z){t=t||typeof f.indexLabel<"u"&&null!==f.indexLabel&&0<f.indexLabel.toString().length;var Y="inside"!==f.indexLabelPlacement&&t?.75*Math.min(v.width,v.height)/2:.92*Math.min(v.width,v.height)/2;f.radius&&(Y=_i(f.radius,Y));var et=typeof f.innerRadius<"u"&&null!==f.innerRadius?_i(f.innerRadius,Y):.7*Y;f.radius=Y,"doughnut"===f.type&&(f.innerRadius=et);var ct=Math.min(et/Y,(Y-1)/Y);this.pieDoughnutClickHandler=function(J){_.isAnimating||!E(this.explodeOnClick)&&!this.explodeOnClick||((J=J.dataPoint).exploded=!J.exploded,1<this.dataPoints.length&&_._animator.animate(0,500,function(Q){o(Q,!0),M(),_.dispatchEvent("dataAnimationIterationEnd",{chart:_}),_.dispatchEvent("dataAnimationEnd",{chart:_})}))},function d(){if(f&&m){var J=0,Q=0,$=0,U=0;E(f.options.indexLabelMaxWidth)&&(f.indexLabelMaxWidth=.33*v.width);for(var O=0;O<m.length;O++){var tt=m[O],lt=f.dataPointIds[O];h[O].id=lt,h[O].objectType="dataPoint",h[O].dataPointIndex=O,h[O].dataSeriesIndex=0;var R=h[O],qt={percent:null,total:null},Gt=null;qt=_.getPercentAndTotal(f,tt),(f.indexLabelFormatter||tt.indexLabelFormatter)&&(Gt={chart:_.options,dataSeries:f,dataPoint:tt,total:qt.total,percent:qt.percent}),qt=tt.indexLabelFormatter?tt.indexLabelFormatter(Gt):tt.indexLabel?_.replaceKeywordsWithValue(tt.indexLabel,tt,f,O):f.indexLabelFormatter?f.indexLabelFormatter(Gt):f.indexLabel?_.replaceKeywordsWithValue(f.indexLabel,tt,f,O):tt.label?tt.label:"",_._eventManager.objectMap[lt]=R,R.center={x:A.x,y:A.y},R.y=tt.y,R.radius=Y,R.percentInnerRadius=ct,R.indexLabelText=qt,R.indexLabelPlacement=f.indexLabelPlacement,R.indexLabelLineColor=tt.indexLabelLineColor?tt.indexLabelLineColor:f.options.indexLabelLineColor?f.options.indexLabelLineColor:tt.color?tt.color:f._colorSet[O%f._colorSet.length],R.indexLabelLineThickness=E(tt.indexLabelLineThickness)?f.indexLabelLineThickness:tt.indexLabelLineThickness,R.indexLabelLineDashType=tt.indexLabelLineDashType?tt.indexLabelLineDashType:f.indexLabelLineDashType,R.indexLabelFontColor=tt.indexLabelFontColor?tt.indexLabelFontColor:f.indexLabelFontColor,R.indexLabelFontStyle=tt.indexLabelFontStyle?tt.indexLabelFontStyle:f.indexLabelFontStyle,R.indexLabelFontWeight=tt.indexLabelFontWeight?tt.indexLabelFontWeight:f.indexLabelFontWeight,R.indexLabelFontSize=E(tt.indexLabelFontSize)?f.indexLabelFontSize:tt.indexLabelFontSize,R.indexLabelFontFamily=tt.indexLabelFontFamily?tt.indexLabelFontFamily:f.indexLabelFontFamily,R.indexLabelBackgroundColor=tt.indexLabelBackgroundColor?tt.indexLabelBackgroundColor:f.options.indexLabelBackgroundColor?f.options.indexLabelBackgroundColor:f.indexLabelBackgroundColor,R.indexLabelMaxWidth=tt.indexLabelMaxWidth?tt.indexLabelMaxWidth:f.indexLabelMaxWidth,R.indexLabelWrap=typeof tt.indexLabelWrap<"u"?tt.indexLabelWrap:f.indexLabelWrap,R.indexLabelTextAlign=tt.indexLabelTextAlign?tt.indexLabelTextAlign:f.indexLabelTextAlign?f.indexLabelTextAlign:"left",R.startAngle=0===O?f.startAngle?f.startAngle/180*Math.PI:0:h[O-1].endAngle,R.startAngle=(R.startAngle+2*Math.PI)%(2*Math.PI),R.endAngle=R.startAngle+2*Math.PI/z*Math.abs(tt.y),tt=((tt=(R.endAngle+R.startAngle)/2)+2*Math.PI)%(2*Math.PI),R.midAngle=tt,R.midAngle>Math.PI/2-P&&R.midAngle<Math.PI/2+P?((0===J||h[$].midAngle>R.midAngle)&&($=O),J++):R.midAngle>3*Math.PI/2-P&&R.midAngle<3*Math.PI/2+P&&((0===Q||h[U].midAngle>R.midAngle)&&(U=O),Q++),R.hemisphere=tt>Math.PI/2&&tt<=3*Math.PI/2?"left":"right",R.indexLabelTextBlock=new ie(_.plotArea.ctx,{fontSize:R.indexLabelFontSize,fontFamily:R.indexLabelFontFamily,fontColor:R.indexLabelFontColor,fontStyle:R.indexLabelFontStyle,fontWeight:R.indexLabelFontWeight,textAlign:R.indexLabelTextAlign,backgroundColor:R.indexLabelBackgroundColor,maxWidth:R.indexLabelMaxWidth,maxHeight:R.indexLabelWrap?5*R.indexLabelFontSize:1.5*R.indexLabelFontSize,text:R.indexLabelText,padding:0,textBaseline:"middle"}),R.indexLabelTextBlock.measureText()}for(lt=tt=0,qt=!1,O=0;O<m.length;O++)R=h[($+O)%m.length],1<J&&R.midAngle>Math.PI/2-P&&R.midAngle<Math.PI/2+P&&(tt<=J/2&&!qt?(R.hemisphere="right",tt++):(R.hemisphere="left",qt=!0));for(qt=!1,O=0;O<m.length;O++)R=h[(U+O)%m.length],1<Q&&R.midAngle>3*Math.PI/2-P&&R.midAngle<3*Math.PI/2+P&&(lt<=Q/2&&!qt?(R.hemisphere="left",lt++):(R.hemisphere="right",qt=!0))}}(),g(),g(),g(),g(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(J){(Q=_.plotArea.ctx).clearRect(v.x1,v.y1,v.width,v.height),Q.fillStyle=_.backgroundColor,Q.fillRect(v.x1,v.y1,v.width,v.height);for(var Q=h[0].startAngle+2*Math.PI*J,$=0;$<m.length;$++){var U=0===$?h[$].startAngle:O,O=U+(h[$].endAngle-h[$].startAngle),tt=!1;if(O>Q&&(O=Q,tt=!0),O>U&&qe(_.plotArea.ctx,h[$].center,h[$].radius,m[$].color?m[$].color:f._colorSet[$%f._colorSet.length],f.type,U,O,f.fillOpacity,h[$].percentInnerRadius),tt)break}M(),_.dispatchEvent("dataAnimationIterationEnd",{chart:_}),1<=J&&_.dispatchEvent("dataAnimationEnd",{chart:_})},function(){_.disableToolTip=!1,_._animator.animate(0,_.animatedRender?500:0,function(J){o(J,!1),M(),_.dispatchEvent("dataAnimationIterationEnd",{chart:_})}),_.dispatchEvent("dataAnimationEnd",{chart:_})})}}};var Fe=function(t,d,o,n){typeof o>"u"&&(o=1),0>=Math.round(d.y4-d.y1)||(t.save(),t.globalAlpha=o,t.beginPath(),t.moveTo(Math.round(d.x1),Math.round(d.y1)),t.lineTo(Math.round(d.x2),Math.round(d.y2)),t.lineTo(Math.round(d.x3),Math.round(d.y3)),t.lineTo(Math.round(d.x4),Math.round(d.y4)),"undefined"!==d.x5&&(t.lineTo(Math.round(d.x5),Math.round(d.y5)),t.lineTo(Math.round(d.x6),Math.round(d.y6))),t.closePath(),t.fillStyle=n||d.color,t.fill(),t.globalAplha=1,t.restore())};B.prototype.renderFunnel=function(t){function p(){var ht,dt,vt,Jt;if("inside"!==P.indexLabelPlacement)for(var Ct=0;Ct<Lt.length;Ct++)0==rt[Ct].textBlock.text.length?rt[Ct].isDirty=!0:(vt=typeof(ht=Lt[Ct]).x5<"u"?(ht.y2+ht.y4)/2:(ht.y2+ht.y3)/2,dt=P.reversed?typeof ht.x5<"u"&&vt>te?h(vt).x2+1:(ht.x2+ht.x3)/2+1:typeof ht.x5<"u"?vt<te?h(vt).x2+1:(ht.x4+ht.x3)/2+1:(ht.x2+ht.x3)/2+1,rt[Ct].textBlock.x=dt+Gt,rt[Ct].textBlock.y=vt-rt[Ct].height/2,P.reversed?(rt[Ct].textBlock.y+rt[Ct].height>ae+z&&(rt[Ct].textBlock.y=ae+z-rt[Ct].height),rt[Ct].textBlock.y<ee-z&&(rt[Ct].textBlock.y=ee-z)):(rt[Ct].textBlock.y<ae-z&&(rt[Ct].textBlock.y=ae-z),rt[Ct].textBlock.y+rt[Ct].height>ee+z&&(rt[Ct].textBlock.y=ee+z-rt[Ct].height)));else for(Ct=0;Ct<Lt.length;Ct++)0==rt[Ct].textBlock.text.length?rt[Ct].isDirty=!0:(Jt=rt[Ct].width,(dt=(ht=Lt[Ct]).height)>=(vt=rt[Ct].height)?(vt=Ct!=li?(ht.y1+ht.y3)/2-vt/2:(ht.y1+ht.y4)/2-vt/2,rt[Ct].textBlock.x=dt=Ct!=li?(ht.x4+ht.x3)/2-Jt/2:(ht.x5+ht.x4)/2-Jt/2,rt[Ct].textBlock.y=vt):rt[Ct].isDirty=!0)}function M(ht,dt){return(dt<Lt.length?rt[dt].textBlock.y:P.reversed?ae+z:ee+z)-(0>ht?P.reversed?ee-z:ae-z:rt[ht].textBlock.y+rt[ht].height+si)}function _(ht,dt,vt){var Jt,Ct,Vt,Ue=[],ve=z,Bt=[];if(-1!==dt&&(0<=Le.indexOf(dt)?(Ct=Le.indexOf(dt),Le.splice(Ct,1)):(Le.push(dt),Le=Le.sort(function(xe,Wt){return xe-Wt}))),0===Le.length)Ue=Xi;else{Ct=z*(1!=Le.length||0!=Le[0]&&Le[0]!=Lt.length-1?2:1)/function f(){for(var ht=0,dt=0;dt<Lt.length-1;dt++)(0<=Le.indexOf(dt)||0<=Le.indexOf(dt+1))&&ht++;return ht}();for(var fe=0;fe<Lt.length;fe++){if(1==Le.length&&0==Le[0]){if(0===fe){Ue.push(Xi[fe]),Jt=ve;continue}}else 0===fe&&(Jt=-1*ve);Ue.push(Xi[fe]+Jt),(0<=Le.indexOf(fe)||fe<Lt.length&&0<=Le.indexOf(fe+1))&&(Jt+=Ct)}}Vt=function(){for(var xe=[],Wt=0;Wt<Lt.length;Wt++)xe.push(Ue[Wt]-Lt[Wt].y1);return xe}(),(new Date).getTime();ht._animator.animate(0,vt,function(xe){var Wt=ht.plotArea.ctx||ht.ctx;Hi=!0,Wt.clearRect(A.x1,A.y1,A.x2-A.x1,A.y2-A.y1),Wt.fillStyle=ht.backgroundColor,Wt.fillRect(A.x1,A.y1,A.width,A.height),function(xe){for(var Wt,jt,Ft=0;Ft<Lt.length;Ft++)Wt=Vt[Ft],jt=Lt[Ft],Wt*=xe,typeof Bt[Ft]>"u"&&(Bt[Ft]=0),0>Bt&&(Bt*=-1),jt.y1+=Wt-Bt[Ft],jt.y2+=Wt-Bt[Ft],jt.y3+=Wt-Bt[Ft],jt.y4+=Wt-Bt[Ft],jt.y5&&(jt.y5+=Wt-Bt[Ft],jt.y6+=Wt-Bt[Ft]),Bt[Ft]=Wt}(xe);var jt={};for(jt.dataSeries=P,jt.dataPoint=P.reversed?P.dataPoints[I.length-1-dt]:P.dataPoints[dt],jt.index=P.reversed?I.length-1-dt:dt,ht.toolTip.highlightObjects([jt]),jt=0;jt<Lt.length;jt++)Fe(Wt,Lt[jt],P.fillOpacity);S(Wt),J&&("inside"!==P.indexLabelPlacement?m(Wt):p(),C(Wt)),1<=xe&&(Hi=!1)},null,St.easing.easeOutQuart)}function m(ht){for(var dt,vt,Jt,Ct,Vt=0;Vt<Lt.length;Vt++)dt=h(vt=((Lt[Vt].y2+Lt[Vt].y4)/2|0)+(Ct=rt[Vt].lineThickness%2==1?.5:0)).x2-1,Jt=rt[Vt].textBlock.x,Ct=(rt[Vt].textBlock.y+rt[Vt].height/2|0)+Ct,rt[Vt].isDirty||0==rt[Vt].lineThickness||(ht.strokeStyle=rt[Vt].lineColor,ht.lineWidth=rt[Vt].lineThickness,ht.setLineDash&&ht.setLineDash(mt(rt[Vt].lineDashType,rt[Vt].lineThickness)),ht.beginPath(),ht.moveTo(dt,vt),ht.lineTo(Jt,Ct),ht.stroke())}function y(ht){for(ht-=1;-1<=ht&&-1!=ht&&rt[ht].isDirty;ht--);return ht}function v(ht){for(ht+=1;ht<=Lt.length&&ht!=Lt.length&&rt[ht].isDirty;ht++);return ht}function h(ht){for(var dt,vt=0;vt<I.length;vt++)if(Lt[vt].y1<ht&&Lt[vt].y4>ht){dt=Lt[vt];break}return dt?{x1:ht=dt.y6&&ht>dt.y6?dt.x3+(dt.x4-dt.x3)/(dt.y4-dt.y3)*(ht-dt.y3):dt.x2+(dt.x3-dt.x2)/(dt.y3-dt.y2)*(ht-dt.y2),x2:ht}:-1}function C(ht){for(var dt=0;dt<Lt.length;dt++)rt[dt].isDirty||(ht&&(rt[dt].textBlock.ctx=ht),rt[dt].textBlock.y+=rt[dt].textBlock._lineHeight/2,rt[dt].textBlock.render(!0),rt[dt].textBlock.y-=rt[dt].textBlock._lineHeight/2)}function S(ht){if(F.plotArea.layoutManager.reset(),ht.roundRect||oi(ht),F.title&&(F.title.dockInsidePlotArea||"center"===F.title.horizontalAlign&&"center"===F.title.verticalAlign)&&(F.title.ctx=ht,F.title.render()),F.subtitles)for(var dt=0;dt<F.subtitles.length;dt++){var vt=F.subtitles[dt];(vt.dockInsidePlotArea||"center"===vt.horizontalAlign&&"center"===vt.verticalAlign)&&(F.subtitles.ctx=ht,vt.render())}F.legend&&(F.legend.dockInsidePlotArea||"center"===F.legend.horizontalAlign&&"center"===F.legend.verticalAlign)&&(F.legend.ctx=ht,F.legend.setLayout(),F.legend.render()),ti.fNg&&ti.fNg(F)}var F=this;if(!(0>=t.dataSeriesIndexes.length)){for(var P=this.data[t.dataSeriesIndexes[0]],I=P.dataPoints,A=this.plotArea,z=.025*A.width,N=.01*A.width,Y=0,et=A.height-2*z,ct=Math.min(A.width-2*N,2.8*A.height),J=!1,Q=0;Q<I.length;Q++)!J&&typeof I[Q].indexLabel<"u"&&null!==I[Q].indexLabel&&0<I[Q].indexLabel.toString().length&&(J=!0),!J&&typeof I[Q].label<"u"&&null!==I[Q].label&&0<I[Q].label.toString().length&&(J=!0),(!J&&"function"==typeof P.indexLabelFormatter||"function"==typeof I[Q].indexLabelFormatter)&&(J=!0);J=J||typeof P.indexLabel<"u"&&null!==P.indexLabel&&0<P.indexLabel.toString().length,"inside"!==P.indexLabelPlacement&&J||(N=(A.width-.75*ct)/2),Q=A.x1+N;var $=A.x2-N,U=A.y1+z,O=A.y2-z,tt=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=P.length&&P.dataPoints&&P.visible&&0!==I.length){var lt,R,Gt=30*($-(t=75*ct/100))/100;"funnel"===P.type?(lt=E(P.options.neckHeight)?.35*et:P.neckHeight,R=E(P.options.neckWidth)?.25*t:P.neckWidth,lt="string"==typeof lt&&lt.match(/%$/)?(lt=parseInt(lt))*et/100:parseInt(lt),R="string"==typeof R&&R.match(/%$/)?(R=parseInt(R))*t/100:parseInt(R),lt>et?lt=et:0>=lt&&(lt=0),R>t?R=t-.5:0>=R&&(R=0)):"pyramid"===P.type&&(R=lt=0,P.reversed=!P.reversed);var qt=Q,de=Q+t,ae=P.reversed?O:U,At=(N=Q+t/2)-R/2,we=N+R/2,te=P.reversed?U+lt:O-lt,ee=P.reversed?U:O;R=P.valueRepresents=P.valueRepresents?P.valueRepresents:"height",Q=[],t=[];var li,Lt=[],Te=(N=[],U),Ee=(te-ae)/(At-qt),Mi=-Ee;if(-1!==(ct="area"===R?function o(){var Ct,Vt,ht=qt,dt=de,vt=At,Jt=we;Ct=U,Vt=O-lt,Jt=Math.abs((Vt-Ct)*(dt-ht+(Jt-vt))/2),Ct=Vt-Ct,Vt=(vt=we-At)*(Vt-O),Vt=Jt+(Vt=Math.abs(Vt)),Jt=[];for(var Ue=0,ve=0;ve<I.length;ve++){if(typeof I[ve].y>"u")return-1;I[ve].y="number"==typeof I[ve].y?I[ve].y:0,Ue+=Math.abs(I[ve].y)}if(0===Ue)return-1;var fe,Ve,xe=Jt[0]=0,Bt=0;for(dt-=ht,xe=!1,ve=0;ve<I.length;ve++)ht=Math.abs(I[ve].y)*Vt/Ue,xe?fe=0==Number(vt.toFixed(3))?0:ht/vt:0>(Ve=Ee*Ee*dt*dt-4*Math.abs(Ee)*ht)?(ht-=xe=(dt+(Ve=vt))*(Ct-Bt)/2,fe=Ct-Bt,Bt+=Ct-Bt,fe+=0==Ve?0:ht/Ve,Bt+=ht/Ve,xe=!0):(Ve=dt-2*(fe=(Math.abs(Ee)*dt-Math.sqrt(Ve))/2)/Math.abs(Ee),(Bt+=fe)>Ct&&(xe=(dt+(Ve=vt))*(Ct-(Bt-=fe))/2,fe=Ct-Bt,Bt+=Ct-Bt,fe+=(ht-=xe)/Ve,Bt+=ht/Ve,xe=!0),dt=Ve),Jt.push(fe);return Jt}():function d(){for(var ht=0,dt=[],vt=0;vt<I.length;vt++){if(typeof I[vt].y>"u")return-1;I[vt].y="number"==typeof I[vt].y?I[vt].y:0,ht+=Math.abs(I[vt].y)}if(0===ht)return-1;for(vt=dt[0]=0;vt<I.length;vt++)dt.push(Math.abs(I[vt].y)*et/ht);return dt}())){if(P.reversed)for(N.push(Te),R=ct.length-1;0<R;R--)N.push(Te+=ct[R]);else for(R=0;R<ct.length;R++)N.push(Te+=ct[R]);if(P.reversed)for(R=0;R<ct.length;R++)N[R]<te?(Q.push(At),t.push(we),li=R):(Q.push((N[R]-ae+Ee*qt)/Ee),t.push((N[R]-ae+Mi*de)/Mi));else for(R=0;R<ct.length;R++)N[R]<te?(Q.push((N[R]-ae+Ee*qt)/Ee),t.push((N[R]-ae+Mi*de)/Mi),li=R):(Q.push(At),t.push(we));for(R=0;R<ct.length-1;R++)Te=P.reversed?I[I.length-1-R].color?I[I.length-1-R].color:P._colorSet[(I.length-1-R)%P._colorSet.length]:I[R].color?I[R].color:P._colorSet[R%P._colorSet.length],Lt.push(R===li?{x1:Q[R],y1:N[R],x2:t[R],y2:N[R],x3:we,y3:te,x4:t[R+1],y4:N[R+1],x5:Q[R+1],y5:N[R+1],x6:At,y6:te,id:R,height:N[R+1]-N[R],color:Te}:{x1:Q[R],y1:N[R],x2:t[R],y2:N[R],x3:t[R+1],y3:N[R+1],x4:Q[R+1],y4:N[R+1],id:R,height:N[R+1]-N[R],color:Te});var si=2,rt=[],Hi=!1,Le=[],Xi=[];for(Q=!1,t=t=0,We(Le),R=0;R<I.length;R++)I[R].exploded&&(Q=!0,Le.push(P.reversed?I.length-1-R:R));if(tt.clearRect(A.x1,A.y1,A.width,A.height),tt.fillStyle=F.backgroundColor,tt.fillRect(A.x1,A.y1,A.width,A.height),J&&P.visible&&(function n(){if(P&&I){for(var ht,dt,vt,Jt,Ct,Vt,Ue,ve,Bt,fe,Ve,xe,Wt,jt,Ft,le=[],Ke=[],ni={percent:null,total:null},Ge=null,Qt=0;Qt<I.length;Qt++)Ft=h(Ft=typeof(Ft=Lt[Qt]).x5<"u"?(Ft.y2+Ft.y4)/2:(Ft.y2+Ft.y3)/2).x2+1,le[Qt]=$-Ft-Gt;Ft=.5*Gt,Qt=0;for(var Re=I.length-1;Qt<I.length||0<=Re;Qt++,Re--)ht=(dt=P.reversed?I[Re]:I[Qt]).color?dt.color:P.reversed?P._colorSet[(I.length-1-Qt)%P._colorSet.length]:P._colorSet[Qt%P._colorSet.length],vt=dt.indexLabelPlacement||P.indexLabelPlacement||"outside",jt=dt.indexLabelTextAlign||P.indexLabelTextAlign||"left",Jt=dt.indexLabelBackgroundColor||P.indexLabelBackgroundColor||(H?"transparent":null),Ct=dt.indexLabelFontColor||P.indexLabelFontColor||"#979797",Vt=E(dt.indexLabelFontSize)?P.indexLabelFontSize:dt.indexLabelFontSize,Ue=dt.indexLabelFontStyle||P.indexLabelFontStyle||"normal",ve=dt.indexLabelFontFamily||P.indexLabelFontFamily||"arial",Bt=dt.indexLabelFontWeight||P.indexLabelFontWeight||"normal",ht=dt.indexLabelLineColor||P.options.indexLabelLineColor||ht,fe="number"==typeof dt.indexLabelLineThickness?dt.indexLabelLineThickness:"number"==typeof P.indexLabelLineThickness?P.indexLabelLineThickness:2,Ve=dt.indexLabelLineDashType||P.indexLabelLineDashType||"solid",xe=typeof dt.indexLabelWrap<"u"?dt.indexLabelWrap:!(typeof P.indexLabelWrap<"u")||P.indexLabelWrap,F._eventManager.objectMap[Wt=P.dataPointIds[Qt]]={id:Wt,objectType:"dataPoint",dataPointIndex:Qt,dataSeriesIndex:0,funnelSection:Lt[P.reversed?I.length-1-Qt:Qt]},"inside"===P.indexLabelPlacement&&(le[Qt]=Qt!==li?P.reversed?Lt[Qt].x2-Lt[Qt].x1:Lt[Qt].x3-Lt[Qt].x4:Lt[Qt].x3-Lt[Qt].x6,20>le[Qt]&&(le[Qt]=Qt!==li&&P.reversed?Lt[Qt].x3-Lt[Qt].x4:Lt[Qt].x2-Lt[Qt].x1,le[Qt]/=2)),((Wt=dt.indexLabelMaxWidth?dt.indexLabelMaxWidth:P.options.indexLabelMaxWidth?P.indexLabelMaxWidth:le[Qt])>le[Qt]||0>Wt)&&(Wt=le[Qt]),Ke[Qt]="inside"===P.indexLabelPlacement&&(xe?Math.max(Lt[Qt].height,Vt):1.5*Vt),ni=F.getPercentAndTotal(P,dt),(P.indexLabelFormatter||dt.indexLabelFormatter)&&(Ge={chart:F.options,dataSeries:P,dataPoint:dt,total:ni.total,percent:ni.percent}),dt=dt.indexLabelFormatter?dt.indexLabelFormatter(Ge):dt.indexLabel?F.replaceKeywordsWithValue(dt.indexLabel,dt,P,Qt):P.indexLabelFormatter?P.indexLabelFormatter(Ge):P.indexLabel?F.replaceKeywordsWithValue(P.indexLabel,dt,P,Qt):dt.label?dt.label:"",0>=fe&&(fe=0),1e3>Wt&&1e3-Wt<Ft&&(Wt+=1e3-Wt),E(P.options.indexLabelMaxWidth)&&(P.indexLabelMaxWidth=E(P.indexLabelMaxWidth)?Wt:Math.max(Wt,P.indexLabelMaxWidth)),tt.roundRect||oi(tt),(vt=new ie(tt,{fontSize:Vt,fontFamily:ve,fontColor:Ct,fontStyle:Ue,fontWeight:Bt,horizontalAlign:vt,textAlign:jt,backgroundColor:Jt,maxWidth:Wt,maxHeight:!1===Ke[Qt]?xe?4.28571429*Vt:1.5*Vt:Ke[Qt],text:dt,padding:si,textBaseline:"middle"})).measureText(),vt.height=vt.height===2*vt.padding?0:vt.height,vt.width=vt.width===2*vt.padding?0:vt.width,rt.push({textBlock:vt,id:P.reversed?Re:Qt,isDirty:!1,lineColor:ht,lineThickness:fe,lineDashType:Ve,height:vt.height<vt.maxHeight?vt.height:vt.maxHeight,width:vt.width<vt.maxWidth?vt.width:vt.maxWidth})}}(),p(),"inside"!==P.indexLabelPlacement)){for(function l(){var ht,dt,vt,Jt,Ct,Vt=[];Ct=!1,vt=0;for(var Ue,ve=$-de-Gt/2,Bt=(ve=P.options.indexLabelMaxWidth?P.indexLabelMaxWidth>ve?ve:P.indexLabelMaxWidth:ve,rt.length-1);0<=Bt;Bt--)Ue=I[rt[Bt].id],Jt=(vt=rt[Bt]).textBlock,dt=(ht=v(Bt)<Lt.length?rt[v(Bt)]:null)?ht.textBlock:null,vt=vt.height,ht&&Jt.y+vt+si>dt.y&&(Ct=!0),((vt=Ue.indexLabelMaxWidth||ve)>ve||0>vt)&&(vt=ve),Vt.push(vt);if(Ct)for(Bt=rt.length-1;0<=Bt;Bt--)ht=Lt[Bt],rt[Bt].textBlock.maxWidth=Vt[Vt.length-(Bt+1)],rt[Bt].textBlock.measureText(),rt[Bt].textBlock.height=rt[Bt].textBlock.height===2*rt[Bt].textBlock.padding?0:rt[Bt].textBlock.height,rt[Bt].textBlock.width=rt[Bt].textBlock.width===2*rt[Bt].textBlock.padding?0:rt[Bt].textBlock.width,rt[Bt].textBlock.x=$-ve,Ct=rt[Bt].textBlock.width<rt[Bt].textBlock.maxWidth?rt[Bt].textBlock.width:rt[Bt].textBlock.maxWidth,rt[Bt].height=vt=rt[Bt].textBlock.height<rt[Bt].textBlock.maxHeight?rt[Bt].textBlock.height:rt[Bt].textBlock.maxHeight,rt[Bt].width=Ct,rt[Bt].textBlock.y=(vt=typeof ht.x5<"u"?(ht.y2+ht.y4)/2:(ht.y2+ht.y3)/2)-rt[Bt].height/2,P.reversed?(rt[Bt].textBlock.y+rt[Bt].height>ae+z&&(rt[Bt].textBlock.y=ae+z-rt[Bt].height),rt[Bt].textBlock.y<ee-z&&(rt[Bt].textBlock.y=ee-z)):(rt[Bt].textBlock.y<ae-z&&(rt[Bt].textBlock.y=ae-z),rt[Bt].textBlock.y+rt[Bt].height>ee+z&&(rt[Bt].textBlock.y=ee+z-rt[Bt].height))}(),function g(){function ht(Wt,jt){var Ft;if(0>Wt||Wt>=rt.length)return 0;var le,Ke=rt[Wt].textBlock;return 0>jt?(jt*=-1,(Ft=M(le=y(Wt),Wt))>=jt?(Ke.y-=jt,jt):0==Wt?(0<Ft&&(Ke.y-=Ft),Ft):(0<(Ft+=ht(le,-(jt-Ft)))&&(Ke.y-=Ft),Ft)):(Ft=M(Wt,le=v(Wt)))>=jt?(Ke.y+=jt,jt):Wt==Lt.length-1?(0<Ft&&(Ke.y+=Ft),Ft):(0<(Ft+=ht(le,jt-Ft))&&(Ke.y+=Ft),Ft)}function dt(){var Wt,jt,Ft,le,ni,Ke=0;le=(O-U+2*z)/fe,ni=fe;for(var Ge,Qt=1;Qt<ni;Qt++){Ft=Qt*le;for(var Re=rt.length-1;0<=Re;Re--)!rt[Re].isDirty&&rt[Re].textBlock.y<Ft&&rt[Re].textBlock.y+rt[Re].height>Ft&&!((Ge=v(Re))>=rt.length-1)&&rt[Re].textBlock.y+rt[Re].height+si>rt[Ge].textBlock.y&&(rt[Re].textBlock.y=rt[Re].textBlock.y+rt[Re].height-Ft>Ft-rt[Re].textBlock.y?Ft+1:Ft-rt[Re].height-1)}for(Ge=Lt.length-1;0<Ge;Ge--)if(!rt[Ge].isDirty){if(0>(Ft=y(Ge))&&rt[Ft=0].isDirty)break;if(rt[Ge].textBlock.y<rt[Ft].textBlock.y+rt[Ft].height){for(jt=jt||Ge,le=Ge,ni=0;rt[le].textBlock.y<rt[Ft].textBlock.y+rt[Ft].height+si;){if(Wt=Wt||rt[le].textBlock.y+rt[le].height,ni+=rt[le].height,ni+=si,0>=(le=Ft)){ni+=rt[le=0].height;break}if(0>(Ft=y(le))){ni+=rt[le=0].height;break}}if(le!=Ge){Ke=vt(Wt=ni-(Wt-=Ke=rt[le].textBlock.y),jt,le);break}}}return Ke}function vt(Wt,jt,Ft){var le=[],Ke=0,ni=0;for(Wt=Math.abs(Wt);Ft<=jt;Ft++)le.push(Lt[Ft]);for(le.sort(function(Ge,Qt){return Ge.height-Qt.height}),Ft=0;Ft<le.length&&(jt=le[Ft],Ke<Wt);Ft++)ni++,Ke+=rt[jt.id].height+si,rt[jt.id].textBlock.text="",rt[jt.id].indexLabelText="",rt[jt.id].isDirty=!0,rt[jt.id].textBlock.measureText();return ni}for(var Jt,Ct,Vt,Ue,ve,Bt,fe=1,Ve=0;Ve<2*fe;Ve++){for(var xe=rt.length-1;0<=xe&&(0<=y(xe)&&y(xe),Ue=(Vt=rt[xe]).textBlock,Bt=(ve=v(xe)<Lt.length?rt[v(xe)]:null)?ve.textBlock:null,Jt=+Vt.height.toFixed(6),Ct=+Ue.y.toFixed(6),!(!Vt.isDirty&&ve&&Ct+Jt+si>+Bt.y.toFixed(6)&&(Jt=Ue.y+Jt+si-Bt.y,Ct=ht(xe,-Jt),Ct<Jt&&(0<Ct&&(Jt-=Ct),Ct=ht(v(xe),Jt),Ct!=Jt))));xe--);dt()}}(),R=0;R<I.length;R++)rt[R].isDirty||(t=($-(t=rt[R].textBlock.x+rt[R].width))/2,0==R&&(Y=t),Y>t&&(Y=t));for(R=0;R<Lt.length;R++)Lt[R].x1+=Y,Lt[R].x2+=Y,Lt[R].x3+=Y,Lt[R].x4+=Y,Lt[R].x5&&(Lt[R].x5+=Y,Lt[R].x6+=Y),rt[R].textBlock.x+=Y}for(R=0;R<Lt.length;R++)Fe(tt,Y=Lt[R],P.fillOpacity),Xi.push(Y.y1);if(S(tt),J&&P.visible&&("inside"===P.indexLabelPlacement||F.animationEnabled||m(tt),F.animationEnabled||C()),!J)for(R=0;R<I.length;R++)F._eventManager.objectMap[Y=P.dataPointIds[R]]=t={id:Y,objectType:"dataPoint",dataPointIndex:R,dataSeriesIndex:0,funnelSection:Lt[P.reversed?I.length-1-R:R]};return(!F.animationEnabled&&Q||F.animationEnabled&&!F.animatedRender)&&_(F,-1,0),this.funnelPyramidClickHandler=function(Jt){var Ct=-1;!Hi&&!F.isAnimating&&(E(Jt.dataSeries.explodeOnClick)||Jt.dataSeries.explodeOnClick)&&0<=(Ct=P.reversed?I.length-1-Jt.dataPointIndex:Jt.dataPointIndex)&&(Jt=Ct,("funnel"===P.type||"pyramid"===P.type)&&(P.reversed?I[I.length-1-Jt].exploded=!I[I.length-1-Jt].exploded:I[Jt].exploded=!I[Jt].exploded),_(F,Ct,500))},{source:tt,dest:this.plotArea.ctx,animationCallback:function(Jt,Ct){St.fadeInAnimation(Jt,Ct),1<=Jt&&(_(F,-1,500),S(F.plotArea.ctx||F.ctx))},easingFunction:St.easing.easeInQuad,animationBase:0}}}}},B.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},B.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,B.prototype.set=function(t,d,o){o=typeof o>"u"||o,"options"===t?(this.options=d,o&&this.render()):B.base.set.call(this,t,d,o)},B.prototype.exportChart=function(t){var d=(t=typeof t>"u"?{}:t).format?t.format:"png",o=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+d);if((n=this.canvas)&&d&&o){o=o+"."+d;var n=n.toDataURL(t="image/"+d),l=!1,p=document.createElement("a");if(p.download=o,p.href=n,typeof Blob<"u"&&new Blob){for(var g=n.replace(/^data:[a-z\/]*;base64,/,""),M=(g=atob(g),new ArrayBuffer(g.length)),_=(M=new Uint8Array(M),0);_<g.length;_++)M[_]=g.charCodeAt(_);d=new Blob([M.buffer],{type:"image/"+d});try{window.navigator.msSaveBlob(d,o),l=!0}catch{p.dataset.downloadurl=[t,p.download,p.href].join(":"),p.href=window.URL.createObjectURL(d)}}if(!l)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),p.dispatchEvent?p.dispatchEvent(event):p.fireEvent&&p.fireEvent("onclick")}catch{(d=window.open()).document.write("<img src='"+n+"'></img><div>Please right click on the image and save it to your device</div>"),d.document.close()}}},B.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),d=document.createElement("iframe");d.setAttribute("class","canvasjs-chart-print-frame"),ue(d,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),d.style.height=this.height+"px",this._canvasJSContainer.appendChild(d);var o=this,n=d.contentWindow||d.contentDocument.document||d.contentDocument;n.document.open(),n.document.write('<!DOCTYPE HTML>\n<html><body><img src="'+t+'"/><body/></html>'),n.document.body&&n.document.body.style&&(n.document.body.style.margin="0px 0px 0px 0px",n.document.body.style.padding="0px 0px 0px 0px"),n.document.close(),setTimeout(function(){n.focus(),n.print(),setTimeout(function(){o._canvasJSContainer.removeChild(d)},1e3)},500)},B.prototype.getPercentAndTotal=function(t,d){var o=null,n=null,l=o=null;if(0<=t.type.indexOf("stacked"))n=0,(o=d.x.getTime?d.x.getTime():d.x)in t.plotUnit.yTotals&&(n=t.plotUnit.yTotals[o],o=t.plotUnit.yAbsTotals[o],l=isNaN(d.y)||0===o?0:d.y/o*100);else if("pie"===t.type||"doughnut"===t.type||"funnel"===t.type||"pyramid"===t.type){for(o=n=0;o<t.dataPoints.length;o++)isNaN(t.dataPoints[o].y)||(n+=t.dataPoints[o].y);l=isNaN(d.y)?0:d.y/n*100}return{percent:l,total:n}},B.prototype.replaceKeywordsWithValue=function(t,d,o,n,l){var p=this;if(l=typeof l>"u"?0:l,(0<=o.type.indexOf("stacked")||"pie"===o.type||"doughnut"===o.type||"funnel"===o.type||"pyramid"===o.type)&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var _="#percent",M="#total",g=this.getPercentAndTotal(o,d);M=isNaN(g.total)?M:g.total,_=isNaN(g.percent)?_:g.percent;do{if(g="",o.percentFormatString)g=o.percentFormatString;else{g="#,##0.";var f=Math.max(Math.ceil(Math.log(1/Math.abs(_))/Math.LN10),2);(isNaN(f)||!isFinite(f))&&(f=2);for(var m=0;m<f;m++)g+="#";o.percentFormatString=g}t=(t=t.replace("#percent",Ht(_,g,p._cultureInfo))).replace("#total",Ht(M,o.yValueFormatString?o.yValueFormatString:"#,##0.########",p._cultureInfo))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(y){if('"'===y[0]&&'"'===y[y.length-1]||"'"===y[0]&&"'"===y[y.length-1])return y.slice(1,y.length-1);y=(y=$e(y.slice(1,y.length-1))).replace("#index",l);var v=null;try{var h=y.match(/(.*?)\s*\[\s*(.*?)\s*\]/);h&&0<h.length&&(v=$e(h[2]),y=$e(h[1]))}catch{}if(h=null,"color"===y)return"waterfall"===o.type?d.color?d.color:0<d.y?o.risingColor:o.fallingColor:"error"===o.type?o.color?o.color:o._colorSet[v%o._colorSet.length]:d.color?d.color:o.color?o.color:o._colorSet[n%o._colorSet.length];if(d.hasOwnProperty(y))h=d;else{if(!o.hasOwnProperty(y))return"";h=o}return h=h[y],null!==v&&(h=h[v]),"x"===y?(o.axisX&&"dateTime"===o.axisX.valueType||"dateTime"===o.xValueType||d.x&&d.x.getTime)&&!o.axisX.logarithmic?Li(h,d.xValueFormatString?d.xValueFormatString:o.xValueFormatString?o.xValueFormatString:o.xValueFormatString=p.axisX&&p.axisX.autoValueFormatString?p.axisX.autoValueFormatString:"DD MMM YY",p._cultureInfo):Ht(h,d.xValueFormatString?d.xValueFormatString:o.xValueFormatString?o.xValueFormatString:o.xValueFormatString="#,##0.########",p._cultureInfo):"y"===y?Ht(h,d.yValueFormatString?d.yValueFormatString:o.yValueFormatString?o.yValueFormatString:o.yValueFormatString="#,##0.########",p._cultureInfo):"z"===y?Ht(h,d.zValueFormatString?d.zValueFormatString:o.zValueFormatString?o.zValueFormatString:o.zValueFormatString="#,##0.########",p._cultureInfo):h})},He(pt,Me),pt.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,d=t.layoutManager.getFreeSpace(),o=null,n=0,l=0,p=0,g=0,M=this.markerMargin=this.chart.options.legend&&!E(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var _=[],f=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",o=this.verticalAlign,p=this.maxWidth=null!==this.maxWidth?this.maxWidth:d.width,g=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*d.height):"center"===this.verticalAlign&&(this.orientation="vertical",("left"===this.horizontalAlign||"center"===this.horizontalAlign||"right"===this.horizontalAlign)&&(o=this.horizontalAlign),p=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*d.width,g=this.maxHeight=null!==this.maxHeight?this.maxHeight:d.height),this.errorMarkerColor=[];for(var m=0;m<this.dataSeries.length;m++){var y=this.dataSeries[m];if(y.dataPoints&&y.dataPoints.length){if("pie"!==y.type&&"doughnut"!==y.type&&"funnel"!==y.type&&"pyramid"!==y.type){var v=y.legendMarkerType=y.legendMarkerType?y.legendMarkerType:"line"!==y.type&&"stepLine"!==y.type&&"spline"!==y.type&&"scatter"!==y.type&&"bubble"!==y.type||!y.markerType?"error"===y.type&&y._linkedSeries?y._linkedSeries.legendMarkerType?y._linkedSeries.legendMarkerType:Mt.getDefaultLegendMarker(y._linkedSeries.type):Mt.getDefaultLegendMarker(y.type):y.markerType,h=y.legendText?y.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:y,dataPoint:null}):y.name,C=y.legendMarkerColor=y.legendMarkerColor?y.legendMarkerColor:y.markerColor?y.markerColor:"error"===y.type?E(y.whiskerColor)?y._colorSet[0]:y.whiskerColor:y._colorSet[0],S=y.markerSize||"line"!==y.type&&"stepLine"!==y.type&&"spline"!==y.type?.75*this.lineHeight:0,F=y.legendMarkerBorderColor?y.legendMarkerBorderColor:y.markerBorderColor,P=y.legendMarkerBorderThickness?y.legendMarkerBorderThickness:y.markerBorderThickness?Math.max(1,Math.round(.2*S)):0;"error"===y.type&&this.errorMarkerColor.push(C),h=y.legendText=this.chart.replaceKeywordsWithValue(h,y.dataPoints[0],y,m),_.push(v={markerType:v,markerColor:C,text:h,textBlock:null,chartType:y.type,markerSize:S,lineColor:y._colorSet[0],dataSeriesIndex:y.index,dataPointIndex:null,markerBorderColor:F,markerBorderThickness:P})}else for(var I=0;I<y.dataPoints.length;I++){var A=y.dataPoints[I];v=A.legendMarkerType?A.legendMarkerType:y.legendMarkerType?y.legendMarkerType:Mt.getDefaultLegendMarker(y.type),h=A.legendText?A.legendText:y.legendText?y.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:y,dataPoint:A}):A.name?A.name:"DataPoint: "+(I+1),C=A.legendMarkerColor?A.legendMarkerColor:y.legendMarkerColor?y.legendMarkerColor:A.color?A.color:y.color?y.color:y._colorSet[I%y._colorSet.length],S=.75*this.lineHeight,F=A.legendMarkerBorderColor?A.legendMarkerBorderColor:y.legendMarkerBorderColor?y.legendMarkerBorderColor:A.markerBorderColor?A.markerBorderColor:y.markerBorderColor,P=A.legendMarkerBorderThickness?A.legendMarkerBorderThickness:y.legendMarkerBorderThickness?y.legendMarkerBorderThickness:A.markerBorderThickness||y.markerBorderThickness?Math.max(1,Math.round(.2*S)):0,v={markerType:v,markerColor:C,text:h=this.chart.replaceKeywordsWithValue(h,A,y,I),textBlock:null,chartType:y.type,markerSize:S,dataSeriesIndex:m,dataPointIndex:I,markerBorderColor:F,markerBorderThickness:P},(A.showInLegend||y.showInLegend&&!1!==A.showInLegend)&&_.push(v)}E(y.legendText)&&(y.legendText=y.name)}}if(!0===this.reversed&&_.reverse(),0<_.length){for(y=null,h=A=I=0,A=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,p):this.itemMaxWidth=Math.min(this.itemWidth,p):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,p):this.itemMaxWidth=p,A=(this.itemMaxWidth?this.itemMaxWidth:A)-((S=0===S?.75*this.lineHeight:S)+M),m=0;m<_.length;m++)C=A,("line"===(v=_[m]).chartType||"spline"===v.chartType||"stepLine"===v.chartType)&&(C-=.2*this.lineHeight),0>=g||typeof g>"u"||0>=C||typeof C>"u"||("horizontal"===this.orientation?(v.textBlock=new ie(this.ctx,{x:0,y:0,maxWidth:C,maxHeight:this.itemWrap?g:this.lineHeight,angle:0,text:v.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),v.textBlock.measureText(),null!==this.itemWidth&&(v.textBlock.width=this.itemWidth-(S+M+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0))),(!y||y.width+Math.round(v.textBlock.width+S+M+(0===y.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0))>p)&&(f.push(y={items:[],width:0}),this.height+=h,h=0),h=Math.max(h,v.textBlock.height?v.textBlock.height:this.lineHeight),v.textBlock.x=y.width,v.textBlock.y=0,y.width+=Math.round(v.textBlock.width+S+M+(0===y.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0)),y.items.push(v),this.width=Math.max(y.width,this.width)):(v.textBlock=new ie(this.ctx,{x:0,y:0,maxWidth:A,maxHeight:!0===this.itemWrap?g:1.5*this.fontSize,angle:0,text:v.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),v.textBlock.measureText(),null!==this.itemWidth&&(v.textBlock.width=this.itemWidth-(S+M+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0))),this.height<g-this.lineHeight?f.push(y={items:[],width:0}):(y=f[I],I=(I+1)%f.length),y&&(this.height+=v.textBlock.height?v.textBlock.height:this.lineHeight,v.textBlock.x=y.width,v.textBlock.y=0,y.width+=Math.round(v.textBlock.width+S+M+(0===y.width?0:this.horizontalSpacing)+("line"===v.chartType||"spline"===v.chartType||"stepLine"===v.chartType?.2*this.lineHeight:0)),y.items.push(v),this.width=Math.max(y.width,this.width))));this.height=!1===this.itemWrap?f.length*this.lineHeight:this.height+h,this.height=Math.min(g,this.height),this.width=Math.min(p,this.width)}for("top"===this.verticalAlign?(l="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,n=d.y1):"center"===this.verticalAlign?(l="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,n=d.y1+d.height/2-this.height/2):"bottom"===this.verticalAlign&&(l="left"===this.horizontalAlign?d.x1:"right"===this.horizontalAlign?d.x2-this.width:d.x1+d.width/2-this.width/2,n=d.y2-this.height),this.items=_,m=0;m<this.items.length;m++)(v=_[m]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[v.id]={id:v.id,objectType:"legendItem",legendItemIndex:m,dataSeriesIndex:v.dataSeriesIndex,dataPointIndex:v.dataPointIndex};this.markerSize=S,this.rows=f,0<_.length&&t.layoutManager.registerSpace(o,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:l,y1:n,x2:l+this.width,y2:n+this.height}},pt.prototype.render=function(){var t=this.bounds.x1,d=this.bounds.y1,o=this.markerMargin,n=this.maxWidth,l=this.maxHeight,p=this.markerSize,g=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,d,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var M=0,_=0;_<g.length;_++){for(var f=g[_],m=0,y=0;y<f.items.length;y++){var v=f.items[y],h=v.textBlock.x+t+(0===y?.2*p:this.horizontalSpacing),C=d+M,S=h;if(this.chart.data[v.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,d,n,Math.max(l-l%this.lineHeight,0)),this.ctx.clip(),("line"===v.chartType||"stepLine"===v.chartType||"spline"===v.chartType)&&(this.ctx.strokeStyle=v.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(h-.1*this.lineHeight,C+this.lineHeight/2),this.ctx.lineTo(h+.85*this.lineHeight,C+this.lineHeight/2),this.ctx.stroke(),S-=.1*this.lineHeight),"error"===v.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=p/8,this.ctx.beginPath();var F=h-.08*this.lineHeight+.1*this.lineHeight,P=C+.15*this.lineHeight,I=.7*this.lineHeight,A=I+.02*this.lineHeight;this.ctx.moveTo(F,P),this.ctx.lineTo(F+I,P),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(F+I/2,P),this.ctx.lineTo(F+I/2,P+A),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(F,P+A),this.ctx.lineTo(F+I,P+A),this.ctx.stroke(),this.errorMarkerColor.shift()}me.drawMarker(h+p/2,C+this.lineHeight/2,this.ctx,v.markerType,"error"===v.chartType||"line"===v.chartType||"spline"===v.chartType?v.markerSize/2:v.markerSize,v.markerColor,v.markerBorderColor,v.markerBorderThickness),v.textBlock.x=h+o+p,("line"===v.chartType||"stepLine"===v.chartType||"spline"===v.chartType)&&(v.textBlock.x+=.1*this.lineHeight),v.textBlock.y=Math.round(C+this.lineHeight/2),v.textBlock.render(!0),this.ctx.restore(),m=0<y?Math.max(m,v.textBlock.height?v.textBlock.height:this.lineHeight):v.textBlock.height?v.textBlock.height:this.lineHeight,this.chart.data[v.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),h=Nt(v.id),this.ghostCtx.fillStyle=h,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(S,v.textBlock.y-this.lineHeight/2,v.textBlock.x+v.textBlock.width-S,v.textBlock.height?v.textBlock.height:this.lineHeight),v.x1=this.chart._eventManager.objectMap[v.id].x1=S,v.y1=this.chart._eventManager.objectMap[v.id].y1=v.textBlock.y-this.lineHeight/2,v.x2=this.chart._eventManager.objectMap[v.id].x2=v.textBlock.x+v.textBlock.width,v.y2=this.chart._eventManager.objectMap[v.id].y2=v.textBlock.y+(v.textBlock.height?v.textBlock.height:this.lineHeight)-this.lineHeight/2}M+=m}},He(Mt,Me),Mt.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t||"pyramid"===t?"none":("error"!==t&&window.console.log("Unknown Chart Type: "+t),null)},Mt.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t||"funnel"===t||"pyramid"===t?"triangle":"error"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},Mt.prototype.getDataPointAtX=function(t,d){if(!this.dataPoints||0===this.dataPoints.length)return null;var o={dataPoint:null,distance:1/0,index:NaN},n=null,l=0,p=0,g=1,M=1/0,_=0,f=0,m=0;for("none"!==this.chart.plotInfo.axisPlacement&&(m=this.axisX.logarithmic?1<(m=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/m*Math.log(t/this.dataPoints[0].x)|0,0),this.dataPoints.length):0:0<(m=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/m*(t-this.dataPoints[0].x)|0,0),this.dataPoints.length):0);;){if(0<=(p=0<g?m+l:m-l)&&p<this.dataPoints.length){n=this.dataPoints[p];var y=this.axisX.logarithmic?n.x>t?n.x/t:t/n.x:Math.abs(n.x-t);if(y<o.distance&&(o.dataPoint=n,o.distance=y,o.index=p),(n=y)<=M?M=n:0<g?_++:f++,1e3<_&&1e3<f)break}else if(0>m-l&&m+l>=this.dataPoints.length)break;-1===g?(l++,g=1):g=-1}return d||(o.dataPoint.x.getTime?o.dataPoint.x.getTime():o.dataPoint.x)!==(t.getTime?t.getTime():t)?d&&null!==o.dataPoint?o:null:o},Mt.prototype.getDataPointAtXY=function(t,d,o){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||d<this.chart.plotArea.y1||d>this.chart.plotArea.y2)return null;o=o||!1;var n=[],l=0,p=0,g=1,M=!1,_=1/0,f=0,m=0,v=0;for("none"!==this.chart.plotInfo.axisPlacement&&(v=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:d}),v=this.axisX.logarithmic?1<(y=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/y*Math.log(v/this.dataPoints[0].x)|0,0),this.dataPoints.length):0:0<(y=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/y*(v-this.dataPoints[0].x)|0,0),this.dataPoints.length):0);;){if(0<=(p=0<g?v+l:v-l)&&p<this.dataPoints.length){var y,h=this.dataPoints[p],C=null;if(y=this.chart._eventManager.objectMap[this.dataPointIds[p]]){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=y.x1&&t<=y.x2&&d>=y.y1&&d<=y.y2&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-t),Math.abs(y.x2-t),Math.abs(y.y1-d),Math.abs(y.y2-d))}),M=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var S=oe("markerSize",h,this)||4,F=o?20:S;(C=Math.sqrt(Math.pow(y.x1-t,2)+Math.pow(y.y1-d,2)))<=F&&n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:C}),(y=Math.abs(y.x1-t))<=_?_=y:0<g?f++:m++,C<=S/2&&(M=!0);break;case"rangeArea":case"rangeSplineArea":S=oe("markerSize",h,this)||4,F=o?20:S,(C=Math.min(Math.sqrt(Math.pow(y.x1-t,2)+Math.pow(y.y1-d,2)),Math.sqrt(Math.pow(y.x1-t,2)+Math.pow(y.y2-d,2))))<=F&&n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:C}),(y=Math.abs(y.x1-t))<=_?_=y:0<g?f++:m++,C<=S/2&&(M=!0);break;case"bubble":S=y.size,(C=Math.sqrt(Math.pow(y.x1-t,2)+Math.pow(y.y1-d,2)))<=S/2&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:C}),M=!0);break;case"pie":case"doughnut":S=y.center,F="doughnut"===this.type?y.percentInnerRadius*y.radius:0,(C=Math.sqrt(Math.pow(S.x-t,2)+Math.pow(S.y-d,2)))<y.radius&&C>F&&(0>(C=Math.atan2(d-S.y,t-S.x))&&(C+=2*Math.PI),C=Number(((C/Math.PI*180%360+360)%360).toFixed(12)),S=Number(((y.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(F=Number(((y.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<y.endAngle&&(F=360),S>=F&&0!==h.y&&!E(h.y)&&(F+=360,C<S&&(C+=360)),C>S&&C<F&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:0}),M=!0));break;case"funnel":case"pyramid":d>(C=y.funnelSection).y1&&d<C.y4&&(C.y6?d>C.y6?(p=C.x6+(C.x5-C.x6)/(C.y5-C.y6)*(d-C.y6),C=C.x3+(C.x4-C.x3)/(C.y4-C.y3)*(d-C.y3)):(p=C.x1+(C.x6-C.x1)/(C.y6-C.y1)*(d-C.y1),C=C.x2+(C.x3-C.x2)/(C.y3-C.y2)*(d-C.y2)):(p=C.x1+(C.x4-C.x1)/(C.y4-C.y1)*(d-C.y1),C=C.x2+(C.x3-C.x2)/(C.y3-C.y2)*(d-C.y2)),t>p&&t<C&&(n.push({dataPoint:h,dataPointIndex:y.dataPointIndex,dataSeries:this,distance:0}),M=!0));break;case"boxAndWhisker":(t>=y.x1-y.borderThickness/2&&t<=y.x2+y.borderThickness/2&&d>=y.y4-y.borderThickness/2&&d<=y.y1+y.borderThickness/2||Math.abs(y.x2-t+y.x1-t)<y.borderThickness&&d>=y.y1&&d<=y.y4)&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-t),Math.abs(y.x2-t),Math.abs(y.y2-d),Math.abs(y.y3-d))}),M=!0);break;case"candlestick":(t>=y.x1-y.borderThickness/2&&t<=y.x2+y.borderThickness/2&&d>=y.y2-y.borderThickness/2&&d<=y.y3+y.borderThickness/2||Math.abs(y.x2-t+y.x1-t)<y.borderThickness&&d>=y.y1&&d<=y.y4)&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-t),Math.abs(y.x2-t),Math.abs(y.y2-d),Math.abs(y.y3-d))}),M=!0);break;case"ohlc":(Math.abs(y.x2-t+y.x1-t)<y.borderThickness&&d>=y.y2&&d<=y.y3||t>=y.x1&&t<=(y.x2+y.x1)/2&&d>=y.y1-y.borderThickness/2&&d<=y.y1+y.borderThickness/2||t>=(y.x1+y.x2)/2&&t<=y.x2&&d>=y.y4-y.borderThickness/2&&d<=y.y4+y.borderThickness/2)&&(n.push({dataPoint:h,dataPointIndex:p,dataSeries:this,distance:Math.min(Math.abs(y.x1-t),Math.abs(y.x2-t),Math.abs(y.y2-d),Math.abs(y.y3-d))}),M=!0)}if(M||1e3<f&&1e3<m)break}}else if(0>v-l&&v+l>=this.dataPoints.length)break;-1===g?(l++,g=1):g=-1}for(t=null,d=0;d<n.length;d++)t?n[d].distance<=t.distance&&(t=n[d]):t=n[d];return t},Mt.prototype.getMarkerProperties=function(t,d,o,n){var l=this.dataPoints,p=l[t].markerColor?l[t].markerColor:this.markerColor?this.markerColor:l[t].color?l[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],g=l[t].markerBorderColor?l[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,M=E(l[t].markerBorderThickness)?this.markerBorderThickness?this.markerBorderThickness:null:l[t].markerBorderThickness;return{x:d,y:o,ctx:n,type:l[t].markerType?l[t].markerType:this.markerType,size:t=E(l[t].markerSize)?this.markerSize:l[t].markerSize,color:p,borderColor:g,borderThickness:M}},He(nt,Me),nt.prototype.createExtraLabelsForLog=function(t){if(!(5<(t=(t||0)+1))){var d=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(d/this.viewportMinimum)<this.noTicks-1){for(var o=nt.getNiceNumber((d-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),n=Math.ceil(this.viewportMinimum/o)*o;n<d;n+=o)n<this.viewportMinimum||this.logLabelValues.push(n);this.logLabelValues.sort(wi),this.createExtraLabelsForLog(t)}}},nt.prototype.createLabels=function(){var t,d,n,_,m,o=0,g=0,l=0,p=0,M=(g=0,g=this.interval,0),f=.6*this.chart.height;t=!1;var y=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],v=y.length?E(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(n=this.viewportMaximum,this.labels){t=Math.ceil(g);var h=!1;for(o=g=Math.ceil(this.intervalStartPosition);o<this.viewportMaximum;o+=t){if(!this.labels[o]){h=!1;break}h=!0}h&&(this.interval=t,this.intervalStartPosition=g)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),g=0,h=v;g<this.logLabelValues.length;g++)if((o=this.logLabelValues[g])<this.viewportMinimum)g++;else{for(;h<y.length&&o>y[h].endValue;h++);m=o,(t=h<y.length&&o>=y[h].startValue&&o<=y[h].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:m,label:this.labels[m]?this.labels[m]:null}):"axisX"===this.type&&this.labels[m]?this.labels[m]:Ht(m,this.valueFormatString,this.chart._cultureInfo),t=new ie(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:p,angle:this.labelAngle,text:this.prefix+t+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:m,textBlock:t,effectiveHeight:null}))}for(h=v,o=this.intervalStartPosition;o<=n;o=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?o*Math.pow(this.logarithmBase,this.interval):o+this.interval:(this.logarithmic&&this.equidistantInterval?o*Math.pow(this.logarithmBase,this.interval):o+this.interval).toFixed(12))){for(;h<y.length&&o>y[h].endValue;h++);m=o,(t=h<y.length&&o>=y[h].startValue&&o<=y[h].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:m,label:this.labels[m]?this.labels[m]:null}):"axisX"===this.type&&this.labels[m]?this.labels[m]:Ht(m,this.valueFormatString,this.chart._cultureInfo),t=new ie(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:p,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:m,textBlock:t,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),n=_t(new Date(this.viewportMaximum),this.interval,this.intervalType),h=v,o=this.intervalStartPosition;o<n;_t(o,g,this.intervalType)){for(t=o.getTime();h<y.length&&t>y[h].endValue;h++);m=t,(t=h<y.length&&t>=y[h].startValue&&t<=y[h].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(m),label:this.labels[m]?this.labels[m]:null}):"axisX"===this.type&&this.labels[m]?this.labels[m]:Li(m,this.valueFormatString,this.chart._cultureInfo),t=new ie(this.ctx,{x:0,y:0,maxWidth:l,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:p,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:m,textBlock:t,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(M=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Tt[this.intervalType+"Duration"]*this.interval,l=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width|0:this.options.labelMaxWidth,this.chart.panEnabled||(p=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height|0:1.5*this.labelFontSize)):("left"===this._position||"right"===this._position)&&(M=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Tt[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(l=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width|0:this.options.labelMaxWidth),p=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height|0:1.5*this.labelFontSize),g=0;g<this._labels.length;g++){(t=this._labels[g].textBlock).maxWidth=l,t.maxHeight=p;var C=t.measureText();_=C.height}if(n=[],v=y=0,this.labelAutoFit||this.options.labelAutoFit)if(E(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(l=.9*M|0,v=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,o=0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){var S;for(h=(t=this._labels[o].textBlock).text.split(" "),g=0;g<h.length;g++)m=h[g],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,(m=this.ctx.measureText(m)).width>v&&(S=o,v=m.width)}for(o=0,o=this.intervalStartPosition<this.viewportMinimum?1:0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){for(C=(t=this._labels[o].textBlock).measureText(),h=o+1;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){d=(d=this._labels[h].textBlock).measureText();break}if(n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),g=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(p-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),E(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:Math.min((g-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),g),m=(f-(_+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),E(this.options.labelWrap)){if(E(this.options.labelWrap))if(E(this.options.labelMaxWidth)){if(!E(d))if(g=C.width+d.width|0,h=this.labelFontSize,v<l)g-2*l>y&&(y=g-2*l,g>=2*l&&g<2.2*l?(this.sessionVariables.labelMaxWidth=l,E(this.options.labelFontSize)&&12<h&&(h=Math.floor(12/13*h),t.measureText()),this.sessionVariables.labelFontSize=E(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):g>=2.2*l&&g<2.8*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=m,this.sessionVariables.labelFontSize=h):g>=2.8*l&&g<3.2*l?(this.sessionVariables.labelMaxWidth=Math.max(l,v),this.sessionVariables.labelWrap=!0,E(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=E(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):g>=3.2*l&&g<3.6*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=m,this.sessionVariables.labelFontSize=this.labelFontSize):g>3.6*l&&g<5*l?(E(this.options.labelFontSize)&&12<h&&(h=Math.floor(12/13*h),t.measureText()),this.sessionVariables.labelFontSize=E(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=m):g>5*l&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelFontSize=h,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=this.labelAngle));else if(S===o&&(0===S&&v+this._labels[S+1].textBlock.measureText().width-2*l>y||S===this._labels.length-1&&v+this._labels[S-1].textBlock.measureText().width-2*l>y||0<S&&S<this._labels.length-1&&v+this._labels[S+1].textBlock.measureText().width-2*l>y&&v+this._labels[S-1].textBlock.measureText().width-2*l>y))y=0===S?v+this._labels[S+1].textBlock.measureText().width-2*l:v+this._labels[S-1].textBlock.measureText().width-2*l,this.sessionVariables.labelFontSize=E(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=m;else if(0===y)for(this.sessionVariables.labelFontSize=E(this.options.labelFontSize)?h:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,g=0;g<this._labels.length;g++)(t=this._labels[g].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),m),C=t.measureText(),g<this._labels.length-1&&((d=this._labels[h=g+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),m),d=d.measureText(),(C.width+d.width|0)>2*l&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<l?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=g):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=p)}else this.labelWrap?E(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,v),m),this.sessionVariables.labelWrap=this.labelWrap,d&&(C.width+d.width|0)>2*l&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle):E(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=l,d&&(C.width+d.width|0)>2*l&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=m)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:Math.min((g-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),g),m=0!=this.labelAngle?(f-(_+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):l,this.sessionVariables.labelMaxHeight=this.labelWrap?(f-m*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,E(this.options.labelWrap)?E(this.options.labelWrap)&&(this.labelWrap&&!E(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:m,this.sessionVariables.labelMaxHeight=p):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=m,this.sessionVariables.labelMaxHeight=g<.9*M?.9*M:g,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:m):(E(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:m,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=p)}for(g=0;g<this._labels.length;g++)(t=this._labels[g].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(o=0;o<this._labels.length;o++)(t=this._labels[o].textBlock).maxWidth=this.labelMaxWidth=E(this.options.labelMaxWidth)?E(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=l:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=E(this.options.labelFontSize)?E(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=E(this.options.labelAngle)?E(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=E(this.options.labelWrap)?E(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=E(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=p:this.sessionVariables.labelMaxHeight,t.measureText();else if("left"===this._position||"right"===this._position)if(l=E(this.options.labelMaxWidth)?.3*this.chart.width|0:this.options.labelMaxWidth,p=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height|0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=E(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,o=0;o<this._labels.length;o++)if(!this._labels[o].breaksLabelType){for(C=(t=this._labels[o].textBlock).measureText(),h=o+1;h<this._labels.length;h++)if(!this._labels[h].breaksLabelType){d=(d=this._labels[h].textBlock).measureText();break}n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),g=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(p-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),E(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?E(this.options.labelWrap)?E(this.options.labelWrap)&&(E(this.options.labelMaxWidth)?E(d)||(M=C.height+d.height|0)-2*p>v&&(v=M-2*p,M>=2*p&&M<2.4*p?(E(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelFontSize=E(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):M>=2.4*p&&M<2.8*p?(this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):M>=2.8*p&&M<3.2*p?(this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelWrap=!0,E(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=E(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=E(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):M>=3.2*p&&M<3.6*p?(this.sessionVariables.labelMaxHeight=g,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):M>3.6*p&&M<10*p?(E(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=E(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelAngle=E(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):M>10*p&&M<50*p&&(E(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=E(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelAngle=E(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=p,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap||this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=p):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?l:Math.min((g-p*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),p),E(this.options.labelWrap)?E(this.options.labelWrap)&&(this.labelWrap&&!E(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=g):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:g,E(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?p:g,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=l):(this.sessionVariables.labelMaxHeight=p,E(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(g=0;g<this._labels.length;g++)(t=this._labels[g].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(E(this.chart.stockChart)||this.chart.isNavigator||(this.sessionVariables.labelMaxHeight=p),o=0;o<this._labels.length;o++)(t=this._labels[o].textBlock).maxWidth=this.labelMaxWidth=E(this.options.labelMaxWidth)?E(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=l:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=E(this.options.labelFontSize)?E(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=E(this.options.labelAngle)?E(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=E(this.options.labelWrap)?E(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=E(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=p:this.sessionVariables.labelMaxHeight,t.measureText();for(o=0;o<this.stripLines.length;o++){var F;"outside"===(l=this.stripLines[o]).labelPlacement?(p=this.sessionVariables.labelMaxWidth,("bottom"===this._position||"top"===this._position)&&(E(l.options.labelWrap)&&!E(this.sessionVariables.stripLineLabelMaxHeight)?F=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=F=l.labelWrap?.8*this.chart.height|0:1.5*this.labelFontSize),("left"===this._position||"right"===this._position)&&(E(l.options.labelWrap)&&!E(this.sessionVariables.stripLineLabelMaxHeight)?F=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=F=l.labelWrap?.8*this.chart.width|0:1.5*this.labelFontSize),E(l.labelBackgroundColor)&&(l.labelBackgroundColor="#EEEEEE")):(p="bottom"===this._position||"top"===this._position?.9*this.chart.width|0:.9*this.chart.height|0,F=E(l.options.labelWrap)||l.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width|0:.8*this.chart.height|0:1.5*this.labelFontSize,E(l.labelBackgroundColor)&&(l.labelBackgroundColor=E(l.startValue)&&0!==l.startValue?H?"transparent":null:"#EEEEEE")),t=new ie(this.ctx,{x:0,y:0,backgroundColor:l.labelBackgroundColor,borderColor:l.labelBorderColor,borderThickness:l.labelBorderThickness,cornerRadius:l.labelCornerRadius,maxWidth:l.options.labelMaxWidth?l.options.labelMaxWidth:p,maxHeight:F,angle:this.labelAngle,text:l.labelFormatter?l.labelFormatter({chart:this.chart,axis:this,stripLine:l}):l.label,textAlign:this.labelTextAlign,fontSize:"outside"===l.labelPlacement?l.options.labelFontSize?l.labelFontSize:this.labelFontSize:l.labelFontSize,fontFamily:"outside"===l.labelPlacement?l.options.labelFontFamily?l.labelFontFamily:this.labelFontFamily:l.labelFontFamily,fontWeight:"outside"===l.labelPlacement?l.options.labelFontWeight?l.labelFontWeight:this.labelFontWeight:l.labelFontWeight,fontColor:l.labelFontColor||l.color,fontStyle:"outside"===l.labelPlacement?l.options.labelFontStyle?l.labelFontStyle:this.fontWeight:l.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:l.value,textBlock:t,effectiveHeight:null,stripLine:l})}},nt.prototype.createLabelsAndCalculateWidth=function(){var t=0,d=0;this._labels=[],this._stripLineLabels=[];var o=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(d=0;d<this._labels.length;d++){var n=(n=this._labels[d].textBlock).measureText(),l=0;t<(l=0===this.labelAngle?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+n.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(this.labelEffectiveWidth=t=l),this._labels[d].effectiveWidth=l}for(d=0;d<this._stripLineLabels.length;d++)"outside"===this._stripLineLabels[d].stripLine.labelPlacement&&this._stripLineLabels[d].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[d].stripLine.value<=this.viewportMaximum&&(n=(n=this._stripLineLabels[d].textBlock).measureText(),l=0===this.labelAngle?n.width:n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+n.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),"inside"===this.tickPlacement&&(l+=this.tickLength),"inside"===this.labelPlacement&&(t+=0<this._index?l:0),t<l&&(t=l),this.stripLineLabelEffectiveWidth=this._stripLineLabels[d].effectiveWidth=l)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+("inside"===this.tickPlacement?0<this._index?this.tickLength:0:this.tickLength)+o},nt.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var d,o=0,n=this.chart.isNavigator?0:5;if("bottom"===this._position||"top"===this._position){if(this.createLabels(),"inside"!=this.labelPlacement||"inside"===this.labelPlacement&&0<this._index)for(o=0;o<this._labels.length;o++){d=(d=this._labels[o].textBlock).measureText();var l=0;t<(l=0===this.labelAngle?d.height:d.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+d.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(this.labelEffectiveHeight=t=l),this._labels[o].effectiveHeight=l}for(o=0;o<this._stripLineLabels.length;o++)"outside"===this._stripLineLabels[o].stripLine.labelPlacement&&this._stripLineLabels[o].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[o].stripLine.value<=this.viewportMaximum&&(d=(d=this._stripLineLabels[o].textBlock).measureText(),l=0===this.labelAngle?d.height:d.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+d.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),"inside"===this.tickPlacement&&(l+=this.tickLength),"inside"===this.labelPlacement&&(t+=0<this._index?l:0),t<l&&(t=l),this.stripLineLabelEffectiveHeight=this._stripLineLabels[o].effectiveHeight=l)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+("inside"===this.tickPlacement?0<this._index?this.tickLength:0:this.tickLength)+n},nt.setLayout=function(t,d,o,n,l,p){var g,M,_,f,m=t[0]?t[0].chart:d[0].chart,y=m.isNavigator?0:10,v=m._axes;if(t&&0<t.length)for(var h=0;h<t.length;h++)t[h]&&t[h].calculateAxisParameters();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateAxisParameters();if(o&&0<o.length)for(h=0;h<o.length;h++)o[h].calculateAxisParameters();if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].calculateAxisParameters();for(h=0;h<v.length;h++)if(v[h]&&v[h].scaleBreaks&&v[h].scaleBreaks._appliedBreaks.length)for(var C=v[h].scaleBreaks._appliedBreaks,S=0;S<C.length&&!(C[S].startValue>v[h].viewportMaximum);S++)C[S].endValue<v[h].viewportMinimum||(E(v[h].scaleBreaks.firstBreakIndex)&&(v[h].scaleBreaks.firstBreakIndex=S),C[S].startValue>=v[h].viewPortMinimum&&(v[h].scaleBreaks.lastBreakIndex=S));var Y,et,J,Q,$,F=S=0,P=0,I=0,A=0,z=0,N=0,ct=M=0;for(C=J=Q=$=!1,h=0;h<v.length;h++)v[h]&&v[h].title&&(v[h]._titleTextBlock=new ie(v[h].ctx,{text:v[h].title,horizontalAlign:"center",fontSize:v[h].titleFontSize,fontFamily:v[h].titleFontFamily,fontWeight:v[h].titleFontWeight,fontColor:v[h].titleFontColor,fontStyle:v[h].titleFontStyle,borderColor:v[h].titleBorderColor,borderThickness:v[h].titleBorderThickness,backgroundColor:v[h].titleBackgroundColor,cornerRadius:v[h].titleCornerRadius,textBaseline:"middle"}));for(h=0;h<v.length;h++)if(v[h].title)switch(v[h]._position){case"left":v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.height,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.width:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=-90;break;case"right":v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.height,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.width:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=90;break;default:v[h]._titleTextBlock.maxWidth=v[h].titleMaxWidth||p.width,v[h]._titleTextBlock.maxHeight=v[h].titleWrap?.8*p.height:1.5*v[h].titleFontSize,v[h]._titleTextBlock.angle=0}if("normal"===l){I=[],A=[],z=[],N=[];for(var U=[],O=[],tt=[],lt=[];4>S;){var R=0,Gt=0,qt=0,de=0,ae=l=0,At=0,we=0,te=0,ee=0,Lt=0,Te=0;if(o&&0<o.length)for(z=[],h=Lt=0;h<o.length;h++)z.push(Math.ceil(o[h]?o[h].createLabelsAndCalculateWidth():0)),Lt+=z[h],At+=o[h]&&!m.isNavigator?o[h].margin:0;else z.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateWidth():0));if(tt.push(z),n&&0<n.length)for(N=[],h=Te=0;h<n.length;h++)N.push(Math.ceil(n[h]?n[h].createLabelsAndCalculateWidth():0)),Te+=N[h],we+=n[h]?n[h].margin:0;else N.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(lt.push(N),g=Math.round(p.x1+Lt+At),_=Math.round(p.x2-Te-we>m.width-y?m.width-y:p.x2-Te-we),t&&0<t.length)for(I=[],h=te=0;h<t.length;h++)t[h]&&(t[h].lineCoordinates={}),t[h].lineCoordinates.width=Math.abs(_-g),t[h].title&&(t[h]._titleTextBlock.maxWidth=0<t[h].titleMaxWidth&&t[h].titleMaxWidth<t[h].lineCoordinates.width?t[h].titleMaxWidth:t[h].lineCoordinates.width),I.push(Math.ceil(t[h]?t[h].createLabelsAndCalculateHeight():0)),te+=I[h],l+=t[h]&&!m.isNavigator?t[h].margin:0;else I.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(U.push(I),d&&0<d.length)for(A=[],h=ee=0;h<d.length;h++)d[h]&&(d[h].lineCoordinates={}),d[h].lineCoordinates.width=Math.abs(_-g),d[h].title&&(d[h]._titleTextBlock.maxWidth=0<d[h].titleMaxWidth&&d[h].titleMaxWidth<d[h].lineCoordinates.width?d[h].titleMaxWidth:d[h].lineCoordinates.width),A.push(Math.ceil(d[h]?d[h].createLabelsAndCalculateHeight():0)),ee+=A[h],ae+=d[h]&&!m.isNavigator?d[h].margin:0;else A.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateHeight():0));if(O.push(A),t&&0<t.length)for(h=0;h<t.length;h++)t[h]&&(t[h].lineCoordinates.x1=g,_=Math.round(p.x2-Te-we>m.width-y?m.width-y:p.x2-Te-we),t[h]._labels&&1<t[h]._labels.length&&(M=f=0,M="dateTime"===t[h].valueType?t[h]._labels[t[h]._labels.length-2]:t[h]._labels[t[h]._labels.length-1],F=(f=t[h]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),P=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle))),!t[h]||!t[h].labelAutoFit||E(Y)||E(et)||m.isNavigator||m.stockChart||(M=0,0<t[h].labelAngle?et+P>_&&(M+=0<t[h].labelAngle?et+P-_-Te:0):0>t[h].labelAngle?Y-F<g&&Y-F<t[h].viewportMinimum&&(ct=g-(At+t[h].tickLength+z+Y-F+t[h].labelFontSize/2)):0===t[h].labelAngle&&(et+P>_&&(M=et+P/2-_-Te),Y-F<g&&Y-F<t[h].viewportMinimum&&(ct=g-At-t[h].tickLength-z-Y+F/2)),t[h].viewportMaximum===t[h].maximum&&t[h].viewportMinimum===t[h].minimum&&0<t[h].labelAngle&&0<M?_-=M:t[h].viewportMaximum===t[h].maximum&&t[h].viewportMinimum===t[h].minimum&&0>t[h].labelAngle&&0<ct?g+=ct:t[h].viewportMaximum===t[h].maximum&&t[h].viewportMinimum===t[h].minimum&&0===t[h].labelAngle&&(0<ct&&(g+=ct),0<M&&(_-=M))),m.panEnabled?te=E(m.sessionVariables.axisX.height)||m.stockChart?m.sessionVariables.axisX.height=te:m.sessionVariables.axisX.height:m.sessionVariables.axisX.height=te,M=Math.round(p.y2-te-l+R),f=Math.round(p.y2),t[h].lineCoordinates.x2=_,t[h].lineCoordinates.width=_-g,t[h].lineCoordinates.y1=M,t[h].lineCoordinates.y2=M,"inside"===t[h].labelPlacement&&0<h&&(t[h].lineCoordinates.y1=t[h-1].lineCoordinates.y2+R+(t[h].labelEffectiveHeight||0),t[h].lineCoordinates.y2=t[h].lineCoordinates.y1+t[h].lineThickness/2),"inside"===t[h].tickPlacement&&0<h&&(t[h].lineCoordinates.y1+=t[h].tickLength,t[h].lineCoordinates.y2=t[h].lineCoordinates.y1+t[h].lineThickness/2),t[h].bounds={x1:g,y1:M,x2:_,y2:f-(te+l-I[h]-R),width:_-g},t[h].bounds.height=t[h].bounds.y2-t[h].bounds.y1),R+=I[h]+t[h].margin;if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].lineCoordinates.x1=Math.round(p.x1+Lt+At),d[h].lineCoordinates.x2=Math.round(p.x2-Te-we>m.width-y?m.width-y:p.x2-Te-we),d[h].lineCoordinates.width=Math.abs(_-g),d[h]._labels&&1<d[h]._labels.length&&(M="dateTime"===d[h].valueType?d[h]._labels[d[h]._labels.length-2]:d[h]._labels[d[h]._labels.length-1],F=(f=d[h]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),P=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle))),m.panEnabled?ee=E(m.sessionVariables.axisX2.height)||m.stockChart?m.sessionVariables.axisX2.height=ee:m.sessionVariables.axisX2.height:m.sessionVariables.axisX2.height=ee,M=Math.round(p.y1),f=d[h].lineCoordinates.y1=M+ee+ae-Gt,d[h].lineCoordinates.y2=M,"inside"===d[h].labelPlacement&&0<h&&(d[h].lineCoordinates.y1=d[h-1].lineCoordinates.y1-Gt-(d[h].labelEffectiveHeight||0)),"inside"===d[h].tickPlacement&&0<h&&(d[h].lineCoordinates.y1-=d[h].tickLength),d[h].bounds={x1:g,y1:M+(ee+ae-A[h]-Gt),x2:_,y2:f,width:_-g},d[h].bounds.height=d[h].bounds.y2-d[h].bounds.y1,Gt+=A[h]+d[h].margin;if(o&&0<o.length)for(h=0;h<o.length;h++)At=m.isNavigator?0:10,o[h]&&(g=Math.round(t[0]?t[0].lineCoordinates.x1:d[0].lineCoordinates.x1),At=o[h]._labels&&0<o[h]._labels.length?o[h]._labels[o[h]._labels.length-1].textBlock.height/2:y,M=Math.round(p.y1+ee+ae<Math.max(At,y)?Math.max(At,y):p.y1+ee+ae),_=Math.round(t[0]?t[0].lineCoordinates.x1:d[0].lineCoordinates.x1),At=0<t.length?0:o[h]._labels&&0<o[h]._labels.length?o[h]._labels[0].textBlock.height/2:y,f=Math.round(p.y2-te-l-At),o[h].lineCoordinates={x1:g-qt,y1:M,x2:_-qt,y2:f,height:Math.abs(f-M)},"inside"===o[h].labelPlacement&&0<h&&(o[h].lineCoordinates.x1=o[h-1].lineCoordinates.x1-qt-(o[h].labelEffectiveWidth||0),o[h].lineCoordinates.x2=o[h].lineCoordinates.x1+o[h].lineThickness/2),"inside"===o[h].tickPlacement&&0<h&&(o[h].lineCoordinates.x1-=o[h].tickLength,o[h].lineCoordinates.x2=o[h].lineCoordinates.x1+o[h].lineThickness/2),o[h].bounds={x1:g-(z[h]+qt),y1:M,x2:_-qt,y2:f,height:f-M},o[h].bounds.width=o[h].bounds.x2-o[h].bounds.x1,o[h].title&&(o[h]._titleTextBlock.maxWidth=0<o[h].titleMaxWidth&&o[h].titleMaxWidth<o[h].lineCoordinates.height?o[h].titleMaxWidth:o[h].lineCoordinates.height),qt+=z[h]+o[h].margin);if(n&&0<n.length)for(h=0;h<n.length;h++)n[h]&&(g=Math.round(t[0]?t[0].lineCoordinates.x2:d[0].lineCoordinates.x2),_=Math.round(g),At=n[h]._labels&&0<n[h]._labels.length?n[h]._labels[n[h]._labels.length-1].textBlock.height/2:0,M=Math.round(p.y1+ee+ae<Math.max(At,y)?Math.max(At,y):p.y1+ee+ae),At=0<t.length?0:n[h]._labels&&0<n[h]._labels.length?n[h]._labels[0].textBlock.height/2:0,f=Math.round(p.y2-(te+l+At)),n[h].lineCoordinates={x1:g+de,y1:M,x2:g+de,y2:f,height:Math.abs(f-M)},"inside"===n[h].labelPlacement&&0<h&&(n[h].lineCoordinates.x1=n[h-1].lineCoordinates.x2+de+(n[h].labelEffectiveWidth||0),n[h].lineCoordinates.x2=n[h].lineCoordinates.x1+n[h].lineThickness/2),"inside"===n[h].tickPlacement&&0<h&&(n[h].lineCoordinates.x1+=n[h].tickLength,n[h].lineCoordinates.x2=n[h].lineCoordinates.x1+n[h].lineThickness/2),n[h].bounds={x1:g+de,y1:M,x2:_+(N[h]+de),y2:f,height:f-M},n[h].bounds.width=n[h].bounds.x2-n[h].bounds.x1,n[h].title&&(n[h]._titleTextBlock.maxWidth=0<n[h].titleMaxWidth&&n[h].titleMaxWidth<n[h].lineCoordinates.height?n[h].titleMaxWidth:n[h].lineCoordinates.height),de+=N[h]+n[h].margin);if(t&&0<t.length)for(h=0;h<t.length;h++)t[h]&&(t[h].calculateValueToPixelConversionParameters(),t[h].calculateBreaksSizeInValues(),t[h]._labels&&1<t[h]._labels.length&&(Y=(t[h].logarithmic?Math.log(t[h]._labels[1].position/t[h].viewportMinimum)/t[h].conversionParameters.lnLogarithmBase:t[h]._labels[1].position-t[h].viewportMinimum)*Math.abs(t[h].conversionParameters.pixelPerUnit)+t[h].lineCoordinates.x1,g=t[h].getApparentDifference(t[h].viewportMinimum,g=t[h]._labels[t[h]._labels.length-("dateTime"===t[h].valueType?2:1)].position),et=t[h].logarithmic?(1<g?Math.log(g)/t[h].conversionParameters.lnLogarithmBase*Math.abs(t[h].conversionParameters.pixelPerUnit):0)+t[h].lineCoordinates.x1:(0<g?g*Math.abs(t[h].conversionParameters.pixelPerUnit):0)+t[h].lineCoordinates.x1));if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateValueToPixelConversionParameters(),d[h].calculateBreaksSizeInValues(),d[h]._labels&&1<d[h]._labels.length&&(Y=(d[h].logarithmic?Math.log(d[h]._labels[1].position/d[h].viewportMinimum)/d[h].conversionParameters.lnLogarithmBase:d[h]._labels[1].position-d[h].viewportMinimum)*Math.abs(d[h].conversionParameters.pixelPerUnit)+d[h].lineCoordinates.x1,g=d[h].getApparentDifference(d[h].viewportMinimum,g=d[h]._labels[d[h]._labels.length-("dateTime"===d[h].valueType?2:1)].position),et=d[h].logarithmic?(1<g?Math.log(g)/d[h].conversionParameters.lnLogarithmBase*Math.abs(d[h].conversionParameters.pixelPerUnit):0)+d[h].lineCoordinates.x1:(0<g?g*Math.abs(d[h].conversionParameters.pixelPerUnit):0)+d[h].lineCoordinates.x1);for(h=0;h<v.length;h++)"axisY"===v[h].type&&(v[h].calculateValueToPixelConversionParameters(),v[h].calculateBreaksSizeInValues());if(0<S){if(t&&0<t.length)for(h=0;h<t.length;h++)C=U[S-1][h]===U[S][h];else C=!0;if(d&&0<d.length)for(h=0;h<d.length;h++)J=O[S-1][h]===O[S][h];else J=!0;if(o&&0<o.length)for(h=0;h<o.length;h++)Q=tt[S-1][h]===tt[S][h];else Q=!0;if(n&&0<n.length)for(h=0;h<n.length;h++)$=lt[S-1][h]===lt[S][h];else $=!0}if(C&&J&&Q&&$)break;S++}if(t&&0<t.length)for(h=0;h<t.length;h++)t[h].calculateStripLinesThicknessInValues(),t[h].calculateBreaksInPixels();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateStripLinesThicknessInValues(),d[h].calculateBreaksInPixels();if(o&&0<o.length)for(h=0;h<o.length;h++)o[h].calculateStripLinesThicknessInValues(),o[h].calculateBreaksInPixels();if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].calculateStripLinesThicknessInValues(),n[h].calculateBreaksInPixels()}else{for(y=[],Y=[],ct=[],F=[],et=[],P=[],U=[],O=[];4>S;){if(te=de=qt=we=At=ae=l=lt=tt=R=ee=0,t&&0<t.length)for(ct=[],h=de=0;h<t.length;h++)ct.push(Math.ceil(t[h]?t[h].createLabelsAndCalculateWidth():0)),de+=ct[h],l+=t[h]&&!m.isNavigator?t[h].margin:0;else ct.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(U.push(ct),d&&0<d.length)for(F=[],h=te=0;h<d.length;h++)F.push(Math.ceil(d[h]?d[h].createLabelsAndCalculateWidth():0)),te+=F[h],ae+=d[h]?d[h].margin:0;else F.push(Math.ceil(d[0]?d[0].createLabelsAndCalculateWidth():0));if(O.push(F),o&&0<o.length)for(h=0;h<o.length;h++)o[h].lineCoordinates={},g=Math.round(p.x1+de+l),_=Math.round(p.x2-te-ae>m.width-10?m.width-10:p.x2-te-ae),o[h].labelAutoFit&&!E(I)&&(0<!t.length&&(g=0>o[h].labelAngle?Math.max(g,I):0===o[h].labelAngle?Math.max(g,I/2):g),0<!d.length&&(_=0<o[h].labelAngle||0===o[h].labelAngle?_-A/2:_)),o[h].lineCoordinates.x1=g,o[h].lineCoordinates.x2=_,o[h].lineCoordinates.width=Math.abs(_-g),o[h].title&&(o[h]._titleTextBlock.maxWidth=0<o[h].titleMaxWidth&&o[h].titleMaxWidth<o[h].lineCoordinates.width?o[h].titleMaxWidth:o[h].lineCoordinates.width);if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].lineCoordinates={},g=Math.round(p.x1+de+l),_=Math.round(p.x2-te-ae>n[h].chart.width-10?n[h].chart.width-10:p.x2-te-ae),n[h]&&n[h].labelAutoFit&&!E(z)&&(0<!t.length&&(g=0<n[h].labelAngle?Math.max(g,z):0===n[h].labelAngle?Math.max(g,z/2):g),0<!d.length&&(_-=N/2)),n[h].lineCoordinates.x1=g,n[h].lineCoordinates.x2=_,n[h].lineCoordinates.width=Math.abs(_-g),n[h].title&&(n[h]._titleTextBlock.maxWidth=0<n[h].titleMaxWidth&&n[h].titleMaxWidth<n[h].lineCoordinates.width?n[h].titleMaxWidth:n[h].lineCoordinates.width);if(o&&0<o.length)for(y=[],h=qt=0;h<o.length;h++)y.push(Math.ceil(o[h]?o[h].createLabelsAndCalculateHeight():0)),qt+=y[h]+o[h].margin,At+=o[h].margin;else y.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateHeight():0));if(et.push(y),n&&0<n.length)for(Y=[],h=0;h<n.length;h++)Y.push(Math.ceil(n[h]?n[h].createLabelsAndCalculateHeight():0)),we+=n[h].margin;else Y.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(P.push(Y),o&&0<o.length)for(h=0;h<o.length;h++)0<o[h]._labels.length&&(M=o[h]._labels[o[h]._labels.length-1],I=(f=o[h]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),A=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)));if(n&&0<n.length)for(h=0;h<n.length;h++)n[h]&&0<n[h]._labels.length&&(M=n[h]._labels[n[h]._labels.length-1],z=(f=n[h]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(f.textBlock.angle))+(f.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(f.textBlock.angle)),N=M.textBlock.width*Math.cos(Math.PI/180*Math.abs(M.textBlock.angle))+(M.textBlock.height-M.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(M.textBlock.angle)));if(m.panEnabled)for(h=0;h<o.length;h++)y[h]=E(m.sessionVariables.axisY[h].height)?m.sessionVariables.axisY[h].height=y[h]:m.sessionVariables.axisY[h].height;else for(h=0;h<o.length;h++)m.sessionVariables.axisY[h].height=y[h];if(o&&0<o.length)for(h=o.length-1;0<=h;h--)M=Math.round(p.y2),f=Math.round(p.y2>o[h].chart.height?o[h].chart.height:p.y2),o[h].lineCoordinates.y1=M-(y[h]+o[h].margin+ee),o[h].lineCoordinates.y2=M-(y[h]+o[h].margin+ee),"inside"===o[h].labelPlacement&&0<h&&(o[h].lineCoordinates.y1=o[h].lineCoordinates.y1+y[h]-(o[h]._titleTextBlock?o[h]._titleTextBlock.height:0)-o[h].tickLength-(o[h].stripLineLabelEffectiveHeight||0)-5,o[h].lineCoordinates.y2=o[h].lineCoordinates.y1+o[h].lineThickness/2),"inside"===o[h].tickPlacement&&0<h&&(o[h].lineCoordinates.y1+=o[h].tickLength,o[h].lineCoordinates.y2=o[h].lineCoordinates.y1+o[h].lineThickness/2),o[h].bounds={x1:g,y1:M-(y[h]+ee+o[h].margin),x2:_,y2:f-(ee+o[h].margin),width:_-g,height:y[h]},o[h].title&&(o[h]._titleTextBlock.maxWidth=0<o[h].titleMaxWidth&&o[h].titleMaxWidth<o[h].lineCoordinates.width?o[h].titleMaxWidth:o[h].lineCoordinates.width),ee+=y[h]+o[h].margin;if(n&&0<n.length)for(h=n.length-1;0<=h;h--)n[h]&&(M=Math.round(p.y1),f=Math.round(p.y1+(Y[h]+n[h].margin+R)),n[h].lineCoordinates.y1=f,n[h].lineCoordinates.y2=f,"inside"===n[h].labelPlacement&&0<h&&(n[h].lineCoordinates.y1=f-Y[h]+(n[h]._titleTextBlock?n[h]._titleTextBlock.height:0)+n[h].tickLength+(n[h].stripLineLabelEffectiveHeight||0),n[h].lineCoordinates.y2=n[h].lineCoordinates.y1-n[h].lineThickness/2),"inside"===n[h].tickPlacement&&0<h&&(n[h].lineCoordinates.y1-=n[h].tickLength,n[h].lineCoordinates.y2=n[h].lineCoordinates.y1-n[h].lineThickness/2),n[h].bounds={x1:g,y1:M+(n[h].margin+R),x2:_,y2:f,width:_-g},n[h].bounds.height=n[h].bounds.y2-n[h].bounds.y1,n[h].title&&(n[h]._titleTextBlock.maxWidth=0<n[h].titleMaxWidth&&n[h].titleMaxWidth<n[h].lineCoordinates.width?n[h].titleMaxWidth:n[h].lineCoordinates.width),R+=Y[h]+n[h].margin);if(t&&0<t.length)for(h=0;h<t.length;h++){if(At=t[h]._labels&&0<t[h]._labels.length?t[h]._labels[0].textBlock.fontSize/2:0,g=Math.round(p.x1+l),M=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y2:p.y1<Math.max(At,10)?Math.max(At,10):p.y1):p.y1<Math.max(At,10)?Math.max(At,10):p.y1,_=Math.round(p.x1+de+l),f=o&&0<o.length?Math.round(o[0]?o[0].lineCoordinates.y1:p.y2-qt>m.height-Math.max(At,10)?m.height-Math.max(At,10):p.y2-qt):p.y2>m.height-Math.max(At,10)?m.height-Math.max(At,10):p.y2,o&&0<o.length)for(At=0;At<o.length;At++)o[At]&&o[At].labelAutoFit&&(_=o[At].lineCoordinates.x1,g=0>o[At].labelAngle||0===o[At].labelAngle?_-de:g);if(n&&0<n.length)for(At=0;At<n.length;At++)n[At]&&n[At].labelAutoFit&&(g=(_=n[At].lineCoordinates.x1)-de);t[h].lineCoordinates={x1:_-tt,y1:M,x2:_-tt,y2:f,height:Math.abs(f-M)},"inside"===t[h].labelPlacement&&0<h&&(t[h].lineCoordinates.x1=t[h].lineCoordinates.x1-(ct[h]-(t[h]._titleTextBlock?t[h]._titleTextBlock.height:0))+t[h].tickLength+(t[h].stripLineLabelEffectiveWidth||0),t[h].lineCoordinates.x2=t[h].lineCoordinates.x1+t[h].lineThickness/2),"inside"===t[h].tickPlacement&&0<h&&(t[h].lineCoordinates.x1-=t[h].tickLength,t[h].lineCoordinates.x2=t[h].lineCoordinates.x1+t[h].lineThickness/2),t[h].bounds={x1:_-(ct[h]+tt),y1:M,x2:_-tt,y2:f,height:f-M},t[h].bounds.width=t[h].bounds.x2-t[h].bounds.x1,t[h].title&&(t[h]._titleTextBlock.maxWidth=0<t[h].titleMaxWidth&&t[h].titleMaxWidth<t[h].lineCoordinates.height?t[h].titleMaxWidth:t[h].lineCoordinates.height),t[h].calculateValueToPixelConversionParameters(),t[h].calculateBreaksSizeInValues(),tt+=ct[h]+t[h].margin}if(d&&0<d.length)for(h=0;h<d.length;h++){if(At=d[h]._labels&&0<d[h]._labels.length?d[h]._labels[0].textBlock.fontSize/2:0,g=Math.round(p.x1-l),M=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y2:p.y1<Math.max(At,10)?Math.max(At,10):p.y1):p.y1<Math.max(At,10)?Math.max(At,10):p.y1,_=Math.round(p.x2-te-ae),f=o&&0<o.length?Math.round(o[0]?o[0].lineCoordinates.y1:p.y2-qt>m.height-Math.max(At,10)?m.height-Math.max(At,10):p.y2-qt):p.y2>m.height-Math.max(At,10)?m.height-Math.max(At,10):p.y2,o&&0<o.length)for(At=0;At<o.length;At++)o[At]&&o[At].labelAutoFit&&(_=0>o[At].labelAngle?Math.max(_,I):0===o[At].labelAngle?Math.max(_,I/2):_,g=0>o[At].labelAngle||0===o[At].labelAngle?_-te:g);if(n&&0<n.length)for(At=0;At<n.length;At++)n[At]&&n[At].labelAutoFit&&(g=(_=n[At].lineCoordinates.x2)-te);d[h].lineCoordinates={x1:_+lt,y1:M,x2:_+lt,y2:f,height:Math.abs(f-M)},"inside"===d[h].labelPlacement&&0<h&&(d[h].lineCoordinates.x1=d[h].lineCoordinates.x1+(F[h]-(d[h]._titleTextBlock?d[h]._titleTextBlock.height:0)-2)-d[h].tickLength-(d[h].stripLineLabelEffectiveWidth||0),d[h].lineCoordinates.x2=d[h].lineCoordinates.x1+d[h].lineThickness/2),"inside"===d[h].tickPlacement&&0<h&&(d[h].lineCoordinates.x1+=d[h].tickLength,d[h].lineCoordinates.x2=d[h].lineCoordinates.x1+d[h].lineThickness/2),d[h].bounds={x1:d[h].lineCoordinates.x1,y1:M,x2:_+F[h]+lt,y2:f,width:_-g,height:f-M},d[h].bounds.width=d[h].bounds.x2-d[h].bounds.x1,d[h].title&&(d[h]._titleTextBlock.maxWidth=0<d[h].titleMaxWidth&&d[h].titleMaxWidth<d[h].lineCoordinates.height?d[h].titleMaxWidth:d[h].lineCoordinates.height),d[h].calculateValueToPixelConversionParameters(),d[h].calculateBreaksSizeInValues(),lt+=F[h]+d[h].margin}for(h=0;h<v.length;h++)"axisY"===v[h].type&&(v[h].calculateValueToPixelConversionParameters(),v[h].calculateBreaksSizeInValues());if(0<S){if(t&&0<t.length)for(h=0;h<t.length;h++)C=U[S-1][h]===U[S][h];else C=!0;if(d&&0<d.length)for(h=0;h<d.length;h++)J=O[S-1][h]===O[S][h];else J=!0;if(o&&0<o.length)for(h=0;h<o.length;h++)Q=et[S-1][h]===et[S][h];else Q=!0;if(n&&0<n.length)for(h=0;h<n.length;h++)$=P[S-1][h]===P[S][h];else $=!0}if(C&&J&&Q&&$)break;S++}if(o&&0<o.length)for(h=0;h<o.length;h++)o[h].calculateStripLinesThicknessInValues(),o[h].calculateBreaksInPixels();if(n&&0<n.length)for(h=0;h<n.length;h++)n[h].calculateStripLinesThicknessInValues(),n[h].calculateBreaksInPixels();if(t&&0<t.length)for(h=0;h<t.length;h++)t[h].calculateStripLinesThicknessInValues(),t[h].calculateBreaksInPixels();if(d&&0<d.length)for(h=0;h<d.length;h++)d[h].calculateStripLinesThicknessInValues(),d[h].calculateBreaksInPixels()}},nt.render=function(t,d,o,n,l){var p=t[0]?t[0].chart:d[0].chart;if(l=p.ctx,p.alignVerticalAxes&&p.alignVerticalAxes(),l.save(),l.beginPath(),t&&t.length&&l.rect(5,t[0].bounds.y1,t[0].chart.width-10,t[t.length-1].bounds.y2),d&&d.length&&l.rect(5,d[d.length-1].bounds.y1,d[0].chart.width-10,d[0].bounds.y2),l.clip(),t&&0<t.length)for(var g=0;g<t.length;g++)t[g].renderLabelsTicksAndTitle();if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderLabelsTicksAndTitle();if(l.restore(),o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderLabelsTicksAndTitle();if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderLabelsTicksAndTitle();if(p.preparePlotArea(),p=p.plotArea,l.save(),l.beginPath(),l.rect(p.x1,p.y1,Math.abs(p.x2-p.x1),Math.abs(p.y2-p.y1)),l.clip(),t&&0<t.length)for(g=0;g<t.length;g++)t[g].renderStripLinesOfThicknessType("value");if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderStripLinesOfThicknessType("value");if(o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(g=0;g<t.length;g++)t[g].renderInterlacedColors();if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderInterlacedColors();if(o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderInterlacedColors();if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderInterlacedColors();if(l.restore(),t&&0<t.length)for(g=0;g<t.length;g++)t[g].renderGrid(),H&&(t[g].createMask(),t[g].renderBreaksBackground());if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderGrid(),H&&(d[g].createMask(),d[g].renderBreaksBackground());if(o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderGrid(),H&&(o[g].createMask(),o[g].renderBreaksBackground());if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderGrid(),H&&(n[g].createMask(),n[g].renderBreaksBackground());if(t&&0<t.length)for(g=0;g<t.length;g++)t[g].renderAxisLine();if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderAxisLine();if(o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderAxisLine();if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderAxisLine();if(t&&0<t.length)for(g=0;g<t.length;g++)t[g].renderStripLinesOfThicknessType("pixel");if(d&&0<d.length)for(g=0;g<d.length;g++)d[g].renderStripLinesOfThicknessType("pixel");if(o&&0<o.length)for(g=0;g<o.length;g++)o[g].renderStripLinesOfThicknessType("pixel");if(n&&0<n.length)for(g=0;g<n.length;g++)n[g].renderStripLinesOfThicknessType("pixel")},nt.prototype.calculateStripLinesThicknessInValues=function(){for(var t=0;t<this.stripLines.length;t++)if(null!==this.stripLines[t].startValue&&null!==this.stripLines[t].endValue){var d=Math.min(this.stripLines[t].startValue,this.stripLines[t].endValue),o=Math.max(this.stripLines[t].startValue,this.stripLines[t].endValue),n=this.getApparentDifference(d,o);this.stripLines[t].value=this.convertPixelToValue(Math.abs(this.convertValueToPixel(d)+this.convertValueToPixel(o))/2),this.stripLines[t].thickness=n,this.stripLines[t]._thicknessType="value"}},nt.prototype.calculateBreaksSizeInValues=function(){for(var l,t="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,d=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],o=this.conversionParameters.pixelPerUnit||t/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),n=this.scaleBreaks&&!E(this.scaleBreaks.options.spacing),p=0;p<d.length;p++)l=n||!E(d[p].options.spacing),d[p].spacing=0|_i(d[p].spacing,t,8,l?.1*t:8,l?0:3),d[p].size=0>d[p].spacing?0:Math.abs(d[p].spacing/o),this.logarithmic&&(d[p].size=Math.pow(this.logarithmBase,d[p].size))},nt.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var d=0;d<t.length&&!(t[d].startValue>this.conversionParameters.maximum);d++)t[d].endValue<this.conversionParameters.minimum||(E(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=d),t[d].startValue>=this.conversionParameters.minimum&&(t[d].startPixel=this.convertValueToPixel(t[d].startValue),this.scaleBreaks.lastBreakIndex=d),t[d].endValue<=this.conversionParameters.maximum&&(t[d].endPixel=this.convertValueToPixel(t[d].endValue)))}},nt.prototype.renderLabelsTicksAndTitle=function(){var y,v,t=this,d=!1,o=0,n=0,l=1,p=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(l=1.2),typeof this.options.interval>"u"){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){o=[],l=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var g,M=this.viewportMaximum,_=this.lineCoordinates.width/Math.log(this.range),m=this._labels.length-1;0<=m&&!((y=this._labels[m]).position<this.viewportMinimum);m--)y.position>this.viewportMaximum||!(m===this._labels.length-1||g<Math.log(M/y.position)*_/l)||(o.push(y),M=y.position,g=y.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=o}else{for(m=0;m<this._labels.length;m++)(y=this._labels[m]).position<this.viewportMinimum||(o+=g=y.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));o>this.lineCoordinates.width*l&&this.labelAutoFit&&(d=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var f;for(o=[],M=this.viewportMaximum,_=this.lineCoordinates.height/Math.log(this.range),m=this._labels.length-1;0<=m&&!((y=this._labels[m]).position<this.viewportMinimum);m--)y.position>this.viewportMaximum||!(m===this._labels.length-1||f<Math.log(M/y.position)*_)||(o.push(y),M=y.position,f=y.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=o}else{for(m=0;m<this._labels.length;m++)(y=this._labels[m]).position<this.viewportMinimum||(n+=f=y.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+y.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));n>this.lineCoordinates.height*l&&this.labelAutoFit&&(d=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(h,C){return h.position-C.position}),m=0,"bottom"===this._position){for(m=0;m<this._labels.length;m++)(y=this._labels[m]).position<this.viewportMinimum||y.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x,this.ctx.beginPath(),this.ctx.moveTo(n,0|v.y),this.ctx.lineTo(n,v.y+this.tickLength|0),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===y.textBlock.angle?(v.x-=y.textBlock.width/2,v.y="inside"===this.labelPlacement?v.y-(("inside"===this.tickPlacement?this.tickLength:0)+y.textBlock.height-y.textBlock.fontSize/2):v.y+("inside"===this.tickPlacement?0:this.tickLength)+y.textBlock.fontSize/2+5):0>this.labelAngle?(v.x-="inside"===this.labelPlacement?0:y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle),v.y="inside"===this.labelPlacement?v.y-("inside"===this.tickPlacement?this.tickLength:0)-5-(y.textBlock.height-y.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle):v.y+("inside"===this.tickPlacement?0:this.tickLength)+5+Math.abs(y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-y.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))):(v.x-="inside"===this.labelPlacement?y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,v.y="inside"===this.labelPlacement?v.y-("inside"===this.tickPlacement?this.tickLength:0)-5-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-(y.textBlock.height-y.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle):v.y+("inside"===this.tickPlacement?0:this.tickLength)+5+Math.abs(y.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))),y.textBlock.x=v.x,y.textBlock.y=v.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(m=0;m<t._labels.length;m++)if(!((y=t._labels[m]).position<t.viewportMinimum||y.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(y.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(h,0|v.y),t.ctx.lineTo(h,v.y-t.tickLength|0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height+this._titleTextBlock.fontSize/2-1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(m=0;m<this._labels.length;m++)(y=this._labels[m]).position<this.viewportMinimum||y.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x,this.ctx.beginPath(),this.ctx.moveTo(n,0|v.y),this.ctx.lineTo(n,v.y-this.tickLength|0),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===y.textBlock.angle?(v.x-=y.textBlock.width/2,v.y="inside"===this.labelPlacement?v.y+this.labelFontSize/2+("inside"===this.tickPlacement?this.tickLength:0)+5:v.y-(("inside"===this.tickPlacement?0:this.tickLength)+y.textBlock.height-y.textBlock.fontSize/2)):0>this.labelAngle?(v.x-="inside"===this.labelPlacement?y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,v.y="inside"===this.labelPlacement?v.y+("inside"===this.tickPlacement?this.tickLength:0)+5-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+y.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle):v.y-("inside"===this.tickPlacement?0:this.tickLength)-2-(y.textBlock.height-y.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)):(v.x-="inside"===this.labelPlacement?0:y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle),v.y="inside"===this.labelPlacement?v.y+("inside"===this.tickPlacement?this.tickLength:0)+5+y.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle):v.y-("inside"===this.tickPlacement?0:this.tickLength)-2-((y.textBlock.height-y.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle))),y.textBlock.x=v.x,y.textBlock.y=v.y));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(m=0;m<t._labels.length;m++)if(!((y=t._labels[m]).position<t.viewportMinimum||y.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(y.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.x):0|v.x;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(h,0|v.y),t.ctx.lineTo(h,v.y+t.tickLength|0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+this._titleTextBlock.fontSize/2+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(m=0;m<this._labels.length;m++)(y=this._labels[m]).position<this.viewportMinimum||y.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y,this.ctx.beginPath(),this.ctx.moveTo(0|v.x,n),this.ctx.lineTo(v.x-this.tickLength|0,n),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(y.textBlock.y=v.y,y.textBlock.x="inside"===this.labelPlacement?v.x+("inside"===this.tickPlacement?this.tickLength:0)+5:v.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):0>this.labelAngle?(y.textBlock.y="inside"===this.labelPlacement?v.y:v.y-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),y.textBlock.x="inside"===this.labelPlacement?v.x-y.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:v.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(y.textBlock.height-y.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5):(y.textBlock.y="inside"===this.labelPlacement?v.y:v.y-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),y.textBlock.x="inside"===this.labelPlacement?v.x+(y.textBlock.height-y.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?this.tickLength:0)+5:v.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-y.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?0:this.tickLength)-5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(m=0;m<t._labels.length;m++)if(!((y=t._labels[m]).position<t.viewportMinimum||y.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(y.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(0|v.x,h),t.ctx.lineTo(v.x+t.tickLength|0,h),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+this._titleTextBlock.fontSize/2+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(m=0;m<this._labels.length;m++)(y=this._labels[m]).position<this.viewportMinimum||y.position>this.viewportMaximum||(v=this.getPixelCoordinatesOnAxis(y.position),this.tickThickness&&"inside"!=this.tickPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,n=this.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y,this.ctx.beginPath(),this.ctx.moveTo(0|v.x,n),this.ctx.lineTo(v.x+this.tickLength|0,n),this.ctx.stroke()),d&&p++%2!=0&&this.labelAutoFit||(0===this.labelAngle?(y.textBlock.y=v.y,y.textBlock.x="inside"===this.labelPlacement?v.x-y.textBlock.width-("inside"===this.tickPlacement?this.tickLength:0)-5:v.x+("inside"===this.tickPlacement?0:this.tickLength)+5):0>this.labelAngle?(y.textBlock.y="inside"===this.labelPlacement?v.y-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):v.y,y.textBlock.x="inside"===this.labelPlacement?v.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(y.textBlock.height-y.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:v.x-y.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength)+5):(y.textBlock.y="inside"===this.labelPlacement?v.y-y.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):v.y,y.textBlock.x="inside"===this.labelPlacement?v.x-y.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-y.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-("inside"===this.tickPlacement?this.tickLength:0)-5:v.x+(y.textBlock.height-y.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+("inside"===this.tickPlacement?0:this.tickLength)+5)));"inside"===this.tickPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(m=0;m<t._labels.length;m++)if(!((y=t._labels[m]).position<t.viewportMinimum||y.position>t.viewportMaximum)&&(v=t.getPixelCoordinatesOnAxis(y.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var h=t.ctx.lineWidth%2==1?.5+(0|v.y):0|v.y;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(0|v.x,h),t.ctx.lineTo(v.x-t.tickLength|0,h),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-this._titleTextBlock.fontSize/2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(p=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",function(){for(m=0;m<t._labels.length;m++)(y=t._labels[m]).position<t.viewportMinimum||y.position>t.viewportMaximum||d&&p++%2!=0&&t.labelAutoFit||(t.ctx.save(),t.ctx.beginPath(),y.textBlock.render(!0),t.ctx.restore())},this);else for(m=0;m<this._labels.length;m++)(y=this._labels[m]).position<this.viewportMinimum||y.position>this.viewportMaximum||d&&p++%2!=0&&this.labelAutoFit||y.textBlock.render(!0)},nt.prototype.renderInterlacedColors=function(){var d,o,t=this.chart.plotArea.ctx,n=this.chart.plotArea,l=0;if(d=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(t.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)d?(o=this.getPixelCoordinatesOnAxis(this._labels[l].position),d=this.getPixelCoordinatesOnAxis(l+1>this._labels.length-1?this.viewportMaximum:this._labels[l+1].position),t.fillRect(n.x1,Math.min(o.y,d.y),Math.abs(n.x1-n.x2),Math.abs(d.y-o.y)),d=!1):d=!0}else for(t.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)d?(d=this.getPixelCoordinatesOnAxis(this._labels[l].position),o=this.getPixelCoordinatesOnAxis(l+1>this._labels.length-1?this.viewportMaximum:this._labels[l+1].position),t.fillRect(Math.min(o.x,d.x),n.y1,Math.abs(o.x-d.x),Math.abs(n.y1-n.y2)),d=!1):d=!0;t.beginPath()},nt.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){var o,n,d=this,l=0,p=0,g=!1;n=!1;var M=[],_=[],f=!1;for(l=0;l<this.stripLines.length;l++){var m=this.stripLines[l];m._thicknessType===t&&("pixel"===t&&(m.value<this.viewportMinimum||m.value>this.viewportMaximum||E(m.value)||isNaN(this.range))||"value"===t&&(m.startValue<=this.viewportMinimum&&m.endValue<=this.viewportMinimum||m.startValue>=this.viewportMaximum&&m.endValue>=this.viewportMaximum||E(m.startValue)||E(m.endValue)||isNaN(this.range))||M.push(m))}for(l=0;l<this._stripLineLabels.length;l++)if(m=this.stripLines[l],!((o=this._stripLineLabels[l]).position<this.viewportMinimum||o.position>this.viewportMaximum||isNaN(this.range)))if(n=this.getPixelCoordinatesOnAxis(o.position),"outside"===o.stripLine.labelPlacement){if(m&&(this.ctx.strokeStyle=m.color,this.ctx.lineWidth="pixel"===m._thicknessType?m.thickness:this.tickThickness),"bottom"===this._position){var y=this.ctx.lineWidth%2==1?.5+(0|n.x):0|n.x;this.ctx.beginPath(),this.ctx.moveTo(y,0|n.y),this.ctx.lineTo(y,n.y+this.tickLength|0),this.ctx.stroke(),0===this.labelAngle?(n.x-=o.textBlock.width/2,n.y+=this.tickLength+o.textBlock.fontSize/2+5):(n.x-=0>this.labelAngle?o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,n.y+=this.tickLength+5+(0>this.labelAngle?Math.abs(o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-o.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle)):Math.abs(o.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))))}else"top"===this._position?(y=this.ctx.lineWidth%2==1?.5+(0|n.x):0|n.x,this.ctx.beginPath(),this.ctx.moveTo(y,0|n.y),this.ctx.lineTo(y,n.y-this.tickLength|0),this.ctx.stroke(),0===this.labelAngle?(n.x-=o.textBlock.width/2,n.y-=this.tickLength+o.textBlock.height-o.textBlock.fontSize/2):(n.x-=0<this.labelAngle?o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,n.y-=this.tickLength+2+(0<this.labelAngle?(o.textBlock.height-o.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):(o.textBlock.height-o.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)))):"left"===this._position?(y=this.ctx.lineWidth%2==1?.5+(0|n.y):0|n.y,this.ctx.beginPath(),this.ctx.moveTo(0|n.x,y),this.ctx.lineTo(n.x-this.tickLength|0,y),this.ctx.stroke(),0===this.labelAngle?n.x=n.x-o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(n.y-=o.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),n.x-=this.tickLength+5+(0<this.labelAngle?o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+o.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle):o.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)))):"right"===this._position&&(y=this.ctx.lineWidth%2==1?.5+(0|n.y):0|n.y,this.ctx.beginPath(),this.ctx.moveTo(0|n.x,y),this.ctx.lineTo(n.x+this.tickLength|0,y),this.ctx.stroke(),n.x=0===this.labelAngle?n.x+this.tickLength+5:this.tickLength+5+(0<this.labelAngle?n.x+(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle):n.x-o.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)));o.textBlock.x=n.x,o.textBlock.y=n.y,_.push(o)}else m._thicknessType===t&&(o.textBlock.angle=-90,"bottom"===this._position?(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.height-3,o.textBlock.measureText(),n.x-o.textBlock.height-m.thickness/2>this.chart.plotArea.x1?E(m.startValue)?n.x-=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.x-=o.textBlock.height/2-o.textBlock.fontSize/2:(o.textBlock.angle=90,E(m.startValue)?n.x+=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.x+=o.textBlock.height/2-o.textBlock.fontSize/2),n.y=-90===o.textBlock.angle?"near"===o.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+o.textBlock.width)/2:this.chart.plotArea.y1+o.textBlock.width+3:"near"===o.stripLine.labelAlign?this.chart.plotArea.y2-o.textBlock.width-3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-o.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.height-3,o.textBlock.measureText(),n.x-o.textBlock.height-m.thickness/2>this.chart.plotArea.x1?E(m.startValue)?n.x-=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.x-=o.textBlock.height/2-o.textBlock.fontSize/2:(o.textBlock.angle=90,E(m.startValue)?n.x+=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.x+=o.textBlock.height/2-o.textBlock.fontSize/2),n.y=-90===o.textBlock.angle?"near"===o.stripLine.labelAlign?this.chart.plotArea.y1+o.textBlock.width+3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+o.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===o.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-o.textBlock.width)/2:this.chart.plotArea.y2-o.textBlock.width-3):"left"===this._position?(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.width-3,o.textBlock.angle=0,o.textBlock.measureText(),n.y-o.textBlock.height-m.thickness/2>this.chart.plotArea.y1?E(m.startValue)?n.y-=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2:E(m.startValue)?n.y+=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.y+=o.textBlock.height/2-o.textBlock.fontSize+3,n.x="near"===o.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-o.textBlock.width/2:this.chart.plotArea.x2-o.textBlock.width-3):"right"===this._position&&(o.textBlock.maxWidth=this.options.stripLines[l].labelMaxWidth?this.options.stripLines[l].labelMaxWidth:this.chart.plotArea.width-3,o.textBlock.angle=0,o.textBlock.measureText(),n.y-o.textBlock.height-m.thickness/2>this.chart.plotArea.y1?E(m.startValue)?n.y-=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2:E(m.startValue)?n.y+=o.textBlock.height-o.textBlock.fontSize/2+m.thickness/2:n.y-=o.textBlock.height/2-o.textBlock.fontSize/2+3,n.x="near"===o.stripLine.labelAlign?this.chart.plotArea.x2-o.textBlock.width-3:"center"===o.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-o.textBlock.width/2:this.chart.plotArea.x1+3),o.textBlock.x=n.x,o.textBlock.y=n.y,_.push(o));if(!f){for(n=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),l=0;l<M.length;l++)(m=M[l]).showOnTop?g||(g=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),p=0;p<M.length;p++)(m=M[p]).showOnTop&&m.render();this.ctx.restore()},m)):m.render();for(l=0;l<_.length;l++)(o=_[l]).stripLine.showOnTop?n||(n=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<_.length;p++)"inside"===(o=_[p]).stripLine.labelPlacement&&o.stripLine.showOnTop&&(d.ctx.save(),d.ctx.beginPath(),d.ctx.rect(d.chart.plotArea.x1,d.chart.plotArea.y1,d.chart.plotArea.width,d.chart.plotArea.height),d.ctx.clip(),o.textBlock.render(!0),d.ctx.restore())},o.textBlock)):"inside"===o.stripLine.labelPlacement&&o.textBlock.render(!0);this.ctx.restore(),f=!0}if(f)for(n=!1,l=0;l<_.length;l++)"outside"===(o=_[l]).stripLine.labelPlacement&&o.textBlock.render(!0)}},nt.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},nt.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;H?(this.maskCanvas=Je(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var d=0;d<t.length;d++)t[d].endValue<this.viewportMinimum||t[d].startValue>this.viewportMaximum||isNaN(this.range)||t[d].render(this.maskCtx);this.maskCtx.restore()}},nt.prototype.renderCrosshair=function(t,d){isFinite(this.minimum)&&isFinite(this.maximum)&&this.crosshair.render(t,d)},nt.prototype.showCrosshair=function(t){E(t)||t<this.viewportMinimum||t>this.viewportMaximum||("top"===this._position||"bottom"===this._position?this.crosshair.render(this.convertValueToPixel(t),null,t):this.crosshair.render(null,this.convertValueToPixel(t),t))},nt.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var d,o=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(mt(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(t.beginPath(),d=this.getPixelCoordinatesOnAxis(this._labels[n].position),t.moveTo(d=t.lineWidth%2==1?.5+(0|d.x):0|d.x,0|o.y1),t.lineTo(d,0|o.y2),t.stroke());else if("left"===this._position||"right"===this._position)for(var n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(t.beginPath(),d=this.getPixelCoordinatesOnAxis(this._labels[n].position),t.moveTo(0|o.x1,d=t.lineWidth%2==1?.5+(0|d.y):0|d.y),t.lineTo(0|o.x2,d),t.stroke());t.restore()}},nt.prototype.renderAxisLine=function(){var l,p,t=this.chart.ctx,d=H?this.chart._preRenderCtx:t,o=Math.ceil(this.tickThickness/(this.reversed?-2:2)),n=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(d.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(l=this.lineCoordinates.x2,p=this.lineCoordinates.x1):(l=this.lineCoordinates.x1,p=this.lineCoordinates.x2),d.lineWidth=this.lineThickness,d.strokeStyle=this.lineColor?this.lineColor:"black",d.setLineDash&&d.setLineDash(mt(this.lineDashType,this.lineThickness));var g=this.lineThickness%2==1?.5+(0|this.lineCoordinates.y1):0|this.lineCoordinates.y1;if(d.beginPath(),this.scaleBreaks&&!E(this.scaleBreaks.firstBreakIndex))if(E(this.scaleBreaks.lastBreakIndex))l=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+n;else for(var M=this.scaleBreaks.firstBreakIndex;M<=this.scaleBreaks.lastBreakIndex;M++)d.moveTo(l,g),d.lineTo(this.scaleBreaks._appliedBreaks[M].startPixel+o,g),l=this.scaleBreaks._appliedBreaks[M].endPixel+n;l&&(d.moveTo(l,g),d.lineTo(p,g)),d.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(l=this.lineCoordinates.y1,p=this.lineCoordinates.y2):(l=this.lineCoordinates.y2,p=this.lineCoordinates.y1),d.lineWidth=this.lineThickness,d.strokeStyle=this.lineColor,d.setLineDash&&d.setLineDash(mt(this.lineDashType,this.lineThickness)),g=this.lineThickness%2==1?.5+(0|this.lineCoordinates.x1):0|this.lineCoordinates.x1,d.beginPath(),this.scaleBreaks&&!E(this.scaleBreaks.firstBreakIndex))if(E(this.scaleBreaks.lastBreakIndex))l=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+o;else for(M=this.scaleBreaks.firstBreakIndex;M<=this.scaleBreaks.lastBreakIndex;M++)d.moveTo(g,l),d.lineTo(g,this.scaleBreaks._appliedBreaks[M].startPixel+n),l=this.scaleBreaks._appliedBreaks[M].endPixel+o;l&&(d.moveTo(g,l),d.lineTo(g,p)),d.stroke()}H&&(t.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),d.clearRect(0,0,this.chart.width,this.chart.height)),d.restore()},nt.prototype.getPixelCoordinatesOnAxis=function(t){var d={};return("bottom"===this._position||"top"===this._position)&&(d.x=this.convertValueToPixel(t),d.y=this.lineCoordinates.y1),("left"===this._position||"right"===this._position)&&(d.y=this.convertValueToPixel(t),d.x=this.lineCoordinates.x2),d},nt.prototype.convertPixelToValue=function(t){if(typeof t>"u")return null;var d,o=0,l=0,n=(o=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(l="number"==typeof t?t:"left"===this._position||"right"===this._position?t.y:t.x,this.logarithmic){if(t=d=Math.pow(this.logarithmBase,(l-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),l<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(l=0;l<n.length;l++)if(!(n[l].endValue<this.conversionParameters.minimum))if(o)if(n[l].startValue<this.conversionParameters.minimum){if(1<n[l].size&&this.conversionParameters.minimum*Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size))<n[l].endValue){t=Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size));break}t*=n[l].endValue/this.conversionParameters.minimum/Math.pow(n[l].size,Math.log(n[l].endValue/this.conversionParameters.minimum)/Math.log(n[l].endValue/n[l].startValue)),d/=Math.pow(n[l].size,Math.log(n[l].endValue/this.conversionParameters.minimum)/Math.log(n[l].endValue/n[l].startValue)),o=!1}else{if(!(d>n[l].startValue/this.conversionParameters.minimum))break;if((d/=n[l].startValue/this.conversionParameters.minimum)<n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1===n[l].size?1:Math.log(d)/Math.log(n[l].size))/d;break}t*=n[l].endValue/n[l].startValue/n[l].size,d/=n[l].size,o=!1}else{if(!(d>n[l].startValue/n[l-1].endValue))break;if((d/=n[l].startValue/n[l-1].endValue)<n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1===n[l].size?1:Math.log(d)/Math.log(n[l].size))/d;break}t*=n[l].endValue/n[l].startValue/n[l].size,d/=n[l].size}}else for(l=n.length-1;0<=l;l--)if(!(n[l].startValue>this.conversionParameters.minimum))if(o)if(n[l].endValue>this.conversionParameters.minimum){if(1<n[l].size&&this.conversionParameters.minimum*Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size))>n[l].startValue){t=Math.pow(n[l].endValue/n[l].startValue,Math.log(d)/Math.log(n[l].size));break}t*=n[l].startValue/this.conversionParameters.minimum*Math.pow(n[l].size,Math.log(n[l].startValue/this.conversionParameters.minimum)/Math.log(n[l].endValue/n[l].startValue))*d,d*=Math.pow(n[l].size,Math.log(this.conversionParameters.minimum/n[l].startValue)/Math.log(n[l].endValue/n[l].startValue)),o=!1}else{if(!(d<n[l].endValue/this.conversionParameters.minimum))break;if((d/=n[l].endValue/this.conversionParameters.minimum)>1/n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1>=n[l].size?1:Math.log(d)/Math.log(n[l].size))*d;break}t/=n[l].endValue/n[l].startValue/n[l].size,d*=n[l].size,o=!1}else{if(!(d<n[l].endValue/n[l+1].startValue))break;if((d/=n[l].endValue/n[l+1].startValue)>1/n[l].size){t*=Math.pow(n[l].endValue/n[l].startValue,1>=n[l].size?1:Math.log(d)/Math.log(n[l].size))*d;break}t/=n[l].endValue/n[l].startValue/n[l].size,d*=n[l].size}o=t*this.viewportMinimum}else{if(t=d=(l-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,l<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(l=0;l<n.length;l++)if(!(n[l].endValue<this.conversionParameters.minimum))if(o)if(n[l].startValue<this.conversionParameters.minimum){if(n[l].size&&this.conversionParameters.minimum+d*(n[l].endValue-n[l].startValue)/n[l].size<n[l].endValue){t=0>=n[l].size?0:d*(n[l].endValue-n[l].startValue)/n[l].size;break}t+=n[l].endValue-this.conversionParameters.minimum-n[l].size*(n[l].endValue-this.conversionParameters.minimum)/(n[l].endValue-n[l].startValue),d-=n[l].size*(n[l].endValue-this.conversionParameters.minimum)/(n[l].endValue-n[l].startValue),o=!1}else{if(!(d>n[l].startValue-this.conversionParameters.minimum))break;if((d-=n[l].startValue-this.conversionParameters.minimum)<n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)-d;break}t+=n[l].endValue-n[l].startValue-n[l].size,d-=n[l].size,o=!1}else{if(!(d>n[l].startValue-n[l-1].endValue))break;if((d-=n[l].startValue-n[l-1].endValue)<n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)-d;break}t+=n[l].endValue-n[l].startValue-n[l].size,d-=n[l].size}}else for(l=n.length-1;0<=l;l--)if(!(n[l].startValue>this.conversionParameters.minimum))if(o)if(n[l].endValue>this.conversionParameters.minimum){if(n[l].size&&this.conversionParameters.minimum+d*(n[l].endValue-n[l].startValue)/n[l].size>n[l].startValue){t=0>=n[l].size?0:d*(n[l].endValue-n[l].startValue)/n[l].size;break}t+=n[l].startValue-this.conversionParameters.minimum+n[l].size*(this.conversionParameters.minimum-n[l].startValue)/(n[l].endValue-n[l].startValue),d+=n[l].size*(this.conversionParameters.minimum-n[l].startValue)/(n[l].endValue-n[l].startValue),o=!1}else{if(!(d<n[l].endValue-this.conversionParameters.minimum))break;if((d-=n[l].endValue-this.conversionParameters.minimum)>-1*n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)+d;break}t-=n[l].endValue-n[l].startValue-n[l].size,d+=n[l].size,o=!1}else{if(!(d<n[l].endValue-n[l+1].startValue))break;if((d-=n[l].endValue-n[l+1].startValue)>-1*n[l].size){t+=(n[l].endValue-n[l].startValue)*(0===n[l].size?1:d/n[l].size)+d;break}t-=n[l].endValue-n[l].startValue-n[l].size,d+=n[l].size}o=this.conversionParameters.minimum+t}return o},nt.prototype.convertValueToPixel=function(t){return t=this.getApparentDifference(this.conversionParameters.minimum,t,t),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5|0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5|0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5},nt.prototype.getApparentDifference=function(t,d,o,n){var l=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){o=E(o)?d/t:o;for(var p=0;p<l.length&&!(d<l[p].startValue);p++)t>l[p].endValue||(t<=l[p].startValue&&d>=l[p].endValue?o=o/l[p].endValue*l[p].startValue*l[p].size:t>=l[p].startValue&&d>=l[p].endValue?o=o/l[p].endValue*t*Math.pow(l[p].size,Math.log(l[p].endValue/t)/Math.log(l[p].endValue/l[p].startValue)):t<=l[p].startValue&&d<=l[p].endValue?o=o/d*l[p].startValue*Math.pow(l[p].size,Math.log(d/l[p].startValue)/Math.log(l[p].endValue/l[p].startValue)):!n&&t>l[p].startValue&&d<l[p].endValue&&(o=t*Math.pow(l[p].size,Math.log(d/t)/Math.log(l[p].endValue/l[p].startValue))))}else for(o=E(o)?Math.abs(d-t):o,p=0;p<l.length&&!(d<l[p].startValue);p++)t>l[p].endValue||(t<=l[p].startValue&&d>=l[p].endValue?o=o-l[p].endValue+l[p].startValue+l[p].size:t>l[p].startValue&&d>=l[p].endValue?o=o-l[p].endValue+t+l[p].size*(l[p].endValue-t)/(l[p].endValue-l[p].startValue):t<=l[p].startValue&&d<l[p].endValue?o=o-d+l[p].startValue+l[p].size*(d-l[p].startValue)/(l[p].endValue-l[p].startValue):!n&&t>l[p].startValue&&d<l[p].endValue&&(o=t+l[p].size*(d-t)/(l[p].endValue-l[p].startValue)));return o},nt.prototype.setViewPortRange=function(t,d){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,d),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,d)},nt.prototype.getXValueAt=function(t){if(!t)return null;var d=null;return"left"===this._position?d=this.convertPixelToValue(t.y):"bottom"===this._position&&(d=this.convertPixelToValue(t.x)),d},nt.prototype.calculateValueToPixelConversionParameters=function(t){t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var d={pixelPerUnit:null,minimum:null,reference:null},o=this.lineCoordinates.width,n=this.lineCoordinates.height;if(o="bottom"===this._position||"top"===this._position?o:n,n=Math.abs(this.range),this.logarithmic)for(var l=0;l<t.length&&!(this.viewportMaximum<t[l].startValue);l++)this.viewportMinimum>t[l].endValue||(this.viewportMinimum>=t[l].startValue&&this.viewportMaximum<=t[l].endValue?o=0:this.viewportMinimum<=t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n/t[l].endValue*t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100):o-Math.min(t[l].spacing,.1*o)):this.viewportMinimum>t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n/t[l].endValue*this.viewportMinimum,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*Math.log(t[l].endValue/this.viewportMinimum)/Math.log(t[l].endValue/t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*Math.log(t[l].endValue/this.viewportMinimum)/Math.log(t[l].endValue/t[l].startValue)):this.viewportMinimum<=t[l].startValue&&this.viewportMaximum<t[l].endValue&&(n=n/this.viewportMaximum*t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*Math.log(this.viewportMaximum/t[l].startValue)/Math.log(t[l].endValue/t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*Math.log(this.viewportMaximum/t[l].startValue)/Math.log(t[l].endValue/t[l].startValue)));else for(l=0;l<t.length&&!(this.viewportMaximum<t[l].startValue);l++)this.viewportMinimum>t[l].endValue||(this.viewportMinimum>=t[l].startValue&&this.viewportMaximum<=t[l].endValue?o=0:this.viewportMinimum<=t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n-t[l].endValue+t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100):o-Math.min(t[l].spacing,.1*o)):this.viewportMinimum>t[l].startValue&&this.viewportMaximum>=t[l].endValue?(n=n-t[l].endValue+this.viewportMinimum,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*(t[l].endValue-this.viewportMinimum)/(t[l].endValue-t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*(t[l].endValue-this.viewportMinimum)/(t[l].endValue-t[l].startValue)):this.viewportMinimum<=t[l].startValue&&this.viewportMaximum<t[l].endValue&&(n=n-this.viewportMaximum+t[l].startValue,o=0<t[l].spacing.toString().indexOf("%")?o*(1-parseFloat(t[l].spacing)/100*(this.viewportMaximum-t[l].startValue)/(t[l].endValue-t[l].startValue)):o-Math.min(t[l].spacing,.1*o)*(this.viewportMaximum-t[l].startValue)/(t[l].endValue-t[l].startValue)));d.minimum=this.viewportMinimum,d.maximum=this.viewportMaximum,d.range=n,("bottom"===this._position||"top"===this._position)&&(this.logarithmic?(d.lnLogarithmBase=Math.log(this.logarithmBase),d.pixelPerUnit=(this.reversed?-1:1)*o*d.lnLogarithmBase/Math.log(Math.abs(n))):d.pixelPerUnit=(this.reversed?-1:1)*o/Math.abs(n),d.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),("left"===this._position||"right"===this._position)&&(this.logarithmic?(d.lnLogarithmBase=Math.log(this.logarithmBase),d.pixelPerUnit=(this.reversed?1:-1)*o*d.lnLogarithmBase/Math.log(Math.abs(n))):d.pixelPerUnit=(this.reversed?1:-1)*o/Math.abs(n),d.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=d},nt.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var o=this.chart.layoutManager.getFreeSpace(),t=!1,d=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=o.width,this.maxHeight=o.height):(this.maxWidth=o.height,this.maxHeight=o.width),o="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var n,l,p,g=4;if("axisX"===this.type&&(g=600>this.maxWidth?8:6),o=Math.max(g,Math.floor(this.maxWidth/o)),g=0,!E(this.options.viewportMinimum)&&!E(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!E(this.options.viewportMinimum)||E(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!E(this.options.viewportMaximum)||E(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(g=0;g<this.scaleBreaks._appliedBreaks.length;g++)if((!E(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue||!E(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[g].startValue||!E(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue)&&(!E(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue||!E(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[g].endValue||!E(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue)){this.scaleBreaks._appliedBreaks.splice(g,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(n=0;n<this.dataSeries.length;n++)"dateTime"===this.dataSeries[n].xValueType&&(d=!0);(l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==0&&(l+=g=typeof this.options.interval>"u"?.4:this.options.interval,n-=g),this.dataInfo.minDiff!==1/0?p=this.dataInfo.minDiff:1<l-n?p=.5*Math.abs(l-n):(p=1,d&&(t=!0))}else"axisY"===this.type&&(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(n)||isFinite(l)?isFinite(n)?isFinite(l)||(l=n):n=l:(l=typeof this.options.interval>"u"?-1/0:this.options.interval,n=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),0===n&&0===l?(l+=9,n=0):l-n==0?(l+=g=Math.min(Math.abs(.01*Math.abs(l)),5),n-=g):n>l?(g=Math.min(.01*Math.abs(this.getApparentDifference(l,n,null,!0)),5),0<=l?n=l-g:l=isFinite(n)?n+g:0):(g=Math.min(.01*Math.abs(this.getApparentDifference(n,l,null,!0)),.05),0!==l&&(l+=g),0!==n&&(n-=g)),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-n?.5*Math.abs(l-n):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<n&&(n=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>l&&(l=0));g=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?l:this.viewportMaximum,null,!0),"axisX"===this.type&&d?(this.valueType="dateTime",this.intervalType||(g/1<=o?(this.interval=1,this.intervalType="millisecond"):g/2<=o?(this.interval=2,this.intervalType="millisecond"):g/5<=o?(this.interval=5,this.intervalType="millisecond"):g/10<=o?(this.interval=10,this.intervalType="millisecond"):g/20<=o?(this.interval=20,this.intervalType="millisecond"):g/50<=o?(this.interval=50,this.intervalType="millisecond"):g/100<=o?(this.interval=100,this.intervalType="millisecond"):g/200<=o?(this.interval=200,this.intervalType="millisecond"):g/250<=o?(this.interval=250,this.intervalType="millisecond"):g/300<=o?(this.interval=300,this.intervalType="millisecond"):g/400<=o?(this.interval=400,this.intervalType="millisecond"):g/500<=o?(this.interval=500,this.intervalType="millisecond"):g/(1*Tt.secondDuration)<=o?(this.interval=1,this.intervalType="second"):g/(2*Tt.secondDuration)<=o?(this.interval=2,this.intervalType="second"):g/(5*Tt.secondDuration)<=o?(this.interval=5,this.intervalType="second"):g/(10*Tt.secondDuration)<=o?(this.interval=10,this.intervalType="second"):g/(15*Tt.secondDuration)<=o?(this.interval=15,this.intervalType="second"):g/(20*Tt.secondDuration)<=o?(this.interval=20,this.intervalType="second"):g/(30*Tt.secondDuration)<=o?(this.interval=30,this.intervalType="second"):g/(1*Tt.minuteDuration)<=o?(this.interval=1,this.intervalType="minute"):g/(2*Tt.minuteDuration)<=o?(this.interval=2,this.intervalType="minute"):g/(5*Tt.minuteDuration)<=o?(this.interval=5,this.intervalType="minute"):g/(10*Tt.minuteDuration)<=o?(this.interval=10,this.intervalType="minute"):g/(15*Tt.minuteDuration)<=o?(this.interval=15,this.intervalType="minute"):g/(20*Tt.minuteDuration)<=o?(this.interval=20,this.intervalType="minute"):g/(30*Tt.minuteDuration)<=o?(this.interval=30,this.intervalType="minute"):g/(1*Tt.hourDuration)<=o?(this.interval=1,this.intervalType="hour"):g/(2*Tt.hourDuration)<=o?(this.interval=2,this.intervalType="hour"):g/(3*Tt.hourDuration)<=o?(this.interval=3,this.intervalType="hour"):g/(6*Tt.hourDuration)<=o?(this.interval=6,this.intervalType="hour"):g/(1*Tt.dayDuration)<=o?(this.interval=1,this.intervalType="day"):g/(2*Tt.dayDuration)<=o?(this.interval=2,this.intervalType="day"):g/(4*Tt.dayDuration)<=o?(this.interval=4,this.intervalType="day"):g/(1*Tt.weekDuration)<=o?(this.interval=1,this.intervalType="week"):g/(2*Tt.weekDuration)<=o?(this.interval=2,this.intervalType="week"):g/(3*Tt.weekDuration)<=o?(this.interval=3,this.intervalType="week"):g/(1*Tt.monthDuration)<=o?(this.interval=1,this.intervalType="month"):g/(2*Tt.monthDuration)<=o?(this.interval=2,this.intervalType="month"):g/(3*Tt.monthDuration)<=o?(this.interval=3,this.intervalType="month"):g/(6*Tt.monthDuration)<=o?(this.interval=6,this.intervalType="month"):(this.interval=g/(1*Tt.yearDuration)<=o?1:g/(2*Tt.yearDuration)<=o?2:g/(4*Tt.yearDuration)<=o?4:Math.floor(nt.getNiceNumber(g/(o-1),!0)/Tt.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=n-p/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=l+p/2),t?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",g=nt.getNiceNumber(g,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:nt.getNiceNumber(g/(o-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?n-p/2:Math.floor(n/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?l+p/2:Math.ceil(l/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=nt.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(o-1),!0)))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((l=null!==this.maximum?this.maximum:this.dataInfo.max)-(n=null!==this.minimum?this.minimum:this.dataInfo.min)==0&&(l+=g=typeof this.options.interval>"u"?.4:this.options.interval,n-=g),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-n?.5*Math.abs(l-n):1):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,l=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(l)?0===n&&0===l?(l+=9,n=0):l-n==0?(l+=g=Math.min(Math.abs(.01*Math.abs(l)),5),n-=g):n>l?(g=Math.min(.01*Math.abs(this.getApparentDifference(l,n,null,!0)),5),0<=l?n=l-g:l=isFinite(n)?n+g:0):(g=Math.min(.01*Math.abs(this.getApparentDifference(n,l,null,!0)),.05),0!==l&&(l+=g),0!==n&&(n-=g)):(l=typeof this.options.interval>"u"?-1/0:this.options.interval,n=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<l-n?.5*Math.abs(l-n):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<n&&(n=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>l&&(l=0)),Math.abs(this.getApparentDifference(n,l,null,!0)),"axisX"===this.type&&d?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=n-p/2,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=l+p/2,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?n-p/2:Math.floor(n/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?l+p/2:Math.ceil(l/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),E(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),E(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&d?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=nt.generateValueFormatString(this.range,2))}},nt.prototype.calculateLogarithmicAxisParameters=function(){var d,n,l,p,g,o=this.chart.layoutManager.getFreeSpace(),t=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=o.width,this.maxHeight=o.height):(this.maxWidth=o.height,this.maxHeight=o.width),o="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),g=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(g=0;g<this.scaleBreaks._appliedBreaks.length;g++)if((!E(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue||!E(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[g].startValue||!E(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[g].startValue)&&(!E(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue||!E(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[g].endValue||!E(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[g].endValue)){this.scaleBreaks._appliedBreaks.splice(g,1);break}"axisX"===this.type?((l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)==1&&(l*=g=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),n/=g),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&!isFinite(l)?(l=typeof this.options.interval>"u"?0:this.options.interval,n=1):0>=n?n=l:isFinite(l)||(l=n),1===n&&1===l?(l*=this.logarithmBase-1/this.logarithmBase,n=1):l/n==1?(l*=g=Math.min(l*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),n/=g):n>l?(g=Math.min(n/l*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=l?n=l/g:l=n*g):(g=Math.min(l/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==l&&(l*=g),1!==n&&(n/=g)),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<n&&(n=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>l&&(l=1)),g=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?l:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum);var M=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?l:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum);if(this.intervalType="number",g=Math.pow(this.logarithmBase,nt.getNiceNumber(Math.abs(Math.log(g)/t),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=nt.getNiceExponent(Math.log(g)/t/(o-1),!0),d=nt.getNiceNumber(M/(o-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?n/Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/t/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?l*Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(l)/t/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=nt.getNiceExponent(Math.ceil(Math.log(g)/t)/(o-1)),d=nt.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(o-1),!0))),(null===this.minimum||null===this.maximum)&&("axisX"===this.type?((l=null!==this.maximum?this.maximum:this.dataInfo.max)/(n=null!==this.minimum?this.minimum:this.dataInfo.min)==1&&(l*=g=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),n/=g),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,l=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(l)?1===n&&1===l?(l*=this.logarithmBase,n/=this.logarithmBase):l/n==1?(l*=g=Math.pow(this.logarithmBase,this.interval),n/=g):n>l?(g=Math.min(n/l*.01,5),1<=l?n=l/g:l=n*g):(g=Math.min(l/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==l&&(l*=g),1!==n&&(n/=g)):(l=typeof this.options.interval>"u"?0:this.options.interval,n=1),p=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:l/n>this.logarithmBase?l/n*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<n&&(n=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>l&&(l=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?n/Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(n)/t/this.interval)),E(null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),null===this.maximum&&(this.maximum="axisX"===this.type?l*Math.sqrt(p):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(l)/t/this.interval)),E(null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=o,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>o?2:3)){for(t=Math.floor(this.viewportMinimum/d+.5)*d;t<this.viewportMinimum;)t+=d;this.equidistantInterval=!1,this.intervalStartPosition=t,this.interval=d}else this.options.interval||(d=Math.ceil(this.interval),this.range>this.interval&&(this.interval=d,n=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=n;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(t=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(t)||!isFinite(t))&&(t=2),2<t))for(g=0;g<t-2;g++)this.valueFormatString+="#"},nt.generateValueFormatString=function(t,d){var o="#,##0.",n=d;1>t&&(n+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),isNaN(n)||!isFinite(n))&&(n=d);for(var l=0;l<n;l++)o+="#";return o},nt.getNiceExponent=function(t,d){var o=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,o);return n=0>o?1>=n?1:5>=n?5:10:Math.max(Math.floor(n),1),Number(-20>o?n*Math.pow(10,o):(n*Math.pow(10,o)).toFixed(20))},nt.getNiceNumber=function(t,d){var o=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,o);return n=d?1.5>n?1:3>n?2:7>n?5:10:1>=n?1:2>=n?2:5>=n?5:10,Number(-20>o?n*Math.pow(10,o):(n*Math.pow(10,o)).toFixed(20))},nt.prototype.getLabelStartPoint=function(){var t=Tt[this.intervalType+"Duration"]*this.interval;return t=new Date(Math.floor(this.viewportMinimum/t)*t),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):"minute"===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):"hour"===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"day"===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"week"===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"month"===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"year"===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},He(It,Me),He(Et,Me),Et.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var d=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(We(this.parent[this.optionsName]),d=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options[this.optionsName][d]=this.options}},Et.prototype.render=function(t){if(0!==this.spacing||0!==this.options.lineThickness&&(typeof this.options.lineThickness<"u"||0!==this.parent.lineThickness)){var d=this.ctx,o=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var p,g,M,_,f,m,n=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),l=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,Nt(this.id),t=Math.max(this.spacing,3);var y=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=y,this.ctx.setLineDash&&this.ctx.setLineDash(mt(this.lineDashType,y)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(g=y%2==1?.5+(0|l.x):0|l.x,"top"===this.scaleBreaks.parent._position?(l=this.chart.plotArea.y1,M=this.chart.plotArea.y2+y/2+.5|0):(l=this.chart.plotArea.y2,M=this.chart.plotArea.y1-y/2+.5|0,t*=-1),this.bounds={x1:(n=y%2==1?.5+(0|n.x):0|n.x)-y/2,y1:l,x2:g+y/2,y2:M},this.ctx.moveTo(n,l),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=t||"bottom"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(n,M),this.ctx.lineTo(g,M),this.ctx.lineTo(g,l);else if("wavy"===this.type){_=n,p=.5,m=(M-(f=l))/t/3;for(var v=0;v<m;v++)this.ctx.bezierCurveTo(_+p*t,f+t,_+p*t,f+2*t,_,f+3*t),f+=3*t,p*=-1;for(this.ctx.bezierCurveTo(_+p*t,f+t,_+p*t,f+2*t,_,f+3*t),p*=-1,this.ctx.lineTo(_=g,f),v=0;v<m;v++)this.ctx.bezierCurveTo(_+p*t,f-t,_+p*t,f-2*t,_,f-3*t),f-=3*t,p*=-1}else if("zigzag"===this.type){for(p=-1,_=n+t,m=(M-(f=l+t))/t/2,v=0;v<m;v++)this.ctx.lineTo(_,f),_+=2*p*t,f+=2*t,p*=-1;for(this.ctx.lineTo(_,f),_+=g-n,v=0;v<m+1;v++)this.ctx.lineTo(_,f),_+=2*p*t,f-=2*t,p*=-1;this.ctx.lineTo(_+p*t,f+t)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(M=y%2==1?.5+(0|n.y):0|n.y,"left"===this.scaleBreaks.parent._position?(n=this.chart.plotArea.x1,g=this.chart.plotArea.x2+y/2+.5|0):(n=this.chart.plotArea.x2,g=this.chart.plotArea.x1-y/2+.5|0,t*=-1),this.bounds={x1:n,y1:(l=y%2==1?.5+(0|l.y):0|l.y)-y/2,x2:g,y2:M+y/2},this.ctx.moveTo(n,l),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=t||"right"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(g,l),this.ctx.lineTo(g,M),this.ctx.lineTo(n,M);else if("wavy"===this.type){for(f=l,p=.5,m=(g-(_=n))/t/3,v=0;v<m;v++)this.ctx.bezierCurveTo(_+t,f+p*t,_+2*t,f+p*t,_+3*t,f),_+=3*t,p*=-1;for(this.ctx.bezierCurveTo(_+t,f+p*t,_+2*t,f+p*t,_+3*t,f),p*=-1,this.ctx.lineTo(_,f=M),v=0;v<m;v++)this.ctx.bezierCurveTo(_-t,f+p*t,_-2*t,f+p*t,_-3*t,f),_-=3*t,p*=-1}else if("zigzag"===this.type){for(p=1,f=l-t,m=(g-(_=n+t))/t/2,v=0;v<m;v++)this.ctx.lineTo(_,f),f+=2*p*t,_+=2*t,p*=-1;for(this.ctx.lineTo(_,f),f+=M-l,v=0;v<m+1;v++)this.ctx.lineTo(_,f),f+=2*p*t,_-=2*t,p*=-1;this.ctx.lineTo(_+t,f+p*t)}0<y&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=o,this.ctx=d}},He(Ut,Me),Ut.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var d=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(We(this.parent.stripLines),d=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options.stripLines[d]=this.options}},Ut.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),d=Math.abs("pixel"===this._thicknessType?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<d){var o=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var l,p,g,M,n=this.ctx.globalAlpha;this.ctx.globalAlpha=o,Nt(this.id),this.ctx.lineWidth=d,this.ctx.setLineDash&&this.ctx.setLineDash(mt(this.lineDashType,d)),"bottom"===this.parent._position||"top"===this.parent._position?(l=p=this.ctx.lineWidth%2==1?.5+(0|t.x):0|t.x,this.bounds={x1:l-d/2,y1:g=this.chart.plotArea.y1,x2:p+d/2,y2:M=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(g=M=this.ctx.lineWidth%2==1?.5+(0|t.y):0|t.y,this.bounds={x1:l=this.chart.plotArea.x1,y1:g-d/2,x2:p=this.chart.plotArea.x2,y2:M+d/2}),this.ctx.moveTo(l,g),this.ctx.lineTo(p,M),this.ctx.stroke(),this.ctx.globalAlpha=n}this.ctx.restore()},He(Ye,Me),Ye.prototype.showAt=function(t){if(!this.enabled)return!1;var d=this.chart,o=!1;if(d.resetOverlayedCanvas(),d.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),"xySwapped"===d.plotInfo.axisPlacement){if("bottom"===this.parent._position)for(var n=0;n<d.axisY.length;n++)this.parent===d.axisY[n]&&(d.axisY[n]._crosshairValue=t>=d.axisY[n].viewportMinimum&&t<=d.axisY[n].viewportMaximum?t:null);else if("top"===this.parent._position)for(n=0;n<d.axisY2.length;n++)this.parent===d.axisY2[n]&&(d.axisY2[n]._crosshairValue=t>=d.axisY2[n].viewportMinimum&&t<=d.axisY2[n].viewportMaximum?t:null);else if("left"===this.parent._position)for(n=0;n<d.axisX.length;n++)this.parent===d.axisX[n]&&(d.axisX[n]._crosshairValue=t>=d.axisX[n].viewportMinimum&&t<=d.axisX[n].viewportMaximum?t:null);else if("right"===this.parent._position)for(n=0;n<d.axisX2.length;n++)this.parent===d.axisX2[n]&&(d.axisX2[n]._crosshairValue=t>=d.axisX2[n].viewportMinimum&&t<=d.axisX2[n].viewportMaximum?t:null)}else if("bottom"===this.parent._position)for(n=0;n<d.axisX.length;n++)this.parent===d.axisX[n]&&(d.axisX[n]._crosshairValue=t>=d.axisX[n].viewportMinimum&&t<=d.axisX[n].viewportMaximum?t:null);else if("top"===this.parent._position)for(n=0;n<d.axisX2.length;n++)this.parent===d.axisX2[n]&&(d.axisX2[n]._crosshairValue=t>=d.axisX2[n].viewportMinimum&&t<=d.axisX2[n].viewportMaximum?t:null);else if("left"===this.parent._position)for(n=0;n<d.axisY.length;n++)this.parent===d.axisY[n]&&(d.axisY[n]._crosshairValue=t>=d.axisY[n].viewportMinimum&&t<=d.axisY[n].viewportMaximum?t:null);else if("right"===this.parent._position)for(n=0;n<d.axisY2.length;n++)this.parent===d.axisY2[n]&&(d.axisY2[n]._crosshairValue=t>=d.axisY2[n].viewportMinimum&&t<=d.axisY2[n].viewportMaximum?t:null);for(n=0;n<d.axisX.length;n++)t=d.axisX[n]._crosshairValue,d.axisX[n].crosshair&&d.axisX[n].crosshair.enabled&&!E(t)&&t>=d.axisX[n].viewportMinimum&&t<=d.axisX[n].viewportMaximum&&(d.axisX[n].showCrosshair(t),d.axisX[n].crosshair._updatedValue=t,this===d.axisX[n].crosshair&&(o=!0));for(n=0;n<d.axisX2.length;n++)t=d.axisX2[n]._crosshairValue,d.axisX2[n].crosshair&&d.axisX2[n].crosshair.enabled&&!E(t)&&t>=d.axisX2[n].viewportMinimum&&t<=d.axisX2[n].viewportMaximum&&(d.axisX2[n].showCrosshair(t),d.axisX2[n].crosshair._updatedValue=t,this===d.axisX2[n].crosshair&&(o=!0));for(n=0;n<d.axisY.length;n++)t=d.axisY[n]._crosshairValue,d.axisY[n].crosshair&&d.axisY[n].crosshair.enabled&&!E(t)&&t>=d.axisY[n].viewportMinimum&&t<=d.axisY[n].viewportMaximum&&(d.axisY[n].showCrosshair(t),d.axisY[n].crosshair._updatedValue=t,this===d.axisY[n].crosshair&&(o=!0));for(n=0;n<d.axisY2.length;n++)t=d.axisY2[n]._crosshairValue,d.axisY2[n].crosshair&&d.axisY2[n].crosshair.enabled&&!E(t)&&t>=d.axisY2[n].viewportMinimum&&t<=d.axisY2[n].viewportMaximum&&(d.axisY2[n].showCrosshair(t),d.axisY2[n].crosshair._updatedValue=t,this===d.axisY2[n].crosshair&&(o=!0));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),o},Ye.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},Ye.prototype.render=function(t,d,o){var n,l,p,g,M=null,_=null,f=null,m="";this.valueFormatString||("dateTime"===this.parent.valueType?this.valueFormatString=this.parent.valueFormatString:(f=0,f="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=nt.generateValueFormatString(this.parent.range,f)));var y=null===this.opacity?1:this.opacity,v=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),h=this.chart.overlaidCanvasCtx,C=h.globalAlpha;if(h.beginPath(),h.strokeStyle=this.color,h.lineWidth=v,h.save(),this.labelFontSize=Math.abs(E(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=E(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=E(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<v&&h.setLineDash&&h.setLineDash(mt(this.lineDashType,v)),f=new ie(h,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:m,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var S=0;if(m=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var F=null;"bottom"===this.parent._position||"top"===this.parent._position?S=this.parent.dataSeries[0].axisX.convertPixelToValue({y:d}):("left"===this.parent._position||"right"===this.parent._position)&&(S=this.parent.convertPixelToValue({y:d}));for(var P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(S,!0))&&0<=F.index&&(F.dataSeries=this.parent.dataSeries[P],null!==F.dataPoint.y&&F.dataSeries.visible&&m.push(F));if(F=null,0===m.length)return;m.sort(function(Y,et){return Y.distance-et.distance});var A,I=F=0;for(yPercent=cumulativeY=0,S=1/0,P=0;P<m.length;P++){if("rangeBar"===m[P].dataSeries.type||"error"===m[P].dataSeries.type){if(m[P].dataPoint.y)for(var z=0;z<m[P].dataPoint.y.length;z++)(I=Math.abs(t-this.parent.convertValueToPixel(m[P].dataPoint.y[z])))<=S&&(S=I,F=P)}else"stackedBar"===m[P].dataSeries.type?(cumulativeY=m[P].dataSeries.dataPointEOs[m[P].index].cumulativeY,(I=Math.abs(t-this.parent.convertValueToPixel(cumulativeY)))<=S&&(S=I,F=P)):"stackedBar100"===m[P].dataSeries.type?(I=m[0].dataPoint.x.getTime?m[0].dataPoint.x.getTime():m[0].dataPoint.x,E(A)&&(A=Math.abs(t-this.parent.convertValueToPixel(m[0].dataSeries.dataPointEOs[m[0].index].cumulativeY/m[0].dataSeries.plotUnit.dataPointYSums[I]*100))),cumulativeY=m[P].dataSeries.dataPointEOs[m[P].index].cumulativeY,I=m[P].dataPoint.x.getTime?m[P].dataPoint.x.getTime():m[P].dataPoint.x,yPercent=cumulativeY/m[P].dataSeries.plotUnit.dataPointYSums[I]*100,(I=Math.abs(t-this.parent.convertValueToPixel(yPercent)))<=A&&(A=I,F=P)):(I=Math.abs(t-this.parent.convertValueToPixel(m[P].dataPoint.y)))<=S&&(S=I,F=P);E(A)||(S=Math.min(S,A))}if(A=m[F],P=0,"bottom"===this.parent._position||"top"===this.parent._position){if("rangeBar"===A.dataSeries.type||"error"===A.dataSeries.type){for(S=Math.abs(t-this.parent.convertValueToPixel(A.dataPoint.y[0])),m=0;m<A.dataPoint.y.length;m++)(I=Math.abs(t-this.parent.convertValueToPixel(A.dataPoint.y[m])))<S&&(S=I,P=m);M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataPoint.y[P])):0|this.parent.convertValueToPixel(A.dataPoint.y[P]),this.value=A.dataPoint.y[P],f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.y[P]}):E(this.options.label)?Ht(E(o)?A.dataPoint.y[P]:o,this.valueFormatString,this.chart._cultureInfo):this.label}else"stackedBar"===A.dataSeries.type?(S=Math.abs(t-this.parent.convertValueToPixel(m[0].dataPoint.y)),cumulativeY=A.dataSeries.dataPointEOs[A.index].cumulativeY,M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(cumulativeY)):0|this.parent.convertValueToPixel(cumulativeY),this.value=cumulativeY,f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:cumulativeY}):E(this.options.label)?Ht(E(o)?cumulativeY:o,this.valueFormatString,this.chart._cultureInfo):this.label):"stackedBar100"===A.dataSeries.type?(S=Math.abs(t-this.parent.convertValueToPixel(m[0].dataPoint.y)),cumulativeY=A.dataSeries.dataPointEOs[A.index].cumulativeY,I=A.dataPoint.x.getTime?A.dataPoint.x.getTime():A.dataPoint.x,yPercent=cumulativeY/A.dataSeries.plotUnit.dataPointYSums[I]*100,M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(yPercent)):0|this.parent.convertValueToPixel(yPercent),this.value=yPercent,f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:yPercent}):E(this.options.label)?Ht(E(o)?yPercent:o,this.valueFormatString,this.chart._cultureInfo):this.label):(M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataPoint.y)):0|this.parent.convertValueToPixel(A.dataPoint.y),this.value=A.dataPoint.y,f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.y}):E(this.options.label)?Ht(E(o)?A.dataPoint.y:o,this.valueFormatString,this.chart._cultureInfo):this.label);n=l=M,this.bounds={x1:n-v/2,y1:p=this.chart.plotArea.y1,x2:l+v/2,y2:g=this.chart.plotArea.y2},f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2?f.x=this.chart.bounds.x2-f.width:f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),f.y=this.parent.lineCoordinates.y2+("top"===this.parent._position?-f.height+this.parent.tickLength:f.fontSize/2)+2,f.y+f.height>this.chart.bounds.y2?f.y=this.chart.bounds.y2-f.height:f.y<this.chart.bounds.y1&&(f.y=this.chart.bounds.y1)}else if("left"===this.parent._position||"right"===this.parent._position){if(p=g=_=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataPoint.x)):0|this.parent.convertValueToPixel(A.dataPoint.x),this.bounds={x1:n=this.chart.plotArea.x1,y1:p-v/2,x2:l=this.chart.plotArea.x2,y2:g+v/2},P=!1,this.parent.labels)for(S=Math.ceil(this.parent.interval),m=0;m<this.parent.viewportMaximum;m+=S){if(!this.parent.labels[m]){P=!1;break}P=!0}if(P){if("axisX"===this.parent.type)for(S=this.parent.convertPixelToValue({y:d}),F=null,P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(S,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):E(this.options.label)?F.dataPoint.label:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):E(this.options.label)?Ht(A.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):E(this.options.label)?Li(A.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=A.dataPoint.x,f.y=g+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x2-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(S=this.parent.convertPixelToValue({x:t}),P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(S,!0))&&0<=F.index&&(F.dataSeries=this.parent.dataSeries[P],null!==F.dataPoint.y&&F.dataSeries.visible&&m.push(F));if(0===m.length)return;if(m.sort(function(Y,et){return Y.distance-et.distance}),A=m[0],n=l=M=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataPoint.x)):0|this.parent.convertValueToPixel(A.dataPoint.x),this.bounds={x1:n-v/2,y1:p=this.chart.plotArea.y1,x2:l+v/2,y2:g=this.chart.plotArea.y2},P=!1,this.parent.labels)for(S=Math.ceil(this.parent.interval),m=0;m<this.parent.viewportMaximum;m+=S){if(!this.parent.labels[m]){P=!1;break}P=!0}if(P){if("axisX"===this.parent.type)for(S=this.parent.convertPixelToValue({x:t}),F=null,P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(S,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):E(this.options.label)?F.dataPoint.label:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):E(this.options.label)?Ht(A.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.x}):E(this.options.label)?Li(A.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=A.dataPoint.x,f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.width),f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"bottom"===this.parent._position?f.y=this.parent.lineCoordinates.y2+f.fontSize/2+2:"top"===this.parent._position&&(f.y=this.parent.lineCoordinates.y1-f.height+f.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!E(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(S=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t})),P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(S,!0))&&0<=F.index&&(F.dataSeries=this.parent.dataSeries[P],null!==F.dataPoint.y&&F.dataSeries.visible&&m.push(F));if(0===m.length)return;for(m.sort(function(Y,et){return Y.distance-et.distance}),I=F=0,S=1/0,P=0;P<m.length;P++){if("rangeColumn"===m[P].dataSeries.type||"rangeArea"===m[P].dataSeries.type||"error"===m[P].dataSeries.type||"rangeSplineArea"===m[P].dataSeries.type||"candlestick"===m[P].dataSeries.type||"ohlc"===m[P].dataSeries.type||"boxAndWhisker"===m[P].dataSeries.type){if(m[P].dataPoint.y)for(z=0;z<m[P].dataPoint.y.length;z++)(I=Math.abs(d-this.parent.convertValueToPixel(m[P].dataPoint.y[z])))<=S&&(S=I,F=P)}else"stackedColumn"===m[P].dataSeries.type||"stackedArea"===m[P].dataSeries.type?(n=m[P].dataSeries.dataPointEOs[m[P].index].cumulativeY,(I=Math.abs(d-this.parent.convertValueToPixel(n)))<=S&&(S=I,F=P)):"stackedColumn100"===m[P].dataSeries.type||"stackedArea100"===m[P].dataSeries.type?(I=m[0].dataPoint.x.getTime?m[0].dataPoint.x.getTime():m[0].dataPoint.x,E(A)&&(A=Math.abs(d-this.parent.convertValueToPixel(m[0].dataSeries.dataPointEOs[m[0].index].cumulativeY/m[0].dataSeries.plotUnit.dataPointYSums[I]*100))),("stackedColumn100"===m[P].dataSeries.type||"stackedArea100"===m[P].dataSeries.type)&&(_=m[P].dataSeries.dataPointEOs[m[P].index].cumulativeY,I=m[P].dataPoint.x.getTime?m[P].dataPoint.x.getTime():m[P].dataPoint.x,n=_/m[P].dataSeries.plotUnit.dataPointYSums[I]*100,(I=Math.abs(d-this.parent.convertValueToPixel(n)))<=A&&(A=I,F=P))):"waterfall"===m[P].dataSeries.type?(I=Math.abs(d-this.parent.convertValueToPixel(m[P].dataSeries.dataPointEOs[m[P].index].cumulativeSum)))<=S&&(A=S=I,F=P):(I=Math.abs(d-this.parent.convertValueToPixel(m[P].dataPoint.y)))<=S&&(S=I,F=P);E(A)||(S=Math.min(S,A))}if(P=0,"rangeColumn"===(A=m[F]).dataSeries.type||"rangeArea"===A.dataSeries.type||"error"===A.dataSeries.type||"rangeSplineArea"===A.dataSeries.type||"candlestick"===A.dataSeries.type||"ohlc"===A.dataSeries.type||"boxAndWhisker"===A.dataSeries.type){for(S=Math.abs(d-this.parent.convertValueToPixel(A.dataPoint.y[0])),m=0;m<A.dataPoint.y.length;m++)(I=Math.abs(d-this.parent.convertValueToPixel(A.dataPoint.y[m])))<S&&(S=I,P=m);_=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataPoint.y[P])):0|this.parent.convertValueToPixel(A.dataPoint.y[P]),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataPoint.y[P]}):E(this.options.label)?Ht(E(o)?A.dataPoint.y[P]:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=A.dataPoint.y[P]}else"stackedColumn"===A.dataSeries.type||"stackedArea"===A.dataSeries.type?(n=A.dataSeries.dataPointEOs[A.index].cumulativeY,_=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(n)):0|this.parent.convertValueToPixel(n),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:n}):E(this.options.label)?Ht(E(o)?n:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=n):"stackedColumn100"===A.dataSeries.type||"stackedArea100"===A.dataSeries.type?(_=A.dataSeries.dataPointEOs[A.index].cumulativeY,I=A.dataPoint.x.getTime?A.dataPoint.x.getTime():A.dataPoint.x,n=_/A.dataSeries.plotUnit.dataPointYSums[I]*100,_=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(n)):0|this.parent.convertValueToPixel(n),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:n}):E(this.options.label)?Ht(E(o)?n:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=n):"waterfall"===A.dataSeries.type?(_=h.lineWidth%2==1?.5+(0|this.parent.convertValueToPixel(A.dataSeries.dataPointEOs[A.index].cumulativeSum)):0|this.parent.convertValueToPixel(A.dataSeries.dataPointEOs[A.index].cumulativeSum),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:A.dataSeries.dataPointEOs[A.index].cumulativeSum}):E(this.options.label)?Ht(E(o)?A.dataSeries.dataPointEOs[A.index].cumulativeSum:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=A.dataSeries.dataPointEOs[A.index].cumulativeSum):(_=h.lineWidth%2==1?(E(t)?d:0|this.parent.convertValueToPixel(A.dataPoint.y))+.5:E(t)?d:0|this.parent.convertValueToPixel(A.dataPoint.y),f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E(o)?A.dataPoint.y:o}):E(this.options.label)?Ht(E(o)?A.dataPoint.y:o,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=A.dataPoint.y);p=g=_,this.bounds={x1:n=this.chart.plotArea.x1,y1:p-v/2,x2:l=this.chart.plotArea.x2,y2:g+v/2},f.y=g+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x2-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2)}m=null,h.globalAlpha=y,("bottom"===this.parent._position||"top"===this.parent._position)&&("top"===this.parent._position&&f.y-f.fontSize/2<this.chart.bounds.y1&&(f.y=this.chart.bounds.y1+f.fontSize/2),"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-f.fontSize/2+f.measureText().height>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.height+f.fontSize/2+2),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<v&&(h.moveTo(n,p),h.lineTo(l,g),h.stroke(),this._hidden=!1)),("left"===this.parent._position||"right"===this.parent._position)&&("left"===this.parent._position&&f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"right"===this.parent._position&&f.x+f.measureText().width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.measureText().width),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<v&&(h.moveTo(n,p),h.lineTo(l,g),h.stroke(),this._hidden=!1))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(n=l=M=h.lineWidth%2==1?.5+(0|t):0|t,this.bounds={x1:n-v/2,y1:p=this.chart.plotArea.y1,x2:l+v/2,y2:g=this.chart.plotArea.y2}):("left"===this.parent._position||"right"===this.parent._position)&&(p=g=_=h.lineWidth%2==1?.5+(0|d):0|d,this.bounds={x1:n=this.chart.plotArea.x1,y1:p-v/2,x2:l=this.chart.plotArea.x2,y2:g+v/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(P=!1,this.parent.labels)for(S=Math.ceil(this.parent.interval),m=0;m<this.parent.viewportMaximum;m+=S){if(!this.parent.labels[m]){P=!1;break}P=!0}if(P){if("axisX"===this.parent.type)for(S=this.parent.convertPixelToValue({y:d}),F=null,P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(S,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E(o)?this.parent.convertPixelToValue(t):o}):E(this.options.label)?F.dataPoint.label:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E(o)?this.parent.convertPixelToValue(d):o}):E(this.options.label)?Ht(E(o)?this.parent.convertPixelToValue(d):o,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E(o)?this.parent.convertPixelToValue(d):o}):E(this.options.label)?Li(E(o)?this.parent.convertPixelToValue(d):o,this.valueFormatString,this.chart._cultureInfo):this.label;f.y=d+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x1-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2)}else("bottom"===this.parent._position||"top"===this.parent._position)&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E(o)?this.parent.convertPixelToValue(t):o}):E(this.options.label)?Ht(E(o)?this.parent.convertPixelToValue(t):o,this.valueFormatString,this.chart._cultureInfo):this.label,f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.width),f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"bottom"===this.parent._position?f.y=this.parent.lineCoordinates.y2+f.fontSize/2+2:"top"===this.parent._position&&(f.y=this.parent.lineCoordinates.y1-f.height+f.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(P=!1,m="",this.parent.labels)for(S=Math.ceil(this.parent.interval),m=0;m<this.parent.viewportMaximum;m+=S){if(!this.parent.labels[m]){P=!1;break}P=!0}if(P){if("axisX"===this.parent.type)for(S=this.parent.convertPixelToValue({x:t}),F=null,P=0;P<this.parent.dataSeries.length;P++)(F=this.parent.dataSeries[P].getDataPointAtX(S,!0))&&0<=F.index&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E(o)?this.parent.convertPixelToValue(t):o}):E(this.options.label)?E(o)?F.dataPoint.label:o:this.label)}else f.text="dateTime"!==this.parent.valueType||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E(o)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):"":o}):E(this.options.label)?Ht(E(o)?this.parent.convertPixelToValue(t):o,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E(o)?this.parent.convertPixelToValue(t):o}):E(this.options.label)?Li(E(o)?this.parent.convertPixelToValue(t):o,this.valueFormatString,this.chart._cultureInfo):this.label;f.x=n-f.measureText().width/2,f.x+f.width>this.chart.bounds.x2&&(f.x=this.chart.bounds.x2-f.width),f.x<this.chart.bounds.x1&&(f.x=this.chart.bounds.x1),"bottom"===this.parent._position?f.y=this.parent.lineCoordinates.y2+f.fontSize/2+2:"top"===this.parent._position&&(f.y=this.parent.lineCoordinates.y1-f.height+f.fontSize/2+2)}else("left"===this.parent._position||"right"===this.parent._position)&&(f.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:E(o)?this.parent.convertPixelToValue(d):o}):E(this.options.label)?Ht(E(o)?this.parent.convertPixelToValue(d):o,this.valueFormatString,this.chart._cultureInfo):this.label,f.y=d+f.fontSize/2-f.measureText().height/2+2,f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2+2:f.y+f.measureText().height-f.fontSize/2>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.measureText().height+f.fontSize/2),"left"===this.parent._position?f.x=this.parent.lineCoordinates.x2-f.measureText().width:"right"===this.parent._position&&(f.x=this.parent.lineCoordinates.x2));"left"===this.parent._position&&f.x<this.chart.bounds.x1?f.x=this.chart.bounds.x1:"right"===this.parent._position&&f.x+f.measureText().width>this.chart.bounds.x2?f.x=this.chart.bounds.x2-f.measureText().width:"top"===this.parent._position&&f.y-f.fontSize/2<this.chart.bounds.y1?f.y=this.chart.bounds.y1+f.fontSize/2:"bottom"===this.parent._position&&this.parent.lineCoordinates.y2-f.fontSize/2+f.measureText().height>this.chart.bounds.y2&&(f.y=this.chart.bounds.y2-f.height+f.fontSize/2+2),h.globalAlpha=y,0<v&&(h.moveTo(n,p),h.lineTo(l,g),h.stroke(),this._hidden=!1),this.value=this.parent.convertPixelToValue("bottom"===this.parent._position||"top"===this.parent._position?t:d)}("bottom"===this.parent._position||"top"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(M)),("left"===this.parent._position||"right"===this.parent._position)&&(this._updatedValue=this.parent.convertPixelToValue(_)),this._textBlock=f,this._label=o,E(o)||this.renderLabel(),h.restore(),h.globalAlpha=C},Ye.prototype.renderLabel=function(){this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&(E(this._textBlock)||E(this._textBlock.text)||!("number"==typeof this._textBlock.text.valueOf()||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0),E(this._label)&&this.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this.parent,value:this.value},this.parent))},He(Ce,Me),Ce.prototype._updateOptions=function(){this.updateOption("enabled"),this.updateOption("shared"),this.updateOption("animationEnabled"),this.updateOption("content"),this.updateOption("contentFormatter"),this.updateOption("reversed"),this.updateOption("backgroundColor"),this.updateOption("borderColor"),this.updateOption("borderThickness"),this.updateOption("cornerRadius"),this.updateOption("fontSize"),this.updateOption("fontColor"),this.updateOption("fontFamily"),this.updateOption("fontWeight"),this.updateOption("fontStyle")},Ce.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var t=document.createElement("div");t.style.width="auto",t.style.height="auto",t.style.minWidth="50px",t.style.lineHeight="normal",t.style.margin="0px 0px 0px 0px",t.style.padding="5px",t.style.fontFamily="Calibri, Arial, Georgia, serif",t.style.fontWeight="normal",t.style.fontStyle=H?"italic":"normal",t.style.fontSize="14px",t.style.color="#000000",t.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",t.style.textAlign="left",t.style.border="2px solid gray",t.style.background=H?"rgba(255,255,255,.9)":"rgb(255,255,255)",t.style.textIndent="0px",t.style.whiteSpace="nowrap",t.style.borderRadius="5px",t.style.MozUserSelect="none",t.style.WebkitUserSelect="none",t.style.msUserSelect="none",t.style.userSelect="none",H||(t.style.filter="alpha(opacity = 90)",t.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),t.innerText="Sample Tooltip",this.container.appendChild(t),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},Ce.prototype.mouseMoveHandler=function(t,d){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,d),this.enabled&&this._updatedEventParameters&&!isNaN(this._prevX)&&!isNaN(this._prevY)&&this.dispatchEvent("updated",this._updatedEventParameters,this))},Ce.prototype._updateToolTip=function(t,d,o){if(o=typeof o>"u"||o,this._updateOptions(),this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof t>"u"||typeof d>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,d=this._prevY}else this._prevX=t,this._prevY=d;var n=null,l=null,p=[],g=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){var M=[];if(this.chart.axisX)for(var _=0;_<this.chart.axisX.length;_++){g=this.chart.axisX[_].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:d}:{x:t});var f=null;for(n=0;n<this.chart.axisX[_].dataSeries.length;n++)(f=this.chart.axisX[_].dataSeries[n].getDataPointAtX(g,o))&&0<=f.index&&(f.dataSeries=this.chart.axisX[_].dataSeries[n],null!==f.dataPoint.y&&f.dataSeries.visible&&M.push(f));f=null}if(this.chart.axisX2)for(_=0;_<this.chart.axisX2.length;_++){for(g=this.chart.axisX2[_].convertPixelToValue("xySwapped"===this.chart.plotInfo.axisPlacement?{y:d}:{x:t}),f=null,n=0;n<this.chart.axisX2[_].dataSeries.length;n++)(f=this.chart.axisX2[_].dataSeries[n].getDataPointAtX(g,o))&&0<=f.index&&(f.dataSeries=this.chart.axisX2[_].dataSeries[n],null!==f.dataPoint.y&&f.dataSeries.visible&&M.push(f));f=null}if(0===M.length)return;for(M.sort(function(m,y){return m.dataSeries.axisX.logarithmic||y.dataSeries.axisX.logarithmic?m.distance-y.distance:m.distance/m.dataSeries.axisX.range-y.distance/y.dataSeries.axisX.range}),o=M[0],n=0;n<M.length;n++)M[n].dataPoint.x.valueOf()===o.dataPoint.x.valueOf()&&p.push(M[n]);M=null}else{if(n=this.chart.getDataPointAtXY(t,d,o))this.currentDataPointIndex=n.dataPointIndex,this.currentSeriesIndex=n.dataSeries.index;else if(H)if(0<(n=ze(t,d,this.chart._eventManager.ghostCtx))&&typeof this.chart._eventManager.objectMap[n]<"u"){if("legendItem"===(n=this.chart._eventManager.objectMap[n]).objectType)return;this.currentSeriesIndex=n.dataSeriesIndex,this.currentDataPointIndex=0<=n.dataPointIndex?n.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(l=this.chart.data[this.currentSeriesIndex],f={},0<=this.currentDataPointIndex)n=l.dataPoints[this.currentDataPointIndex],f.dataSeries=l,f.dataPoint=n,f.index=this.currentDataPointIndex,f.distance=Math.abs(n.x-g),"waterfall"===l.type&&(f.cumulativeSumYStartValue=l.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,f.cumulativeSum=l.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||!l||"line"!==l.type&&"stepLine"!==l.type&&"spline"!==l.type&&"area"!==l.type&&"stepArea"!==l.type&&"splineArea"!==l.type&&"stackedArea"!==l.type&&"stackedArea100"!==l.type&&"rangeArea"!==l.type&&"rangeSplineArea"!==l.type&&"candlestick"!==l.type&&"ohlc"!==l.type&&"boxAndWhisker"!==l.type)return void("toolTip"===this.chart.clearedOverlayedCanvas&&(this.chart.resetOverlayedCanvas(),this.chart.clearedOverlayedCanvas=null));g=l.axisX.convertPixelToValue({x:t}),E(f=l.getDataPointAtX(g,o))||(f.dataSeries=l,this.currentDataPointIndex=f.index,n=f.dataPoint)}if(!E(f)&&!E(f.dataPoint)&&!E(f.dataPoint.y))if(f.dataSeries.axisY)if(0<f.dataPoint.y.length){for(n=o=0;n<f.dataPoint.y.length;n++)f.dataPoint.y[n]<f.dataSeries.axisY.viewportMinimum?o--:f.dataPoint.y[n]>f.dataSeries.axisY.viewportMaximum&&o++;o<f.dataPoint.y.length&&o>-f.dataPoint.y.length&&p.push(f)}else"column"===l.type||"bar"===l.type?0>f.dataPoint.y?0>f.dataSeries.axisY.viewportMinimum&&f.dataSeries.axisY.viewportMaximum>=f.dataPoint.y&&p.push(f):f.dataSeries.axisY.viewportMinimum<=f.dataPoint.y&&0<=f.dataSeries.axisY.viewportMaximum&&p.push(f):"bubble"===l.type?f.dataPoint.y>=f.dataSeries.axisY.viewportMinimum-(o=this.chart._eventManager.objectMap[l.dataPointIds[f.index]].size/2)&&f.dataPoint.y<=f.dataSeries.axisY.viewportMaximum+o&&p.push(f):"waterfall"===l.type?(o=0,f.cumulativeSumYStartValue<f.dataSeries.axisY.viewportMinimum?o--:f.cumulativeSumYStartValue>f.dataSeries.axisY.viewportMaximum&&o++,f.cumulativeSum<f.dataSeries.axisY.viewportMinimum?o--:f.cumulativeSum>f.dataSeries.axisY.viewportMaximum&&o++,2>o&&-2<o&&p.push(f)):(0<=f.dataSeries.type.indexOf("100")||"stackedColumn"===l.type||"stackedBar"===l.type||f.dataPoint.y>=f.dataSeries.axisY.viewportMinimum&&f.dataPoint.y<=f.dataSeries.axisY.viewportMaximum)&&p.push(f);else p.push(f)}}if(0<p.length){if(this.highlightObjects(p),this.enabled){if(o="",null!==(o=this.getToolTipInnerHTML({entries:p}))){if(this.contentDiv.innerHTML=o,this.isToolTipDefinedInData&&E(this.options.content)&&E(this.options.contentFormatter))for(g=this.contentDiv.getElementsByTagName("span"),n=0;n<g.length;n++)g[n]&&(g[n].style.color=g[n].getAttribute("data-color"));g=!1,"none"===this.container.style.display&&(g=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:H?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:0<p[0].dataPoint.y?p[0].dataSeries.risingColor:p[0].dataSeries.fallingColor:"error"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[l.index%p[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[p[0].index%p[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:H?"italic":"normal"}catch{}"pie"===p[0].dataSeries.type||"doughnut"===p[0].dataSeries.type||"funnel"===p[0].dataSeries.type||"pyramid"===p[0].dataSeries.type||"bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?t=t-10-this.container.clientWidth:(t=p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)-this.container.clientWidth|0,t-=10),0>t&&(t+=this.container.clientWidth+20),t+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(t=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(d=10-(d=1!==p.length||this.shared||"line"!==p[0].dataSeries.type&&"stepLine"!==p[0].dataSeries.type&&"spline"!==p[0].dataSeries.type&&"area"!==p[0].dataSeries.type&&"stepArea"!==p[0].dataSeries.type&&"splineArea"!==p[0].dataSeries.type?"bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x):d:p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y)))+this.container.clientHeight+5&&(d-=d+this.container.clientHeight+5-0),this.fixMozTransitionDelay(t,d),!this.animationEnabled||g?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=t,this.positionBottom=d,this.container.style.left=t+"px",this.container.style.bottom=d+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(d=[],n=0;n<p.length;n++)d.push({xValue:p[n].dataPoint.x,dataPoint:p[n].dataPoint,dataSeries:p[n].dataSeries,dataPointIndex:p[n].index,dataSeriesIndex:p[n].dataSeries._index});this._updatedEventParameters={chart:this.chart,toolTip:this.options,content:o,entries:d},this._entries=p}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);this._dataSeriesIndex=this._xValue=null}},Ce.prototype.highlightObjects=function(t){var d=this.chart.overlaidCanvasCtx;E(this.chart.clearedOverlayedCanvas)||"toolTip"===this.chart.clearedOverlayedCanvas?(this.chart.resetOverlayedCanvas(),d.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"):this.chart.clearedOverlayedCanvas=null,d.save();var o=this.chart.plotArea,n=0;for(d.beginPath(),d.rect(o.x1,o.y1,o.x2-o.x1,o.y2-o.y1),d.clip(),o=0;o<t.length;o++){var l=t[o];if((l=this.chart._eventManager.objectMap[l.dataSeries.dataPointIds[l.index]])&&l.objectType&&"dataPoint"===l.objectType){var p=(n=this.chart.data[l.dataSeriesIndex]).dataPoints[l.dataPointIndex],g=l.dataPointIndex;!1===p.highlightEnabled||!0!==n.highlightEnabled&&!0!==p.highlightEnabled||("line"===n.type||"stepLine"===n.type||"spline"===n.type||"scatter"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type?((p=n.getMarkerProperties(g,l.x1,l.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*p.size|0,10),p.borderColor=p.borderColor||"#FFFFFF",p.borderThickness=p.borderThickness||Math.ceil(.1*p.size),me.drawMarkers([p]),typeof l.y2<"u"&&((p=n.getMarkerProperties(g,l.x1,l.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*p.size|0,10),p.borderColor=p.borderColor||"#FFFFFF",p.borderThickness=p.borderThickness||Math.ceil(.1*p.size),me.drawMarkers([p]))):"bubble"===n.type?((p=n.getMarkerProperties(g,l.x1,l.y1,this.chart.overlaidCanvasCtx)).size=l.size,p.color="white",p.borderColor="white",d.globalAlpha=.3,me.drawMarkers([p]),d.globalAlpha=1):"column"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"bar"===n.type||"rangeBar"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"rangeColumn"===n.type||"waterfall"===n.type?Pe(d,l.x1,l.y1,l.x2,l.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===n.type||"doughnut"===n.type?qe(d,l.center,l.radius,"white",n.type,l.startAngle,l.endAngle,.3,l.percentInnerRadius):"funnel"===n.type||"pyramid"===n.type?Fe(d,l.funnelSection,.3,"white"):"candlestick"===n.type?(d.globalAlpha=1,d.strokeStyle=l.color,d.lineWidth=2*l.borderThickness,n=d.lineWidth%2==0?0:.5,d.beginPath(),d.moveTo(l.x3-n,Math.min(l.y2,l.y3)),d.lineTo(l.x3-n,Math.min(l.y1,l.y4)),d.stroke(),d.beginPath(),d.moveTo(l.x3-n,Math.max(l.y1,l.y4)),d.lineTo(l.x3-n,Math.max(l.y2,l.y3)),d.stroke(),Pe(d,l.x1,Math.min(l.y1,l.y4),l.x2,Math.max(l.y1,l.y4),"transparent",2*l.borderThickness,l.color,!1,!1,!1,!1),d.globalAlpha=1):"ohlc"===n.type?(d.globalAlpha=1,d.strokeStyle=l.color,d.lineWidth=2*l.borderThickness,n=d.lineWidth%2==0?0:.5,d.beginPath(),d.moveTo(l.x3-n,l.y2),d.lineTo(l.x3-n,l.y3),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y1),d.lineTo(l.x1,l.y1),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y4),d.lineTo(l.x2,l.y4),d.stroke(),d.globalAlpha=1):"boxAndWhisker"===n.type?(d.save(),d.globalAlpha=1,d.strokeStyle=l.stemColor,d.lineWidth=2*l.stemThickness,0<l.stemThickness&&(d.beginPath(),d.moveTo(l.x3,l.y2+l.borderThickness/2),d.lineTo(l.x3,l.y1+l.whiskerThickness/2),d.stroke(),d.beginPath(),d.moveTo(l.x3,l.y4-l.whiskerThickness/2),d.lineTo(l.x3,l.y3-l.borderThickness/2),d.stroke()),d.beginPath(),Pe(d,l.x1,Math.max(l.y2,l.y3),l.x2,Math.min(l.y2,l.y3),"transparent",2*l.borderThickness,l.color,!1,!1,!1,!1),d.globalAlpha=1,d.strokeStyle=l.whiskerColor,d.lineWidth=2*l.whiskerThickness,0<l.whiskerThickness&&(d.beginPath(),d.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y4),d.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y4),d.stroke(),d.beginPath(),d.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y1),d.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y1),d.stroke()),d.globalAlpha=1,d.strokeStyle=l.lineColor,d.lineWidth=2*l.lineThickness,0<l.lineThickness&&(d.beginPath(),d.moveTo(l.x1,l.y5),d.lineTo(l.x2,l.y5),d.stroke()),d.restore(),d.globalAlpha=1):"error"===n.type&&q(d,l.x1,l.y1,l.x2,l.y2,"white",l.whiskerProperties,l.stemProperties,l.isXYSwapped,.3))}}d.restore(),d.globalAlpha=1,d.beginPath()},Ce.prototype.getToolTipInnerHTML=function(t){t=t.entries;var d=null,o=null,n=null,l=0,p="";this.isToolTipDefinedInData=!0;for(var g=0;g<t.length;g++)if(t[g].dataSeries.toolTipContent||t[g].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&"function"==typeof this.content||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:t},d=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var M=null,_="";for(g=0;g<t.length;g++){if(o=t[g].dataSeries,n=t[g].dataPoint,l=t[g].index,p="",0===g&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?_+=typeof this.chart.axisX[0].labels[n.x]<"u"?this.chart.axisX[0].labels[n.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(_+=typeof this.chart.axisX2[0].labels[n.x]<"u"?this.chart.axisX2[0].labels[n.x]:"{x}"),_+="</br>",!o.visible)continue;_=this.chart.replaceKeywordsWithValue(_,n,o,l)}null===n.toolTipContent||typeof n.toolTipContent>"u"&&null===o.options.toolTipContent||("line"===o.type||"stepLine"===o.type||"spline"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"column"===o.type||"bar"===o.type||"scatter"===o.type||"stackedColumn"===o.type||"stackedColumn100"===o.type||"stackedBar"===o.type||"stackedBar100"===o.type||"stackedArea"===o.type||"stackedArea100"===o.type||"waterfall"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",M=o.axisXIndex):"bubble"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===o.type||"rangeBar"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"error"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===o.type||"ohlc"===o.type?(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===o.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(p+=M!=o.axisXIndex?o.axisX.title?o.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),p+=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>{name}:</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===d&&(d=""),o.visible&&(!0===this.reversed?(d=this.chart.replaceKeywordsWithValue(p,n,o,l)+d,g<t.length-1&&(d="</br>"+d)):(d+=this.chart.replaceKeywordsWithValue(p,n,o,l),g<t.length-1&&(d+="</br>"))))}null!==d&&(d=_+d)}else{if(o=t[0].dataSeries,null===(n=t[0].dataPoint).toolTipContent||typeof n.toolTipContent>"u"&&null===o.options.toolTipContent)return null;"line"===o.type||"stepLine"===o.type||"spline"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"column"===o.type||"bar"===o.type||"scatter"===o.type||"stackedColumn"===o.type||"stackedColumn100"===o.type||"stackedBar"===o.type||"stackedBar100"===o.type||"stackedArea"===o.type||"stackedArea100"===o.type||"waterfall"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===o.type||"doughnut"===o.type||"funnel"===o.type||"pyramid"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.name?"{name}:</span>&nbsp;&nbsp;":n.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===o.type||"rangeBar"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"error"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===o.type||"ohlc"===o.type?p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===o.type&&(p=n.toolTipContent?n.toolTipContent:o.toolTipContent?o.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span data-color='\""+(this.options.fontColor?"":"'{color}'")+"\"'>"+(n.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===d&&(d=""),d+=this.chart.replaceKeywordsWithValue(p,n,o,l=t[0].index)}return d},Ce.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var t=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition}},Ce.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Ce.prototype.hide=function(t){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._entries=this._dataSeriesIndex=this._xValue=null,this._prevY=this._prevX=NaN,this._updatedEventParameters=null,(typeof t>"u"||t)&&this.chart.resetOverlayedCanvas())},Ce.prototype.show=function(t,d,o){this._updateToolTip(t,d,!(typeof o>"u")&&o)},Ce.prototype.showAtIndex=function(t,d){},Ce.prototype.showAtX=function(t,d){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null,this._updateOptions();var o,n,l,p=[];if(l=!1,d=!E(d)&&0<=d&&d<this.chart.data.length?d:0,this.shared)for(var g=0;g<this.chart.data.length;g++)(n=(o=this.chart.data[g]).getDataPointAtX(t,!1))&&n.dataPoint&&!E(n.dataPoint.y)&&o.visible&&(n.dataSeries=o,this.chart.data[d].axisX.convertValueToPixel(t)===o.axisX.convertValueToPixel(n.dataPoint.x)&&p.push(n));else(n=(o=this.chart.data[d]).getDataPointAtX(t,!1))&&n.dataPoint&&!E(n.dataPoint.y)&&o.visible&&(n.dataSeries=o,p.push(n));if(!(0<p.length))return this.hide(),!1;for(g=0;g<p.length;g++){if(n=p[g],(this.shared||0<=n.dataSeries.type.indexOf("100"))&&n.dataPoint.x>=n.dataSeries.axisX.viewportMinimum&&n.dataPoint.x<=n.dataSeries.axisX.viewportMaximum){l=!1;break}if(!(n.dataPoint.x<n.dataSeries.axisX.viewportMinimum||n.dataPoint.x>n.dataSeries.axisX.viewportMaximum||n.dataPoint.y<n.dataSeries.axisY.viewportMinimum||n.dataPoint.y>n.dataSeries.axisY.viewportMaximum)){l=!1;break}l=!0}if(l)return this.hide(),!1;if(this.highlightObjects(p),this._entries=p,g="",null===(g=this.getToolTipInnerHTML({entries:p})))return this.hide(!1),!1;if(this.contentDiv.innerHTML=g,this.isToolTipDefinedInData&&E(this.options.content)&&E(this.options.contentFormatter))for(n=this.contentDiv.getElementsByTagName("span"),g=0;g<n.length;g++)n[g]&&(n[g].style.color=n[g].getAttribute("data-color"));g=!1,"none"===this.container.style.display&&(g=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:H?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:0<p[0].dataPoint.y?p[0].dataSeries.risingColor:p[0].dataSeries.fallingColor:"error"===p[0].dataSeries.type?this.options.borderColor?this.options.borderColor:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[o.index%p[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:p[0].dataPoint.color?p[0].dataPoint.color:p[0].dataSeries.color?p[0].dataSeries.color:p[0].dataSeries._colorSet[p[0].index%p[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:H?"italic":"normal"}catch{}return"pie"===p[0].dataSeries.type||"doughnut"===p[0].dataSeries.type||"funnel"===p[0].dataSeries.type||"pyramid"===p[0].dataSeries.type?o=mouseX-10-this.container.clientWidth:(o="bar"===p[0].dataSeries.type||"rangeBar"===p[0].dataSeries.type||"stackedBar"===p[0].dataSeries.type||"stackedBar100"===p[0].dataSeries.type?p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y)-this.container.clientWidth|0:p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)-this.container.clientWidth|0,o-=10),0>o&&(o+=this.container.clientWidth+20),o+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(o=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(p=10-(p=!(1!==p.length||this.shared||"line"!==p[0].dataSeries.type&&"stepLine"!==p[0].dataSeries.type&&"spline"!==p[0].dataSeries.type&&"area"!==p[0].dataSeries.type&&"stepArea"!==p[0].dataSeries.type&&"splineArea"!==p[0].dataSeries.type)||"bar"!==p[0].dataSeries.type&&"rangeBar"!==p[0].dataSeries.type&&"stackedBar"!==p[0].dataSeries.type&&"stackedBar100"!==p[0].dataSeries.type?p[0].dataSeries.axisY.convertValueToPixel(p[0].dataPoint.y):p[0].dataSeries.axisX.convertValueToPixel(p[0].dataPoint.x)))+this.container.clientHeight+5&&(p-=p+this.container.clientHeight+5-0),this.fixMozTransitionDelay(o,p),!this.animationEnabled||g?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=o+"px",this.container.style.bottom=p+"px",this._xValue=t,this._dataSeriesIndex=d,this._prevY=this._prevX=NaN,!0},Ce.prototype.fixMozTransitionDelay=function(t,d){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var o=parseFloat(this.container.style.left),n=(o=isNaN(o)?0:o,parseFloat(this.container.style.bottom));n=isNaN(n)?0:n,this.mozContainerTransition=10<Math.sqrt(Math.pow(o-t,2)+Math.pow(n-d,2))?this.getContainerTransition(.1):this.getContainerTransition(0)}},Ce.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},he.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],H&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},he.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},he.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var d=[],o=Wi(t),n=null;if((n=this.chart.getObjectAtXY(o.x,o.y,!1))&&typeof this.objectMap[n]<"u")if("dataPoint"===(n=this.objectMap[n]).objectType){var l=this.chart.data[n.dataSeriesIndex],p=l.dataPoints[n.dataPointIndex],g=n.dataPointIndex;n.eventParameter={x:o.x,y:o.y,dataPoint:p,dataSeries:l.options,dataPointIndex:g,dataSeriesIndex:l.index,chart:this.chart},n.eventContext={context:p,userContext:p,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},d.push(n),(n=this.objectMap[l.id]).eventParameter={x:o.x,y:o.y,dataPoint:p,dataSeries:l.options,dataPointIndex:g,dataSeriesIndex:l.index,chart:this.chart},n.eventContext={context:l,userContext:l.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},d.push(this.objectMap[l.id])}else"legendItem"===n.objectType&&(n.eventParameter={x:o.x,y:o.y,dataSeries:(l=this.chart.data[n.dataSeriesIndex]).options,dataPoint:p=null!==n.dataPointIndex?l.dataPoints[n.dataPointIndex]:null,dataPointIndex:n.dataPointIndex,dataSeriesIndex:n.dataSeriesIndex,chart:this.chart},n.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},d.push(n));for(l=[],o=0;o<this.mouseoveredObjectMaps.length;o++){for(p=!0,n=0;n<d.length;n++)if(d[n].id===this.mouseoveredObjectMaps[o].id){p=!1;break}p?this.fireEvent(this.mouseoveredObjectMaps[o],"mouseout",t):l.push(this.mouseoveredObjectMaps[o])}for(this.mouseoveredObjectMaps=l,o=0;o<d.length;o++){for(l=!1,n=0;n<this.mouseoveredObjectMaps.length;n++)if(d[o].id===this.mouseoveredObjectMaps[n].id){l=!0;break}l||(this.fireEvent(d[o],"mouseover",t),this.mouseoveredObjectMaps.push(d[o])),"click"===t.type?this.fireEvent(d[o],"click",t):"mousemove"===t.type&&this.fireEvent(d[o],"mousemove",t)}}},he.prototype.fireEvent=function(t,d,o){if(t&&d){var n=t.eventParameter,l=t.eventContext,p=t.eventContext.userContext;p&&l&&p[l[d]]&&p[l[d]].call(p,n),"mouseout"!==d?p.cursor&&p.cursor!==o.target.style.cursor&&(o.target.style.cursor=p.cursor):(o.target.style.cursor=this.chart.panEnabled&&("itemmouseout"!==l.mouseout||p.dockInsidePlotArea)?"move":this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===d&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],n),"click"===d&&"dataPoint"===t.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],n)}},ne.prototype.animate=function(t,d,o,n,l){var p=this;for(this.chart.isAnimating=!0,l=l||St.easing.linear,o&&this.animations.push({startTime:(new Date).getTime()+(t||0),duration:d,animationCallback:o,onComplete:n}),t=[];0<this.animations.length;)d=this.animations.shift(),o=(new Date).getTime(),n=0,d.startTime<=o&&(n=l(Math.min(o-d.startTime,d.duration),0,1,d.duration),n=Math.min(n,1),isNaN(n)||!isFinite(n))&&(n=1),1>n&&t.push(d),d.animationCallback(n),1<=n&&d.onComplete&&d.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){p.animate.call(p)}):this.chart.isAnimating=!1},ne.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var St={yScaleAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas,l=d.animationBase;o.drawImage(n,0,0,n.width,n.height,0,l-l*t,o.canvas.width/De,t*o.canvas.height/De)}},xScaleAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas,l=d.animationBase;o.drawImage(n,0,0,n.width,n.height,l-l*t,0,t*o.canvas.width/De,o.canvas.height/De)}},xClipAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas;o.save(),0<t&&o.drawImage(n,0,0,n.width*t,n.height,0,0,n.width*t/De,n.height/De),o.restore()}},fadeInAnimation:function(t,d){if(0!==t){var o=d.dest,n=d.source.canvas;o.save(),o.globalAlpha=t,o.drawImage(n,0,0,n.width,n.height,0,0,o.canvas.width/De,o.canvas.height/De),o.restore()}},easing:{linear:function(t,d,o,n){return o*t/n+d},easeOutQuad:function(t,d,o,n){return-o*(t/=n)*(t-2)+d},easeOutQuart:function(t,d,o,n){return-o*((t=t/n-1)*t*t*t-1)+d},easeInQuad:function(t,d,o,n){return o*(t/=n)*t+d},easeInQuart:function(t,d,o,n){return o*(t/=n)*t*t*t+d}}},me={drawMarker:function(t,d,o,n,l,p,g,M){if(o){var _=1;o.fillStyle=p||"#000000",o.strokeStyle=g||"#000000",o.lineWidth=M||0,o.setLineDash&&o.setLineDash(mt("solid",M)),"circle"===n?(o.moveTo(t,d),o.beginPath(),o.arc(t,d,l/2,0,2*Math.PI,!1),p&&o.fill(),M&&(g?o.stroke():(_=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=_))):"square"===n?(o.beginPath(),o.rect(t-l/2,d-l/2,l,l),p&&o.fill(),M&&(g?o.stroke():(_=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=_))):"triangle"===n?(o.beginPath(),o.moveTo(t-l/2,d+l/2),o.lineTo(t+l/2,d+l/2),o.lineTo(t,d-l/2),o.closePath(),p&&o.fill(),M&&(g?o.stroke():(_=o.globalAlpha,o.globalAlpha=.15,o.strokeStyle="black",o.stroke(),o.globalAlpha=_)),o.beginPath()):"cross"===n&&(o.strokeStyle=p,o.lineWidth=l/4,o.beginPath(),o.moveTo(t-l/2,d-l/2),o.lineTo(t+l/2,d+l/2),o.stroke(),o.moveTo(t+l/2,d-l/2),o.lineTo(t-l/2,d+l/2),o.stroke())}},drawMarkers:function(t){for(var d=0;d<t.length;d++){var o=t[d];me.drawMarker(o.x,o.y,o.ctx,o.type,o.size,o.color,o.borderColor,o.borderThickness)}}};return B}(),V.version="v3.8.11 GA",window.CanvasJS&&V&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=V)})(),document.createElement("canvas").getContext||function(){function He(){return this.context_||(this.context_=new mt(this))}function _t(V){return String(V).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function ft(V){V.namespaces.g_vml_||V.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),V.namespaces.g_o_||V.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),V.styleSheets.ex_canvas_||((V=V.createStyleSheet()).owningElement.id="ex_canvas_",V.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function $e(V){var Z=V.srcElement;switch(V.propertyName){case"width":Z.getContext().clearRect(),Z.style.width=Z.attributes.width.nodeValue+"px",Z.firstChild.style.width=Z.clientWidth+"px";break;case"height":Z.getContext().clearRect(),Z.style.height=Z.attributes.height.nodeValue+"px",Z.firstChild.style.height=Z.clientHeight+"px"}}function oi(V){(V=V.srcElement).firstChild&&(V.firstChild.style.width=V.clientWidth+"px",V.firstChild.style.height=V.clientHeight+"px")}function Nt(V,Z){for(var st=[[1,0,0],[0,1,0],[0,0,1]],it=0;3>it;it++)for(var gt=0;3>gt;gt++){for(var ut=0,zt=0;3>zt;zt++)ut+=V[it][zt]*Z[zt][gt];st[it][gt]=ut}return st}function ui(V,Z){Z.fillStyle=V.fillStyle,Z.lineCap=V.lineCap,Z.lineJoin=V.lineJoin,Z.lineWidth=V.lineWidth,Z.miterLimit=V.miterLimit,Z.shadowBlur=V.shadowBlur,Z.shadowColor=V.shadowColor,Z.shadowOffsetX=V.shadowOffsetX,Z.shadowOffsetY=V.shadowOffsetY,Z.strokeStyle=V.strokeStyle,Z.globalAlpha=V.globalAlpha,Z.font=V.font,Z.textAlign=V.textAlign,Z.textBaseline=V.textBaseline,Z.arcScaleX_=V.arcScaleX_,Z.arcScaleY_=V.arcScaleY_,Z.lineScale_=V.lineScale_}function E(V){var st=V.indexOf("(",3),Z=V.indexOf(")",st+1);return(4!=(st=V.substring(st+1,Z).split(",")).length||"a"!=V.charAt(3))&&(st[3]=1),st}function We(V,Z,st){return Math.min(st,Math.max(Z,V))}function ki(V,Z,st){return 0>st&&st++,1<st&&st--,1>6*st?V+6*(Z-V)*st:1>2*st?Z:2>3*st?V+6*(Z-V)*(2/3-st):V}function Si(V){if(V in ti)return ti[V];var Z,st=1;if("#"==(V=String(V)).charAt(0))Z=V;else if(/^rgb/.test(V)){st=E(V),Z="#";for(var it,gt=0;3>gt;gt++)it=-1!=st[gt].indexOf("%")?Math.floor(parseFloat(st[gt])/100*255):+st[gt],Z+=Pi[We(it,0,255)];st=+st[3]}else if(/^hsl/.test(V)){if(gt=st=E(V),0>(Z=parseFloat(gt[0])/360%360)&&Z++,it=We(parseFloat(gt[1])/100,0,1),gt=We(parseFloat(gt[2])/100,0,1),0==it)it=gt=Z=gt;else{var ut=.5>gt?gt*(1+it):gt+it-gt*it,zt=2*gt-ut;it=ki(zt,ut,Z+1/3),gt=ki(zt,ut,Z),Z=ki(zt,ut,Z-1/3)}Z="#"+Pi[Math.floor(255*it)]+Pi[Math.floor(255*gt)]+Pi[Math.floor(255*Z)],st=st[3]}else Z=Fi[V]||V;return ti[V]={color:Z,alpha:st}}function mt(V){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*ie,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=V;var Z="width:"+V.clientWidth+"px;height:"+V.clientHeight+"px;overflow:hidden;position:absolute",st=V.ownerDocument.createElement("div");st.style.cssText=Z,V.appendChild(st),(Z=st.cloneNode(!1)).style.backgroundColor="red",Z.style.filter="alpha(opacity=0)",V.appendChild(Z),this.element_=st,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function Rt(V,Z,st,it){V.currentPath_.push({type:"bezierCurveTo",cp1x:Z.x,cp1y:Z.y,cp2x:st.x,cp2y:st.y,x:it.x,y:it.y}),V.currentX_=it.x,V.currentY_=it.y}function je(V,Z){var st=(it=Si(V.strokeStyle)).color,it=it.alpha*V.globalAlpha,gt=V.lineScale_*V.lineWidth;1>gt&&(it*=gt),Z.push("<g_vml_:stroke",' opacity="',it,'"',' joinstyle="',V.lineJoin,'"',' miterlimit="',V.miterLimit,'"',' endcap="',pi[V.lineCap]||"square",'"',' weight="',gt,'px"',' color="',st,'" />')}function ze(V,Z,st,it){var gt=V.fillStyle,ut=V.arcScaleX_,zt=V.arcScaleY_,re=it.x-st.x,Be=it.y-st.y;if(gt instanceof Vi){var $t=0,Kt=it=0,Pt=0,_e=1;if("gradient"==gt.type_){$t=gt.x1_/ut,st=gt.y1_/zt;var Tt=oe(V,gt.x0_/ut,gt.y0_/zt);$t=oe(V,$t,st),0>($t=180*Math.atan2($t.x-Tt.x,$t.y-Tt.y)/Math.PI)&&($t+=360),1e-6>$t&&($t=0)}else it=((Tt=oe(V,gt.x0_,gt.y0_)).x-st.x)/re,Kt=(Tt.y-st.y)/Be,_e=Oe.max(re/=ut*ie,Be/=zt*ie),_e=2*gt.r1_/_e-(Pt=2*gt.r0_/_e);(ut=gt.colors_).sort(function(ge,ei){return ge.offset-ei.offset}),Tt=ut[0].color,st=ut[(zt=ut.length)-1].color,re=ut[0].alpha*V.globalAlpha,V=ut[zt-1].alpha*V.globalAlpha,Be=[];for(var be=0;be<zt;be++){var se=ut[be];Be.push(se.offset*_e+Pt+" "+se.color)}Z.push('<g_vml_:fill type="',gt.type_,'"',' method="none" focus="100%"',' color="',Tt,'"',' color2="',st,'"',' colors="',Be.join(","),'"',' opacity="',V,'"',' g_o_:opacity2="',re,'"',' angle="',$t,'"',' focusposition="',it,",",Kt,'" />')}else gt instanceof Je?re&&Be&&Z.push("<g_vml_:fill",' position="',-st.x/re*ut*ut,",",-st.y/Be*zt*zt,'"',' type="tile"',' src="',gt.src_,'" />'):(gt=Si(V.fillStyle),Z.push('<g_vml_:fill color="',gt.color,'" opacity="',gt.alpha*V.globalAlpha,'" />'))}function oe(V,Z,st){return{x:ie*(Z*(V=V.m_)[0][0]+st*V[1][0]+V[2][0])-mi,y:ie*(Z*V[0][1]+st*V[1][1]+V[2][1])-mi}}function ri(V,Z,st){isFinite(Z[0][0])&&isFinite(Z[0][1])&&isFinite(Z[1][0])&&isFinite(Z[1][1])&&isFinite(Z[2][0])&&isFinite(Z[2][1])&&(V.m_=Z,st&&(V.lineScale_=Ai(Me(Z[0][0]*Z[1][1]-Z[0][1]*Z[1][0]))))}function Vi(V){this.type_=V,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function Je(V,Z){if(!V||1!=V.nodeType||"IMG"!=V.tagName)throw new ue("TYPE_MISMATCH_ERR");if("complete"!=V.readyState)throw new ue("INVALID_STATE_ERR");switch(Z){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=Z;break;default:throw new ue("SYNTAX_ERR")}this.src_=V.src,this.width_=V.width,this.height_=V.height}function ue(V){this.code=this[V],this.message=V+": DOM Exception "+this.code}var Oe=Math,ke=Oe.round,Ze=Oe.sin,_i=Oe.cos,Me=Oe.abs,Ai=Oe.sqrt,ie=10,mi=ie/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var vi=Array.prototype.slice;ft(document);var Bi={init:function(V){(V=V||document).createElement("canvas"),V.attachEvent("onreadystatechange",function Ie(V,Z,st){var it=vi.call(arguments,2);return function(){return V.apply(Z,it.concat(vi.call(arguments)))}}(this.init_,this,V))},init_:function(V){V=V.getElementsByTagName("canvas");for(var Z=0;Z<V.length;Z++)this.initElement(V[Z])},initElement:function(V){if(!V.getContext){V.getContext=He,ft(V.ownerDocument),V.innerHTML="",V.attachEvent("onpropertychange",$e),V.attachEvent("onresize",oi);var Z=V.attributes;Z.width&&Z.width.specified?V.style.width=Z.width.nodeValue+"px":V.width=V.clientWidth,Z.height&&Z.height.specified?V.style.height=Z.height.nodeValue+"px":V.height=V.clientHeight}return V}};Bi.init();for(var Pi=[],Xt=0;16>Xt;Xt++)for(var fi=0;16>fi;fi++)Pi[16*Xt+fi]=Xt.toString(16)+fi.toString(16);var Fi={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},ti={},H={},pi={butt:"flat",round:"round"};(Xt=mt.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},Xt.beginPath=function(){this.currentPath_=[]},Xt.moveTo=function(V,Z){var st=oe(this,V,Z);this.currentPath_.push({type:"moveTo",x:st.x,y:st.y}),this.currentX_=st.x,this.currentY_=st.y},Xt.lineTo=function(V,Z){var st=oe(this,V,Z);this.currentPath_.push({type:"lineTo",x:st.x,y:st.y}),this.currentX_=st.x,this.currentY_=st.y},Xt.bezierCurveTo=function(V,Z,st,it,gt,ut){gt=oe(this,gt,ut),Rt(this,V=oe(this,V,Z),st=oe(this,st,it),gt)},Xt.quadraticCurveTo=function(V,Z,st,it){V=oe(this,V,Z),st=oe(this,st,it),Rt(this,it={x:this.currentX_+2/3*(V.x-this.currentX_),y:this.currentY_+2/3*(V.y-this.currentY_)},{x:it.x+(st.x-this.currentX_)/3,y:it.y+(st.y-this.currentY_)/3},st)},Xt.arc=function(V,Z,st,it,gt,ut){st*=ie;var zt=ut?"at":"wa",re=V+_i(it)*st-mi,Be=Z+Ze(it)*st-mi;it=V+_i(gt)*st-mi,gt=Z+Ze(gt)*st-mi,re!=it||ut||(re+=.125),V=oe(this,V,Z),re=oe(this,re,Be),it=oe(this,it,gt),this.currentPath_.push({type:zt,x:V.x,y:V.y,radius:st,xStart:re.x,yStart:re.y,xEnd:it.x,yEnd:it.y})},Xt.rect=function(V,Z,st,it){this.moveTo(V,Z),this.lineTo(V+st,Z),this.lineTo(V+st,Z+it),this.lineTo(V,Z+it),this.closePath()},Xt.strokeRect=function(V,Z,st,it){var gt=this.currentPath_;this.beginPath(),this.moveTo(V,Z),this.lineTo(V+st,Z),this.lineTo(V+st,Z+it),this.lineTo(V,Z+it),this.closePath(),this.stroke(),this.currentPath_=gt},Xt.fillRect=function(V,Z,st,it){var gt=this.currentPath_;this.beginPath(),this.moveTo(V,Z),this.lineTo(V+st,Z),this.lineTo(V+st,Z+it),this.lineTo(V,Z+it),this.closePath(),this.fill(),this.currentPath_=gt},Xt.createLinearGradient=function(V,Z,st,it){var gt=new Vi("gradient");return gt.x0_=V,gt.y0_=Z,gt.x1_=st,gt.y1_=it,gt},Xt.createRadialGradient=function(V,Z,st,it,gt,ut){var zt=new Vi("gradientradial");return zt.x0_=V,zt.y0_=Z,zt.r0_=st,zt.x1_=it,zt.y1_=gt,zt.r1_=ut,zt},Xt.drawImage=function(V,Z){var st,it,gt,ut,zt,re,Be,$t;gt=V.runtimeStyle.width,ut=V.runtimeStyle.height,V.runtimeStyle.width="auto",V.runtimeStyle.height="auto";var Kt=V.width,Pt=V.height;if(V.runtimeStyle.width=gt,V.runtimeStyle.height=ut,3==arguments.length)st=arguments[1],it=arguments[2],zt=re=0,Be=gt=Kt,$t=ut=Pt;else if(5==arguments.length)st=arguments[1],it=arguments[2],gt=arguments[3],ut=arguments[4],zt=re=0,Be=Kt,$t=Pt;else{if(9!=arguments.length)throw Error("Invalid number of arguments");zt=arguments[1],re=arguments[2],Be=arguments[3],$t=arguments[4],st=arguments[5],it=arguments[6],gt=arguments[7],ut=arguments[8]}var _e=oe(this,st,it),Tt=[];if(Tt.push(" <g_vml_:group",' coordsize="',10*ie,",",10*ie,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var be=[];be.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",ke(_e.x/ie),",","Dy=",ke(_e.y/ie),"");var se=oe(this,st+gt,it),ge=oe(this,st,it+ut);st=oe(this,st+gt,it+ut),_e.x=Oe.max(_e.x,se.x,ge.x,st.x),_e.y=Oe.max(_e.y,se.y,ge.y,st.y),Tt.push("padding:0 ",ke(_e.x/ie),"px ",ke(_e.y/ie),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",be.join(""),", sizingmethod='clip');")}else Tt.push("top:",ke(_e.y/ie),"px;left:",ke(_e.x/ie),"px;");Tt.push(' ">','<g_vml_:image src="',V.src,'"',' style="width:',ie*gt,"px;"," height:",ie*ut,'px"',' cropleft="',zt/Kt,'"',' croptop="',re/Pt,'"',' cropright="',(Kt-zt-Be)/Kt,'"',' cropbottom="',(Pt-re-$t)/Pt,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",Tt.join(""))},Xt.stroke=function(V){var Z=[];Z.push("<g_vml_:shape",' filled="',!!V,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*ie,",",10*ie,'"',' stroked="',!V,'"',' path="');for(var st={x:null,y:null},it={x:null,y:null},gt=0;gt<this.currentPath_.length;gt++){var ut=this.currentPath_[gt];switch(ut.type){case"moveTo":Z.push(" m ",ke(ut.x),",",ke(ut.y));break;case"lineTo":Z.push(" l ",ke(ut.x),",",ke(ut.y));break;case"close":Z.push(" x "),ut=null;break;case"bezierCurveTo":Z.push(" c ",ke(ut.cp1x),",",ke(ut.cp1y),",",ke(ut.cp2x),",",ke(ut.cp2y),",",ke(ut.x),",",ke(ut.y));break;case"at":case"wa":Z.push(" ",ut.type," ",ke(ut.x-this.arcScaleX_*ut.radius),",",ke(ut.y-this.arcScaleY_*ut.radius)," ",ke(ut.x+this.arcScaleX_*ut.radius),",",ke(ut.y+this.arcScaleY_*ut.radius)," ",ke(ut.xStart),",",ke(ut.yStart)," ",ke(ut.xEnd),",",ke(ut.yEnd))}ut&&((null==st.x||ut.x<st.x)&&(st.x=ut.x),(null==it.x||ut.x>it.x)&&(it.x=ut.x),(null==st.y||ut.y<st.y)&&(st.y=ut.y),(null==it.y||ut.y>it.y)&&(it.y=ut.y))}Z.push(' ">'),V?ze(this,Z,st,it):je(this,Z),Z.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",Z.join(""))},Xt.fill=function(){this.stroke(!0)},Xt.closePath=function(){this.currentPath_.push({type:"close"})},Xt.save=function(){var V={};ui(this,V),this.aStack_.push(V),this.mStack_.push(this.m_),this.m_=Nt([[1,0,0],[0,1,0],[0,0,1]],this.m_)},Xt.restore=function(){this.aStack_.length&&(ui(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},Xt.translate=function(V,Z){ri(this,Nt([[1,0,0],[0,1,0],[V,Z,1]],this.m_),!1)},Xt.rotate=function(V){var Z=_i(V);ri(this,Nt([[Z,V=Ze(V),0],[-V,Z,0],[0,0,1]],this.m_),!1)},Xt.scale=function(V,Z){this.arcScaleX_*=V,this.arcScaleY_*=Z,ri(this,Nt([[V,0,0],[0,Z,0],[0,0,1]],this.m_),!0)},Xt.transform=function(V,Z,st,it,gt,ut){ri(this,Nt([[V,Z,0],[st,it,0],[gt,ut,1]],this.m_),!0)},Xt.setTransform=function(V,Z,st,it,gt,ut){ri(this,[[V,Z,0],[st,it,0],[gt,ut,1]],!0)},Xt.drawText_=function(V,Z,st,it,gt){var ut=this.m_;it=0;var $t,zt=1e3,re=0,Be=[];if(H[$t=this.font])$t=H[$t];else{var Kt=document.createElement("div").style;try{Kt.font=$t}catch{}$t=H[$t]={style:Kt.fontStyle||"normal",variant:Kt.fontVariant||"normal",weight:Kt.fontWeight||"normal",size:Kt.fontSize||10,family:Kt.fontFamily||"sans-serif"}}Kt=$t;var Pt=this.element_;for(var _e in $t={},Kt)$t[_e]=Kt[_e];switch(_e=parseFloat(Pt.currentStyle.fontSize),Pt=parseFloat(Kt.size),$t.size="number"==typeof Kt.size?Kt.size:-1!=Kt.size.indexOf("px")?Pt:-1!=Kt.size.indexOf("em")?_e*Pt:-1!=Kt.size.indexOf("%")?_e/100*Pt:-1!=Kt.size.indexOf("pt")?Pt/.75:_e,$t.size*=.981,_e=$t.style+" "+$t.variant+" "+$t.weight+" "+$t.size+"px "+$t.family,Pt=this.element_.currentStyle,Kt=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":Kt="ltr"==Pt.direction?"right":"left";break;case"start":Kt="rtl"==Pt.direction?"right":"left";break;default:Kt="left"}switch(this.textBaseline){case"hanging":case"top":re=$t.size/1.75;break;case"middle":break;default:re=-$t.size/2.25}switch(Kt){case"right":it=1e3,zt=.05;break;case"center":it=zt=500}Z=oe(this,Z+0,st+re),Be.push('<g_vml_:line from="',-it,' 0" to="',zt,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!gt,'" stroked="',!!gt,'" style="position:absolute;width:1px;height:1px;">'),gt?je(this,Be):ze(this,Be,{x:-it,y:0},{x:zt,y:$t.size}),gt=ut[0][0].toFixed(3)+","+ut[1][0].toFixed(3)+","+ut[0][1].toFixed(3)+","+ut[1][1].toFixed(3)+",0,0",Z=ke(Z.x/ie)+","+ke(Z.y/ie),Be.push('<g_vml_:skew on="t" matrix="',gt,'" ',' offset="',Z,'" origin="',it,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',_t(V),'" style="v-text-align:',Kt,";font:",_t(_e),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",Be.join(""))},Xt.fillText=function(V,Z,st,it){this.drawText_(V,Z,st,it,!1)},Xt.strokeText=function(V,Z,st,it){this.drawText_(V,Z,st,it,!0)},Xt.measureText=function(V){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var Z=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(Z.createTextNode(V)),{width:this.textMeasureEl_.offsetWidth}},Xt.clip=function(){},Xt.arcTo=function(){},Xt.createPattern=function(V,Z){return new Je(V,Z)},Vi.prototype.addColorStop=function(V,Z){Z=Si(Z),this.colors_.push({offset:V,color:Z.color,alpha:Z.alpha})},(Xt=ue.prototype=Error()).INDEX_SIZE_ERR=1,Xt.DOMSTRING_SIZE_ERR=2,Xt.HIERARCHY_REQUEST_ERR=3,Xt.WRONG_DOCUMENT_ERR=4,Xt.INVALID_CHARACTER_ERR=5,Xt.NO_DATA_ALLOWED_ERR=6,Xt.NO_MODIFICATION_ALLOWED_ERR=7,Xt.NOT_FOUND_ERR=8,Xt.NOT_SUPPORTED_ERR=9,Xt.INUSE_ATTRIBUTE_ERR=10,Xt.INVALID_STATE_ERR=11,Xt.SYNTAX_ERR=12,Xt.INVALID_MODIFICATION_ERR=13,Xt.NAMESPACE_ERR=14,Xt.INVALID_ACCESS_ERR=15,Xt.VALIDATION_ERR=16,Xt.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=Bi,CanvasRenderingContext2D=mt,CanvasGradient=Vi,CanvasPattern=Je,DOMException=ue}()},1549:(ds,es,Ot)=>{"use strict";Ot.r(es),Ot.d(es,{FolderPageModule:()=>Si});var bi=Ot(177),He=Ot(4341),Ie=Ot(4488),_t=Ot(8986),ft=Ot(4438),$e=Ot(887);const wi=[{path:"folder",component:(()=>{var mt;class Rt{constructor(ze,oe,ri){this.menuController=ze,this.loadingController=oe,this.toastController=ri,this.activatedRoute=(0,ft.WQX)(_t.nX)}ngOnInit(){this.folder=this.activatedRoute.snapshot.paramMap.get("id"),this.createChart()}createChart(){this.chart=new $e.Ay("MyChart",{type:"bar",data:{labels:["2022-05-10","2022-05-11","2022-05-12","2022-05-13","2022-05-14","2022-05-15","2022-05-16","2022-05-17"],datasets:[{label:"Sales",data:["467","576","572","79","92","574","573","576"],backgroundColor:"blue"},{label:"Profit",data:["542","542","536","327","17","0.00","538","541"],backgroundColor:"limegreen"}]},options:{aspectRatio:2.5}})}onSearchChange(ze){console.log(ze.detail.value)}viewNotifications(){}}return(mt=Rt).\u0275fac=function(ze){return new(ze||mt)(ft.rXU(Ie._t),ft.rXU(Ie.Xi),ft.rXU(Ie.K_))},mt.\u0275cmp=ft.VBU({type:mt,selectors:[["app-folder"]],decls:75,vars:3,consts:[[3,"translucent"],["slot","start"],["color","primary","slot","end","fill","clear",3,"click"],["slot","icon-only","name","notifications-circle-outline"],["slot","icon-only","name","chatbox-ellipses-outline"],[3,"fullscreen"],["size","3"],["fixed",""],["size","6"],["src","assets/Icon_Order.svg","alt","","srcset",""],["src","assets/icon Delivered.svg","alt","","srcset",""],["src","assets/total_cancelled.svg","alt","","srcset",""],["src","assets/total_revenue.svg","alt","","srcset",""],["size","4"],[2,"display","flex","flex-direction","row"],[1,"chart-container"],["id","MyChart"]],template:function(ze,oe){1&ze&&(ft.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),ft.nrm(3,"ion-menu-button"),ft.k0s(),ft.j41(4,"ion-title"),ft.EFF(5,"Dashboard"),ft.k0s(),ft.j41(6,"ion-button",2),ft.bIt("click",function(){return oe.viewNotifications()}),ft.nrm(7,"ion-icon",3),ft.k0s(),ft.j41(8,"ion-button",2),ft.bIt("click",function(){return oe.viewNotifications()}),ft.nrm(9,"ion-icon",4),ft.k0s()()(),ft.j41(10,"ion-content",5)(11,"ion-grid")(12,"ion-row")(13,"ion-col",6)(14,"ion-card")(15,"ion-card-header")(16,"ion-grid",7)(17,"ion-row")(18,"ion-col",8),ft.nrm(19,"img",9),ft.k0s(),ft.j41(20,"ion-col",8)(21,"ion-card-subtitle"),ft.EFF(22,"Total Orders"),ft.k0s(),ft.j41(23,"ion-card-title"),ft.EFF(24,"12345677"),ft.k0s()()()()()()(),ft.j41(25,"ion-col",6)(26,"ion-card")(27,"ion-card-header")(28,"ion-grid",7)(29,"ion-row")(30,"ion-col",8),ft.nrm(31,"img",10),ft.k0s(),ft.j41(32,"ion-col",8)(33,"ion-card-subtitle"),ft.EFF(34,"Total Delivered"),ft.k0s(),ft.j41(35,"ion-card-title"),ft.EFF(36,"12345677"),ft.k0s()()()()()()(),ft.j41(37,"ion-col",6)(38,"ion-card")(39,"ion-card-header")(40,"ion-grid",7)(41,"ion-row")(42,"ion-col",8),ft.nrm(43,"img",11),ft.k0s(),ft.j41(44,"ion-col",8)(45,"ion-card-subtitle"),ft.EFF(46,"Total Canceled"),ft.k0s(),ft.j41(47,"ion-card-title"),ft.EFF(48,"12345677"),ft.k0s()()()()()()(),ft.j41(49,"ion-col",6)(50,"ion-card")(51,"ion-card-header")(52,"ion-grid",7)(53,"ion-row")(54,"ion-col",8),ft.nrm(55,"img",12),ft.k0s(),ft.j41(56,"ion-col",8)(57,"ion-card-subtitle"),ft.EFF(58,"Total Revenue"),ft.k0s(),ft.j41(59,"ion-card-title"),ft.EFF(60,"12345677"),ft.k0s()()()()()()()()(),ft.j41(61,"ion-grid")(62,"ion-row")(63,"ion-col",13)(64,"ion-card")(65,"div",14)(66,"div",15)(67,"canvas",16),ft.EFF(68),ft.k0s()()()()(),ft.j41(69,"ion-col",13)(70,"ion-card"),ft.nrm(71,"div",14),ft.k0s()(),ft.j41(72,"ion-col",13)(73,"ion-card"),ft.nrm(74,"div",14),ft.k0s()()()()()),2&ze&&(ft.Y8G("translucent",!0),ft.R7$(10),ft.Y8G("fullscreen",!0),ft.R7$(58),ft.JRh(oe.chart))},dependencies:[Ie.Jm,Ie.QW,Ie.b_,Ie.ME,Ie.HW,Ie.tN,Ie.hU,Ie.W9,Ie.lO,Ie.eU,Ie.iq,Ie.MC,Ie.ln,Ie.BC,Ie.ai],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),Rt})()},{path:"login",loadChildren:()=>Promise.all([Ot.e(2076),Ot.e(2887)]).then(Ot.bind(Ot,2887)).then(mt=>mt.LoginPageModule)},{path:"orders",loadChildren:()=>Promise.all([Ot.e(2076),Ot.e(5127)]).then(Ot.bind(Ot,5127)).then(mt=>mt.OrdersPageModule)},{path:"partners",loadChildren:()=>Promise.all([Ot.e(2076),Ot.e(2469)]).then(Ot.bind(Ot,2469)).then(mt=>mt.PartnersPageModule)},{path:"reviews",loadChildren:()=>Ot.e(8962).then(Ot.bind(Ot,8962)).then(mt=>mt.ReviewsPageModule)},{path:"delivery-boy",loadChildren:()=>Promise.all([Ot.e(2076),Ot.e(152)]).then(Ot.bind(Ot,152)).then(mt=>mt.DeliveryBoyPageModule)},{path:"customer",loadChildren:()=>Promise.all([Ot.e(2076),Ot.e(2008)]).then(Ot.bind(Ot,2008)).then(mt=>mt.CustomerPageModule)},{path:"chat",loadChildren:()=>Promise.all([Ot.e(2076),Ot.e(1634)]).then(Ot.bind(Ot,1634)).then(mt=>mt.ChatPageModule)},{path:"promo-code",loadChildren:()=>Promise.all([Ot.e(2076),Ot.e(4907)]).then(Ot.bind(Ot,4907)).then(mt=>mt.PromoCodePageModule)},{path:"settings",loadChildren:()=>Promise.all([Ot.e(2076),Ot.e(8422)]).then(Ot.bind(Ot,8422)).then(mt=>mt.SettingsPageModule)},{path:"register",loadChildren:()=>Ot.e(2296).then(Ot.bind(Ot,2296)).then(mt=>mt.RegisterPageModule)},{path:"dash",loadChildren:()=>Promise.all([Ot.e(2076),Ot.e(5249)]).then(Ot.bind(Ot,5249)).then(mt=>mt.DashPageModule)},{path:"add",loadChildren:()=>Ot.e(5892).then(Ot.bind(Ot,5892)).then(mt=>mt.AddPageModule)},{path:"category",loadChildren:()=>Promise.all([Ot.e(2076),Ot.e(3272)]).then(Ot.bind(Ot,3272)).then(mt=>mt.CategoryPageModule)}];let Nt=(()=>{var mt;class Rt{}return(mt=Rt).\u0275fac=function(ze){return new(ze||mt)},mt.\u0275mod=ft.$C({type:mt}),mt.\u0275inj=ft.G2t({imports:[_t.iI.forChild(wi),_t.iI]}),Rt})();"object"==typeof document&&document&&Ot(7636);let ki=(()=>{class mt{}return mt.\u0275fac=function(je){return new(je||mt)},mt.\u0275mod=ft.$C({type:mt}),mt.\u0275inj=ft.G2t({imports:[[bi.MD]]}),mt})(),Si=(()=>{var mt;class Rt{}return(mt=Rt).\u0275fac=function(ze){return new(ze||mt)},mt.\u0275mod=ft.$C({type:mt}),mt.\u0275inj=ft.G2t({imports:[bi.MD,He.YN,Ie.bv,ki,Nt]}),Rt})()},887:(ds,es,Ot)=>{"use strict";function bi(s){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function _t(s,i,e){return(i=function Ie(s){var i=function He(s,i){if("object"!=bi(s)||!s)return s;var e=s[Symbol.toPrimitive];if(void 0!==e){var a=e.call(s,i||"default");if("object"!=bi(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(s)}(s,"string");return"symbol"==bi(i)?i:String(i)}(i))in s?Object.defineProperty(s,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[i]=e,s}function ft(s){return s+.5|0}Ot.d(es,{Ay:()=>Bd});const $e=(s,i,e)=>Math.max(Math.min(s,e),i);function oi(s){return $e(ft(2.55*s),0,255)}function Nt(s){return $e(ft(255*s),0,255)}function ui(s){return $e(ft(s/2.55)/100,0,1)}function E(s){return $e(ft(100*s),0,100)}const We={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ki=[..."0123456789ABCDEF"],Si=s=>ki[15&s],mt=s=>ki[(240&s)>>4]+ki[15&s],Rt=s=>(240&s)>>4==(15&s);const Vi=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Je(s,i,e){const a=i*Math.min(e,1-e),r=(c,u=(c+s/30)%12)=>e-a*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function ue(s,i,e){const a=(r,c=(r+s/60)%6)=>e-e*i*Math.max(Math.min(c,4-c,1),0);return[a(5),a(3),a(1)]}function Oe(s,i,e){const a=Je(s,1,.5);let r;for(i+e>1&&(r=1/(i+e),i*=r,e*=r),r=0;r<3;r++)a[r]*=1-i-e,a[r]+=i;return a}function Ze(s){const e=s.r/255,a=s.g/255,r=s.b/255,c=Math.max(e,a,r),u=Math.min(e,a,r),x=(c+u)/2;let b,k,w;return c!==u&&(w=c-u,k=x>.5?w/(2-c-u):w/(c+u),b=function ke(s,i,e,a,r){return s===r?(i-e)/a+(i<e?6:0):i===r?(e-s)/a+2:(s-i)/a+4}(e,a,r,w,c),b=60*b+.5),[0|b,k||0,x]}function _i(s,i,e,a){return(Array.isArray(i)?s(i[0],i[1],i[2]):s(i,e,a)).map(Nt)}function Me(s,i,e){return _i(Je,s,i,e)}function mi(s){return(s%360+360)%360}const fi={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fi={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let H;const Xt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,st=s=>s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055,it=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function ut(s,i,e){if(s){let a=Ze(s);a[i]=Math.max(0,Math.min(a[i]+a[i]*e,0===i?360:1)),a=Me(a),s.r=a[0],s.g=a[1],s.b=a[2]}}function zt(s,i){return s&&Object.assign(i||{},s)}function re(s){var i={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(i={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(i.a=Nt(s[3]))):(i=zt(s,{r:0,g:0,b:0,a:1})).a=Nt(i.a),i}function Be(s){return"r"===s.charAt(0)?function V(s){const i=Xt.exec(s);let a,r,c,e=255;if(i){if(i[7]!==a){const u=+i[7];e=i[8]?oi(u):$e(255*u,0,255)}return a=+i[1],r=+i[3],c=+i[5],a=255&(i[2]?oi(a):$e(a,0,255)),r=255&(i[4]?oi(r):$e(r,0,255)),c=255&(i[6]?oi(c):$e(c,0,255)),{r:a,g:r,b:c,a:e}}}(s):function vi(s){const i=Vi.exec(s);let a,e=255;if(!i)return;i[5]!==a&&(e=i[6]?oi(+i[5]):Nt(+i[5]));const r=mi(+i[2]),c=+i[3]/100,u=+i[4]/100;return a="hwb"===i[1]?function Ai(s,i,e){return _i(Oe,s,i,e)}(r,c,u):"hsv"===i[1]?function ie(s,i,e){return _i(ue,s,i,e)}(r,c,u):Me(r,c,u),{r:a[0],g:a[1],b:a[2],a:e}}(s)}class $t{constructor(i){if(i instanceof $t)return i;const e=typeof i;let a;"object"===e?a=re(i):"string"===e&&(a=function ze(s){var e,i=s.length;return"#"===s[0]&&(4===i||5===i?e={r:255&17*We[s[1]],g:255&17*We[s[2]],b:255&17*We[s[3]],a:5===i?17*We[s[4]]:255}:(7===i||9===i)&&(e={r:We[s[1]]<<4|We[s[2]],g:We[s[3]]<<4|We[s[4]],b:We[s[5]]<<4|We[s[6]],a:9===i?We[s[7]]<<4|We[s[8]]:255})),e}(i)||function pi(s){H||(H=function ti(){const s={},i=Object.keys(Fi),e=Object.keys(fi);let a,r,c,u,x;for(a=0;a<i.length;a++){for(u=x=i[a],r=0;r<e.length;r++)c=e[r],x=x.replace(c,fi[c]);c=parseInt(Fi[u],16),s[x]=[c>>16&255,c>>8&255,255&c]}return s}(),H.transparent=[0,0,0,0]);const i=H[s.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||Be(i)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var i=zt(this._rgb);return i&&(i.a=ui(i.a)),i}set rgb(i){this._rgb=re(i)}rgbString(){return this._valid?function Z(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${ui(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}(this._rgb):void 0}hexString(){return this._valid?function ri(s){var i=(s=>Rt(s.r)&&Rt(s.g)&&Rt(s.b)&&Rt(s.a))(s)?Si:mt;return s?"#"+i(s.r)+i(s.g)+i(s.b)+((s,i)=>s<255?i(s):"")(s.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function Pi(s){if(!s)return;const i=Ze(s),e=i[0],a=E(i[1]),r=E(i[2]);return s.a<255?`hsla(${e}, ${a}%, ${r}%, ${ui(s.a)})`:`hsl(${e}, ${a}%, ${r}%)`}(this._rgb):void 0}mix(i,e){if(i){const a=this.rgb,r=i.rgb;let c;const u=e===c?.5:e,x=2*u-1,b=a.a-r.a,k=((x*b==-1?x:(x+b)/(1+x*b))+1)/2;c=1-k,a.r=255&k*a.r+c*r.r+.5,a.g=255&k*a.g+c*r.g+.5,a.b=255&k*a.b+c*r.b+.5,a.a=u*a.a+(1-u)*r.a,this.rgb=a}return this}interpolate(i,e){return i&&(this._rgb=function gt(s,i,e){const a=it(ui(s.r)),r=it(ui(s.g)),c=it(ui(s.b));return{r:Nt(st(a+e*(it(ui(i.r))-a))),g:Nt(st(r+e*(it(ui(i.g))-r))),b:Nt(st(c+e*(it(ui(i.b))-c))),a:s.a+e*(i.a-s.a)}}(this._rgb,i._rgb,e)),this}clone(){return new $t(this.rgb)}alpha(i){return this._rgb.a=Nt(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,e=ft(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=e,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return ut(this._rgb,2,i),this}darken(i){return ut(this._rgb,2,-i),this}saturate(i){return ut(this._rgb,1,i),this}desaturate(i){return ut(this._rgb,1,-i),this}rotate(i){return function Bi(s,i){var e=Ze(s);e[0]=mi(e[0]+i),e=Me(e),s.r=e[0],s.g=e[1],s.b=e[2]}(this._rgb,i),this}}function Pt(){}const _e=(()=>{let s=0;return()=>s++})();function Tt(s){return null===s||typeof s>"u"}function be(s){if(Array.isArray&&Array.isArray(s))return!0;const i=Object.prototype.toString.call(s);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function se(s){return null!==s&&"[object Object]"===Object.prototype.toString.call(s)}function ge(s){return("number"==typeof s||s instanceof Number)&&isFinite(+s)}function ei(s,i){return ge(s)?s:i}function Zt(s,i){return typeof s>"u"?i:s}const Li=(s,i)=>"string"==typeof s&&s.endsWith("%")?parseFloat(s)/100*i:+s;function Se(s,i,e){if(s&&"function"==typeof s.call)return s.apply(e,i)}function Ht(s,i,e,a){let r,c,u;if(be(s))if(c=s.length,a)for(r=c-1;r>=0;r--)i.call(e,s[r],r);else for(r=0;r<c;r++)i.call(e,s[r],r);else if(se(s))for(u=Object.keys(s),c=u.length,r=0;r<c;r++)i.call(e,s[u[r]],u[r])}function Wi(s,i){let e,a,r,c;if(!s||!i||s.length!==i.length)return!1;for(e=0,a=s.length;e<a;++e)if(r=s[e],c=i[e],r.datasetIndex!==c.datasetIndex||r.index!==c.index)return!1;return!0}function Ni(s){if(be(s))return s.map(Ni);if(se(s)){const i=Object.create(null),e=Object.keys(s),a=e.length;let r=0;for(;r<a;++r)i[e[r]]=Ni(s[e[r]]);return i}return s}function is(s){return-1===["__proto__","prototype","constructor"].indexOf(s)}function ss(s,i,e,a){if(!is(s))return;const r=i[s],c=e[s];se(r)&&se(c)?De(r,c,a):i[s]=Ni(c)}function De(s,i,e){const a=be(i)?i:[i],r=a.length;if(!se(s))return s;const c=(e=e||{}).merger||ss;let u;for(let x=0;x<r;++x){if(u=a[x],!se(u))continue;const b=Object.keys(u);for(let k=0,w=b.length;k<w;++k)c(b[k],s,u,e)}return s}function Pe(s,i){return De(s,i,{merger:ii})}function ii(s,i,e){if(!is(s))return;const a=i[s],r=e[s];se(a)&&se(r)?Pe(a,r):Object.prototype.hasOwnProperty.call(i,s)||(i[s]=Ni(r))}const Ss={"":s=>s,x:s=>s.x,y:s=>s.y};function B(s,i){return(Ss[i]||(Ss[i]=function T(s){const i=function cs(s){const i=s.split("."),e=[];let a="";for(const r of i)a+=r,a.endsWith("\\")?a=a.slice(0,-1)+".":(e.push(a),a="");return e}(s);return e=>{for(const a of i){if(""===a)break;e=e&&e[a]}return e}}(i)))(s)}function W(s){return s.charAt(0).toUpperCase()+s.slice(1)}const q=s=>typeof s<"u",pt=s=>"function"==typeof s,Mt=(s,i)=>{if(s.size!==i.size)return!1;for(const e of s)if(!i.has(e))return!1;return!0},It=Math.PI,Et=2*It,Ut=Et+It,Ye=Number.POSITIVE_INFINITY,Ce=It/180,he=It/2,ne=It/4,qe=2*It/3,Fe=Math.log10,St=Math.sign;function me(s,i,e){return Math.abs(s-i)<e}function t(s){const i=Math.round(s);s=me(s,i,s/1e3)?i:s;const e=Math.pow(10,Math.floor(Fe(s))),a=s/e;return(a<=1?1:a<=2?2:a<=5?5:10)*e}function o(s){return!isNaN(parseFloat(s))&&isFinite(s)}function l(s,i,e){let a,r,c;for(a=0,r=s.length;a<r;a++)c=s[a][e],isNaN(c)||(i.min=Math.min(i.min,c),i.max=Math.max(i.max,c))}function p(s){return s*(It/180)}function g(s){return s*(180/It)}function M(s){if(!ge(s))return;let i=1,e=0;for(;Math.round(s*i)/i!==s;)i*=10,e++;return e}function _(s,i){const e=i.x-s.x,a=i.y-s.y,r=Math.sqrt(e*e+a*a);let c=Math.atan2(a,e);return c<-.5*It&&(c+=Et),{angle:c,distance:r}}function f(s,i){return Math.sqrt(Math.pow(i.x-s.x,2)+Math.pow(i.y-s.y,2))}function m(s,i){return(s-i+Ut)%Et-It}function y(s){return(s%Et+Et)%Et}function v(s,i,e,a){const r=y(s),c=y(i),u=y(e),x=y(c-r),b=y(u-r),k=y(r-c),w=y(r-u);return r===c||r===u||a&&c===u||x>b&&k<w}function h(s,i,e){return Math.max(i,Math.min(e,s))}function S(s,i,e,a=1e-6){return s>=Math.min(i,e)-a&&s<=Math.max(i,e)+a}function F(s,i,e){e=e||(u=>s[u]<i);let c,a=s.length-1,r=0;for(;a-r>1;)c=r+a>>1,e(c)?r=c:a=c;return{lo:r,hi:a}}const P=(s,i,e,a)=>F(s,e,a?r=>{const c=s[r][i];return c<e||c===e&&s[r+1][i]===e}:r=>s[r][i]<e),I=(s,i,e)=>F(s,e,a=>s[a][i]>=e),z=["push","pop","shift","splice","unshift"];function Y(s,i){const e=s._chartjs;if(!e)return;const a=e.listeners,r=a.indexOf(i);-1!==r&&a.splice(r,1),!(a.length>0)&&(z.forEach(c=>{delete s[c]}),delete s._chartjs)}function et(s){const i=new Set(s);return i.size===s.length?s:Array.from(i)}const J=typeof window>"u"?function(s){return s()}:window.requestAnimationFrame;function Q(s,i){let e=[],a=!1;return function(...r){e=r,a||(a=!0,J.call(window,()=>{a=!1,s.apply(i,e)}))}}const U=s=>"start"===s?"left":"end"===s?"right":"center",O=(s,i,e)=>"start"===s?i:"end"===s?e:(i+e)/2;function lt(s,i,e){const a=i.length;let r=0,c=a;if(s._sorted){const{iScale:u,_parsed:x}=s,b=u.axis,{min:k,max:w,minDefined:L,maxDefined:D}=u.getUserBounds();L&&(r=h(Math.min(P(x,b,k).lo,e?a:P(i,b,u.getPixelForValue(k)).lo),0,a-1)),c=D?h(Math.max(P(x,u.axis,w,!0).hi+1,e?0:P(i,b,u.getPixelForValue(w),!0).hi+1),r,a)-r:a-r}return{start:r,count:c}}function R(s){const{xScale:i,yScale:e,_scaleRanges:a}=s,r={xmin:i.min,xmax:i.max,ymin:e.min,ymax:e.max};if(!a)return s._scaleRanges=r,!0;const c=a.xmin!==i.min||a.xmax!==i.max||a.ymin!==e.min||a.ymax!==e.max;return Object.assign(a,r),c}const Gt=s=>0===s||1===s,qt=(s,i,e)=>-Math.pow(2,10*(s-=1))*Math.sin((s-i)*Et/e),de=(s,i,e)=>Math.pow(2,-10*s)*Math.sin((s-i)*Et/e)+1,ae={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>1-Math.cos(s*he),easeOutSine:s=>Math.sin(s*he),easeInOutSine:s=>-.5*(Math.cos(It*s)-1),easeInExpo:s=>0===s?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>1===s?1:1-Math.pow(2,-10*s),easeInOutExpo:s=>Gt(s)?s:s<.5?.5*Math.pow(2,10*(2*s-1)):.5*(2-Math.pow(2,-10*(2*s-1))),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Gt(s)?s:qt(s,.075,.3),easeOutElastic:s=>Gt(s)?s:de(s,.075,.3),easeInOutElastic:s=>Gt(s)?s:s<.5?.5*qt(2*s,.1125,.45):.5+.5*de(2*s-1,.1125,.45),easeInBack:s=>s*s*(2.70158*s-1.70158),easeOutBack:s=>(s-=1)*s*(2.70158*s+1.70158)+1,easeInOutBack(s){let i=1.70158;return(s/=.5)<1?s*s*((1+(i*=1.525))*s-i)*.5:.5*((s-=2)*s*((1+(i*=1.525))*s+i)+2)},easeInBounce:s=>1-ae.easeOutBounce(1-s),easeOutBounce:s=>s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375,easeInOutBounce:s=>s<.5?.5*ae.easeInBounce(2*s):.5*ae.easeOutBounce(2*s-1)+.5};function At(s){if(s&&"object"==typeof s){const i=s.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function we(s){return At(s)?s:new $t(s)}function te(s){return At(s)?s:new $t(s).saturate(.5).darken(.1).hexString()}const ee=["x","y","borderWidth","radius","tension"],Lt=["color","borderColor","backgroundColor"],Ee=new Map;function si(s,i,e){return function Mi(s,i){i=i||{};const e=s+JSON.stringify(i);let a=Ee.get(e);return a||(a=new Intl.NumberFormat(s,i),Ee.set(e,a)),a}(i,e).format(s)}const rt={values:s=>be(s)?s:""+s,numeric(s,i,e){if(0===s)return"0";const a=this.chart.options.locale;let r,c=s;if(e.length>1){const k=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(k<1e-4||k>1e15)&&(r="scientific"),c=function Hi(s,i){let e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}(s,e)}const u=Fe(Math.abs(c)),x=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),b={notation:r,minimumFractionDigits:x,maximumFractionDigits:x};return Object.assign(b,this.options.ticks.format),si(s,a,b)},logarithmic(s,i,e){if(0===s)return"0";const a=e[i].significand||s/Math.pow(10,Math.floor(Fe(s)));return[1,2,3,5,10,15].includes(a)||i>.8*e.length?rt.numeric.call(this,s,i,e):""}};var Le={formatters:rt};const ht=Object.create(null),dt=Object.create(null);function vt(s,i){if(!i)return s;const e=i.split(".");for(let a=0,r=e.length;a<r;++a){const c=e[a];s=s[c]||(s[c]=Object.create(null))}return s}function Jt(s,i,e){return"string"==typeof i?De(vt(s,i),e):De(vt(s,""),i)}class Ct{constructor(i,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,r)=>te(r.backgroundColor),this.hoverBorderColor=(a,r)=>te(r.borderColor),this.hoverColor=(a,r)=>te(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(e)}set(i,e){return Jt(this,i,e)}get(i){return vt(this,i)}describe(i,e){return Jt(dt,i,e)}override(i,e){return Jt(ht,i,e)}route(i,e,a,r){const c=vt(this,i),u=vt(this,a),x="_"+e;Object.defineProperties(c,{[x]:{value:c[e],writable:!0},[e]:{enumerable:!0,get(){const b=this[x],k=u[r];return se(b)?Object.assign({},k,b):Zt(b,k)},set(b){this[x]=b}}})}apply(i){i.forEach(e=>e(this))}}var Vt=new Ct({_scriptable:s=>!s.startsWith("on"),_indexable:s=>"events"!==s,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Te(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>"onProgress"!==i&&"onComplete"!==i&&"fn"!==i}),s.set("animations",{colors:{type:"color",properties:Lt},numbers:{type:"number",properties:ee}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>0|i}}}})},function li(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Xi(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,e)=>e.lineWidth,tickColor:(i,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Le.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&"callback"!==i&&"parser"!==i,_indexable:i=>"borderDash"!==i&&"tickBorderDash"!==i&&"dash"!==i}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:i=>"backdropPadding"!==i&&"callback"!==i,_indexable:i=>"backdropPadding"!==i})}]);function ve(s,i,e,a,r){let c=i[r];return c||(c=i[r]=s.measureText(r).width,e.push(r)),c>a&&(a=c),a}function Bt(s,i,e,a){let r=(a=a||{}).data=a.data||{},c=a.garbageCollect=a.garbageCollect||[];a.font!==i&&(r=a.data={},c=a.garbageCollect=[],a.font=i),s.save(),s.font=i;let u=0;const x=e.length;let b,k,w,L,D;for(b=0;b<x;b++)if(L=e[b],null==L||be(L)){if(be(L))for(k=0,w=L.length;k<w;k++)D=L[k],null!=D&&!be(D)&&(u=ve(s,r,c,u,D))}else u=ve(s,r,c,u,L);s.restore();const X=c.length/2;if(X>e.length){for(b=0;b<X;b++)delete r[c[b]];c.splice(0,X)}return u}function fe(s,i,e){const a=s.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((i-r)*a)/a+r}function Ve(s,i){!i&&!s||((i=i||s.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,s.width,s.height),i.restore())}function xe(s,i,e,a){Wt(s,i,e,a,null)}function Wt(s,i,e,a,r){let c,u,x,b,k,w,L,D;const X=i.pointStyle,j=i.rotation,K=i.radius;let G=(j||0)*Ce;if(X&&"object"==typeof X&&(c=X.toString(),"[object HTMLImageElement]"===c||"[object HTMLCanvasElement]"===c))return s.save(),s.translate(e,a),s.rotate(G),s.drawImage(X,-X.width/2,-X.height/2,X.width,X.height),void s.restore();if(!(isNaN(K)||K<=0)){switch(s.beginPath(),X){default:r?s.ellipse(e,a,r/2,K,0,0,Et):s.arc(e,a,K,0,Et),s.closePath();break;case"triangle":w=r?r/2:K,s.moveTo(e+Math.sin(G)*w,a-Math.cos(G)*K),G+=qe,s.lineTo(e+Math.sin(G)*w,a-Math.cos(G)*K),G+=qe,s.lineTo(e+Math.sin(G)*w,a-Math.cos(G)*K),s.closePath();break;case"rectRounded":k=.516*K,b=K-k,u=Math.cos(G+ne)*b,L=Math.cos(G+ne)*(r?r/2-k:b),x=Math.sin(G+ne)*b,D=Math.sin(G+ne)*(r?r/2-k:b),s.arc(e-L,a-x,k,G-It,G-he),s.arc(e+D,a-u,k,G-he,G),s.arc(e+L,a+x,k,G,G+he),s.arc(e-D,a+u,k,G+he,G+It),s.closePath();break;case"rect":if(!j){b=Math.SQRT1_2*K,w=r?r/2:b,s.rect(e-w,a-b,2*w,2*b);break}G+=ne;case"rectRot":L=Math.cos(G)*(r?r/2:K),u=Math.cos(G)*K,x=Math.sin(G)*K,D=Math.sin(G)*(r?r/2:K),s.moveTo(e-L,a-x),s.lineTo(e+D,a-u),s.lineTo(e+L,a+x),s.lineTo(e-D,a+u),s.closePath();break;case"crossRot":G+=ne;case"cross":L=Math.cos(G)*(r?r/2:K),u=Math.cos(G)*K,x=Math.sin(G)*K,D=Math.sin(G)*(r?r/2:K),s.moveTo(e-L,a-x),s.lineTo(e+L,a+x),s.moveTo(e+D,a-u),s.lineTo(e-D,a+u);break;case"star":L=Math.cos(G)*(r?r/2:K),u=Math.cos(G)*K,x=Math.sin(G)*K,D=Math.sin(G)*(r?r/2:K),s.moveTo(e-L,a-x),s.lineTo(e+L,a+x),s.moveTo(e+D,a-u),s.lineTo(e-D,a+u),G+=ne,L=Math.cos(G)*(r?r/2:K),u=Math.cos(G)*K,x=Math.sin(G)*K,D=Math.sin(G)*(r?r/2:K),s.moveTo(e-L,a-x),s.lineTo(e+L,a+x),s.moveTo(e+D,a-u),s.lineTo(e-D,a+u);break;case"line":u=r?r/2:Math.cos(G)*K,x=Math.sin(G)*K,s.moveTo(e-u,a-x),s.lineTo(e+u,a+x);break;case"dash":s.moveTo(e,a),s.lineTo(e+Math.cos(G)*(r?r/2:K),a+Math.sin(G)*K);break;case!1:s.closePath()}s.fill(),i.borderWidth>0&&s.stroke()}}function jt(s,i,e){return e=e||.5,!i||s&&s.x>i.left-e&&s.x<i.right+e&&s.y>i.top-e&&s.y<i.bottom+e}function Ft(s,i){s.save(),s.beginPath(),s.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),s.clip()}function le(s){s.restore()}function Ke(s,i,e,a,r){if(!i)return s.lineTo(e.x,e.y);if("middle"===r){const c=(i.x+e.x)/2;s.lineTo(c,i.y),s.lineTo(c,e.y)}else"after"===r!=!!a?s.lineTo(i.x,e.y):s.lineTo(e.x,i.y);s.lineTo(e.x,e.y)}function ni(s,i,e,a){if(!i)return s.lineTo(e.x,e.y);s.bezierCurveTo(a?i.cp1x:i.cp2x,a?i.cp1y:i.cp2y,a?e.cp2x:e.cp1x,a?e.cp2y:e.cp1y,e.x,e.y)}function Qt(s,i,e,a,r){if(r.strikethrough||r.underline){const c=s.measureText(a),u=i-c.actualBoundingBoxLeft,x=i+c.actualBoundingBoxRight,k=e+c.actualBoundingBoxDescent,w=r.strikethrough?(e-c.actualBoundingBoxAscent+k)/2:k;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=r.decorationWidth||2,s.moveTo(u,w),s.lineTo(x,w),s.stroke()}}function Re(s,i){const e=s.fillStyle;s.fillStyle=i.color,s.fillRect(i.left,i.top,i.width,i.height),s.fillStyle=e}function ji(s,i,e,a,r,c={}){const u=be(i)?i:[i],x=c.strokeWidth>0&&""!==c.strokeColor;let b,k;for(s.save(),s.font=r.string,function Ge(s,i){i.translation&&s.translate(i.translation[0],i.translation[1]),Tt(i.rotation)||s.rotate(i.rotation),i.color&&(s.fillStyle=i.color),i.textAlign&&(s.textAlign=i.textAlign),i.textBaseline&&(s.textBaseline=i.textBaseline)}(s,c),b=0;b<u.length;++b)k=u[b],c.backdrop&&Re(s,c.backdrop),x&&(c.strokeColor&&(s.strokeStyle=c.strokeColor),Tt(c.strokeWidth)||(s.lineWidth=c.strokeWidth),s.strokeText(k,e,a,c.maxWidth)),s.fillText(k,e,a,c.maxWidth),Qt(s,e,a,k,c),a+=Number(r.lineHeight);s.restore()}function us(s,i){const{x:e,y:a,w:r,h:c,radius:u}=i;s.arc(e+u.topLeft,a+u.topLeft,u.topLeft,1.5*It,It,!0),s.lineTo(e,a+c-u.bottomLeft),s.arc(e+u.bottomLeft,a+c-u.bottomLeft,u.bottomLeft,It,he,!0),s.lineTo(e+r-u.bottomRight,a+c),s.arc(e+r-u.bottomRight,a+c-u.bottomRight,u.bottomRight,he,0,!0),s.lineTo(e+r,a+u.topRight),s.arc(e+r-u.topRight,a+u.topRight,u.topRight,0,-he,!0),s.lineTo(e+u.topLeft,a)}const Mo=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ko=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _o(s,i){const e=(""+s).match(Mo);if(!e||"normal"===e[1])return 1.2*i;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100}return i*s}const Po=s=>+s||0;function Zs(s,i){const e={},a=se(i),r=a?Object.keys(i):i,c=se(s)?a?u=>Zt(s[u],s[i[u]]):u=>s[u]:()=>s;for(const u of r)e[u]=Po(c(u));return e}function An(s){return Zs(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Ui(s){return Zs(s,["topLeft","topRight","bottomLeft","bottomRight"])}function hi(s){const i=An(s);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Qe(s,i){let e=Zt((s=s||{}).size,(i=i||Vt.font).size);"string"==typeof e&&(e=parseInt(e,10));let a=Zt(s.style,i.style);a&&!(""+a).match(ko)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const r={family:Zt(s.family,i.family),lineHeight:_o(Zt(s.lineHeight,i.lineHeight),e),size:e,style:a,weight:Zt(s.weight,i.weight),string:""};return r.string=function Ue(s){return!s||Tt(s.size)||Tt(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}(r),r}function ps(s,i,e,a){let c,u,x,r=!0;for(c=0,u=s.length;c<u;++c)if(x=s[c],void 0!==x&&(void 0!==i&&"function"==typeof x&&(x=x(i),r=!1),void 0!==e&&be(x)&&(x=x[e%x.length],r=!1),void 0!==x))return a&&!r&&(a.cacheable=!1),x}function Yi(s,i){return Object.assign(Object.create(s),i)}function Qs(s,i=[""],e,a,r=(()=>s[0])){const c=e||s;typeof a>"u"&&(a=Dn("_fallback",s));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:c,_fallback:a,_getTarget:r,override:x=>Qs([x,...s],i,c,a)};return new Proxy(u,{deleteProperty:(x,b)=>(delete x[b],delete x._keys,delete s[0][b],!0),get:(x,b)=>Fn(x,b,()=>function Io(s,i,e,a){let r;for(const c of i)if(r=Dn(Co(c,s),e),typeof r<"u")return qs(s,r)?tn(e,a,s,r):r}(b,i,s,x)),getOwnPropertyDescriptor:(x,b)=>Reflect.getOwnPropertyDescriptor(x._scopes[0],b),getPrototypeOf:()=>Reflect.getPrototypeOf(s[0]),has:(x,b)=>Vn(x).includes(b),ownKeys:x=>Vn(x),set(x,b,k){const w=x._storage||(x._storage=r());return x[b]=w[b]=k,delete x._keys,!0}})}function ns(s,i,e,a){const r={_cacheable:!1,_proxy:s,_context:i,_subProxy:e,_stack:new Set,_descriptors:Bn(s,a),setContext:c=>ns(s,c,e,a),override:c=>ns(s.override(c),i,e,a)};return new Proxy(r,{deleteProperty:(c,u)=>(delete c[u],delete s[u],!0),get:(c,u,x)=>Fn(c,u,()=>function wo(s,i,e){const{_proxy:a,_context:r,_subProxy:c,_descriptors:u}=s;let x=a[i];return pt(x)&&u.isScriptable(i)&&(x=function So(s,i,e,a){const{_proxy:r,_context:c,_subProxy:u,_stack:x}=e;if(x.has(s))throw new Error("Recursion detected: "+Array.from(x).join("->")+"->"+s);x.add(s);let b=i(c,u||a);return x.delete(s),qs(s,b)&&(b=tn(r._scopes,r,s,b)),b}(i,x,s,e)),be(x)&&x.length&&(x=function Ao(s,i,e,a){const{_proxy:r,_context:c,_subProxy:u,_descriptors:x}=e;if(typeof c.index<"u"&&a(s))return i[c.index%i.length];if(se(i[0])){const b=i,k=r._scopes.filter(w=>w!==b);i=[];for(const w of b){const L=tn(k,r,s,w);i.push(ns(L,c,u&&u[s],x))}}return i}(i,x,s,u.isIndexable)),qs(i,x)&&(x=ns(x,r,c&&c[i],u)),x}(c,u,x)),getOwnPropertyDescriptor:(c,u)=>c._descriptors.allKeys?Reflect.has(s,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,u),getPrototypeOf:()=>Reflect.getPrototypeOf(s),has:(c,u)=>Reflect.has(s,u),ownKeys:()=>Reflect.ownKeys(s),set:(c,u,x)=>(s[u]=x,delete c[u],!0)})}function Bn(s,i={scriptable:!0,indexable:!0}){const{_scriptable:e=i.scriptable,_indexable:a=i.indexable,_allKeys:r=i.allKeys}=s;return{allKeys:r,scriptable:e,indexable:a,isScriptable:pt(e)?e:()=>e,isIndexable:pt(a)?a:()=>a}}const Co=(s,i)=>s?s+W(i):i,qs=(s,i)=>se(i)&&"adapters"!==s&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function Fn(s,i,e){if(Object.prototype.hasOwnProperty.call(s,i)||"constructor"===i)return s[i];const a=e();return s[i]=a,a}function Ln(s,i,e){return pt(s)?s(i,e):s}const Bo=(s,i)=>!0===s?i:"string"==typeof s?B(i,s):void 0;function Fo(s,i,e,a,r){for(const c of i){const u=Bo(e,c);if(u){s.add(u);const x=Ln(u._fallback,e,r);if(typeof x<"u"&&x!==e&&x!==a)return x}else if(!1===u&&typeof a<"u"&&e!==a)return null}return!1}function tn(s,i,e,a){const r=i._rootScopes,c=Ln(i._fallback,e,a),u=[...s,...r],x=new Set;x.add(a);let b=In(x,u,e,c||e,a);return!(null===b||typeof c<"u"&&c!==e&&(b=In(x,u,c,b,a),null===b))&&Qs(Array.from(x),[""],r,c,()=>function Lo(s,i,e){const a=s._getTarget();i in a||(a[i]={});const r=a[i];return be(r)&&se(e)?e:r||{}}(i,e,a))}function In(s,i,e,a,r){for(;e;)e=Fo(s,i,e,a,r);return e}function Dn(s,i){for(const e of i){if(!e)continue;const a=e[s];if(typeof a<"u")return a}}function Vn(s){let i=s._keys;return i||(i=s._keys=function Do(s){const i=new Set;for(const e of s)for(const a of Object.keys(e).filter(r=>!r.startsWith("_")))i.add(a);return Array.from(i)}(s._scopes)),i}function Wn(s,i,e,a){const{iScale:r}=s,{key:c="r"}=this._parsing,u=new Array(a);let x,b,k,w;for(x=0,b=a;x<b;++x)k=x+e,w=i[k],u[x]={r:r.parse(B(w,c),k)};return u}const Vo=Number.EPSILON||1e-14,as=(s,i)=>i<s.length&&!s[i].skip&&s[i],On=s=>"x"===s?"y":"x";function Wo(s,i,e,a){const r=s.skip?i:s,c=i,u=e.skip?i:e,x=f(c,r),b=f(u,c);let k=x/(x+b),w=b/(x+b);k=isNaN(k)?0:k,w=isNaN(w)?0:w;const L=a*k,D=a*w;return{previous:{x:c.x-L*(u.x-r.x),y:c.y-L*(u.y-r.y)},next:{x:c.x+D*(u.x-r.x),y:c.y+D*(u.y-r.y)}}}function As(s,i,e){return Math.max(Math.min(s,e),i)}function zo(s,i,e,a,r){let c,u,x,b;if(i.spanGaps&&(s=s.filter(k=>!k.skip)),"monotone"===i.cubicInterpolationMode)!function Xo(s,i="x"){const e=On(i),a=s.length,r=Array(a).fill(0),c=Array(a);let u,x,b,k=as(s,0);for(u=0;u<a;++u)if(x=b,b=k,k=as(s,u+1),b){if(k){const w=k[i]-b[i];r[u]=0!==w?(k[e]-b[e])/w:0}c[u]=x?k?St(r[u-1])!==St(r[u])?0:(r[u-1]+r[u])/2:r[u-1]:r[u]}(function Oo(s,i,e){const a=s.length;let r,c,u,x,b,k=as(s,0);for(let w=0;w<a-1;++w)if(b=k,k=as(s,w+1),b&&k){if(me(i[w],0,Vo)){e[w]=e[w+1]=0;continue}r=e[w]/i[w],c=e[w+1]/i[w],x=Math.pow(r,2)+Math.pow(c,2),!(x<=9)&&(u=3/Math.sqrt(x),e[w]=r*u*i[w],e[w+1]=c*u*i[w])}})(s,r,c),function Eo(s,i,e="x"){const a=On(e),r=s.length;let c,u,x,b=as(s,0);for(let k=0;k<r;++k){if(u=x,x=b,b=as(s,k+1),!x)continue;const w=x[e],L=x[a];u&&(c=(w-u[e])/3,x[`cp1${e}`]=w-c,x[`cp1${a}`]=L-c*i[k]),b&&(c=(b[e]-w)/3,x[`cp2${e}`]=w+c,x[`cp2${a}`]=L+c*i[k])}}(s,c,i)}(s,r);else{let k=a?s[s.length-1]:s[0];for(c=0,u=s.length;c<u;++c)x=s[c],b=Wo(k,x,s[Math.min(c+1,u-(a?0:1))%u],i.tension),x.cp1x=b.previous.x,x.cp1y=b.previous.y,x.cp2x=b.next.x,x.cp2y=b.next.y,k=x}i.capBezierPoints&&function Yo(s,i){let e,a,r,c,u,x=jt(s[0],i);for(e=0,a=s.length;e<a;++e)u=c,c=x,x=e<a-1&&jt(s[e+1],i),c&&(r=s[e],u&&(r.cp1x=As(r.cp1x,i.left,i.right),r.cp1y=As(r.cp1y,i.top,i.bottom)),x&&(r.cp2x=As(r.cp2x,i.left,i.right),r.cp2y=As(r.cp2y,i.top,i.bottom)))}(s,e)}function en(){return typeof window<"u"&&typeof document<"u"}function sn(s){let i=s.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function Bs(s,i,e){let a;return"string"==typeof s?(a=parseInt(s,10),-1!==s.indexOf("%")&&(a=a/100*i.parentNode[e])):a=s,a}const Fs=s=>s.ownerDocument.defaultView.getComputedStyle(s,null),No=["top","right","bottom","left"];function Ki(s,i,e){const a={};e=e?"-"+e:"";for(let r=0;r<4;r++){const c=No[r];a[c]=parseFloat(s[i+"-"+c+e])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const Ho=(s,i,e)=>(s>0||i>0)&&(!e||!e.shadowRoot);function Gi(s,i){if("native"in s)return s;const{canvas:e,currentDevicePixelRatio:a}=i,r=Fs(e),c="border-box"===r.boxSizing,u=Ki(r,"padding"),x=Ki(r,"border","width"),{x:b,y:k,box:w}=function jo(s,i){const e=s.touches,a=e&&e.length?e[0]:s,{offsetX:r,offsetY:c}=a;let x,b,u=!1;if(Ho(r,c,s.target))x=r,b=c;else{const k=i.getBoundingClientRect();x=a.clientX-k.left,b=a.clientY-k.top,u=!0}return{x,y:b,box:u}}(s,e),L=u.left+(w&&x.left),D=u.top+(w&&x.top);let{width:X,height:j}=i;return c&&(X-=u.width+x.width,j-=u.height+x.height),{x:Math.round((b-L)/X*e.width/a),y:Math.round((k-D)/j*e.height/a)}}const Ls=s=>Math.round(10*s)/10;function En(s,i,e){const a=i||1,r=Math.floor(s.height*a),c=Math.floor(s.width*a);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const u=s.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${s.height}px`,u.style.width=`${s.width}px`),(s.currentDevicePixelRatio!==a||u.height!==r||u.width!==c)&&(s.currentDevicePixelRatio=a,u.height=r,u.width=c,s.ctx.setTransform(a,0,0,a,0,0),!0)}const Go=function(){let s=!1;try{const i={get passive(){return s=!0,!1}};en()&&(window.addEventListener("test",null,i),window.removeEventListener("test",null,i))}catch{}return s}();function Xn(s,i){const e=function Ro(s,i){return Fs(s).getPropertyValue(i)}(s,i),a=e&&e.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function $i(s,i,e,a){return{x:s.x+e*(i.x-s.x),y:s.y+e*(i.y-s.y)}}function $o(s,i,e,a){return{x:s.x+e*(i.x-s.x),y:"middle"===a?e<.5?s.y:i.y:"after"===a?e<1?s.y:i.y:e>0?i.y:s.y}}function Jo(s,i,e,a){const r={x:s.cp2x,y:s.cp2y},c={x:i.cp1x,y:i.cp1y},u=$i(s,r,e),x=$i(r,c,e),b=$i(c,i,e),k=$i(u,x,e),w=$i(x,b,e);return $i(k,w,e)}function os(s,i,e){return s?function(s,i){return{x:e=>s+s+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,a)=>e-a,leftForLtr:(e,a)=>e-a}}(i,e):{x:s=>s,setWidth(s){},textAlign:s=>s,xPlus:(s,i)=>s+i,leftForLtr:(s,i)=>s}}function Yn(s,i){let e,a;("ltr"===i||"rtl"===i)&&(e=s.canvas.style,a=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",i,"important"),s.prevTextDirection=a)}function zn(s,i){void 0!==i&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",i[0],i[1]))}function Rn(s){return"angle"===s?{between:v,compare:m,normalize:y}:{between:S,compare:(i,e)=>i-e,normalize:i=>i}}function Nn({start:s,end:i,count:e,loop:a,style:r}){return{start:s%e,end:i%e,loop:a&&(i-s+1)%e==0,style:r}}function Hn(s,i,e){if(!e)return[s];const{property:a,start:r,end:c}=e,u=i.length,{compare:x,between:b,normalize:k}=Rn(a),{start:w,end:L,loop:D,style:X}=function qo(s,i,e){const{property:a,start:r,end:c}=e,{between:u,normalize:x}=Rn(a),b=i.length;let D,X,{start:k,end:w,loop:L}=s;if(L){for(k+=b,w+=b,D=0,X=b;D<X&&u(x(i[k%b][a]),r,c);++D)k--,w--;k%=b,w%=b}return w<k&&(w+=b),{start:k,end:w,loop:L,style:s.style}}(s,i,e),j=[];let ot,at,yt,K=!1,G=null;for(let wt=w,Yt=w;wt<=L;++wt)at=i[wt%u],!at.skip&&(ot=k(at[a]),ot!==yt&&(K=b(ot,r,c),null===G&&(K||b(r,yt,ot)&&0!==x(r,yt))&&(G=0===x(ot,r)?wt:Yt),null!==G&&(!K||0===x(c,ot)||b(c,yt,ot))&&(j.push(Nn({start:G,end:wt,loop:D,count:u,style:X})),G=null),Yt=wt,yt=ot));return null!==G&&j.push(Nn({start:G,end:L,loop:D,count:u,style:X})),j}function jn(s,i){const e=[],a=s.segments;for(let r=0;r<a.length;r++){const c=Hn(a[r],s.points,i);c.length&&e.push(...c)}return e}function Kn(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function nr(s,i){if(!i)return!1;const e=[],a=function(r,c){return At(c)?(e.includes(c)||e.push(c),e.indexOf(c)):c};return JSON.stringify(s,a)!==JSON.stringify(i,a)}class ar{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,e,a,r){const u=e.duration;e.listeners[r].forEach(x=>x({chart:i,initial:e.initial,numSteps:u,currentStep:Math.min(a-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=J.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let e=0;this._charts.forEach((a,r)=>{if(!a.running||!a.items.length)return;const c=a.items;let b,u=c.length-1,x=!1;for(;u>=0;--u)b=c[u],b._active?(b._total>a.duration&&(a.duration=b._total),b.tick(i),x=!0):(c[u]=c[c.length-1],c.pop());x&&(r.draw(),this._notify(r,a,i,"progress")),c.length||(a.running=!1,this._notify(r,a,i,"complete"),a.initial=!1),e+=c.length}),this._lastDate=i,0===e&&(this._running=!1)}_getAnims(i){const e=this._charts;let a=e.get(i);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(i,a)),a}listen(i,e,a){this._getAnims(i).listeners[e].push(a)}add(i,e){!e||!e.length||this._getAnims(i).items.push(...e)}has(i){return this._getAnims(i).items.length>0}start(i){const e=this._charts.get(i);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((a,r)=>Math.max(a,r._duration),0),this._refresh())}running(i){if(!this._running)return!1;const e=this._charts.get(i);return!(!e||!e.running||!e.items.length)}stop(i){const e=this._charts.get(i);if(!e||!e.items.length)return;const a=e.items;let r=a.length-1;for(;r>=0;--r)a[r].cancel();e.items=[],this._notify(i,e,Date.now(),"complete")}remove(i){return this._charts.delete(i)}}var Oi=new ar;const Gn="transparent",or={boolean:(s,i,e)=>e>.5?i:s,color(s,i,e){const a=we(s||Gn),r=a.valid&&we(i||Gn);return r&&r.valid?r.mix(a,e).hexString():i},number:(s,i,e)=>s+(i-s)*e};class rr{constructor(i,e,a,r){const c=e[a];r=ps([i.to,r,c,i.from]);const u=ps([i.from,c,r]);this._active=!0,this._fn=i.fn||or[i.type||typeof u],this._easing=ae[i.easing]||ae.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=e,this._prop=a,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(i,e,a){if(this._active){this._notify(!1);const r=this._target[this._prop],c=a-this._start,u=this._duration-c;this._start=a,this._duration=Math.floor(Math.max(u,i.duration)),this._total+=c,this._loop=!!i.loop,this._to=ps([i.to,e,r,i.from]),this._from=ps([i.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const e=i-this._start,a=this._duration,r=this._prop,c=this._from,u=this._loop,x=this._to;let b;if(this._active=c!==x&&(u||e<a),!this._active)return this._target[r]=x,void this._notify(!0);e<0?this._target[r]=c:(b=e/a%2,b=u&&b>1?2-b:b,b=this._easing(Math.min(1,Math.max(0,b))),this._target[r]=this._fn(c,x,b))}wait(){const i=this._promises||(this._promises=[]);return new Promise((e,a)=>{i.push({res:e,rej:a})})}_notify(i){const e=i?"res":"rej",a=this._promises||[];for(let r=0;r<a.length;r++)a[r][e]()}}class $n{constructor(i,e){this._chart=i,this._properties=new Map,this.configure(e)}configure(i){if(!se(i))return;const e=Object.keys(Vt.animation),a=this._properties;Object.getOwnPropertyNames(i).forEach(r=>{const c=i[r];if(!se(c))return;const u={};for(const x of e)u[x]=c[x];(be(c.properties)&&c.properties||[r]).forEach(x=>{(x===r||!a.has(x))&&a.set(x,u)})})}_animateOptions(i,e){const a=e.options,r=function hr(s,i){if(!i)return;let e=s.options;if(e)return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;s.options=i}(i,a);if(!r)return[];const c=this._createAnimations(r,a);return a.$shared&&function lr(s,i){const e=[],a=Object.keys(i);for(let r=0;r<a.length;r++){const c=s[a[r]];c&&c.active()&&e.push(c.wait())}return Promise.all(e)}(i.options.$animations,a).then(()=>{i.options=a},()=>{}),c}_createAnimations(i,e){const a=this._properties,r=[],c=i.$animations||(i.$animations={}),u=Object.keys(e),x=Date.now();let b;for(b=u.length-1;b>=0;--b){const k=u[b];if("$"===k.charAt(0))continue;if("options"===k){r.push(...this._animateOptions(i,e));continue}const w=e[k];let L=c[k];const D=a.get(k);if(L){if(D&&L.active()){L.update(D,w,x);continue}L.cancel()}D&&D.duration?(c[k]=L=new rr(D,i,k,w),r.push(L)):i[k]=w}return r}update(i,e){if(0===this._properties.size)return void Object.assign(i,e);const a=this._createAnimations(i,e);return a.length?(Oi.add(this._chart,a),!0):void 0}}function Jn(s,i){const e=s&&s.options||{},a=e.reverse,r=void 0===e.min?i:0,c=void 0===e.max?i:0;return{start:a?c:r,end:a?r:c}}function Zn(s,i){const e=[],a=s._getSortedDatasetMetas(i);let r,c;for(r=0,c=a.length;r<c;++r)e.push(a[r].index);return e}function Qn(s,i,e,a={}){const r=s.keys,c="single"===a.mode;let u,x,b,k;if(null!==i){for(u=0,x=r.length;u<x;++u){if(b=+r[u],b===e){if(a.all)continue;break}k=s.values[b],ge(k)&&(c||0===i||St(i)===St(k))&&(i+=k)}return i}}function qn(s,i){const e=s&&s.options.stacked;return e||void 0===e&&void 0!==i.stack}function gr(s,i,e){const a=s[i]||(s[i]={});return a[e]||(a[e]={})}function ta(s,i,e,a){for(const r of i.getMatchingVisibleMetas(a).reverse()){const c=s[r.index];if(e&&c>0||!e&&c<0)return r.index}return null}function ea(s,i){const{chart:e,_cachedMeta:a}=s,r=e._stacks||(e._stacks={}),{iScale:c,vScale:u,index:x}=a,b=c.axis,k=u.axis,w=function pr(s,i,e){return`${s.id}.${i.id}.${e.stack||e.type}`}(c,u,a),L=i.length;let D;for(let X=0;X<L;++X){const j=i[X],{[b]:K,[k]:G}=j;D=(j._stacks||(j._stacks={}))[k]=gr(r,w,K),D[x]=G,D._top=ta(D,u,!0,a.type),D._bottom=ta(D,u,!1,a.type),(D._visualValues||(D._visualValues={}))[x]=G}}function nn(s,i){const e=s.scales;return Object.keys(e).filter(a=>e[a].axis===i).shift()}function xs(s,i){const e=s.controller.index,a=s.vScale&&s.vScale.axis;if(a){i=i||s._parsed;for(const r of i){const c=r._stacks;if(!c||void 0===c[a]||void 0===c[a][e])return;delete c[a][e],void 0!==c[a]._visualValues&&void 0!==c[a]._visualValues[e]&&delete c[a]._visualValues[e]}}}const an=s=>"reset"===s||"none"===s,ia=(s,i)=>i?s:Object.assign({},s);let zi=(()=>{class s{constructor(e,a){this.chart=e,this._ctx=e.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qn(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&xs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,a=this._cachedMeta,r=this.getDataset(),c=(D,X,j,K)=>"x"===D?X:"r"===D?K:j,u=a.xAxisID=Zt(r.xAxisID,nn(e,"x")),x=a.yAxisID=Zt(r.yAxisID,nn(e,"y")),b=a.rAxisID=Zt(r.rAxisID,nn(e,"r")),k=a.indexAxis,w=a.iAxisID=c(k,u,x,b),L=a.vAxisID=c(k,x,u,b);a.xScale=this.getScaleForId(u),a.yScale=this.getScaleForId(x),a.rScale=this.getScaleForId(b),a.iScale=this.getScaleForId(w),a.vScale=this.getScaleForId(L)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const a=this._cachedMeta;return e===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Y(this._data,this),e._stacked&&xs(e)}_dataCheck(){const e=this.getDataset(),a=e.data||(e.data=[]),r=this._data;if(se(a))this._data=function ur(s,i){const{iScale:e,vScale:a}=i,r="x"===e.axis?"x":"y",c="x"===a.axis?"x":"y",u=Object.keys(s),x=new Array(u.length);let b,k,w;for(b=0,k=u.length;b<k;++b)w=u[b],x[b]={[r]:w,[c]:s[w]};return x}(a,this._cachedMeta);else if(r!==a){if(r){Y(r,this);const c=this._cachedMeta;xs(c),c._parsed=[]}a&&Object.isExtensible(a)&&function N(s,i){s._chartjs?s._chartjs.listeners.push(i):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),z.forEach(e=>{const a="_onData"+W(e),r=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...c){const u=r.apply(this,c);return s._chartjs.listeners.forEach(x=>{"function"==typeof x[a]&&x[a](...c)}),u}})}))}(a,this),this._syncList=[],this._data=a}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const a=this._cachedMeta,r=this.getDataset();let c=!1;this._dataCheck();const u=a._stacked;a._stacked=qn(a.vScale,a),a.stack!==r.stack&&(c=!0,xs(a),a.stack=r.stack),this._resyncElements(e),(c||u!==a._stacked)&&ea(this,a._parsed)}configure(){const e=this.chart.config,a=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),a,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,a){const{_cachedMeta:r,_data:c}=this,{iScale:u,_stacked:x}=r,b=u.axis;let L,D,X,k=0===e&&a===c.length||r._sorted,w=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=c,r._sorted=!0,X=c;else{X=be(c[e])?this.parseArrayData(r,c,e,a):se(c[e])?this.parseObjectData(r,c,e,a):this.parsePrimitiveData(r,c,e,a);const j=()=>null===D[b]||w&&D[b]<w[b];for(L=0;L<a;++L)r._parsed[L+e]=D=X[L],k&&(j()&&(k=!1),w=D);r._sorted=k}x&&ea(this,X)}parsePrimitiveData(e,a,r,c){const{iScale:u,vScale:x}=e,b=u.axis,k=x.axis,w=u.getLabels(),L=u===x,D=new Array(c);let X,j,K;for(X=0,j=c;X<j;++X)K=X+r,D[X]={[b]:L||u.parse(w[K],K),[k]:x.parse(a[K],K)};return D}parseArrayData(e,a,r,c){const{xScale:u,yScale:x}=e,b=new Array(c);let k,w,L,D;for(k=0,w=c;k<w;++k)L=k+r,D=a[L],b[k]={x:u.parse(D[0],L),y:x.parse(D[1],L)};return b}parseObjectData(e,a,r,c){const{xScale:u,yScale:x}=e,{xAxisKey:b="x",yAxisKey:k="y"}=this._parsing,w=new Array(c);let L,D,X,j;for(L=0,D=c;L<D;++L)X=L+r,j=a[X],w[L]={x:u.parse(B(j,b),X),y:x.parse(B(j,k),X)};return w}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,a,r){const u=this._cachedMeta,x=a[e.axis];return Qn({keys:Zn(this.chart,!0),values:a._stacks[e.axis]._visualValues},x,u.index,{mode:r})}updateRangeFromParsed(e,a,r,c){const u=r[a.axis];let x=null===u?NaN:u;const b=c&&r._stacks[a.axis];c&&b&&(c.values=b,x=Qn(c,u,this._cachedMeta.index)),e.min=Math.min(e.min,x),e.max=Math.max(e.max,x)}getMinMax(e,a){const r=this._cachedMeta,c=r._parsed,u=r._sorted&&e===r.iScale,x=c.length,b=this._getOtherScale(e),k=((s,i,e)=>s&&!i.hidden&&i._stacked&&{keys:Zn(this.chart,!0),values:null})(a,r),w={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:L,max:D}=function xr(s){const{min:i,max:e,minDefined:a,maxDefined:r}=s.getUserBounds();return{min:a?i:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(b);let X,j;function K(){j=c[X];const G=j[b.axis];return!ge(j[e.axis])||L>G||D<G}for(X=0;X<x&&(K()||(this.updateRangeFromParsed(w,e,j,k),!u));++X);if(u)for(X=x-1;X>=0;--X)if(!K()){this.updateRangeFromParsed(w,e,j,k);break}return w}getAllParsedValues(e){const a=this._cachedMeta._parsed,r=[];let c,u,x;for(c=0,u=a.length;c<u;++c)x=a[c][e.axis],ge(x)&&r.push(x);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const a=this._cachedMeta,r=a.iScale,c=a.vScale,u=this.getParsed(e);return{label:r?""+r.getLabelForValue(u[r.axis]):"",value:c?""+c.getLabelForValue(u[c.axis]):""}}_update(e){const a=this._cachedMeta;this.update(e||"default"),a._clip=function cr(s){let i,e,a,r;return se(s)?(i=s.top,e=s.right,a=s.bottom,r=s.left):i=e=a=r=s,{top:i,right:e,bottom:a,left:r,disabled:!1===s}}(Zt(this.options.clip,function dr(s,i,e){if(!1===e)return!1;const a=Jn(s,e),r=Jn(i,e);return{top:r.end,right:a.end,bottom:r.start,left:a.start}}(a.xScale,a.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,c=r.data||[],u=this.chart.chartArea,x=[],b=this._drawStart||0,k=this._drawCount||c.length-b,w=this.options.drawActiveElementsOnTop;let L;for(r.dataset&&r.dataset.draw(e,u,b,k),L=b;L<b+k;++L){const D=c[L];D.hidden||(D.active&&w?x.push(D):D.draw(e,u))}for(L=0;L<x.length;++L)x[L].draw(e,u)}getStyle(e,a){const r=a?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,a,r){const c=this.getDataset();let u;if(e>=0&&e<this._cachedMeta.data.length){const x=this._cachedMeta.data[e];u=x.$context||(x.$context=function fr(s,i,e){return Yi(s,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:e,index:i,mode:"default",type:"data"})}(this.getContext(),e,x)),u.parsed=this.getParsed(e),u.raw=c.data[e],u.index=u.dataIndex=e}else u=this.$context||(this.$context=function mr(s,i){return Yi(s,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),u.dataset=c,u.index=u.datasetIndex=this.index;return u.active=!!a,u.mode=r,u}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,a){return this._resolveElementOptions(this.dataElementType.id,a,e)}_resolveElementOptions(e,a="default",r){const c="active"===a,u=this._cachedDataOpts,x=e+"-"+a,b=u[x],k=this.enableOptionSharing&&q(r);if(b)return ia(b,k);const w=this.chart.config,L=w.datasetElementScopeKeys(this._type,e),D=c?[`${e}Hover`,"hover",e,""]:[e,""],X=w.getOptionScopes(this.getDataset(),L),j=Object.keys(Vt.elements[e]),G=w.resolveNamedOptions(X,j,()=>this.getContext(r,c,a),D);return G.$shared&&(G.$shared=k,u[x]=Object.freeze(ia(G,k))),G}_resolveAnimations(e,a,r){const c=this.chart,u=this._cachedDataOpts,x=`animation-${a}`,b=u[x];if(b)return b;let k;if(!1!==c.options.animation){const L=this.chart.config,D=L.datasetAnimationScopeKeys(this._type,a),X=L.getOptionScopes(this.getDataset(),D);k=L.createResolver(X,this.getContext(e,r,a))}const w=new $n(c,k&&k.animations);return k&&k._cacheable&&(u[x]=Object.freeze(w)),w}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,a){return!a||an(e)||this.chart._animationsDisabled}_getSharedOptions(e,a){const r=this.resolveDataElementOptions(e,a),c=this._sharedOptions,u=this.getSharedOptions(r),x=this.includeOptions(a,u)||u!==c;return this.updateSharedOptions(u,a,r),{sharedOptions:u,includeOptions:x}}updateElement(e,a,r,c){an(c)?Object.assign(e,r):this._resolveAnimations(a,c).update(e,r)}updateSharedOptions(e,a,r){e&&!an(a)&&this._resolveAnimations(void 0,a).update(e,r)}_setStyle(e,a,r,c){e.active=c;const u=this.getStyle(a,c);this._resolveAnimations(a,r,c).update(e,{options:!c&&this.getSharedOptions(u)||u})}removeHoverStyle(e,a,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,a,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const a=this._data,r=this._cachedMeta.data;for(const[b,k,w]of this._syncList)this[b](k,w);this._syncList=[];const c=r.length,u=a.length,x=Math.min(u,c);x&&this.parse(0,x),u>c?this._insertElements(c,u-c,e):u<c&&this._removeElements(u,c-u)}_insertElements(e,a,r=!0){const c=this._cachedMeta,u=c.data,x=e+a;let b;const k=w=>{for(w.length+=a,b=w.length-1;b>=x;b--)w[b]=w[b-a]};for(k(u),b=e;b<x;++b)u[b]=new this.dataElementType;this._parsing&&k(c._parsed),this.parse(e,a),r&&this.updateElements(u,e,a,"reset")}updateElements(e,a,r,c){}_removeElements(e,a){const r=this._cachedMeta;if(this._parsing){const c=r._parsed.splice(e,a);r._stacked&&xs(r,c)}r.data.splice(e,a)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[a,r,c]=e;this[a](r,c)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,a){a&&this._sync(["_removeElements",e,a]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return _t(s,"defaults",{}),_t(s,"datasetElementType",null),_t(s,"dataElementType",null),s})();function vr(s){const i=s.iScale,e=function br(s,i){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(i);let a=[];for(let r=0,c=e.length;r<c;r++)a=a.concat(e[r].controller.getAllParsedValues(s));s._cache.$bar=et(a.sort((r,c)=>r-c))}return s._cache.$bar}(i,s.type);let r,c,u,x,a=i._length;const b=()=>{32767===u||-32768===u||(q(x)&&(a=Math.min(a,Math.abs(u-x)||a)),x=u)};for(r=0,c=e.length;r<c;++r)u=i.getPixelForValue(e[r]),b();for(x=void 0,r=0,c=i.ticks.length;r<c;++r)u=i.getPixelForTick(r),b();return a}function sa(s,i,e,a){return be(s)?function _r(s,i,e,a){const r=e.parse(s[0],a),c=e.parse(s[1],a),u=Math.min(r,c),x=Math.max(r,c);let b=u,k=x;Math.abs(u)>Math.abs(x)&&(b=x,k=u),i[e.axis]=k,i._custom={barStart:b,barEnd:k,start:r,end:c,min:u,max:x}}(s,i,e,a):i[e.axis]=e.parse(s,a),i}function na(s,i,e,a){const r=s.iScale,c=s.vScale,u=r.getLabels(),x=r===c,b=[];let k,w,L,D;for(k=e,w=e+a;k<w;++k)D=i[k],L={},L[r.axis]=x||r.parse(u[k],k),b.push(sa(D,L,c,k));return b}function on(s){return s&&void 0!==s.barStart&&void 0!==s.barEnd}function Cr(s,i,e,a){let r=i.borderSkipped;const c={};if(!r)return void(s.borderSkipped=c);if(!0===r)return void(s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:u,end:x,reverse:b,top:k,bottom:w}=function Tr(s){let i,e,a,r,c;return s.horizontal?(i=s.base>s.x,e="left",a="right"):(i=s.base<s.y,e="bottom",a="top"),i?(r="end",c="start"):(r="start",c="end"),{start:e,end:a,reverse:i,top:r,bottom:c}}(s);"middle"===r&&e&&(s.enableBorderRadius=!0,(e._top||0)===a?r=k:(e._bottom||0)===a?r=w:(c[aa(w,u,x,b)]=!0,r=k)),c[aa(r,u,x,b)]=!0,s.borderSkipped=c}function aa(s,i,e,a){return a?(s=function wr(s,i,e){return s===i?e:s===e?i:s}(s,i,e),s=oa(s,e,i)):s=oa(s,i,e),s}function oa(s,i,e){return"start"===s?i:"end"===s?e:s}function Sr(s,{inflateAmount:i},e){s.inflateAmount="auto"===i?1===e?.33:0:i}let Ar=(()=>{class s extends zi{parsePrimitiveData(e,a,r,c){return na(e,a,r,c)}parseArrayData(e,a,r,c){return na(e,a,r,c)}parseObjectData(e,a,r,c){const{iScale:u,vScale:x}=e,{xAxisKey:b="x",yAxisKey:k="y"}=this._parsing,w="x"===u.axis?b:k,L="x"===x.axis?b:k,D=[];let X,j,K,G;for(X=r,j=r+c;X<j;++X)G=a[X],K={},K[u.axis]=u.parse(B(G,w),X),D.push(sa(B(G,L),K,x,X));return D}updateRangeFromParsed(e,a,r,c){super.updateRangeFromParsed(e,a,r,c);const u=r._custom;u&&a===this._cachedMeta.vScale&&(e.min=Math.min(e.min,u.min),e.max=Math.max(e.max,u.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const a=this._cachedMeta,{iScale:r,vScale:c}=a,u=this.getParsed(e),x=u._custom,b=on(x)?"["+x.start+", "+x.end+"]":""+c.getLabelForValue(u[c.axis]);return{label:""+r.getLabelForValue(u[r.axis]),value:b}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,e)}updateElements(e,a,r,c){const u="reset"===c,{index:x,_cachedMeta:{vScale:b}}=this,k=b.getBasePixel(),w=b.isHorizontal(),L=this._getRuler(),{sharedOptions:D,includeOptions:X}=this._getSharedOptions(a,c);for(let j=a;j<a+r;j++){const K=this.getParsed(j),G=u||Tt(K[b.axis])?{base:k,head:k}:this._calculateBarValuePixels(j),ot=this._calculateBarIndexPixels(j,L),at=(K._stacks||{})[b.axis],yt={horizontal:w,base:G.base,enableBorderRadius:!at||on(K._custom)||x===at._top||x===at._bottom,x:w?G.head:ot.center,y:w?ot.center:G.head,height:w?ot.size:Math.abs(G.size),width:w?Math.abs(G.size):ot.size};X&&(yt.options=D||this.resolveDataElementOptions(j,e[j].active?"active":c));const kt=yt.options||e[j].options;Cr(yt,kt,at,x),Sr(yt,kt,L.ratio),this.updateElement(e[j],j,yt,c)}}_getStacks(e,a){const{iScale:r}=this._cachedMeta,c=r.getMatchingVisibleMetas(this._type).filter(k=>k.controller.options.grouped),u=r.options.stacked,x=[],b=k=>{const w=k.controller.getParsed(a),L=w&&w[k.vScale.axis];if(Tt(L)||isNaN(L))return!0};for(const k of c)if((void 0===a||!b(k))&&((!1===u||-1===x.indexOf(k.stack)||void 0===u&&void 0===k.stack)&&x.push(k.stack),k.index===e))break;return x.length||x.push(void 0),x}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,a,r){const c=this._getStacks(e,r),u=void 0!==a?c.indexOf(a):-1;return-1===u?c.length-1:u}_getRuler(){const e=this.options,a=this._cachedMeta,r=a.iScale,c=[];let u,x;for(u=0,x=a.data.length;u<x;++u)c.push(r.getPixelForValue(this.getParsed(u)[r.axis],u));const b=e.barThickness;return{min:b||vr(a),pixels:c,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:b?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:a,_stacked:r,index:c},options:{base:u,minBarLength:x}}=this,b=u||0,k=this.getParsed(e),w=k._custom,L=on(w);let K,G,D=k[a.axis],X=0,j=r?this.applyStack(a,k,r):D;j!==D&&(X=j-D,j=D),L&&(D=w.barStart,j=w.barEnd-w.barStart,0!==D&&St(D)!==St(w.barEnd)&&(X=0),X+=D);const ot=Tt(u)||L?X:u;let at=a.getPixelForValue(ot);if(K=this.chart.getDataVisibility(e)?a.getPixelForValue(X+j):at,G=K-at,Math.abs(G)<x){G=function Pr(s,i,e){return 0!==s?St(s):(i.isHorizontal()?1:-1)*(i.min>=e?1:-1)}(G,a,b)*x,D===b&&(at-=G/2);const yt=a.getPixelForDecimal(0),kt=a.getPixelForDecimal(1),xt=Math.min(yt,kt),bt=Math.max(yt,kt);at=Math.max(Math.min(at,bt),xt),K=at+G,r&&!L&&(k._stacks[a.axis]._visualValues[c]=a.getValueForPixel(K)-a.getValueForPixel(at))}if(at===a.getPixelForValue(b)){const yt=St(G)*a.getLineWidthForValue(b)/2;at+=yt,G-=yt}return{size:G,base:at,head:K,center:K+G/2}}_calculateBarIndexPixels(e,a){const r=a.scale,c=this.options,u=c.skipNull,x=Zt(c.maxBarThickness,1/0);let b,k;if(a.grouped){const w=u?this._getStackCount(e):a.stackCount,L="flex"===c.barThickness?function kr(s,i,e,a){const r=i.pixels,c=r[s];let u=s>0?r[s-1]:null,x=s<r.length-1?r[s+1]:null;const b=e.categoryPercentage;null===u&&(u=c-(null===x?i.end-i.start:x-c)),null===x&&(x=c+c-u);const k=c-(c-Math.min(u,x))/2*b;return{chunk:Math.abs(x-u)/2*b/a,ratio:e.barPercentage,start:k}}(e,a,c,w):function Mr(s,i,e,a){const r=e.barThickness;let c,u;return Tt(r)?(c=i.min*e.categoryPercentage,u=e.barPercentage):(c=r*a,u=1),{chunk:c/a,ratio:u,start:i.pixels[s]-c/2}}(e,a,c,w),D=this._getStackIndex(this.index,this._cachedMeta.stack,u?e:void 0);b=L.start+L.chunk*D+L.chunk/2,k=Math.min(x,L.chunk*L.ratio)}else b=r.getPixelForValue(this.getParsed(e)[r.axis],e),k=Math.min(x,a.min*a.ratio);return{base:b-k/2,head:b+k/2,center:b,size:k}}draw(){const e=this._cachedMeta,a=e.vScale,r=e.data,c=r.length;let u=0;for(;u<c;++u)null!==this.getParsed(u)[a.axis]&&!r[u].hidden&&r[u].draw(this._ctx)}}return _t(s,"id","bar"),_t(s,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),_t(s,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),s})(),Br=(()=>{class s extends zi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,a,r,c){const u=super.parsePrimitiveData(e,a,r,c);for(let x=0;x<u.length;x++)u[x]._custom=this.resolveDataElementOptions(x+r).radius;return u}parseArrayData(e,a,r,c){const u=super.parseArrayData(e,a,r,c);for(let x=0;x<u.length;x++)u[x]._custom=Zt(a[r+x][2],this.resolveDataElementOptions(x+r).radius);return u}parseObjectData(e,a,r,c){const u=super.parseObjectData(e,a,r,c);for(let x=0;x<u.length;x++){const b=a[r+x];u[x]._custom=Zt(b&&b.r&&+b.r,this.resolveDataElementOptions(x+r).radius)}return u}getMaxOverflow(){const e=this._cachedMeta.data;let a=0;for(let r=e.length-1;r>=0;--r)a=Math.max(a,e[r].size(this.resolveDataElementOptions(r))/2);return a>0&&a}getLabelAndValue(e){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:c,yScale:u}=a,x=this.getParsed(e),b=c.getLabelForValue(x.x),k=u.getLabelForValue(x.y),w=x._custom;return{label:r[e]||"",value:"("+b+", "+k+(w?", "+w:"")+")"}}update(e){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,e)}updateElements(e,a,r,c){const u="reset"===c,{iScale:x,vScale:b}=this._cachedMeta,{sharedOptions:k,includeOptions:w}=this._getSharedOptions(a,c),L=x.axis,D=b.axis;for(let X=a;X<a+r;X++){const j=e[X],K=!u&&this.getParsed(X),G={},ot=G[L]=u?x.getPixelForDecimal(.5):x.getPixelForValue(K[L]),at=G[D]=u?b.getBasePixel():b.getPixelForValue(K[D]);G.skip=isNaN(ot)||isNaN(at),w&&(G.options=k||this.resolveDataElementOptions(X,j.active?"active":c),u&&(G.options.radius=0)),this.updateElement(j,X,G,c)}}resolveDataElementOptions(e,a){const r=this.getParsed(e);let c=super.resolveDataElementOptions(e,a);c.$shared&&(c=Object.assign({},c,{$shared:!1}));const u=c.radius;return"active"!==a&&(c.radius=0),c.radius+=Zt(r&&r._custom,u),c}}return _t(s,"id","bubble"),_t(s,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),_t(s,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),s})(),rn=(()=>{class s extends zi{constructor(e,a){super(e,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,a){const r=this.getDataset().data,c=this._cachedMeta;if(!1===this._parsing)c._parsed=r;else{let x,b,u=k=>+r[k];if(se(r[e])){const{key:k="value"}=this._parsing;u=w=>+B(r[w],k)}for(x=e,b=e+a;x<b;++x)c._parsed[x]=u(x)}}_getRotation(){return p(this.options.rotation-90)}_getCircumference(){return p(this.options.circumference)}_getRotationExtents(){let e=Et,a=-Et;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const c=this.chart.getDatasetMeta(r).controller,u=c._getRotation(),x=c._getCircumference();e=Math.min(e,u),a=Math.max(a,u+x)}return{rotation:e,circumference:a-e}}update(e){const a=this.chart,{chartArea:r}=a,c=this._cachedMeta,u=c.data,x=this.getMaxBorderWidth()+this.getMaxOffset(u)+this.options.spacing,b=Math.max((Math.min(r.width,r.height)-x)/2,0),k=Math.min(((s,i)=>"string"==typeof s&&s.endsWith("%")?parseFloat(s)/100:+s/i)(this.options.cutout,b),1),w=this._getRingWeight(this.index),{circumference:L,rotation:D}=this._getRotationExtents(),{ratioX:X,ratioY:j,offsetX:K,offsetY:G}=function Fr(s,i,e){let a=1,r=1,c=0,u=0;if(i<Et){const x=s,b=x+i,k=Math.cos(x),w=Math.sin(x),L=Math.cos(b),D=Math.sin(b),X=(yt,kt,xt)=>v(yt,x,b,!0)?1:Math.max(kt,kt*e,xt,xt*e),j=(yt,kt,xt)=>v(yt,x,b,!0)?-1:Math.min(kt,kt*e,xt,xt*e),K=X(0,k,L),G=X(he,w,D),ot=j(It,k,L),at=j(It+he,w,D);a=(K-ot)/2,r=(G-at)/2,c=-(K+ot)/2,u=-(G+at)/2}return{ratioX:a,ratioY:r,offsetX:c,offsetY:u}}(D,L,k),yt=Math.max(Math.min((r.width-x)/X,(r.height-x)/j)/2,0),kt=Li(this.options.radius,yt),bt=(kt-Math.max(kt*k,0))/this._getVisibleDatasetWeightTotal();this.offsetX=K*kt,this.offsetY=G*kt,c.total=this.calculateTotal(),this.outerRadius=kt-bt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-bt*w,0),this.updateElements(u,0,u.length,e)}_circumference(e,a){const r=this.options,c=this._cachedMeta,u=this._getCircumference();return a&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===c._parsed[e]||c.data[e].hidden?0:this.calculateCircumference(c._parsed[e]*u/Et)}updateElements(e,a,r,c){const u="reset"===c,x=this.chart,b=x.chartArea,L=(b.left+b.right)/2,D=(b.top+b.bottom)/2,X=u&&x.options.animation.animateScale,j=X?0:this.innerRadius,K=X?0:this.outerRadius,{sharedOptions:G,includeOptions:ot}=this._getSharedOptions(a,c);let yt,at=this._getRotation();for(yt=0;yt<a;++yt)at+=this._circumference(yt,u);for(yt=a;yt<a+r;++yt){const kt=this._circumference(yt,u),xt=e[yt],bt={x:L+this.offsetX,y:D+this.offsetY,startAngle:at,endAngle:at+kt,circumference:kt,outerRadius:K,innerRadius:j};ot&&(bt.options=G||this.resolveDataElementOptions(yt,xt.active?"active":c)),at+=kt,this.updateElement(xt,yt,bt,c)}}calculateTotal(){const e=this._cachedMeta,a=e.data;let c,r=0;for(c=0;c<a.length;c++){const u=e._parsed[c];null!==u&&!isNaN(u)&&this.chart.getDataVisibility(c)&&!a[c].hidden&&(r+=Math.abs(u))}return r}calculateCircumference(e){const a=this._cachedMeta.total;return a>0&&!isNaN(e)?Et*(Math.abs(e)/a):0}getLabelAndValue(e){const r=this.chart,c=r.data.labels||[],u=si(this._cachedMeta._parsed[e],r.options.locale);return{label:c[e]||"",value:u}}getMaxBorderWidth(e){let a=0;const r=this.chart;let c,u,x,b,k;if(!e)for(c=0,u=r.data.datasets.length;c<u;++c)if(r.isDatasetVisible(c)){x=r.getDatasetMeta(c),e=x.data,b=x.controller;break}if(!e)return 0;for(c=0,u=e.length;c<u;++c)k=b.resolveDataElementOptions(c),"inner"!==k.borderAlign&&(a=Math.max(a,k.borderWidth||0,k.hoverBorderWidth||0));return a}getMaxOffset(e){let a=0;for(let r=0,c=e.length;r<c;++r){const u=this.resolveDataElementOptions(r);a=Math.max(a,u.offset||0,u.hoverOffset||0)}return a}_getRingWeightOffset(e){let a=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(a+=this._getRingWeight(r));return a}_getRingWeight(e){return Math.max(Zt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return _t(s,"id","doughnut"),_t(s,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),_t(s,"descriptors",{_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")}),_t(s,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:a,color:r}}=i.legend.options;return e.labels.map((c,u)=>{const b=i.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,fontColor:r,lineWidth:b.borderWidth,pointStyle:a,hidden:!i.getDataVisibility(u),index:u}})}return[]}},onClick(i,e,a){a.chart.toggleDataVisibility(e.index),a.chart.update()}}}}),s})(),Lr=(()=>{class s extends zi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const a=this._cachedMeta,{dataset:r,data:c=[],_dataset:u}=a,x=this.chart._animationsDisabled;let{start:b,count:k}=lt(a,c,x);this._drawStart=b,this._drawCount=k,R(a)&&(b=0,k=c.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!u._decimated,r.points=c;const w=this.resolveDatasetElementOptions(e);this.options.showLine||(w.borderWidth=0),w.segment=this.options.segment,this.updateElement(r,void 0,{animated:!x,options:w},e),this.updateElements(c,b,k,e)}updateElements(e,a,r,c){const u="reset"===c,{iScale:x,vScale:b,_stacked:k,_dataset:w}=this._cachedMeta,{sharedOptions:L,includeOptions:D}=this._getSharedOptions(a,c),X=x.axis,j=b.axis,{spanGaps:K,segment:G}=this.options,ot=o(K)?K:Number.POSITIVE_INFINITY,at=this.chart._animationsDisabled||u||"none"===c,yt=a+r,kt=e.length;let xt=a>0&&this.getParsed(a-1);for(let bt=0;bt<kt;++bt){const Dt=e[bt],wt=at?Dt:{};if(bt<a||bt>=yt){wt.skip=!0;continue}const Yt=this.getParsed(bt),pe=Tt(Yt[j]),ce=wt[X]=x.getPixelForValue(Yt[X],bt),ye=wt[j]=u||pe?b.getBasePixel():b.getPixelForValue(k?this.applyStack(b,Yt,k):Yt[j],bt);wt.skip=isNaN(ce)||isNaN(ye)||pe,wt.stop=bt>0&&Math.abs(Yt[X]-xt[X])>ot,G&&(wt.parsed=Yt,wt.raw=w.data[bt]),D&&(wt.options=L||this.resolveDataElementOptions(bt,Dt.active?"active":c)),at||this.updateElement(Dt,bt,wt,c),xt=Yt}}getMaxOverflow(){const e=this._cachedMeta,a=e.dataset,r=a.options&&a.options.borderWidth||0,c=e.data||[];if(!c.length)return r;const u=c[0].size(this.resolveDataElementOptions(0)),x=c[c.length-1].size(this.resolveDataElementOptions(c.length-1));return Math.max(r,u,x)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return _t(s,"id","line"),_t(s,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),_t(s,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),s})(),ra=(()=>{class s extends zi{constructor(e,a){super(e,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,c=r.data.labels||[],u=si(this._cachedMeta._parsed[e].r,r.options.locale);return{label:c[e]||"",value:u}}parseObjectData(e,a,r,c){return Wn.bind(this)(e,a,r,c)}update(e){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,e)}getMinMax(){const a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,c)=>{const u=this.getParsed(c).r;!isNaN(u)&&this.chart.getDataVisibility(c)&&(u<a.min&&(a.min=u),u>a.max&&(a.max=u))}),a}_updateRadius(){const e=this.chart,a=e.chartArea,r=e.options,c=Math.min(a.right-a.left,a.bottom-a.top),u=Math.max(c/2,0),b=(u-Math.max(r.cutoutPercentage?u/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=u-b*this.index,this.innerRadius=this.outerRadius-b}updateElements(e,a,r,c){const u="reset"===c,x=this.chart,k=x.options.animation,w=this._cachedMeta.rScale,L=w.xCenter,D=w.yCenter,X=w.getIndexAngle(0)-.5*It;let K,j=X;const G=360/this.countVisibleElements();for(K=0;K<a;++K)j+=this._computeAngle(K,c,G);for(K=a;K<a+r;K++){const ot=e[K];let at=j,yt=j+this._computeAngle(K,c,G),kt=x.getDataVisibility(K)?w.getDistanceFromCenterForValue(this.getParsed(K).r):0;j=yt,u&&(k.animateScale&&(kt=0),k.animateRotate&&(at=yt=X));const xt={x:L,y:D,innerRadius:0,outerRadius:kt,startAngle:at,endAngle:yt,options:this.resolveDataElementOptions(K,ot.active?"active":c)};this.updateElement(ot,K,xt,c)}}countVisibleElements(){let a=0;return this._cachedMeta.data.forEach((r,c)=>{!isNaN(this.getParsed(c).r)&&this.chart.getDataVisibility(c)&&a++}),a}_computeAngle(e,a,r){return this.chart.getDataVisibility(e)?p(this.resolveDataElementOptions(e,a).angle||r):0}}return _t(s,"id","polarArea"),_t(s,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),_t(s,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:a,color:r}}=i.legend.options;return e.labels.map((c,u)=>{const b=i.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,fontColor:r,lineWidth:b.borderWidth,pointStyle:a,hidden:!i.getDataVisibility(u),index:u}})}return[]}},onClick(i,e,a){a.chart.toggleDataVisibility(e.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),s})();var Ir=Object.freeze({__proto__:null,BarController:Ar,BubbleController:Br,DoughnutController:rn,LineController:Lr,PieController:(()=>{class s extends rn{}return _t(s,"id","pie"),_t(s,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),s})(),PolarAreaController:ra,RadarController:(()=>{class s extends zi{getLabelAndValue(e){const a=this._cachedMeta.vScale,r=this.getParsed(e);return{label:a.getLabels()[e],value:""+a.getLabelForValue(r[a.axis])}}parseObjectData(e,a,r,c){return Wn.bind(this)(e,a,r,c)}update(e){const a=this._cachedMeta,r=a.dataset,c=a.data||[],u=a.iScale.getLabels();if(r.points=c,"resize"!==e){const x=this.resolveDatasetElementOptions(e);this.options.showLine||(x.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:u.length===c.length,options:x},e)}this.updateElements(c,0,c.length,e)}updateElements(e,a,r,c){const u=this._cachedMeta.rScale,x="reset"===c;for(let b=a;b<a+r;b++){const k=e[b],w=this.resolveDataElementOptions(b,k.active?"active":c),L=u.getPointPositionForValue(b,this.getParsed(b).r),D=x?u.xCenter:L.x,X=x?u.yCenter:L.y,j={x:D,y:X,angle:L.angle,skip:isNaN(D)||isNaN(X),options:w};this.updateElement(k,b,j,c)}}}return _t(s,"id","radar"),_t(s,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),_t(s,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),s})(),ScatterController:(()=>{class s extends zi{getLabelAndValue(e){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:c,yScale:u}=a,x=this.getParsed(e),b=c.getLabelForValue(x.x),k=u.getLabelForValue(x.y);return{label:r[e]||"",value:"("+b+", "+k+")"}}update(e){const a=this._cachedMeta,{data:r=[]}=a,c=this.chart._animationsDisabled;let{start:u,count:x}=lt(a,r,c);if(this._drawStart=u,this._drawCount=x,R(a)&&(u=0,x=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:b,_dataset:k}=a;b._chart=this.chart,b._datasetIndex=this.index,b._decimated=!!k._decimated,b.points=r;const w=this.resolveDatasetElementOptions(e);w.segment=this.options.segment,this.updateElement(b,void 0,{animated:!c,options:w},e)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(r,u,x,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,a,r,c){const u="reset"===c,{iScale:x,vScale:b,_stacked:k,_dataset:w}=this._cachedMeta,L=this.resolveDataElementOptions(a,c),D=this.getSharedOptions(L),X=this.includeOptions(c,D),j=x.axis,K=b.axis,{spanGaps:G,segment:ot}=this.options,at=o(G)?G:Number.POSITIVE_INFINITY,yt=this.chart._animationsDisabled||u||"none"===c;let kt=a>0&&this.getParsed(a-1);for(let xt=a;xt<a+r;++xt){const bt=e[xt],Dt=this.getParsed(xt),wt=yt?bt:{},Yt=Tt(Dt[K]),pe=wt[j]=x.getPixelForValue(Dt[j],xt),ce=wt[K]=u||Yt?b.getBasePixel():b.getPixelForValue(k?this.applyStack(b,Dt,k):Dt[K],xt);wt.skip=isNaN(pe)||isNaN(ce)||Yt,wt.stop=xt>0&&Math.abs(Dt[j]-kt[j])>at,ot&&(wt.parsed=Dt,wt.raw=w.data[xt]),X&&(wt.options=D||this.resolveDataElementOptions(xt,bt.active?"active":c)),yt||this.updateElement(bt,xt,wt,c),kt=Dt}this.updateSharedOptions(D,c,L)}getMaxOverflow(){const e=this._cachedMeta,a=e.data||[];if(!this.options.showLine){let b=0;for(let k=a.length-1;k>=0;--k)b=Math.max(b,a[k].size(this.resolveDataElementOptions(k))/2);return b>0&&b}const r=e.dataset,c=r.options&&r.options.borderWidth||0;if(!a.length)return c;const u=a[0].size(this.resolveDataElementOptions(0)),x=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(c,u,x)/2}}return _t(s,"id","scatter"),_t(s,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),_t(s,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),s})()});function Ji(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ln{static override(i){Object.assign(ln.prototype,i)}constructor(i){_t(this,"options",void 0),this.options=i||{}}init(){}formats(){return Ji()}parse(){return Ji()}format(){return Ji()}add(){return Ji()}diff(){return Ji()}startOf(){return Ji()}endOf(){return Ji()}}var Dr__date=ln;function Vr(s,i,e,a){const{controller:r,data:c,_sorted:u}=s,x=r._cachedMeta.iScale;if(x&&i===x.axis&&"r"!==i&&u&&c.length){const b=x._reversePixels?I:P;if(!a)return b(c,i,e);if(r._sharedOptions){const k=c[0],w="function"==typeof k.getRange&&k.getRange(i);if(w){const L=b(c,i,e-w),D=b(c,i,e+w);return{lo:L.lo,hi:D.hi}}}}return{lo:0,hi:c.length-1}}function gs(s,i,e,a,r){const c=s.getSortedVisibleDatasetMetas(),u=e[i];for(let x=0,b=c.length;x<b;++x){const{index:k,data:w}=c[x],{lo:L,hi:D}=Vr(c[x],i,u,r);for(let X=L;X<=D;++X){const j=w[X];j.skip||a(j,k,X)}}}function hn(s,i,e,a,r){const c=[];return!r&&!s.isPointInArea(i)||gs(s,e,i,function(x,b,k){!r&&!jt(x,s.chartArea,0)||x.inRange(i.x,i.y,a)&&c.push({element:x,datasetIndex:b,index:k})},!0),c}function dn(s,i,e,a,r,c){return c||s.isPointInArea(i)?"r"!==e||a?function Er(s,i,e,a,r,c){let u=[];const x=function Wr(s){const i=-1!==s.indexOf("x"),e=-1!==s.indexOf("y");return function(a,r){const c=i?Math.abs(a.x-r.x):0,u=e?Math.abs(a.y-r.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(u,2))}}(e);let b=Number.POSITIVE_INFINITY;return gs(s,e,i,function k(w,L,D){const X=w.inRange(i.x,i.y,r);if(a&&!X)return;const j=w.getCenterPoint(r);if(!c&&!s.isPointInArea(j)&&!X)return;const G=x(i,j);G<b?(u=[{element:w,datasetIndex:L,index:D}],b=G):G===b&&u.push({element:w,datasetIndex:L,index:D})}),u}(s,i,e,a,r,c):function Or(s,i,e,a){let r=[];return gs(s,e,i,function c(u,x,b){const{startAngle:k,endAngle:w}=u.getProps(["startAngle","endAngle"],a),{angle:L}=_(u,{x:i.x,y:i.y});v(L,k,w)&&r.push({element:u,datasetIndex:x,index:b})}),r}(s,i,e,r):[]}function la(s,i,e,a,r){const c=[],u="x"===e?"inXRange":"inYRange";let x=!1;return gs(s,e,i,(b,k,w)=>{b[u](i[e],r)&&(c.push({element:b,datasetIndex:k,index:w}),x=x||b.inRange(i.x,i.y,r))}),a&&!x?[]:c}var Xr={evaluateInteractionItems:gs,modes:{index(s,i,e,a){const r=Gi(i,s),c=e.axis||"x",u=e.includeInvisible||!1,x=e.intersect?hn(s,r,c,a,u):dn(s,r,c,!1,a,u),b=[];return x.length?(s.getSortedVisibleDatasetMetas().forEach(k=>{const w=x[0].index,L=k.data[w];L&&!L.skip&&b.push({element:L,datasetIndex:k.index,index:w})}),b):[]},dataset(s,i,e,a){const r=Gi(i,s),c=e.axis||"xy",u=e.includeInvisible||!1;let x=e.intersect?hn(s,r,c,a,u):dn(s,r,c,!1,a,u);if(x.length>0){const b=x[0].datasetIndex,k=s.getDatasetMeta(b).data;x=[];for(let w=0;w<k.length;++w)x.push({element:k[w],datasetIndex:b,index:w})}return x},point:(s,i,e,a)=>hn(s,Gi(i,s),e.axis||"xy",a,e.includeInvisible||!1),nearest:(s,i,e,a)=>dn(s,Gi(i,s),e.axis||"xy",e.intersect,a,e.includeInvisible||!1),x:(s,i,e,a)=>la(s,Gi(i,s),"x",e.intersect,a),y:(s,i,e,a)=>la(s,Gi(i,s),"y",e.intersect,a)}};const ha=["left","top","right","bottom"];function ms(s,i){return s.filter(e=>e.pos===i)}function da(s,i){return s.filter(e=>-1===ha.indexOf(e.pos)&&e.box.axis===i)}function fs(s,i){return s.sort((e,a)=>{const r=i?a:e,c=i?e:a;return r.weight===c.weight?r.index-c.index:r.weight-c.weight})}function ca(s,i,e,a){return Math.max(s[e],i[e])+Math.max(s[a],i[a])}function ua(s,i){s.top=Math.max(s.top,i.top),s.left=Math.max(s.left,i.left),s.bottom=Math.max(s.bottom,i.bottom),s.right=Math.max(s.right,i.right)}function Hr(s,i,e,a){const{pos:r,box:c}=e,u=s.maxPadding;if(!se(r)){e.size&&(s[r]-=e.size);const L=a[e.stack]||{size:0,count:1};L.size=Math.max(L.size,e.horizontal?c.height:c.width),e.size=L.size/L.count,s[r]+=e.size}c.getPadding&&ua(u,c.getPadding());const x=Math.max(0,i.outerWidth-ca(u,s,"left","right")),b=Math.max(0,i.outerHeight-ca(u,s,"top","bottom")),k=x!==s.w,w=b!==s.h;return s.w=x,s.h=b,e.horizontal?{same:k,other:w}:{same:w,other:k}}function Ur(s,i){const e=i.maxPadding;return function a(r){const c={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{c[u]=Math.max(i[u],e[u])}),c}(s?["left","right"]:["top","bottom"])}function ys(s,i,e,a){const r=[];let c,u,x,b,k,w;for(c=0,u=s.length,k=0;c<u;++c){x=s[c],b=x.box,b.update(x.width||i.w,x.height||i.h,Ur(x.horizontal,i));const{same:L,other:D}=Hr(i,e,x,a);k|=L&&r.length,w=w||D,b.fullSize||r.push(x)}return k&&ys(r,i,e,a)||w}function Is(s,i,e,a,r){s.top=e,s.left=i,s.right=i+a,s.bottom=e+r,s.width=a,s.height=r}function pa(s,i,e,a){const r=e.padding;let{x:c,y:u}=i;for(const x of s){const b=x.box,k=a[x.stack]||{count:1,placed:0,weight:1},w=x.stackWeight/k.weight||1;if(x.horizontal){const L=i.w*w,D=k.size||b.height;q(k.start)&&(u=k.start),b.fullSize?Is(b,r.left,u,e.outerWidth-r.right-r.left,D):Is(b,i.left+k.placed,u,L,D),k.start=u,k.placed+=L,u=b.bottom}else{const L=i.h*w,D=k.size||b.width;q(k.start)&&(c=k.start),b.fullSize?Is(b,c,r.top,D,e.outerHeight-r.bottom-r.top):Is(b,c,i.top+k.placed,D,L),k.start=c,k.placed+=L,c=b.right}}i.x=c,i.y=u}var di={addBox(s,i){s.boxes||(s.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(e){i.draw(e)}}]},s.boxes.push(i)},removeBox(s,i){const e=s.boxes?s.boxes.indexOf(i):-1;-1!==e&&s.boxes.splice(e,1)},configure(s,i,e){i.fullSize=e.fullSize,i.position=e.position,i.weight=e.weight},update(s,i,e,a){if(!s)return;const r=hi(s.options.layout.padding),c=Math.max(i-r.width,0),u=Math.max(e-r.height,0),x=function Nr(s){const i=function Yr(s){const i=[];let e,a,r,c,u,x;for(e=0,a=(s||[]).length;e<a;++e)r=s[e],({position:c,options:{stack:u,stackWeight:x=1}}=r),i.push({index:e,box:r,pos:c,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&c+u,stackWeight:x});return i}(s),e=fs(i.filter(k=>k.box.fullSize),!0),a=fs(ms(i,"left"),!0),r=fs(ms(i,"right")),c=fs(ms(i,"top"),!0),u=fs(ms(i,"bottom")),x=da(i,"x"),b=da(i,"y");return{fullSize:e,leftAndTop:a.concat(c),rightAndBottom:r.concat(b).concat(u).concat(x),chartArea:ms(i,"chartArea"),vertical:a.concat(r).concat(b),horizontal:c.concat(u).concat(x)}}(s.boxes),b=x.vertical,k=x.horizontal;Ht(s.boxes,K=>{"function"==typeof K.beforeLayout&&K.beforeLayout()});const w=b.reduce((K,G)=>G.box.options&&!1===G.box.options.display?K:K+1,0)||1,L=Object.freeze({outerWidth:i,outerHeight:e,padding:r,availableWidth:c,availableHeight:u,vBoxMaxWidth:c/2/w,hBoxMaxHeight:u/2}),D=Object.assign({},r);ua(D,hi(a));const X=Object.assign({maxPadding:D,w:c,h:u,x:r.left,y:r.top},r),j=function Rr(s,i){const e=function zr(s){const i={};for(const e of s){const{stack:a,pos:r,stackWeight:c}=e;if(!a||!ha.includes(r))continue;const u=i[a]||(i[a]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=c}return i}(s),{vBoxMaxWidth:a,hBoxMaxHeight:r}=i;let c,u,x;for(c=0,u=s.length;c<u;++c){x=s[c];const{fullSize:b}=x.box,k=e[x.stack],w=k&&x.stackWeight/k.weight;x.horizontal?(x.width=w?w*a:b&&i.availableWidth,x.height=r):(x.width=a,x.height=w?w*r:b&&i.availableHeight)}return e}(b.concat(k),L);ys(x.fullSize,X,L,j),ys(b,X,L,j),ys(k,X,L,j)&&ys(b,X,L,j),function jr(s){const i=s.maxPadding;function e(a){const r=Math.max(i[a]-s[a],0);return s[a]+=r,r}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}(X),pa(x.leftAndTop,X,L,j),X.x+=X.w,X.y+=X.h,pa(x.rightAndBottom,X,L,j),s.chartArea={left:X.left,top:X.top,right:X.left+X.w,bottom:X.top+X.h,height:X.h,width:X.w},Ht(x.chartArea,K=>{const G=K.box;Object.assign(G,s.chartArea),G.update(X.w,X.h,{left:0,top:0,right:0,bottom:0})})}};class xa{acquireContext(i,e){}releaseContext(i){return!1}addEventListener(i,e,a){}removeEventListener(i,e,a){}getDevicePixelRatio(){return 1}getMaximumSize(i,e,a,r){return e=Math.max(0,e||i.width),a=a||i.height,{width:e,height:Math.max(0,r?Math.floor(e/r):a)}}isAttached(i){return!0}updateConfig(i){}}class Kr extends xa{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const Ds="$chartjs",Gr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ga=s=>null===s||""===s,ma=!!Go&&{passive:!0};function Zr(s,i,e){s&&s.canvas&&s.canvas.removeEventListener(i,e,ma)}function Vs(s,i){for(const e of s)if(e===i||e.contains(i))return!0}function qr(s,i,e){const a=s.canvas,r=new MutationObserver(c=>{let u=!1;for(const x of c)u=u||Vs(x.addedNodes,a),u=u&&!Vs(x.removedNodes,a);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function tl(s,i,e){const a=s.canvas,r=new MutationObserver(c=>{let u=!1;for(const x of c)u=u||Vs(x.removedNodes,a),u=u&&!Vs(x.addedNodes,a);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const bs=new Map;let fa=0;function ya(){const s=window.devicePixelRatio;s!==fa&&(fa=s,bs.forEach((i,e)=>{e.currentDevicePixelRatio!==s&&i()}))}function sl(s,i,e){const a=s.canvas,r=a&&sn(a);if(!r)return;const c=Q((x,b)=>{const k=r.clientWidth;e(x,b),k<r.clientWidth&&e()},window),u=new ResizeObserver(x=>{const b=x[0],k=b.contentRect.width,w=b.contentRect.height;0===k&&0===w||c(k,w)});return u.observe(r),function el(s,i){bs.size||window.addEventListener("resize",ya),bs.set(s,i)}(s,c),u}function cn(s,i,e){e&&e.disconnect(),"resize"===i&&function il(s){bs.delete(s),bs.size||window.removeEventListener("resize",ya)}(s)}function nl(s,i,e){const a=s.canvas,r=Q(c=>{null!==s.ctx&&e(function Qr(s,i){const e=Gr[s.type]||s.type,{x:a,y:r}=Gi(s,i);return{type:e,chart:i,native:s,x:void 0!==a?a:null,y:void 0!==r?r:null}}(c,s))},s);return function Jr(s,i,e){s&&s.addEventListener(i,e,ma)}(a,i,r),r}class al extends xa{acquireContext(i,e){const a=i&&i.getContext&&i.getContext("2d");return a&&a.canvas===i?(function $r(s,i){const e=s.style,a=s.getAttribute("height"),r=s.getAttribute("width");if(s[Ds]={initial:{height:a,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",ga(r)){const c=Xn(s,"width");void 0!==c&&(s.width=c)}if(ga(a))if(""===s.style.height)s.height=s.width/(i||2);else{const c=Xn(s,"height");void 0!==c&&(s.height=c)}}(i,e),a):null}releaseContext(i){const e=i.canvas;if(!e[Ds])return!1;const a=e[Ds].initial;["height","width"].forEach(c=>{const u=a[c];Tt(u)?e.removeAttribute(c):e.setAttribute(c,u)});const r=a.style||{};return Object.keys(r).forEach(c=>{e.style[c]=r[c]}),e.width=e.width,delete e[Ds],!0}addEventListener(i,e,a){this.removeEventListener(i,e),(i.$proxies||(i.$proxies={}))[e]=({attach:qr,detach:tl,resize:sl}[e]||nl)(i,e,a)}removeEventListener(i,e){const a=i.$proxies||(i.$proxies={}),r=a[e];r&&(({attach:cn,detach:cn,resize:cn}[e]||Zr)(i,e,r),a[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,e,a,r){return function Ko(s,i,e,a){const r=Fs(s),c=Ki(r,"margin"),u=Bs(r.maxWidth,s,"clientWidth")||Ye,x=Bs(r.maxHeight,s,"clientHeight")||Ye,b=function Uo(s,i,e){let a,r;if(void 0===i||void 0===e){const c=s&&sn(s);if(c){const u=c.getBoundingClientRect(),x=Fs(c),b=Ki(x,"border","width"),k=Ki(x,"padding");i=u.width-k.width-b.width,e=u.height-k.height-b.height,a=Bs(x.maxWidth,c,"clientWidth"),r=Bs(x.maxHeight,c,"clientHeight")}else i=s.clientWidth,e=s.clientHeight}return{width:i,height:e,maxWidth:a||Ye,maxHeight:r||Ye}}(s,i,e);let{width:k,height:w}=b;if("content-box"===r.boxSizing){const D=Ki(r,"border","width"),X=Ki(r,"padding");k-=X.width+D.width,w-=X.height+D.height}return k=Math.max(0,k-c.width),w=Math.max(0,a?k/a:w-c.height),k=Ls(Math.min(k,u,b.maxWidth)),w=Ls(Math.min(w,x,b.maxHeight)),k&&!w&&(w=Ls(k/2)),(void 0!==i||void 0!==e)&&a&&b.height&&w>b.height&&(w=b.height,k=Ls(Math.floor(w*a))),{width:k,height:w}}(i,e,a,r)}isAttached(i){const e=i&&sn(i);return!(!e||!e.isConnected)}}class Ti{constructor(){_t(this,"x",void 0),_t(this,"y",void 0),_t(this,"active",!1),_t(this,"options",void 0),_t(this,"$animations",void 0)}tooltipPosition(i){const{x:e,y:a}=this.getProps(["x","y"],i);return{x:e,y:a}}hasValue(){return o(this.x)&&o(this.y)}getProps(i,e){const a=this.$animations;if(!e||!a)return this;const r={};return i.forEach(c=>{r[c]=a[c]&&a[c].active()?a[c]._to:this[c]}),r}}function Ws(s,i,e,a,r){const c=Zt(a,0),u=Math.min(Zt(r,s.length),s.length);let b,k,w,x=0;for(e=Math.ceil(e),r&&(b=r-a,e=b/Math.floor(b/e)),w=c;w<0;)x++,w=Math.round(c+x*e);for(k=Math.max(c,0);k<u;k++)k===w&&(i.push(s[k]),x++,w=Math.round(c+x*e))}_t(Ti,"defaults",{}),_t(Ti,"defaultRoutes",void 0);const ba=(s,i,e)=>"top"===i||"left"===i?s[i]+e:s[i]-e,va=(s,i)=>Math.min(i||s,s);function Ma(s,i){const e=[],a=s.length/i,r=s.length;let c=0;for(;c<r;c+=a)e.push(s[Math.floor(c)]);return e}function xl(s,i,e){const a=s.ticks.length,r=Math.min(i,a-1),c=s._startPixel,u=s._endPixel,x=1e-6;let k,b=s.getPixelForTick(r);if(!(e&&(k=1===a?Math.max(b-c,u-b):0===i?(s.getPixelForTick(1)-b)/2:(b-s.getPixelForTick(r-1))/2,b+=r<i?k:-k,b<c-x||b>u+x)))return b}function vs(s){return s.drawTicks?s.tickLength:0}function ka(s,i){if(!s.display)return 0;const e=Qe(s.font,i),a=hi(s.padding);return(be(s.text)?s.text.length:1)*e.lineHeight+a.height}function yl(s,i,e){let a=U(s);return(e&&"right"!==i||!e&&"right"===i)&&(a=(s=>"left"===s?"right":"right"===s?"left":s)(a)),a}class Zi extends Ti{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,e){return i}getUserBounds(){let{_userMin:i,_userMax:e,_suggestedMin:a,_suggestedMax:r}=this;return i=ei(i,Number.POSITIVE_INFINITY),e=ei(e,Number.NEGATIVE_INFINITY),a=ei(a,Number.POSITIVE_INFINITY),r=ei(r,Number.NEGATIVE_INFINITY),{min:ei(i,a),max:ei(e,r),minDefined:ge(i),maxDefined:ge(e)}}getMinMax(i){let u,{min:e,max:a,minDefined:r,maxDefined:c}=this.getUserBounds();if(r&&c)return{min:e,max:a};const x=this.getMatchingVisibleMetas();for(let b=0,k=x.length;b<k;++b)u=x[b].controller.getMinMax(this,i),r||(e=Math.min(e,u.min)),c||(a=Math.max(a,u.max));return e=c&&e>a?a:e,a=r&&e>a?e:a,{min:ei(e,ei(a,e)),max:ei(a,ei(e,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Se(this.options.beforeUpdate,[this])}update(i,e,a){const{beginAtZero:r,grace:c,ticks:u}=this.options,x=u.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=e,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function To(s,i,e){const{min:a,max:r}=s,c=Li(i,(r-a)/2),u=(x,b)=>e&&0===x?0:x+b;return{min:u(a,-Math.abs(c)),max:u(r,c)}}(this,c,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const b=x<this.ticks.length;this._convertTicksToLabels(b?Ma(this.ticks,x):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||"auto"===u.source)&&(this.ticks=function rl(s,i){const e=s.options.ticks,a=function ll(s){const i=s.options.offset,e=s._tickSize();return Math.floor(Math.min(s._length/e+(i?0:1),s._maxLength/e))}(s),r=Math.min(e.maxTicksLimit||a,a),c=e.major.enabled?function dl(s){const i=[];let e,a;for(e=0,a=s.length;e<a;e++)s[e].major&&i.push(e);return i}(i):[],u=c.length,x=c[0],b=c[u-1],k=[];if(u>r)return function cl(s,i,e,a){let u,r=0,c=e[0];for(a=Math.ceil(a),u=0;u<s.length;u++)u===c&&(i.push(s[u]),r++,c=e[r*a])}(i,k,c,u/r),k;const w=function hl(s,i,e){const a=function ul(s){const i=s.length;let e,a;if(i<2)return!1;for(a=s[0],e=1;e<i;++e)if(s[e]-s[e-1]!==a)return!1;return a}(s),r=i.length/e;if(!a)return Math.max(r,1);const c=function d(s){const i=[],e=Math.sqrt(s);let a;for(a=1;a<e;a++)s%a==0&&(i.push(a),i.push(s/a));return e===(0|e)&&i.push(e),i.sort((r,c)=>r-c).pop(),i}(a);for(let u=0,x=c.length-1;u<x;u++){const b=c[u];if(b>r)return b}return Math.max(r,1)}(c,i,r);if(u>0){let L,D;const X=u>1?Math.round((b-x)/(u-1)):null;for(Ws(i,k,w,Tt(X)?0:x-X,x),L=0,D=u-1;L<D;L++)Ws(i,k,w,c[L],c[L+1]);return Ws(i,k,w,b,Tt(X)?i.length:b+X),k}return Ws(i,k,w),k}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),b&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,a,i=this.options.reverse;this.isHorizontal()?(e=this.left,a=this.right):(e=this.top,a=this.bottom,i=!i),this._startPixel=e,this._endPixel=a,this._reversePixels=i,this._length=a-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Se(this.options.afterUpdate,[this])}beforeSetDimensions(){Se(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Se(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),Se(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Se(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const e=this.options.ticks;let a,r,c;for(a=0,r=i.length;a<r;a++)c=i[a],c.label=Se(e.callback,[c.value,a,i],this)}afterTickToLabelConversion(){Se(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Se(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,e=i.ticks,a=va(this.ticks.length,i.ticks.maxTicksLimit),r=e.minRotation||0,c=e.maxRotation;let x,b,k,u=r;if(!this._isVisible()||!e.display||r>=c||a<=1||!this.isHorizontal())return void(this.labelRotation=r);const w=this._getLabelSizes(),L=w.widest.width,D=w.highest.height,X=h(this.chart.width-L,0,this.maxWidth);x=i.offset?this.maxWidth/a:X/(a-1),L+6>x&&(x=X/(a-(i.offset?.5:1)),b=this.maxHeight-vs(i.grid)-e.padding-ka(i.title,this.chart.options.font),k=Math.sqrt(L*L+D*D),u=g(Math.min(Math.asin(h((w.highest.height+6)/x,-1,1)),Math.asin(h(b/k,-1,1))-Math.asin(h(D/k,-1,1)))),u=Math.max(r,Math.min(c,u))),this.labelRotation=u}afterCalculateLabelRotation(){Se(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Se(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:e,options:{ticks:a,title:r,grid:c}}=this,u=this._isVisible(),x=this.isHorizontal();if(u){const b=ka(r,e.options.font);if(x?(i.width=this.maxWidth,i.height=vs(c)+b):(i.height=this.maxHeight,i.width=vs(c)+b),a.display&&this.ticks.length){const{first:k,last:w,widest:L,highest:D}=this._getLabelSizes(),X=2*a.padding,j=p(this.labelRotation),K=Math.cos(j),G=Math.sin(j);x?i.height=Math.min(this.maxHeight,i.height+(a.mirror?0:G*L.width+K*D.height)+X):i.width=Math.min(this.maxWidth,i.width+(a.mirror?0:K*L.width+G*D.height)+X),this._calculatePadding(k,w,G,K)}}this._handleMargins(),x?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,e,a,r){const{ticks:{align:c,padding:u},position:x}=this.options,b=0!==this.labelRotation,k="top"!==x&&"x"===this.axis;if(this.isHorizontal()){const w=this.getPixelForTick(0)-this.left,L=this.right-this.getPixelForTick(this.ticks.length-1);let D=0,X=0;b?k?(D=r*i.width,X=a*e.height):(D=a*i.height,X=r*e.width):"start"===c?X=e.width:"end"===c?D=i.width:"inner"!==c&&(D=i.width/2,X=e.width/2),this.paddingLeft=Math.max((D-w+u)*this.width/(this.width-w),0),this.paddingRight=Math.max((X-L+u)*this.width/(this.width-L),0)}else{let w=e.height/2,L=i.height/2;"start"===c?(w=0,L=i.height):"end"===c&&(w=e.height,L=0),this.paddingTop=w+u,this.paddingBottom=L+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Se(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:e}=this.options;return"top"===e||"bottom"===e||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let e,a;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),e=0,a=i.length;e<a;e++)Tt(i[e].label)&&(i.splice(e,1),a--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const e=this.options.ticks.sampleSize;let a=this.ticks;e<a.length&&(a=Ma(a,e)),this._labelSizes=i=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,e,a){const{ctx:r,_longestTextCache:c}=this,u=[],x=[],b=Math.floor(e/va(e,a));let L,D,X,j,K,G,ot,at,yt,kt,xt,k=0,w=0;for(L=0;L<e;L+=b){if(j=i[L].label,K=this._resolveTickFontOptions(L),r.font=G=K.string,ot=c[G]=c[G]||{data:{},gc:[]},at=K.lineHeight,yt=kt=0,Tt(j)||be(j)){if(be(j))for(D=0,X=j.length;D<X;++D)xt=j[D],!Tt(xt)&&!be(xt)&&(yt=ve(r,ot.data,ot.gc,yt,xt),kt+=at)}else yt=ve(r,ot.data,ot.gc,yt,j),kt=at;u.push(yt),x.push(kt),k=Math.max(yt,k),w=Math.max(kt,w)}!function gl(s,i){Ht(s,e=>{const a=e.gc,r=a.length/2;let c;if(r>i){for(c=0;c<r;++c)delete e.data[a[c]];a.splice(0,r)}})}(c,e);const bt=u.indexOf(k),Dt=x.indexOf(w),wt=Yt=>({width:u[Yt]||0,height:x[Yt]||0});return{first:wt(0),last:wt(e-1),widest:wt(bt),highest:wt(Dt),widths:u,heights:x}}getLabelForValue(i){return i}getPixelForValue(i,e){return NaN}getValueForPixel(i){}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const e=this._startPixel+i*this._length;return function C(s){return h(s,-32768,32767)}(this._alignToPixels?fe(this.chart,e,0):e)}getDecimalForPixel(i){const e=(i-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:e}=this;return i<0&&e<0?e:i>0&&e>0?i:0}getContext(i){const e=this.ticks||[];if(i>=0&&i<e.length){const a=e[i];return a.$context||(a.$context=function fl(s,i,e){return Yi(s,{tick:e,index:i,type:"tick"})}(this.getContext(),i,a))}return this.$context||(this.$context=function ml(s,i){return Yi(s,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,e=p(this.labelRotation),a=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),c=this._getLabelSizes(),u=i.autoSkipPadding||0,x=c?c.widest.width+u:0,b=c?c.highest.height+u:0;return this.isHorizontal()?b*a>x*r?x/a:b/r:b*r<x*a?b/a:x/r}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const e=this.axis,a=this.chart,r=this.options,{grid:c,position:u,border:x}=r,b=c.offset,k=this.isHorizontal(),L=this.ticks.length+(b?1:0),D=vs(c),X=[],j=x.setContext(this.getContext()),K=j.display?j.width:0,G=K/2,ot=function(Xe){return fe(a,Xe,K)};let at,yt,kt,xt,bt,Dt,wt,Yt,pe,ce,ye,ai;if("top"===u)at=ot(this.bottom),Dt=this.bottom-D,Yt=at-G,ce=ot(i.top)+G,ai=i.bottom;else if("bottom"===u)at=ot(this.top),ce=i.top,ai=ot(i.bottom)-G,Dt=at+G,Yt=this.top+D;else if("left"===u)at=ot(this.right),bt=this.right-D,wt=at-G,pe=ot(i.left)+G,ye=i.right;else if("right"===u)at=ot(this.left),pe=i.left,ye=ot(i.right)-G,bt=at+G,wt=this.left+D;else if("x"===e){if("center"===u)at=ot((i.top+i.bottom)/2+.5);else if(se(u)){const Xe=Object.keys(u)[0];at=ot(this.chart.scales[Xe].getPixelForValue(u[Xe]))}ce=i.top,ai=i.bottom,Dt=at+G,Yt=Dt+D}else if("y"===e){if("center"===u)at=ot((i.left+i.right)/2);else if(se(u)){const Xe=Object.keys(u)[0];at=ot(this.chart.scales[Xe].getPixelForValue(u[Xe]))}bt=at-G,wt=bt-D,pe=i.left,ye=i.right}const yi=Zt(r.ticks.maxTicksLimit,L),Ae=Math.max(1,Math.ceil(L/yi));for(yt=0;yt<L;yt+=Ae){const Xe=this.getContext(yt),Ne=c.setContext(Xe),Ci=x.setContext(Xe),ci=Ne.lineWidth,ls=Ne.color,$s=Ci.dash||[],hs=Ci.dashOffset,Cs=Ne.tickWidth,qi=Ne.tickColor,ws=Ne.tickBorderDash||[],ts=Ne.tickBorderDashOffset;kt=xl(this,yt,b),void 0!==kt&&(xt=fe(a,kt,ci),k?bt=wt=pe=ye=xt:Dt=Yt=ce=ai=xt,X.push({tx1:bt,ty1:Dt,tx2:wt,ty2:Yt,x1:pe,y1:ce,x2:ye,y2:ai,width:ci,color:ls,borderDash:$s,borderDashOffset:hs,tickWidth:Cs,tickColor:qi,tickBorderDash:ws,tickBorderDashOffset:ts}))}return this._ticksLength=L,this._borderValue=at,X}_computeLabelItems(i){const e=this.axis,a=this.options,{position:r,ticks:c}=a,u=this.isHorizontal(),x=this.ticks,{align:b,crossAlign:k,padding:w,mirror:L}=c,D=vs(a.grid),X=D+w,j=L?-w:X,K=-p(this.labelRotation),G=[];let ot,at,yt,kt,xt,bt,Dt,wt,Yt,pe,ce,ye,ai="middle";if("top"===r)bt=this.bottom-j,Dt=this._getXAxisLabelAlignment();else if("bottom"===r)bt=this.top+j,Dt=this._getXAxisLabelAlignment();else if("left"===r){const Ae=this._getYAxisLabelAlignment(D);Dt=Ae.textAlign,xt=Ae.x}else if("right"===r){const Ae=this._getYAxisLabelAlignment(D);Dt=Ae.textAlign,xt=Ae.x}else if("x"===e){if("center"===r)bt=(i.top+i.bottom)/2+X;else if(se(r)){const Ae=Object.keys(r)[0];bt=this.chart.scales[Ae].getPixelForValue(r[Ae])+X}Dt=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)xt=(i.left+i.right)/2-X;else if(se(r)){const Ae=Object.keys(r)[0];xt=this.chart.scales[Ae].getPixelForValue(r[Ae])}Dt=this._getYAxisLabelAlignment(D).textAlign}"y"===e&&("start"===b?ai="top":"end"===b&&(ai="bottom"));const yi=this._getLabelSizes();for(ot=0,at=x.length;ot<at;++ot){yt=x[ot],kt=yt.label;const Ae=c.setContext(this.getContext(ot));wt=this.getPixelForTick(ot)+c.labelOffset,Yt=this._resolveTickFontOptions(ot),pe=Yt.lineHeight,ce=be(kt)?kt.length:1;const Xe=ce/2,Ne=Ae.color,Ci=Ae.textStrokeColor,ci=Ae.textStrokeWidth;let $s,ls=Dt;if(u?(xt=wt,"inner"===Dt&&(ls=ot===at-1?this.options.reverse?"left":"right":0===ot?this.options.reverse?"right":"left":"center"),ye="top"===r?"near"===k||0!==K?-ce*pe+pe/2:"center"===k?-yi.highest.height/2-Xe*pe+pe:pe/2-yi.highest.height:"near"===k||0!==K?pe/2:"center"===k?yi.highest.height/2-Xe*pe:yi.highest.height-ce*pe,L&&(ye*=-1),0!==K&&!Ae.showLabelBackdrop&&(xt+=pe/2*Math.sin(K))):(bt=wt,ye=(1-ce)*pe/2),Ae.showLabelBackdrop){const hs=hi(Ae.backdropPadding),Cs=yi.heights[ot],qi=yi.widths[ot];let ws=ye-hs.top,ts=0-hs.left;switch(ai){case"middle":ws-=Cs/2;break;case"bottom":ws-=Cs}switch(Dt){case"center":ts-=qi/2;break;case"right":ts-=qi;break;case"inner":ot===at-1?ts-=qi:ot>0&&(ts-=qi/2)}$s={left:ts,top:ws,width:qi+hs.width,height:Cs+hs.height,color:Ae.backdropColor}}G.push({label:kt,font:Yt,textOffset:ye,options:{rotation:K,color:Ne,strokeColor:Ci,strokeWidth:ci,textAlign:ls,textBaseline:ai,translation:[xt,bt],backdrop:$s}})}return G}_getXAxisLabelAlignment(){const{position:i,ticks:e}=this.options;if(-p(this.labelRotation))return"top"===i?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(i){const{position:e,ticks:{crossAlign:a,mirror:r,padding:c}}=this.options,x=i+c,b=this._getLabelSizes().widest.width;let k,w;return"left"===e?r?(w=this.right+c,"near"===a?k="left":"center"===a?(k="center",w+=b/2):(k="right",w+=b)):(w=this.right-x,"near"===a?k="right":"center"===a?(k="center",w-=b/2):(k="left",w=this.left)):"right"===e?r?(w=this.left+c,"near"===a?k="right":"center"===a?(k="center",w-=b/2):(k="left",w-=b)):(w=this.left+x,"near"===a?k="left":"center"===a?(k="center",w+=b/2):(k="right",w=this.right)):k="right",{textAlign:k,x:w}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:e},left:a,top:r,width:c,height:u}=this;e&&(i.save(),i.fillStyle=e,i.fillRect(a,r,c,u),i.restore())}getLineWidthForValue(i){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(c=>c.value===i);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(i){const e=this.options.grid,a=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let c,u;const x=(b,k,w)=>{!w.width||!w.color||(a.save(),a.lineWidth=w.width,a.strokeStyle=w.color,a.setLineDash(w.borderDash||[]),a.lineDashOffset=w.borderDashOffset,a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(k.x,k.y),a.stroke(),a.restore())};if(e.display)for(c=0,u=r.length;c<u;++c){const b=r[c];e.drawOnChartArea&&x({x:b.x1,y:b.y1},{x:b.x2,y:b.y2},b),e.drawTicks&&x({x:b.tx1,y:b.ty1},{x:b.tx2,y:b.ty2},{color:b.tickColor,width:b.tickWidth,borderDash:b.tickBorderDash,borderDashOffset:b.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:e,options:{border:a,grid:r}}=this,c=a.setContext(this.getContext()),u=a.display?c.width:0;if(!u)return;const x=r.setContext(this.getContext(0)).lineWidth,b=this._borderValue;let k,w,L,D;this.isHorizontal()?(k=fe(i,this.left,u)-u/2,w=fe(i,this.right,x)+x/2,L=D=b):(L=fe(i,this.top,u)-u/2,D=fe(i,this.bottom,x)+x/2,k=w=b),e.save(),e.lineWidth=c.width,e.strokeStyle=c.color,e.beginPath(),e.moveTo(k,L),e.lineTo(w,D),e.stroke(),e.restore()}drawLabels(i){if(!this.options.ticks.display)return;const a=this.ctx,r=this._computeLabelArea();r&&Ft(a,r);const c=this.getLabelItems(i);for(const u of c)ji(a,u.label,0,u.textOffset,u.font,u.options);r&&le(a)}drawTitle(){const{ctx:i,options:{position:e,title:a,reverse:r}}=this;if(!a.display)return;const c=Qe(a.font),u=hi(a.padding),x=a.align;let b=c.lineHeight/2;"bottom"===e||"center"===e||se(e)?(b+=u.bottom,be(a.text)&&(b+=c.lineHeight*(a.text.length-1))):b+=u.top;const{titleX:k,titleY:w,maxWidth:L,rotation:D}=function bl(s,i,e,a){const{top:r,left:c,bottom:u,right:x,chart:b}=s,{chartArea:k,scales:w}=b;let D,X,j,L=0;const K=u-r,G=x-c;if(s.isHorizontal()){if(X=O(a,c,x),se(e)){const ot=Object.keys(e)[0];j=w[ot].getPixelForValue(e[ot])+K-i}else j="center"===e?(k.bottom+k.top)/2+K-i:ba(s,e,i);D=x-c}else{if(se(e)){const ot=Object.keys(e)[0];X=w[ot].getPixelForValue(e[ot])-G+i}else X="center"===e?(k.left+k.right)/2-G+i:ba(s,e,i);j=O(a,u,r),L="left"===e?-he:he}return{titleX:X,titleY:j,maxWidth:D,rotation:L}}(this,b,e,x);ji(i,a.text,0,0,c,{color:a.color,maxWidth:L,rotation:D,textAlign:yl(x,e,r),textBaseline:"middle",translation:[k,w]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,e=i.ticks&&i.ticks.z||0,a=Zt(i.grid&&i.grid.z,-1),r=Zt(i.border&&i.border.z,0);return this._isVisible()&&this.draw===Zi.prototype.draw?[{z:a,draw:c=>{this.drawBackground(),this.drawGrid(c),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:c=>{this.drawLabels(c)}}]:[{z:e,draw:c=>{this.draw(c)}}]}getMatchingVisibleMetas(i){const e=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",r=[];let c,u;for(c=0,u=e.length;c<u;++c){const x=e[c];x[a]===this.id&&(!i||x.type===i)&&r.push(x)}return r}_resolveTickFontOptions(i){return Qe(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class Os{constructor(i,e,a){this.type=i,this.scope=e,this.override=a,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const e=Object.getPrototypeOf(i);let a;(function kl(s){return"id"in s&&"defaults"in s})(e)&&(a=this.register(e));const r=this.items,c=i.id,u=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+i);return c in r||(r[c]=i,function vl(s,i,e){const a=De(Object.create(null),[e?Vt.get(e):{},Vt.get(i),s.defaults]);Vt.set(i,a),s.defaultRoutes&&function Ml(s,i){Object.keys(i).forEach(e=>{const a=e.split("."),r=a.pop(),c=[s].concat(a).join("."),u=i[e].split("."),x=u.pop(),b=u.join(".");Vt.route(c,r,b,x)})}(i,s.defaultRoutes),s.descriptors&&Vt.describe(i,s.descriptors)}(i,u,a),this.override&&Vt.override(i.id,i.overrides)),u}get(i){return this.items[i]}unregister(i){const e=this.items,a=i.id,r=this.scope;a in e&&delete e[a],r&&a in Vt[r]&&(delete Vt[r][a],this.override&&delete ht[a])}}class _l{constructor(){this.controllers=new Os(zi,"datasets",!0),this.elements=new Os(Ti,"elements"),this.plugins=new Os(Object,"plugins"),this.scales=new Os(Zi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,e,a){[...e].forEach(r=>{const c=a||this._getRegistryForType(r);a||c.isForType(r)||c===this.plugins&&r.id?this._exec(i,c,r):Ht(r,u=>{const x=a||this._getRegistryForType(u);this._exec(i,x,u)})})}_exec(i,e,a){const r=W(i);Se(a["before"+r],[],a),e[i](a),Se(a["after"+r],[],a)}_getRegistryForType(i){for(let e=0;e<this._typedRegistries.length;e++){const a=this._typedRegistries[e];if(a.isForType(i))return a}return this.plugins}_get(i,e,a){const r=e.get(i);if(void 0===r)throw new Error('"'+i+'" is not a registered '+a+".");return r}}var Ii=new _l;class Pl{constructor(){this._init=[]}notify(i,e,a,r){"beforeInit"===e&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const c=r?this._descriptors(i).filter(r):this._descriptors(i),u=this._notify(c,i,e,a);return"afterDestroy"===e&&(this._notify(c,i,"stop"),this._notify(this._init,i,"uninstall")),u}_notify(i,e,a,r){r=r||{};for(const c of i){const u=c.plugin;if(!1===Se(u[a],[e,r,c.options],u)&&r.cancelable)return!1}return!0}invalidate(){Tt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),e}_createDescriptors(i,e){const a=i&&i.config,r=Zt(a.options&&a.options.plugins,{}),c=function Tl(s){const i={},e=[],a=Object.keys(Ii.plugins.items);for(let c=0;c<a.length;c++)e.push(Ii.getPlugin(a[c]));const r=s.plugins||[];for(let c=0;c<r.length;c++){const u=r[c];-1===e.indexOf(u)&&(e.push(u),i[u.id]=!0)}return{plugins:e,localIds:i}}(a);return!1!==r||e?function wl(s,{plugins:i,localIds:e},a,r){const c=[],u=s.getContext();for(const x of i){const b=x.id,k=Cl(a[b],r);null!==k&&c.push({plugin:x,options:Sl(s.config,{plugin:x,local:e[b]},k,u)})}return c}(i,c,r,e):[]}_notifyStateChanges(i){const e=this._oldCache||[],a=this._cache,r=(c,u)=>c.filter(x=>!u.some(b=>x.plugin.id===b.plugin.id));this._notify(r(e,a),i,"stop"),this._notify(r(a,e),i,"start")}}function Cl(s,i){return i||!1!==s?!0===s?{}:s:null}function Sl(s,{plugin:i,local:e},a,r){const c=s.pluginScopeKeys(i),u=s.getOptionScopes(a,c);return e&&i.defaults&&u.push(i.defaults),s.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function un(s,i){return((i.datasets||{})[s]||{}).indexAxis||i.indexAxis||(Vt.datasets[s]||{}).indexAxis||"x"}function _a(s){if("x"===s||"y"===s||"r"===s)return s}function Fl(s){return"top"===s||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0}function pn(s,...i){if(_a(s))return s;for(const e of i){const a=e.axis||Fl(e.position)||s.length>1&&_a(s[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function Pa(s,i,e){if(e[i+"AxisID"]===s)return{axis:i}}function Ta(s){const i=s.options||(s.options={});i.plugins=Zt(i.plugins,{}),i.scales=function Il(s,i){const e=ht[s.type]||{scales:{}},a=i.scales||{},r=un(s.type,i),c=Object.create(null);return Object.keys(a).forEach(u=>{const x=a[u];if(!se(x))return console.error(`Invalid scale configuration for scale: ${u}`);if(x._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const b=pn(u,x,function Ll(s,i){if(i.data&&i.data.datasets){const e=i.data.datasets.filter(a=>a.xAxisID===s||a.yAxisID===s);if(e.length)return Pa(s,"x",e[0])||Pa(s,"y",e[0])}return{}}(u,s),Vt.scales[x.type]),k=function Bl(s,i){return s===i?"_index_":"_value_"}(b,r),w=e.scales||{};c[u]=Pe(Object.create(null),[{axis:b},x,w[b],w[k]])}),s.data.datasets.forEach(u=>{const x=u.type||s.type,b=u.indexAxis||un(x,i),w=(ht[x]||{}).scales||{};Object.keys(w).forEach(L=>{const D=function Al(s,i){let e=s;return"_index_"===s?e=i:"_value_"===s&&(e="x"===i?"y":"x"),e}(L,b),X=u[D+"AxisID"]||D;c[X]=c[X]||Object.create(null),Pe(c[X],[{axis:D},a[X],w[L]])})}),Object.keys(c).forEach(u=>{const x=c[u];Pe(x,[Vt.scales[x.type],Vt.scale])}),c}(s,i)}function Ca(s){return(s=s||{}).datasets=s.datasets||[],s.labels=s.labels||[],s}const wa=new Map,Sa=new Set;function Es(s,i){let e=wa.get(s);return e||(e=i(),wa.set(s,e),Sa.add(e)),e}const Ms=(s,i,e)=>{const a=B(i,e);void 0!==a&&s.add(a)};class Vl{constructor(i){this._config=function Dl(s){return(s=s||{}).data=Ca(s.data),Ta(s),s}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=Ca(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),Ta(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return Es(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,e){return Es(`${i}.transition.${e}`,()=>[[`datasets.${i}.transitions.${e}`,`transitions.${e}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,e){return Es(`${i}-${e}`,()=>[[`datasets.${i}.elements.${e}`,`datasets.${i}`,`elements.${e}`,""]])}pluginScopeKeys(i){const e=i.id;return Es(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,e){const a=this._scopeCache;let r=a.get(i);return(!r||e)&&(r=new Map,a.set(i,r)),r}getOptionScopes(i,e,a){const{options:r,type:c}=this,u=this._cachedScopes(i,a),x=u.get(e);if(x)return x;const b=new Set;e.forEach(w=>{i&&(b.add(i),w.forEach(L=>Ms(b,i,L))),w.forEach(L=>Ms(b,r,L)),w.forEach(L=>Ms(b,ht[c]||{},L)),w.forEach(L=>Ms(b,Vt,L)),w.forEach(L=>Ms(b,dt,L))});const k=Array.from(b);return 0===k.length&&k.push(Object.create(null)),Sa.has(e)&&u.set(e,k),k}chartOptionScopes(){const{options:i,type:e}=this;return[i,ht[e]||{},Vt.datasets[e]||{},{type:e},Vt,dt]}resolveNamedOptions(i,e,a,r=[""]){const c={$shared:!0},{resolver:u,subPrefixes:x}=Aa(this._resolverCache,i,r);let b=u;(function Ol(s,i){const{isScriptable:e,isIndexable:a}=Bn(s);for(const r of i){const c=e(r),u=a(r),x=(u||c)&&s[r];if(c&&(pt(x)||Wl(x))||u&&be(x))return!0}return!1})(u,e)&&(c.$shared=!1,b=ns(u,a=pt(a)?a():a,this.createResolver(i,a,x)));for(const k of e)c[k]=b[k];return c}createResolver(i,e,a=[""],r){const{resolver:c}=Aa(this._resolverCache,i,a);return se(e)?ns(c,e,void 0,r):c}}function Aa(s,i,e){let a=s.get(i);a||(a=new Map,s.set(i,a));const r=e.join();let c=a.get(r);return c||(c={resolver:Qs(i,e),subPrefixes:e.filter(x=>!x.toLowerCase().includes("hover"))},a.set(r,c)),c}const Wl=s=>se(s)&&Object.getOwnPropertyNames(s).some(i=>pt(s[i])),Xl=["top","bottom","left","right","chartArea"];function Ba(s,i){return"top"===s||"bottom"===s||-1===Xl.indexOf(s)&&"x"===i}function Fa(s,i){return function(e,a){return e[s]===a[s]?e[i]-a[i]:e[s]-a[s]}}function La(s){const i=s.chart,e=i.options.animation;i.notifyPlugins("afterRender"),Se(e&&e.onComplete,[s],i)}function Yl(s){const i=s.chart,e=i.options.animation;Se(e&&e.onProgress,[s],i)}function Ia(s){return en()&&"string"==typeof s?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Xs={},Da=s=>{const i=Ia(s);return Object.values(Xs).filter(e=>e.canvas===i).pop()};function zl(s,i,e){const a=Object.keys(s);for(const r of a){const c=+r;if(c>=i){const u=s[r];delete s[r],(e>0||c>i)&&(s[c+e]=u)}}}function Ys(s,i,e){return s.options.clip?s[e]:i[e]}let xn=(()=>{class s{static register(...e){Ii.add(...e),Va()}static unregister(...e){Ii.remove(...e),Va()}constructor(e,a){const r=this.config=new Vl(a),c=Ia(e),u=Da(c);if(u)throw new Error("Canvas is already in use. Chart with ID '"+u.id+"' must be destroyed before the canvas with ID '"+u.canvas.id+"' can be reused.");const x=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function ol(s){return!en()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Kr:al}(c)),this.platform.updateConfig(r);const b=this.platform.acquireContext(c,x.aspectRatio),k=b&&b.canvas,w=k&&k.height,L=k&&k.width;this.id=_e(),this.ctx=b,this.canvas=k,this.width=L,this.height=w,this._options=x,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Pl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function $(s,i){let e;return function(...a){return i?(clearTimeout(e),e=setTimeout(s,i,a)):s.apply(this,a),i}}(D=>this.update(D),x.resizeDelay||0),this._dataChanges=[],Xs[this.id]=this,b&&k?(Oi.listen(this,"complete",La),Oi.listen(this,"progress",Yl),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:a},width:r,height:c,_aspectRatio:u}=this;return Tt(e)?a&&u?u:c?r/c:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ii}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():En(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ve(this.canvas,this.ctx),this}stop(){return Oi.stop(this),this}resize(e,a){Oi.running(this)?this._resizeBeforeDraw={width:e,height:a}:this._resize(e,a)}_resize(e,a){const r=this.options,x=this.platform.getMaximumSize(this.canvas,e,a,r.maintainAspectRatio&&this.aspectRatio),b=r.devicePixelRatio||this.platform.getDevicePixelRatio(),k=this.width?"resize":"attach";this.width=x.width,this.height=x.height,this._aspectRatio=this.aspectRatio,En(this,b,!0)&&(this.notifyPlugins("resize",{size:x}),Se(r.onResize,[this,x],this),this.attached&&this._doResize(k)&&this.render())}ensureScalesHaveIDs(){Ht(this.options.scales||{},(r,c)=>{r.id=c})}buildOrUpdateScales(){const e=this.options,a=e.scales,r=this.scales,c=Object.keys(r).reduce((x,b)=>(x[b]=!1,x),{});let u=[];a&&(u=u.concat(Object.keys(a).map(x=>{const b=a[x],k=pn(x,b),w="r"===k,L="x"===k;return{options:b,dposition:w?"chartArea":L?"bottom":"left",dtype:w?"radialLinear":L?"category":"linear"}}))),Ht(u,x=>{const b=x.options,k=b.id,w=pn(k,b),L=Zt(b.type,x.dtype);(void 0===b.position||Ba(b.position,w)!==Ba(x.dposition))&&(b.position=x.dposition),c[k]=!0;let D=null;k in r&&r[k].type===L?D=r[k]:(D=new(Ii.getScale(L))({id:k,type:L,ctx:this.ctx,chart:this}),r[D.id]=D),D.init(b,e)}),Ht(c,(x,b)=>{x||delete r[b]}),Ht(r,x=>{di.configure(this,x,x.options),di.addBox(this,x)})}_updateMetasets(){const e=this._metasets,a=this.data.datasets.length,r=e.length;if(e.sort((c,u)=>c.index-u.index),r>a){for(let c=a;c<r;++c)this._destroyDatasetMeta(c);e.splice(a,r-a)}this._sortedMetasets=e.slice(0).sort(Fa("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:a}}=this;e.length>a.length&&delete this._stacks,e.forEach((r,c)=>{0===a.filter(u=>u===r._dataset).length&&this._destroyDatasetMeta(c)})}buildOrUpdateControllers(){const e=[],a=this.data.datasets;let r,c;for(this._removeUnreferencedMetasets(),r=0,c=a.length;r<c;r++){const u=a[r];let x=this.getDatasetMeta(r);const b=u.type||this.config.type;if(x.type&&x.type!==b&&(this._destroyDatasetMeta(r),x=this.getDatasetMeta(r)),x.type=b,x.indexAxis=u.indexAxis||un(b,this.options),x.order=u.order||0,x.index=r,x.label=""+u.label,x.visible=this.isDatasetVisible(r),x.controller)x.controller.updateIndex(r),x.controller.linkScales();else{const k=Ii.getController(b),{datasetElementType:w,dataElementType:L}=Vt.datasets[b];Object.assign(k,{dataElementType:Ii.getElement(L),datasetElementType:w&&Ii.getElement(w)}),x.controller=new k(this,r),e.push(x.controller)}}return this._updateMetasets(),e}_resetElements(){Ht(this.data.datasets,(e,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const a=this.config;a.update();const r=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),c=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const u=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let x=0;for(let w=0,L=this.data.datasets.length;w<L;w++){const{controller:D}=this.getDatasetMeta(w),X=!c&&-1===u.indexOf(D);D.buildOrUpdateElements(X),x=Math.max(+D.getMaxOverflow(),x)}x=this._minPadding=r.layout.autoPadding?x:0,this._updateLayout(x),c||Ht(u,w=>{w.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Fa("z","_idx"));const{_active:b,_lastEvent:k}=this;k?this._eventHandler(k,!0):b.length&&this._updateHoverStyles(b,b,!0),this.render()}_updateScales(){Ht(this.scales,e=>{di.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,a=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Mt(a,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,a=this._getUniformDataChanges()||[];for(const{method:r,start:c,count:u}of a)zl(e,c,"_removeElements"===r?-u:u)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const a=this.data.datasets.length,r=u=>new Set(e.filter(x=>x[0]===u).map((x,b)=>b+","+x.splice(1).join(","))),c=r(0);for(let u=1;u<a;u++)if(!Mt(c,r(u)))return;return Array.from(c).map(u=>u.split(",")).map(u=>({method:u[1],start:+u[2],count:+u[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;di.update(this,this.width,this.height,e);const a=this.chartArea,r=a.width<=0||a.height<=0;this._layers=[],Ht(this.boxes,c=>{r&&"chartArea"===c.position||(c.configure&&c.configure(),this._layers.push(...c._layers()))},this),this._layers.forEach((c,u)=>{c._idx=u}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let a=0,r=this.data.datasets.length;a<r;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,r=this.data.datasets.length;a<r;++a)this._updateDataset(a,pt(e)?e({datasetIndex:a}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,a){const r=this.getDatasetMeta(e),c={meta:r,index:e,mode:a,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",c)&&(r.controller._update(a),c.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",c))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Oi.has(this)?this.attached&&!Oi.running(this)&&Oi.start(this):(this.draw(),La({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:c}=this._resizeBeforeDraw;this._resize(r,c),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const a=this._layers;for(e=0;e<a.length&&a[e].z<=0;++e)a[e].draw(this.chartArea);for(this._drawDatasets();e<a.length;++e)a[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const a=this._sortedMetasets,r=[];let c,u;for(c=0,u=a.length;c<u;++c){const x=a[c];(!e||x.visible)&&r.push(x)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let a=e.length-1;a>=0;--a)this._drawDataset(e[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const a=this.ctx,r=e._clip,c=!r.disabled,u=function Nl(s,i){const{xScale:e,yScale:a}=s;return e&&a?{left:Ys(e,i,"left"),right:Ys(e,i,"right"),top:Ys(a,i,"top"),bottom:Ys(a,i,"bottom")}:i}(e,this.chartArea),x={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",x)&&(c&&Ft(a,{left:!1===r.left?0:u.left-r.left,right:!1===r.right?this.width:u.right+r.right,top:!1===r.top?0:u.top-r.top,bottom:!1===r.bottom?this.height:u.bottom+r.bottom}),e.controller.draw(),c&&le(a),x.cancelable=!1,this.notifyPlugins("afterDatasetDraw",x))}isPointInArea(e){return jt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,a,r,c){const u=Xr.modes[a];return"function"==typeof u?u(this,e,r,c):[]}getDatasetMeta(e){const a=this.data.datasets[e],r=this._metasets;let c=r.filter(u=>u&&u._dataset===a).pop();return c||(c={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:e,_dataset:a,_parsed:[],_sorted:!1},r.push(c)),c}getContext(){return this.$context||(this.$context=Yi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const a=this.data.datasets[e];if(!a)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!a.hidden}setDatasetVisibility(e,a){this.getDatasetMeta(e).hidden=!a}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,a,r){const c=r?"show":"hide",u=this.getDatasetMeta(e),x=u.controller._resolveAnimations(void 0,c);q(a)?(u.data[a].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),x.update(u,{visible:r}),this.update(b=>b.datasetIndex===e?c:void 0))}hide(e,a){this._updateVisibility(e,a,!1)}show(e,a){this._updateVisibility(e,a,!0)}_destroyDatasetMeta(e){const a=this._metasets[e];a&&a.controller&&a.controller._destroy(),delete this._metasets[e]}_stop(){let e,a;for(this.stop(),Oi.remove(this),e=0,a=this.data.datasets.length;e<a;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:a}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ve(e,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete Xs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,a=this.platform,r=(u,x)=>{a.addEventListener(this,u,x),e[u]=x},c=(u,x,b)=>{u.offsetX=x,u.offsetY=b,this._eventHandler(u)};Ht(this.options.events,u=>r(u,c))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,a=this.platform,r=(k,w)=>{a.addEventListener(this,k,w),e[k]=w},c=(k,w)=>{e[k]&&(a.removeEventListener(this,k,w),delete e[k])},u=(k,w)=>{this.canvas&&this.resize(k,w)};let x;const b=()=>{c("attach",b),this.attached=!0,this.resize(),r("resize",u),r("detach",x)};x=()=>{this.attached=!1,c("resize",u),this._stop(),this._resize(0,0),r("attach",b)},a.isAttached(this.canvas)?b():x()}unbindEvents(){Ht(this._listeners,(e,a)=>{this.platform.removeEventListener(this,a,e)}),this._listeners={},Ht(this._responsiveListeners,(e,a)=>{this.platform.removeEventListener(this,a,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,a,r){const c=r?"set":"remove";let u,x,b,k;for("dataset"===a&&(u=this.getDatasetMeta(e[0].datasetIndex),u.controller["_"+c+"DatasetHoverStyle"]()),b=0,k=e.length;b<k;++b){x=e[b];const w=x&&this.getDatasetMeta(x.datasetIndex).controller;w&&w[c+"HoverStyle"](x.element,x.datasetIndex,x.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const a=this._active||[],r=e.map(({datasetIndex:u,index:x})=>{const b=this.getDatasetMeta(u);if(!b)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:b.data[x],index:x}});!Wi(r,a)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,a))}notifyPlugins(e,a,r){return this._plugins.notify(this,e,a,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(a=>a.plugin.id===e).length}_updateHoverStyles(e,a,r){const c=this.options.hover,u=(k,w)=>k.filter(L=>!w.some(D=>L.datasetIndex===D.datasetIndex&&L.index===D.index)),x=u(a,e),b=r?e:u(e,a);x.length&&this.updateHoverStyle(x,c.mode,!1),b.length&&c.mode&&this.updateHoverStyle(b,c.mode,!0)}_eventHandler(e,a){const r={event:e,replay:a,cancelable:!0,inChartArea:this.isPointInArea(e)},c=x=>(x.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,c))return;const u=this._handleEvent(e,a,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,c),(u||r.changed)&&this.render(),this}_handleEvent(e,a,r){const{_active:c=[],options:u}=this,b=this._getActiveElements(e,c,r,a),k=function nt(s){return"mouseup"===s.type||"click"===s.type||"contextmenu"===s.type}(e),w=function Rl(s,i,e,a){return e&&"mouseout"!==s.type?a?i:s:null}(e,this._lastEvent,r,k);r&&(this._lastEvent=null,Se(u.onHover,[e,b,this],this),k&&Se(u.onClick,[e,b,this],this));const L=!Wi(b,c);return(L||a)&&(this._active=b,this._updateHoverStyles(b,c,a)),this._lastEvent=w,L}_getActiveElements(e,a,r,c){if("mouseout"===e.type)return[];if(!r)return a;const u=this.options.hover;return this.getElementsAtEventForMode(e,u.mode,u,c)}}return _t(s,"defaults",Vt),_t(s,"instances",Xs),_t(s,"overrides",ht),_t(s,"registry",Ii),_t(s,"version","4.4.3"),_t(s,"getChart",Da),s})();function Va(){return Ht(xn.instances,s=>s._plugins.invalidate())}function rs(s,i,e,a){return{x:e+s*Math.cos(i),y:a+s*Math.sin(i)}}function zs(s,i,e,a,r,c){const{x:u,y:x,startAngle:b,pixelMargin:k,innerRadius:w}=i,L=Math.max(i.outerRadius+a+e-k,0),D=w>0?w+a+e+k:0;let X=0;const j=r-b;if(a){const Ne=((w>0?w-a:0)+(L>0?L-a:0))/2;X=(j-(0!==Ne?j*Ne/(Ne+a):j))/2}const G=(j-Math.max(.001,j*L-e/It)/L)/2,ot=b+G+X,at=r-G-X,{outerStart:yt,outerEnd:kt,innerStart:xt,innerEnd:bt}=function Ul(s,i,e,a){const r=function jl(s){return Zs(s,["outerStart","outerEnd","innerStart","innerEnd"])}(s.options.borderRadius),c=(e-i)/2,u=Math.min(c,a*i/2),x=b=>{const k=(e-Math.min(c,b))*a/2;return h(b,0,Math.min(c,k))};return{outerStart:x(r.outerStart),outerEnd:x(r.outerEnd),innerStart:h(r.innerStart,0,u),innerEnd:h(r.innerEnd,0,u)}}(i,D,L,at-ot),Dt=L-yt,wt=L-kt,Yt=ot+yt/Dt,pe=at-kt/wt,ce=D+xt,ye=D+bt,ai=ot+xt/ce,yi=at-bt/ye;if(s.beginPath(),c){const Ae=(Yt+pe)/2;if(s.arc(u,x,L,Yt,Ae),s.arc(u,x,L,Ae,pe),kt>0){const ci=rs(wt,pe,u,x);s.arc(ci.x,ci.y,kt,pe,at+he)}const Xe=rs(ye,at,u,x);if(s.lineTo(Xe.x,Xe.y),bt>0){const ci=rs(ye,yi,u,x);s.arc(ci.x,ci.y,bt,at+he,yi+Math.PI)}const Ne=(at-bt/D+(ot+xt/D))/2;if(s.arc(u,x,D,at-bt/D,Ne,!0),s.arc(u,x,D,Ne,ot+xt/D,!0),xt>0){const ci=rs(ce,ai,u,x);s.arc(ci.x,ci.y,xt,ai+Math.PI,ot-he)}const Ci=rs(Dt,ot,u,x);if(s.lineTo(Ci.x,Ci.y),yt>0){const ci=rs(Dt,Yt,u,x);s.arc(ci.x,ci.y,yt,ot-he,Yt)}}else{s.moveTo(u,x);const Ae=Math.cos(Yt)*L+u,Xe=Math.sin(Yt)*L+x;s.lineTo(Ae,Xe);const Ne=Math.cos(pe)*L+u,Ci=Math.sin(pe)*L+x;s.lineTo(Ne,Ci)}s.closePath()}class ks extends Ti{constructor(i){super(),_t(this,"circumference",void 0),_t(this,"endAngle",void 0),_t(this,"fullCircles",void 0),_t(this,"innerRadius",void 0),_t(this,"outerRadius",void 0),_t(this,"pixelMargin",void 0),_t(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,e,a){const r=this.getProps(["x","y"],a),{angle:c,distance:u}=_(r,{x:i,y:e}),{startAngle:x,endAngle:b,innerRadius:k,outerRadius:w,circumference:L}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),D=(this.options.spacing+this.options.borderWidth)/2,j=Zt(L,b-x)>=Et||v(c,x,b),K=S(u,k+D,w+D);return j&&K}getCenterPoint(i){const{x:e,y:a,startAngle:r,endAngle:c,innerRadius:u,outerRadius:x}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:b,spacing:k}=this.options,w=(r+c)/2,L=(u+x+k+b)/2;return{x:e+Math.cos(w)*L,y:a+Math.sin(w)*L}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:e,circumference:a}=this,r=(e.offset||0)/4,c=(e.spacing||0)/2,u=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=a>Et?Math.floor(a/Et):0,0===a||this.innerRadius<0||this.outerRadius<0)return;i.save();const x=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(x)*r,Math.sin(x)*r);const k=r*(1-Math.sin(Math.min(It,a||0)));i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,function Kl(s,i,e,a,r){const{fullCircles:c,startAngle:u,circumference:x}=i;let b=i.endAngle;if(c){zs(s,i,e,a,b,r);for(let k=0;k<c;++k)s.fill();isNaN(x)||(b=u+(x%Et||Et))}zs(s,i,e,a,b,r),s.fill()}(i,this,k,c,u),function Gl(s,i,e,a,r){const{fullCircles:c,startAngle:u,circumference:x,options:b}=i,{borderWidth:k,borderJoinStyle:w,borderDash:L,borderDashOffset:D}=b,X="inner"===b.borderAlign;if(!k)return;s.setLineDash(L||[]),s.lineDashOffset=D,X?(s.lineWidth=2*k,s.lineJoin=w||"round"):(s.lineWidth=k,s.lineJoin=w||"bevel");let j=i.endAngle;if(c){zs(s,i,e,a,j,r);for(let K=0;K<c;++K)s.stroke();isNaN(x)||(j=u+(x%Et||Et))}X&&function Hl(s,i,e){const{startAngle:a,pixelMargin:r,x:c,y:u,outerRadius:x,innerRadius:b}=i;let k=r/x;s.beginPath(),s.arc(c,u,x,a-k,e+k),b>r?(k=r/b,s.arc(c,u,b,e+k,a-k,!0)):s.arc(c,u,r,e+he,a-he),s.closePath(),s.clip()}(s,i,j),c||(zs(s,i,e,a,j,r),s.stroke())}(i,this,k,c,u),i.restore()}}function Wa(s,i,e=i){s.lineCap=Zt(e.borderCapStyle,i.borderCapStyle),s.setLineDash(Zt(e.borderDash,i.borderDash)),s.lineDashOffset=Zt(e.borderDashOffset,i.borderDashOffset),s.lineJoin=Zt(e.borderJoinStyle,i.borderJoinStyle),s.lineWidth=Zt(e.borderWidth,i.borderWidth),s.strokeStyle=Zt(e.borderColor,i.borderColor)}function $l(s,i,e){s.lineTo(e.x,e.y)}function Oa(s,i,e={}){const a=s.length,{start:r=0,end:c=a-1}=e,{start:u,end:x}=i,b=Math.max(r,u),k=Math.min(c,x);return{count:a,start:b,loop:i.loop,ilen:k<b&&!(r<u&&c<u||r>x&&c>x)?a+k-b:k-b}}function Zl(s,i,e,a){const{points:r,options:c}=i,{count:u,start:x,loop:b,ilen:k}=Oa(r,e,a),w=function Jl(s){return s.stepped?Ke:s.tension||"monotone"===s.cubicInterpolationMode?ni:$l}(c);let X,j,K,{move:L=!0,reverse:D}=a||{};for(X=0;X<=k;++X)j=r[(x+(D?k-X:X))%u],!j.skip&&(L?(s.moveTo(j.x,j.y),L=!1):w(s,K,j,D,c.stepped),K=j);return b&&(j=r[(x+(D?k:0))%u],w(s,K,j,D,c.stepped)),!!b}function Ql(s,i,e,a){const r=i.points,{count:c,start:u,ilen:x}=Oa(r,e,a),{move:b=!0,reverse:k}=a||{};let D,X,j,K,G,ot,w=0,L=0;const at=kt=>(u+(k?x-kt:kt))%c,yt=()=>{K!==G&&(s.lineTo(w,G),s.lineTo(w,K),s.lineTo(w,ot))};for(b&&(X=r[at(0)],s.moveTo(X.x,X.y)),D=0;D<=x;++D){if(X=r[at(D)],X.skip)continue;const kt=X.x,xt=X.y,bt=0|kt;bt===j?(xt<K?K=xt:xt>G&&(G=xt),w=(L*w+kt)/++L):(yt(),s.lineTo(kt,xt),j=bt,L=0,K=G=xt),ot=xt}yt()}function gn(s){const i=s.options;return s._decimated||s._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?Zl:Ql}_t(ks,"id","arc"),_t(ks,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),_t(ks,"defaultRoutes",{backgroundColor:"backgroundColor"}),_t(ks,"descriptors",{_scriptable:!0,_indexable:s=>"borderDash"!==s});const ih="function"==typeof Path2D;let Rs=(()=>{class s extends Ti{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,a){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(zo(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,a),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function ir(s,i){const e=s.points,a=s.options.spanGaps,r=e.length;if(!r)return[];const c=!!s._loop,{start:u,end:x}=function tr(s,i,e,a){let r=0,c=i-1;if(e&&!a)for(;r<i&&!s[r].skip;)r++;for(;r<i&&s[r].skip;)r++;for(r%=i,e&&(c+=r);c>r&&s[c%i].skip;)c--;return c%=i,{start:r,end:c}}(e,r,c,a);return function Un(s,i,e,a){return a&&a.setContext&&e?function sr(s,i,e,a){const r=s._chart.getContext(),c=Kn(s.options),{_datasetIndex:u,options:{spanGaps:x}}=s,b=e.length,k=[];let w=c,L=i[0].start,D=L;function X(j,K,G,ot){const at=x?-1:1;if(j!==K){for(j+=b;e[j%b].skip;)j-=at;for(;e[K%b].skip;)K+=at;j%b!=K%b&&(k.push({start:j%b,end:K%b,loop:G,style:ot}),w=ot,L=K%b)}}for(const j of i){L=x?L:j.start;let G,K=e[L%b];for(D=L+1;D<=j.end;D++){const ot=e[D%b];G=Kn(a.setContext(Yi(r,{type:"segment",p0:K,p1:ot,p0DataIndex:(D-1)%b,p1DataIndex:D%b,datasetIndex:u}))),nr(G,w)&&X(L,D-1,j.loop,w),K=ot,w=G}L<D-1&&X(L,D-1,j.loop,w)}return k}(s,i,e,a):i}(s,!0===a?[{start:u,end:x,loop:c}]:function er(s,i,e,a){const r=s.length,c=[];let b,u=i,x=s[i];for(b=i+1;b<=e;++b){const k=s[b%r];k.skip||k.stop?x.skip||(c.push({start:i%r,end:(b-1)%r,loop:a=!1}),i=u=k.stop?b:null):(u=b,x.skip&&(i=b)),x=k}return null!==u&&c.push({start:i%r,end:u%r,loop:a}),c}(e,u,x<u?x+r:x,!!s._fullLoop&&0===u&&x===r-1),e,i)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,a){const r=this.options,c=e[a],u=this.points,x=jn(this,{property:a,start:c,end:c});if(!x.length)return;const b=[],k=function ql(s){return s.stepped?$o:s.tension||"monotone"===s.cubicInterpolationMode?Jo:$i}(r);let w,L;for(w=0,L=x.length;w<L;++w){const{start:D,end:X}=x[w],j=u[D],K=u[X];if(j===K){b.push(j);continue}const ot=k(j,K,Math.abs((c-j[a])/(K[a]-j[a])),r.stepped);ot[a]=e[a],b.push(ot)}return 1===b.length?b[0]:b}pathSegment(e,a,r){return gn(this)(e,this,a,r)}path(e,a,r){const c=this.segments,u=gn(this);let x=this._loop;a=a||0,r=r||this.points.length-a;for(const b of c)x&=u(e,this,b,{start:a,end:a+r-1});return!!x}draw(e,a,r,c){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function sh(s,i,e,a){ih&&!i.options.segment?function th(s,i,e,a){let r=i._path;r||(r=i._path=new Path2D,i.path(r,e,a)&&r.closePath()),Wa(s,i.options),s.stroke(r)}(s,i,e,a):function eh(s,i,e,a){const{segments:r,options:c}=i,u=gn(i);for(const x of r)Wa(s,c,x.style),s.beginPath(),u(s,i,x,{start:e,end:e+a-1})&&s.closePath(),s.stroke()}(s,i,e,a)}(e,this,r,c),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return _t(s,"id","line"),_t(s,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),_t(s,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),_t(s,"descriptors",{_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i}),s})();function Ea(s,i,e,a){const r=s.options,{[e]:c}=s.getProps([e],a);return Math.abs(i-c)<r.radius+r.hitRadius}let nh=(()=>{class s extends Ti{constructor(e){super(),_t(this,"parsed",void 0),_t(this,"skip",void 0),_t(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,a,r){const c=this.options,{x:u,y:x}=this.getProps(["x","y"],r);return Math.pow(e-u,2)+Math.pow(a-x,2)<Math.pow(c.hitRadius+c.radius,2)}inXRange(e,a){return Ea(this,e,"x",a)}inYRange(e,a){return Ea(this,e,"y",a)}getCenterPoint(e){const{x:a,y:r}=this.getProps(["x","y"],e);return{x:a,y:r}}size(e){let a=(e=e||this.options||{}).radius||0;return a=Math.max(a,a&&e.hoverRadius||0),2*(a+(a&&e.borderWidth||0))}draw(e,a){const r=this.options;this.skip||r.radius<.1||!jt(this,a,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,xe(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return _t(s,"id","point"),_t(s,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),_t(s,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),s})();function Xa(s,i){const{x:e,y:a,base:r,width:c,height:u}=s.getProps(["x","y","base","width","height"],i);let x,b,k,w,L;return s.horizontal?(L=u/2,x=Math.min(e,r),b=Math.max(e,r),k=a-L,w=a+L):(L=c/2,x=e-L,b=e+L,k=Math.min(a,r),w=Math.max(a,r)),{left:x,top:k,right:b,bottom:w}}function Ri(s,i,e,a){return s?0:h(i,e,a)}function mn(s,i,e,a){const r=null===i,c=null===e,x=s&&!(r&&c)&&Xa(s,a);return x&&(r||S(i,x.left,x.right))&&(c||S(e,x.top,x.bottom))}function hh(s,i){s.rect(i.x,i.y,i.w,i.h)}function fn(s,i,e={}){const a=s.x!==e.x?-i:0,r=s.y!==e.y?-i:0;return{x:s.x+a,y:s.y+r,w:s.w+((s.x+s.w!==e.x+e.w?i:0)-a),h:s.h+((s.y+s.h!==e.y+e.h?i:0)-r),radius:s.radius}}class Ns extends Ti{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:e,options:{borderColor:a,backgroundColor:r}}=this,{inner:c,outer:u}=function rh(s){const i=Xa(s),e=i.right-i.left,a=i.bottom-i.top,r=function ah(s,i,e){const r=s.borderSkipped,c=An(s.options.borderWidth);return{t:Ri(r.top,c.top,0,e),r:Ri(r.right,c.right,0,i),b:Ri(r.bottom,c.bottom,0,e),l:Ri(r.left,c.left,0,i)}}(s,e/2,a/2),c=function oh(s,i,e){const{enableBorderRadius:a}=s.getProps(["enableBorderRadius"]),r=s.options.borderRadius,c=Ui(r),u=Math.min(i,e),x=s.borderSkipped,b=a||se(r);return{topLeft:Ri(!b||x.top||x.left,c.topLeft,0,u),topRight:Ri(!b||x.top||x.right,c.topRight,0,u),bottomLeft:Ri(!b||x.bottom||x.left,c.bottomLeft,0,u),bottomRight:Ri(!b||x.bottom||x.right,c.bottomRight,0,u)}}(s,e/2,a/2);return{outer:{x:i.left,y:i.top,w:e,h:a,radius:c},inner:{x:i.left+r.l,y:i.top+r.t,w:e-r.l-r.r,h:a-r.t-r.b,radius:{topLeft:Math.max(0,c.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,c.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,c.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,c.bottomRight-Math.max(r.b,r.r))}}}}(this),x=function lh(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}(u.radius)?us:hh;i.save(),(u.w!==c.w||u.h!==c.h)&&(i.beginPath(),x(i,fn(u,e,c)),i.clip(),x(i,fn(c,-e,u)),i.fillStyle=a,i.fill("evenodd")),i.beginPath(),x(i,fn(c,e)),i.fillStyle=r,i.fill(),i.restore()}inRange(i,e,a){return mn(this,i,e,a)}inXRange(i,e){return mn(this,i,null,e)}inYRange(i,e){return mn(this,null,i,e)}getCenterPoint(i){const{x:e,y:a,base:r,horizontal:c}=this.getProps(["x","y","base","horizontal"],i);return{x:c?(e+r)/2:e,y:c?a:(a+r)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}}_t(Ns,"id","bar"),_t(Ns,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),_t(Ns,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var dh=Object.freeze({__proto__:null,ArcElement:ks,BarElement:Ns,LineElement:Rs,PointElement:nh});const yn=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ya=yn.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function za(s){return yn[s%yn.length]}function Ra(s){return Ya[s%Ya.length]}function Na(s){let i;for(i in s)if(s[i].borderColor||s[i].backgroundColor)return!0;return!1}var mh={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,i,e){if(!e.enabled)return;const{data:{datasets:a},options:r}=s.config,{elements:c}=r;if(!e.forceOverride&&(Na(a)||function gh(s){return s&&(s.borderColor||s.backgroundColor)}(r)||c&&Na(c)))return;const u=function xh(s){let i=0;return(e,a)=>{const r=s.getDatasetMeta(a).controller;r instanceof rn?i=function uh(s,i){return s.backgroundColor=s.data.map(()=>za(i++)),i}(e,i):r instanceof ra?i=function ph(s,i){return s.backgroundColor=s.data.map(()=>Ra(i++)),i}(e,i):r&&(i=function ch(s,i){return s.borderColor=za(i),s.backgroundColor=Ra(i),++i}(e,i))}}(s);a.forEach(u)}};function Ha(s){if(s._decimated){const i=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function ja(s){s.data.datasets.forEach(i=>{Ha(i)})}var vh={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,i,e)=>{if(!e.enabled)return void ja(s);const a=s.width;s.data.datasets.forEach((r,c)=>{const{_data:u,indexAxis:x}=r,b=s.getDatasetMeta(c),k=u||r.data;if("y"===ps([x,s.options.indexAxis])||!b.controller.supportsDecimation)return;const w=s.scales[b.xAxisID];if("linear"!==w.type&&"time"!==w.type||s.options.parsing)return;let j,{start:L,count:D}=function bh(s,i){const e=i.length;let r,a=0;const{iScale:c}=s,{min:u,max:x,minDefined:b,maxDefined:k}=c.getUserBounds();return b&&(a=h(P(i,c.axis,u).lo,0,e-1)),r=k?h(P(i,c.axis,x).hi+1,a,e)-a:e-a,{start:a,count:r}}(b,k);if(D<=(e.threshold||4*a))Ha(r);else{switch(Tt(u)&&(r._data=k,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(K){this._data=K}})),e.algorithm){case"lttb":j=function fh(s,i,e,a,r){const c=r.samples||a;if(c>=e)return s.slice(i,i+e);const u=[],x=(e-2)/(c-2);let b=0;const k=i+e-1;let L,D,X,j,K,w=i;for(u[b++]=s[w],L=0;L<c-2;L++){let at,G=0,ot=0;const yt=Math.floor((L+1)*x)+1+i,kt=Math.min(Math.floor((L+2)*x)+1,e)+i,xt=kt-yt;for(at=yt;at<kt;at++)G+=s[at].x,ot+=s[at].y;G/=xt,ot/=xt;const bt=Math.floor(L*x)+1+i,Dt=Math.min(Math.floor((L+1)*x)+1,e)+i,{x:wt,y:Yt}=s[w];for(X=j=-1,at=bt;at<Dt;at++)j=.5*Math.abs((wt-G)*(s[at].y-Yt)-(wt-s[at].x)*(ot-Yt)),j>X&&(X=j,D=s[at],K=at);u[b++]=D,w=K}return u[b++]=s[k],u}(k,L,D,a,e);break;case"min-max":j=function yh(s,i,e,a){let u,x,b,k,w,L,D,X,j,K,r=0,c=0;const G=[],at=s[i].x,kt=s[i+e-1].x-at;for(u=i;u<i+e;++u){x=s[u],b=(x.x-at)/kt*a,k=x.y;const xt=0|b;if(xt===w)k<j?(j=k,L=u):k>K&&(K=k,D=u),r=(c*r+x.x)/++c;else{const bt=u-1;if(!Tt(L)&&!Tt(D)){const Dt=Math.min(L,D),wt=Math.max(L,D);Dt!==X&&Dt!==bt&&G.push({...s[Dt],x:r}),wt!==X&&wt!==bt&&G.push({...s[wt],x:r})}u>0&&bt!==X&&G.push(s[bt]),G.push(x),w=xt,c=0,j=K=k,L=D=X=u}}return G}(k,L,D,a);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=j}})},destroy(s){ja(s)}};function bn(s,i,e,a){if(a)return;let r=i[s],c=e[s];return"angle"===s&&(r=y(r),c=y(c)),{property:s,start:r,end:c}}function vn(s,i,e){for(;i>s;i--){const a=e[i];if(!isNaN(a.x)&&!isNaN(a.y))break}return i}function Ua(s,i,e,a){return s&&i?a(s[e],i[e]):s?s[e]:i?i[e]:0}function Ka(s,i){let e=[],a=!1;return be(s)?(a=!0,e=s):e=function kh(s,i){const{x:e=null,y:a=null}=s||{},r=i.points,c=[];return i.segments.forEach(({start:u,end:x})=>{x=vn(u,x,r);const b=r[u],k=r[x];null!==a?(c.push({x:b.x,y:a}),c.push({x:k.x,y:a})):null!==e&&(c.push({x:e,y:b.y}),c.push({x:e,y:k.y}))}),c}(s,i),e.length?new Rs({points:e,options:{tension:0},_loop:a,_fullLoop:a}):null}function Ga(s){return s&&!1!==s.fill}function _h(s,i,e){let r=s[i].fill;const c=[i];let u;if(!e)return r;for(;!1!==r&&-1===c.indexOf(r);){if(!ge(r))return r;if(u=s[r],!u)return!1;if(u.visible)return r;c.push(r),r=u.fill}return!1}function Ph(s,i,e){const a=function Sh(s){const i=s.options,e=i.fill;let a=Zt(e&&e.target,e);return void 0===a&&(a=!!i.backgroundColor),!1!==a&&null!==a&&(!0===a?"origin":a)}(s);if(se(a))return!isNaN(a.value)&&a;let r=parseFloat(a);return ge(r)&&Math.floor(r)===r?function Th(s,i,e,a){return("-"===s||"+"===s)&&(e=i+e),!(e===i||e<0||e>=a)&&e}(a[0],i,r,e):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function Fh(s,i,e){const a=[];for(let r=0;r<e.length;r++){const c=e[r],{first:u,last:x,point:b}=Lh(c,i,"x");if(!(!b||u&&x))if(u)a.unshift(b);else if(s.push(b),!x)break}s.push(...a)}function Lh(s,i,e){const a=s.interpolate(i,e);if(!a)return{};const r=a[e],c=s.segments,u=s.points;let x=!1,b=!1;for(let k=0;k<c.length;k++){const w=c[k],L=u[w.start][e],D=u[w.end][e];if(S(r,L,D)){x=r===L,b=r===D;break}}return{first:x,last:b,point:a}}class $a{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,e,a){const{x:r,y:c,radius:u}=this;return i.arc(r,c,u,(e=e||{start:0,end:Et}).end,e.start,!0),!a.bounds}interpolate(i){const{x:e,y:a,radius:r}=this,c=i.angle;return{x:e+Math.cos(c)*r,y:a+Math.sin(c)*r,angle:c}}}function Mn(s,i,e){const a=function Ih(s){const{chart:i,fill:e,line:a}=s;if(ge(e))return function Dh(s,i){const e=s.getDatasetMeta(i);return e&&s.isDatasetVisible(i)?e.dataset:null}(i,e);if("stack"===e)return function Ah(s){const{scale:i,index:e,line:a}=s,r=[],c=a.segments,u=a.points,x=function Bh(s,i){const e=[],a=s.getMatchingVisibleMetas("line");for(let r=0;r<a.length;r++){const c=a[r];if(c.index===i)break;c.hidden||e.unshift(c.dataset)}return e}(i,e);x.push(Ka({x:null,y:i.bottom},a));for(let b=0;b<c.length;b++){const k=c[b];for(let w=k.start;w<=k.end;w++)Fh(r,u[w],x)}return new Rs({points:r,options:{}})}(s);if("shape"===e)return!0;const r=function Vh(s){return(s.scale||{}).getPointPositionForValue?function Oh(s){const{scale:i,fill:e}=s,a=i.options,r=i.getLabels().length,c=a.reverse?i.max:i.min,u=function wh(s,i,e){let a;return a="start"===s?e:"end"===s?i.options.reverse?i.min:i.max:se(s)?s.value:i.getBaseValue(),a}(e,i,c),x=[];if(a.grid.circular){const b=i.getPointPositionForValue(0,c);return new $a({x:b.x,y:b.y,radius:i.getDistanceFromCenterForValue(u)})}for(let b=0;b<r;++b)x.push(i.getPointPositionForValue(b,u));return x}(s):function Wh(s){const{scale:i={},fill:e}=s,a=function Ch(s,i){let e=null;return"start"===s?e=i.bottom:"end"===s?e=i.top:se(s)?e=i.getPixelForValue(s.value):i.getBasePixel&&(e=i.getBasePixel()),e}(e,i);if(ge(a)){const r=i.isHorizontal();return{x:r?a:null,y:r?null:a}}return null}(s)}(s);return r instanceof $a?r:Ka(r,a)}(i),{line:r,scale:c,axis:u}=i,x=r.options,b=x.fill,k=x.backgroundColor,{above:w=k,below:L=k}=b||{};a&&r.points.length&&(Ft(s,e),function Eh(s,i){const{line:e,target:a,above:r,below:c,area:u,scale:x}=i,b=e._loop?"angle":i.axis;s.save(),"x"===b&&c!==r&&(Ja(s,a,u.top),Za(s,{line:e,target:a,color:r,scale:x,property:b}),s.restore(),s.save(),Ja(s,a,u.bottom)),Za(s,{line:e,target:a,color:c,scale:x,property:b}),s.restore()}(s,{line:r,target:a,above:w,below:L,area:e,scale:c,axis:u}),le(s))}function Ja(s,i,e){const{segments:a,points:r}=i;let c=!0,u=!1;s.beginPath();for(const x of a){const{start:b,end:k}=x,w=r[b],L=r[vn(b,k,r)];c?(s.moveTo(w.x,w.y),c=!1):(s.lineTo(w.x,e),s.lineTo(w.x,w.y)),u=!!i.pathSegment(s,x,{move:u}),u?s.closePath():s.lineTo(L.x,e)}s.lineTo(i.first().x,e),s.closePath(),s.clip()}function Za(s,i){const{line:e,target:a,property:r,color:c,scale:u}=i,x=function Mh(s,i,e){const a=s.segments,r=s.points,c=i.points,u=[];for(const x of a){let{start:b,end:k}=x;k=vn(b,k,r);const w=bn(e,r[b],r[k],x.loop);if(!i.segments){u.push({source:x,target:w,start:r[b],end:r[k]});continue}const L=jn(i,w);for(const D of L){const X=bn(e,c[D.start],c[D.end],D.loop),j=Hn(x,r,X);for(const K of j)u.push({source:K,target:D,start:{[e]:Ua(w,X,"start",Math.max)},end:{[e]:Ua(w,X,"end",Math.min)}})}}return u}(e,a,r);for(const{source:b,target:k,start:w,end:L}of x){const{style:{backgroundColor:D=c}={}}=b,X=!0!==a;s.save(),s.fillStyle=D,Xh(s,u,X&&bn(r,w,L)),s.beginPath();const j=!!e.pathSegment(s,b);let K;if(X){j?s.closePath():Qa(s,a,L,r);const G=!!a.pathSegment(s,k,{move:j,reverse:!0});K=j&&G,K||Qa(s,a,w,r)}s.closePath(),s.fill(K?"evenodd":"nonzero"),s.restore()}}function Xh(s,i,e){const{top:a,bottom:r}=i.chart.chartArea,{property:c,start:u,end:x}=e||{};"x"===c&&(s.beginPath(),s.rect(u,a,x-u,r-a),s.clip())}function Qa(s,i,e,a){const r=i.interpolate(e,a);r&&s.lineTo(r.x,r.y)}var Yh={id:"filler",afterDatasetsUpdate(s,i,e){const a=(s.data.datasets||[]).length,r=[];let c,u,x,b;for(u=0;u<a;++u)c=s.getDatasetMeta(u),x=c.dataset,b=null,x&&x.options&&x instanceof Rs&&(b={visible:s.isDatasetVisible(u),index:u,fill:Ph(x,u,a),chart:s,axis:c.controller.options.indexAxis,scale:c.vScale,line:x}),c.$filler=b,r.push(b);for(u=0;u<a;++u)b=r[u],b&&!1!==b.fill&&(b.fill=_h(r,u,e.propagate))},beforeDraw(s,i,e){const a="beforeDraw"===e.drawTime,r=s.getSortedVisibleDatasetMetas(),c=s.chartArea;for(let u=r.length-1;u>=0;--u){const x=r[u].$filler;x&&(x.line.updateControlPoints(c,x.axis),a&&x.fill&&Mn(s.ctx,x,c))}},beforeDatasetsDraw(s,i,e){if("beforeDatasetsDraw"!==e.drawTime)return;const a=s.getSortedVisibleDatasetMetas();for(let r=a.length-1;r>=0;--r){const c=a[r].$filler;Ga(c)&&Mn(s.ctx,c,s.chartArea)}},beforeDatasetDraw(s,i,e){const a=i.meta.$filler;!Ga(a)||"beforeDatasetDraw"!==e.drawTime||Mn(s.ctx,a,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qa=(s,i)=>{let{boxHeight:e=i,boxWidth:a=i}=s;return s.usePointStyle&&(e=Math.min(e,i),a=s.pointStyleWidth||Math.min(a,i)),{boxWidth:a,boxHeight:e,itemHeight:Math.max(i,e)}};class to extends Ti{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e,a){this.maxWidth=i,this.maxHeight=e,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let e=Se(i.generateLabels,[this.chart],this)||[];i.filter&&(e=e.filter(a=>i.filter(a,this.chart.data))),i.sort&&(e=e.sort((a,r)=>i.sort(a,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:i,ctx:e}=this;if(!i.display)return void(this.width=this.height=0);const a=i.labels,r=Qe(a.font),c=r.size,u=this._computeTitleHeight(),{boxWidth:x,itemHeight:b}=qa(a,c);let k,w;e.font=r.string,this.isHorizontal()?(k=this.maxWidth,w=this._fitRows(u,c,x,b)+10):(w=this.maxHeight,k=this._fitCols(u,r,x,b)+10),this.width=Math.min(k,i.maxWidth||this.maxWidth),this.height=Math.min(w,i.maxHeight||this.maxHeight)}_fitRows(i,e,a,r){const{ctx:c,maxWidth:u,options:{labels:{padding:x}}}=this,b=this.legendHitBoxes=[],k=this.lineWidths=[0],w=r+x;let L=i;c.textAlign="left",c.textBaseline="middle";let D=-1,X=-w;return this.legendItems.forEach((j,K)=>{const G=a+e/2+c.measureText(j.text).width;(0===K||k[k.length-1]+G+2*x>u)&&(L+=w,k[k.length-(K>0?0:1)]=0,X+=w,D++),b[K]={left:0,top:X,row:D,width:G,height:r},k[k.length-1]+=G+x}),L}_fitCols(i,e,a,r){const{ctx:c,maxHeight:u,options:{labels:{padding:x}}}=this,b=this.legendHitBoxes=[],k=this.columnSizes=[],w=u-i;let L=x,D=0,X=0,j=0,K=0;return this.legendItems.forEach((G,ot)=>{const{itemWidth:at,itemHeight:yt}=function Rh(s,i,e,a,r){const c=function Nh(s,i,e,a){let r=s.text;return r&&"string"!=typeof r&&(r=r.reduce((c,u)=>c.length>u.length?c:u)),i+e.size/2+a.measureText(r).width}(a,s,i,e),u=function Hh(s,i,e){let a=s;return"string"!=typeof i.text&&(a=eo(i,e)),a}(r,a,i.lineHeight);return{itemWidth:c,itemHeight:u}}(a,e,c,G,r);ot>0&&X+yt+2*x>w&&(L+=D+x,k.push({width:D,height:X}),j+=D+x,K++,D=X=0),b[ot]={left:j,top:X,col:K,width:at,height:yt},D=Math.max(D,at),X+=yt+x}),L+=D,k.push({width:D,height:X}),L}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:a,labels:{padding:r},rtl:c}}=this,u=os(c,this.left,this.width);if(this.isHorizontal()){let x=0,b=O(a,this.left+r,this.right-this.lineWidths[x]);for(const k of e)x!==k.row&&(x=k.row,b=O(a,this.left+r,this.right-this.lineWidths[x])),k.top+=this.top+i+r,k.left=u.leftForLtr(u.x(b),k.width),b+=k.width+r}else{let x=0,b=O(a,this.top+i+r,this.bottom-this.columnSizes[x].height);for(const k of e)k.col!==x&&(x=k.col,b=O(a,this.top+i+r,this.bottom-this.columnSizes[x].height)),k.top=b,k.left+=this.left+r,k.left=u.leftForLtr(u.x(k.left),k.width),b+=k.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;Ft(i,this),this._draw(),le(i)}}_draw(){const{options:i,columnSizes:e,lineWidths:a,ctx:r}=this,{align:c,labels:u}=i,x=Vt.color,b=os(i.rtl,this.left,this.width),k=Qe(u.font),{padding:w}=u,L=k.size,D=L/2;let X;this.drawTitle(),r.textAlign=b.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=k.string;const{boxWidth:j,boxHeight:K,itemHeight:G}=qa(u,L),yt=this.isHorizontal(),kt=this._computeTitleHeight();X=yt?{x:O(c,this.left+w,this.right-a[0]),y:this.top+w+kt,line:0}:{x:this.left+w,y:O(c,this.top+kt+w,this.bottom-e[0].height),line:0},Yn(this.ctx,i.textDirection);const xt=G+w;this.legendItems.forEach((bt,Dt)=>{r.strokeStyle=bt.fontColor,r.fillStyle=bt.fontColor;const wt=r.measureText(bt.text).width,Yt=b.textAlign(bt.textAlign||(bt.textAlign=u.textAlign)),pe=j+D+wt;let ce=X.x,ye=X.y;b.setWidth(this.width),yt?Dt>0&&ce+pe+w>this.right&&(ye=X.y+=xt,X.line++,ce=X.x=O(c,this.left+w,this.right-a[X.line])):Dt>0&&ye+xt>this.bottom&&(ce=X.x=ce+e[X.line].width+w,X.line++,ye=X.y=O(c,this.top+kt+w,this.bottom-e[X.line].height)),function(bt,Dt,wt){if(isNaN(j)||j<=0||isNaN(K)||K<0)return;r.save();const Yt=Zt(wt.lineWidth,1);if(r.fillStyle=Zt(wt.fillStyle,x),r.lineCap=Zt(wt.lineCap,"butt"),r.lineDashOffset=Zt(wt.lineDashOffset,0),r.lineJoin=Zt(wt.lineJoin,"miter"),r.lineWidth=Yt,r.strokeStyle=Zt(wt.strokeStyle,x),r.setLineDash(Zt(wt.lineDash,[])),u.usePointStyle){const pe={radius:K*Math.SQRT2/2,pointStyle:wt.pointStyle,rotation:wt.rotation,borderWidth:Yt},ce=b.xPlus(bt,j/2);Wt(r,pe,ce,Dt+D,u.pointStyleWidth&&j)}else{const pe=Dt+Math.max((L-K)/2,0),ce=b.leftForLtr(bt,j),ye=Ui(wt.borderRadius);r.beginPath(),Object.values(ye).some(ai=>0!==ai)?us(r,{x:ce,y:pe,w:j,h:K,radius:ye}):r.rect(ce,pe,j,K),r.fill(),0!==Yt&&r.stroke()}r.restore()}(b.x(ce),ye,bt),ce=((s,i,e,a)=>s===(a?"left":"right")?e:"center"===s?(i+e)/2:i)(Yt,ce+j+D,yt?ce+pe:this.right,i.rtl),function(bt,Dt,wt){ji(r,wt.text,bt,Dt+G/2,k,{strikethrough:wt.hidden,textAlign:b.textAlign(wt.textAlign)})}(b.x(ce),ye,bt),yt?X.x+=pe+w:X.y+="string"!=typeof bt.text?eo(bt,k.lineHeight)+w:xt}),zn(this.ctx,i.textDirection)}drawTitle(){const i=this.options,e=i.title,a=Qe(e.font),r=hi(e.padding);if(!e.display)return;const c=os(i.rtl,this.left,this.width),u=this.ctx,x=e.position,k=r.top+a.size/2;let w,L=this.left,D=this.width;if(this.isHorizontal())D=Math.max(...this.lineWidths),w=this.top+k,L=O(i.align,L,this.right-D);else{const j=this.columnSizes.reduce((K,G)=>Math.max(K,G.height),0);w=k+O(i.align,this.top,this.bottom-j-i.labels.padding-this._computeTitleHeight())}const X=O(x,L,L+D);u.textAlign=c.textAlign(U(x)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=a.string,ji(u,e.text,X,w,a)}_computeTitleHeight(){const i=this.options.title,e=Qe(i.font),a=hi(i.padding);return i.display?e.lineHeight+a.height:0}_getLegendItemAt(i,e){let a,r,c;if(S(i,this.left,this.right)&&S(e,this.top,this.bottom))for(c=this.legendHitBoxes,a=0;a<c.length;++a)if(r=c[a],S(i,r.left,r.left+r.width)&&S(e,r.top,r.top+r.height))return this.legendItems[a];return null}handleEvent(i){const e=this.options;if(!function jh(s,i){return!(("mousemove"!==s&&"mouseout"!==s||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==s&&"mouseup"!==s))}(i.type,e))return;const a=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const r=this._hoveredItem,c=((s,i)=>null!==s&&null!==i&&s.datasetIndex===i.datasetIndex&&s.index===i.index)(r,a);r&&!c&&Se(e.onLeave,[i,r,this],this),this._hoveredItem=a,a&&!c&&Se(e.onHover,[i,a,this],this)}else a&&Se(e.onClick,[i,a,this],this)}}function eo(s,i){return i*(s.text?s.text.length:0)}var Uh={id:"legend",_element:to,start(s,i,e){const a=s.legend=new to({ctx:s.ctx,options:e,chart:s});di.configure(s,a,e),di.addBox(s,a)},stop(s){di.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,i,e){const a=s.legend;di.configure(s,a,e),a.options=e},afterUpdate(s){const i=s.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(s,i){i.replay||s.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,i,e){const a=i.datasetIndex,r=e.chart;r.isDatasetVisible(a)?(r.hide(a),i.hidden=!0):(r.show(a),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const i=s.data.datasets,{labels:{usePointStyle:e,pointStyle:a,textAlign:r,color:c,useBorderRadius:u,borderRadius:x}}=s.legend.options;return s._getSortedDatasetMetas().map(b=>{const k=b.controller.getStyle(e?0:void 0),w=hi(k.borderWidth);return{text:i[b.index].label,fillStyle:k.backgroundColor,fontColor:c,hidden:!b.visible,lineCap:k.borderCapStyle,lineDash:k.borderDash,lineDashOffset:k.borderDashOffset,lineJoin:k.borderJoinStyle,lineWidth:(w.width+w.height)/4,strokeStyle:k.borderColor,pointStyle:a||k.pointStyle,rotation:k.rotation,textAlign:r||k.textAlign,borderRadius:u&&(x||k.borderRadius),datasetIndex:b.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class kn extends Ti{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e){const a=this.options;if(this.left=0,this.top=0,!a.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=e;const r=be(a.text)?a.text.length:1;this._padding=hi(a.padding);const c=r*Qe(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=c:this.width=c}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:e,left:a,bottom:r,right:c,options:u}=this,x=u.align;let k,w,L,b=0;return this.isHorizontal()?(w=O(x,a,c),L=e+i,k=c-a):("left"===u.position?(w=a+i,L=O(x,r,e),b=-.5*It):(w=c-i,L=O(x,e,r),b=.5*It),k=r-e),{titleX:w,titleY:L,maxWidth:k,rotation:b}}draw(){const i=this.ctx,e=this.options;if(!e.display)return;const a=Qe(e.font),c=a.lineHeight/2+this._padding.top,{titleX:u,titleY:x,maxWidth:b,rotation:k}=this._drawArgs(c);ji(i,e.text,0,0,a,{color:e.color,maxWidth:b,rotation:k,textAlign:U(e.align),textBaseline:"middle",translation:[u,x]})}}var Gh={id:"title",_element:kn,start(s,i,e){!function Kh(s,i){const e=new kn({ctx:s.ctx,options:i,chart:s});di.configure(s,e,i),di.addBox(s,e),s.titleBlock=e}(s,e)},stop(s){di.removeBox(s,s.titleBlock),delete s.titleBlock},beforeUpdate(s,i,e){const a=s.titleBlock;di.configure(s,a,e),a.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hs=new WeakMap;var $h={id:"subtitle",start(s,i,e){const a=new kn({ctx:s.ctx,options:e,chart:s});di.configure(s,a,e),di.addBox(s,a),Hs.set(s,a)},stop(s){di.removeBox(s,Hs.get(s)),Hs.delete(s)},beforeUpdate(s,i,e){const a=Hs.get(s);di.configure(s,a,e),a.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _s={average(s){if(!s.length)return!1;let i,e,a=new Set,r=0,c=0;for(i=0,e=s.length;i<e;++i){const x=s[i].element;if(x&&x.hasValue()){const b=x.tooltipPosition();a.add(b.x),r+=b.y,++c}}return{x:[...a].reduce((x,b)=>x+b)/a.size,y:r/c}},nearest(s,i){if(!s.length)return!1;let c,u,x,e=i.x,a=i.y,r=Number.POSITIVE_INFINITY;for(c=0,u=s.length;c<u;++c){const b=s[c].element;if(b&&b.hasValue()){const w=f(i,b.getCenterPoint());w<r&&(r=w,x=b)}}if(x){const b=x.tooltipPosition();e=b.x,a=b.y}return{x:e,y:a}}};function Di(s,i){return i&&(be(i)?Array.prototype.push.apply(s,i):s.push(i)),s}function Ei(s){return("string"==typeof s||s instanceof String)&&s.indexOf("\n")>-1?s.split("\n"):s}function Jh(s,i){const{element:e,datasetIndex:a,index:r}=i,c=s.getDatasetMeta(a).controller,{label:u,value:x}=c.getLabelAndValue(r);return{chart:s,label:u,parsed:c.getParsed(r),raw:s.data.datasets[a].data[r],formattedValue:x,dataset:c.getDataset(),dataIndex:r,datasetIndex:a,element:e}}function io(s,i){const e=s.chart.ctx,{body:a,footer:r,title:c}=s,{boxWidth:u,boxHeight:x}=i,b=Qe(i.bodyFont),k=Qe(i.titleFont),w=Qe(i.footerFont),L=c.length,D=r.length,X=a.length,j=hi(i.padding);let K=j.height,G=0,ot=a.reduce((kt,xt)=>kt+xt.before.length+xt.lines.length+xt.after.length,0);ot+=s.beforeBody.length+s.afterBody.length,L&&(K+=L*k.lineHeight+(L-1)*i.titleSpacing+i.titleMarginBottom),ot&&(K+=X*(i.displayColors?Math.max(x,b.lineHeight):b.lineHeight)+(ot-X)*b.lineHeight+(ot-1)*i.bodySpacing),D&&(K+=i.footerMarginTop+D*w.lineHeight+(D-1)*i.footerSpacing);let at=0;const yt=function(kt){G=Math.max(G,e.measureText(kt).width+at)};return e.save(),e.font=k.string,Ht(s.title,yt),e.font=b.string,Ht(s.beforeBody.concat(s.afterBody),yt),at=i.displayColors?u+2+i.boxPadding:0,Ht(a,kt=>{Ht(kt.before,yt),Ht(kt.lines,yt),Ht(kt.after,yt)}),at=0,e.font=w.string,Ht(s.footer,yt),e.restore(),G+=j.width,{width:G,height:K}}function qh(s,i,e,a){const{x:r,width:c}=e,{width:u,chartArea:{left:x,right:b}}=s;let k="center";return"center"===a?k=r<=(x+b)/2?"left":"right":r<=c/2?k="left":r>=u-c/2&&(k="right"),function Qh(s,i,e,a){const{x:r,width:c}=a,u=e.caretSize+e.caretPadding;if("left"===s&&r+c+u>i.width||"right"===s&&r-c-u<0)return!0}(k,s,i,e)&&(k="center"),k}function so(s,i,e){const a=e.yAlign||i.yAlign||function Zh(s,i){const{y:e,height:a}=i;return e<a/2?"top":e>s.height-a/2?"bottom":"center"}(s,e);return{xAlign:e.xAlign||i.xAlign||qh(s,i,e,a),yAlign:a}}function no(s,i,e,a){const{caretSize:r,caretPadding:c,cornerRadius:u}=s,{xAlign:x,yAlign:b}=e,k=r+c,{topLeft:w,topRight:L,bottomLeft:D,bottomRight:X}=Ui(u);let j=function td(s,i){let{x:e,width:a}=s;return"right"===i?e-=a:"center"===i&&(e-=a/2),e}(i,x);const K=function ed(s,i,e){let{y:a,height:r}=s;return"top"===i?a+=e:a-="bottom"===i?r+e:r/2,a}(i,b,k);return"center"===b?"left"===x?j+=k:"right"===x&&(j-=k):"left"===x?j-=Math.max(w,D)+r:"right"===x&&(j+=Math.max(L,X)+r),{x:h(j,0,a.width-i.width),y:h(K,0,a.height-i.height)}}function js(s,i,e){const a=hi(e.padding);return"center"===i?s.x+s.width/2:"right"===i?s.x+s.width-a.right:s.x+a.left}function ao(s){return Di([],Ei(s))}function oo(s,i){const e=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return e?s.override(e):s}const ro={beforeTitle:Pt,title(s){if(s.length>0){const i=s[0],e=i.chart.data.labels,a=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(a>0&&i.dataIndex<a)return e[i.dataIndex]}return""},afterTitle:Pt,beforeBody:Pt,beforeLabel:Pt,label(s){if(this&&this.options&&"dataset"===this.options.mode)return s.label+": "+s.formattedValue||s.formattedValue;let i=s.dataset.label||"";i&&(i+=": ");const e=s.formattedValue;return Tt(e)||(i+=e),i},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Pt,afterBody:Pt,beforeFooter:Pt,footer:Pt,afterFooter:Pt};function xi(s,i,e,a){const r=s[i].call(e,a);return typeof r>"u"?ro[i].call(e,a):r}let lo=(()=>{class s extends Ti{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const a=this.chart,r=this.options.setContext(this.getContext()),c=r.enabled&&a.options.animation&&r.animations,u=new $n(this.chart,c);return c._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}getContext(){return this.$context||(this.$context=function id(s,i,e){return Yi(s,{tooltip:i,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,a){const{callbacks:r}=a,c=xi(r,"beforeTitle",this,e),u=xi(r,"title",this,e),x=xi(r,"afterTitle",this,e);let b=[];return b=Di(b,Ei(c)),b=Di(b,Ei(u)),b=Di(b,Ei(x)),b}getBeforeBody(e,a){return ao(xi(a.callbacks,"beforeBody",this,e))}getBody(e,a){const{callbacks:r}=a,c=[];return Ht(e,u=>{const x={before:[],lines:[],after:[]},b=oo(r,u);Di(x.before,Ei(xi(b,"beforeLabel",this,u))),Di(x.lines,xi(b,"label",this,u)),Di(x.after,Ei(xi(b,"afterLabel",this,u))),c.push(x)}),c}getAfterBody(e,a){return ao(xi(a.callbacks,"afterBody",this,e))}getFooter(e,a){const{callbacks:r}=a,c=xi(r,"beforeFooter",this,e),u=xi(r,"footer",this,e),x=xi(r,"afterFooter",this,e);let b=[];return b=Di(b,Ei(c)),b=Di(b,Ei(u)),b=Di(b,Ei(x)),b}_createItems(e){const a=this._active,r=this.chart.data,c=[],u=[],x=[];let k,w,b=[];for(k=0,w=a.length;k<w;++k)b.push(Jh(this.chart,a[k]));return e.filter&&(b=b.filter((L,D,X)=>e.filter(L,D,X,r))),e.itemSort&&(b=b.sort((L,D)=>e.itemSort(L,D,r))),Ht(b,L=>{const D=oo(e.callbacks,L);c.push(xi(D,"labelColor",this,L)),u.push(xi(D,"labelPointStyle",this,L)),x.push(xi(D,"labelTextColor",this,L))}),this.labelColors=c,this.labelPointStyles=u,this.labelTextColors=x,this.dataPoints=b,b}update(e,a){const r=this.options.setContext(this.getContext()),c=this._active;let u,x=[];if(c.length){const b=_s[r.position].call(this,c,this._eventPosition);x=this._createItems(r),this.title=this.getTitle(x,r),this.beforeBody=this.getBeforeBody(x,r),this.body=this.getBody(x,r),this.afterBody=this.getAfterBody(x,r),this.footer=this.getFooter(x,r);const k=this._size=io(this,r),w=Object.assign({},b,k),L=so(this.chart,r,w),D=no(r,w,L,this.chart);this.xAlign=L.xAlign,this.yAlign=L.yAlign,u={opacity:1,x:D.x,y:D.y,width:k.width,height:k.height,caretX:b.x,caretY:b.y}}else 0!==this.opacity&&(u={opacity:0});this._tooltipItems=x,this.$context=void 0,u&&this._resolveAnimations().update(this,u),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(e,a,r,c){const u=this.getCaretPosition(e,r,c);a.lineTo(u.x1,u.y1),a.lineTo(u.x2,u.y2),a.lineTo(u.x3,u.y3)}getCaretPosition(e,a,r){const{xAlign:c,yAlign:u}=this,{caretSize:x,cornerRadius:b}=r,{topLeft:k,topRight:w,bottomLeft:L,bottomRight:D}=Ui(b),{x:X,y:j}=e,{width:K,height:G}=a;let ot,at,yt,kt,xt,bt;return"center"===u?(xt=j+G/2,"left"===c?(ot=X,at=ot-x,kt=xt+x,bt=xt-x):(ot=X+K,at=ot+x,kt=xt-x,bt=xt+x),yt=ot):(at="left"===c?X+Math.max(k,L)+x:"right"===c?X+K-Math.max(w,D)-x:this.caretX,"top"===u?(kt=j,xt=kt-x,ot=at-x,yt=at+x):(kt=j+G,xt=kt+x,ot=at+x,yt=at-x),bt=kt),{x1:ot,x2:at,x3:yt,y1:kt,y2:xt,y3:bt}}drawTitle(e,a,r){const c=this.title,u=c.length;let x,b,k;if(u){const w=os(r.rtl,this.x,this.width);for(e.x=js(this,r.titleAlign,r),a.textAlign=w.textAlign(r.titleAlign),a.textBaseline="middle",x=Qe(r.titleFont),b=r.titleSpacing,a.fillStyle=r.titleColor,a.font=x.string,k=0;k<u;++k)a.fillText(c[k],w.x(e.x),e.y+x.lineHeight/2),e.y+=x.lineHeight+b,k+1===u&&(e.y+=r.titleMarginBottom-b)}}_drawColorBox(e,a,r,c,u){const x=this.labelColors[r],b=this.labelPointStyles[r],{boxHeight:k,boxWidth:w}=u,L=Qe(u.bodyFont),D=js(this,"left",u),X=c.x(D),K=a.y+(k<L.lineHeight?(L.lineHeight-k)/2:0);if(u.usePointStyle){const G={radius:Math.min(w,k)/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:1},ot=c.leftForLtr(X,w)+w/2,at=K+k/2;e.strokeStyle=u.multiKeyBackground,e.fillStyle=u.multiKeyBackground,xe(e,G,ot,at),e.strokeStyle=x.borderColor,e.fillStyle=x.backgroundColor,xe(e,G,ot,at)}else{e.lineWidth=se(x.borderWidth)?Math.max(...Object.values(x.borderWidth)):x.borderWidth||1,e.strokeStyle=x.borderColor,e.setLineDash(x.borderDash||[]),e.lineDashOffset=x.borderDashOffset||0;const G=c.leftForLtr(X,w),ot=c.leftForLtr(c.xPlus(X,1),w-2),at=Ui(x.borderRadius);Object.values(at).some(yt=>0!==yt)?(e.beginPath(),e.fillStyle=u.multiKeyBackground,us(e,{x:G,y:K,w,h:k,radius:at}),e.fill(),e.stroke(),e.fillStyle=x.backgroundColor,e.beginPath(),us(e,{x:ot,y:K+1,w:w-2,h:k-2,radius:at}),e.fill()):(e.fillStyle=u.multiKeyBackground,e.fillRect(G,K,w,k),e.strokeRect(G,K,w,k),e.fillStyle=x.backgroundColor,e.fillRect(ot,K+1,w-2,k-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,a,r){const{body:c}=this,{bodySpacing:u,bodyAlign:x,displayColors:b,boxHeight:k,boxWidth:w,boxPadding:L}=r,D=Qe(r.bodyFont);let X=D.lineHeight,j=0;const K=os(r.rtl,this.x,this.width),G=function(Yt){a.fillText(Yt,K.x(e.x+j),e.y+X/2),e.y+=X+u},ot=K.textAlign(x);let at,yt,kt,xt,bt,Dt,wt;for(a.textAlign=x,a.textBaseline="middle",a.font=D.string,e.x=js(this,ot,r),a.fillStyle=r.bodyColor,Ht(this.beforeBody,G),j=b&&"right"!==ot?"center"===x?w/2+L:w+2+L:0,xt=0,Dt=c.length;xt<Dt;++xt){for(at=c[xt],yt=this.labelTextColors[xt],a.fillStyle=yt,Ht(at.before,G),kt=at.lines,b&&kt.length&&(this._drawColorBox(a,e,xt,K,r),X=Math.max(D.lineHeight,k)),bt=0,wt=kt.length;bt<wt;++bt)G(kt[bt]),X=D.lineHeight;Ht(at.after,G)}j=0,X=D.lineHeight,Ht(this.afterBody,G),e.y-=u}drawFooter(e,a,r){const c=this.footer,u=c.length;let x,b;if(u){const k=os(r.rtl,this.x,this.width);for(e.x=js(this,r.footerAlign,r),e.y+=r.footerMarginTop,a.textAlign=k.textAlign(r.footerAlign),a.textBaseline="middle",x=Qe(r.footerFont),a.fillStyle=r.footerColor,a.font=x.string,b=0;b<u;++b)a.fillText(c[b],k.x(e.x),e.y+x.lineHeight/2),e.y+=x.lineHeight+r.footerSpacing}}drawBackground(e,a,r,c){const{xAlign:u,yAlign:x}=this,{x:b,y:k}=e,{width:w,height:L}=r,{topLeft:D,topRight:X,bottomLeft:j,bottomRight:K}=Ui(c.cornerRadius);a.fillStyle=c.backgroundColor,a.strokeStyle=c.borderColor,a.lineWidth=c.borderWidth,a.beginPath(),a.moveTo(b+D,k),"top"===x&&this.drawCaret(e,a,r,c),a.lineTo(b+w-X,k),a.quadraticCurveTo(b+w,k,b+w,k+X),"center"===x&&"right"===u&&this.drawCaret(e,a,r,c),a.lineTo(b+w,k+L-K),a.quadraticCurveTo(b+w,k+L,b+w-K,k+L),"bottom"===x&&this.drawCaret(e,a,r,c),a.lineTo(b+j,k+L),a.quadraticCurveTo(b,k+L,b,k+L-j),"center"===x&&"left"===u&&this.drawCaret(e,a,r,c),a.lineTo(b,k+D),a.quadraticCurveTo(b,k,b+D,k),a.closePath(),a.fill(),c.borderWidth>0&&a.stroke()}_updateAnimationTarget(e){const a=this.chart,r=this.$animations,c=r&&r.x,u=r&&r.y;if(c||u){const x=_s[e.position].call(this,this._active,this._eventPosition);if(!x)return;const b=this._size=io(this,e),k=Object.assign({},x,this._size),w=so(a,e,k),L=no(e,k,w,a);(c._to!==L.x||u._to!==L.y)&&(this.xAlign=w.xAlign,this.yAlign=w.yAlign,this.width=b.width,this.height=b.height,this.caretX=x.x,this.caretY=x.y,this._resolveAnimations().update(this,L))}}_willRender(){return!!this.opacity}draw(e){const a=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(a);const c={width:this.width,height:this.height},u={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const x=hi(a.padding);a.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(u,e,c,a),Yn(e,a.textDirection),u.y+=x.top,this.drawTitle(u,e,a),this.drawBody(u,e,a),this.drawFooter(u,e,a),zn(e,a.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,a){const r=this._active,c=e.map(({datasetIndex:b,index:k})=>{const w=this.chart.getDatasetMeta(b);if(!w)throw new Error("Cannot find a dataset at index "+b);return{datasetIndex:b,element:w.data[k],index:k}}),u=!Wi(r,c),x=this._positionChanged(c,a);(u||x)&&(this._active=c,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,a,r=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const c=this.options,u=this._active||[],x=this._getActiveElements(e,u,a,r),b=this._positionChanged(x,e),k=a||!Wi(x,u)||b;return k&&(this._active=x,(c.enabled||c.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,a))),k}_getActiveElements(e,a,r,c){const u=this.options;if("mouseout"===e.type)return[];if(!c)return a.filter(b=>this.chart.data.datasets[b.datasetIndex]&&void 0!==this.chart.getDatasetMeta(b.datasetIndex).controller.getParsed(b.index));const x=this.chart.getElementsAtEventForMode(e,u.mode,u,r);return u.reverse&&x.reverse(),x}_positionChanged(e,a){const{caretX:r,caretY:c,options:u}=this,x=_s[u.position].call(this,e,a);return!1!==x&&(r!==x.x||c!==x.y)}}return _t(s,"positioners",_s),s})();var nd=Object.freeze({__proto__:null,Colors:mh,Decimation:vh,Filler:Yh,Legend:Uh,SubTitle:$h,Title:Gh,Tooltip:{id:"tooltip",_element:lo,positioners:_s,afterInit(s,i,e){e&&(s.tooltip=new lo({chart:s,options:e}))},beforeUpdate(s,i,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,i,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const i=s.tooltip;if(i&&i._willRender()){const e={tooltip:i};if(!1===s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;i.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,i){s.tooltip&&s.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,i)=>i.bodyFont.size,boxWidth:(s,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ro},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>"filter"!==s&&"itemSort"!==s&&"external"!==s,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function ho(s){const i=this.getLabels();return s>=0&&s<i.length?i[s]:s}let ld=(()=>{class s extends Zi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const a=this._addedLabels;if(a.length){const r=this.getLabels();for(const{index:c,label:u}of a)r[c]===u&&r.splice(c,1);this._addedLabels=[]}super.init(e)}parse(e,a){if(Tt(e))return null;const r=this.getLabels();return((s,i)=>null===s?null:h(Math.round(s),0,i))(a=isFinite(a)&&r[a]===e?a:function od(s,i,e,a){const r=s.indexOf(i);return-1===r?((s,i,e,a)=>("string"==typeof i?(e=s.push(i)-1,a.unshift({index:e,label:i})):isNaN(i)&&(e=null),e))(s,i,e,a):r!==s.lastIndexOf(i)?e:r}(r,e,Zt(a,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:a}=this.getUserBounds();let{min:r,max:c}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),a||(c=this.getLabels().length-1)),this.min=r,this.max=c}buildTicks(){const e=this.min,a=this.max,r=this.options.offset,c=[];let u=this.getLabels();u=0===e&&a===u.length-1?u:u.slice(e,a+1),this._valueRange=Math.max(u.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let x=e;x<=a;x++)c.push({value:x});return c}getLabelForValue(e){return ho.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const a=this.ticks;return e<0||e>a.length-1?null:this.getPixelForValue(a[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return _t(s,"id","category"),_t(s,"defaults",{ticks:{callback:ho}}),s})();function co(s,i,{horizontal:e,minRotation:a}){const r=p(a),c=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(i/c,.75*i*(""+s).length)}class Us extends Zi{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,e){return Tt(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:e,maxDefined:a}=this.getUserBounds();let{min:r,max:c}=this;const u=b=>r=e?r:b,x=b=>c=a?c:b;if(i){const b=St(r),k=St(c);b<0&&k<0?x(0):b>0&&k>0&&u(0)}if(r===c){let b=0===c?1:Math.abs(.05*c);x(c+b),i||u(r-b)}this.min=r,this.max=c}getTickLimit(){const i=this.options.ticks;let r,{maxTicksLimit:e,stepSize:a}=i;return a?(r=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,e=i.ticks;let a=this.getTickLimit();a=Math.max(2,a);const u=function hd(s,i){const e=[],{bounds:r,step:c,min:u,max:x,precision:b,count:k,maxTicks:w,maxDigits:L,includeBounds:D}=s,X=c||1,j=w-1,{min:K,max:G}=i,ot=!Tt(u),at=!Tt(x),yt=!Tt(k),kt=(G-K)/(L+1);let bt,Dt,wt,Yt,xt=t((G-K)/j/X)*X;if(xt<1e-14&&!ot&&!at)return[{value:K},{value:G}];Yt=Math.ceil(G/xt)-Math.floor(K/xt),Yt>j&&(xt=t(Yt*xt/j/X)*X),Tt(b)||(bt=Math.pow(10,b),xt=Math.ceil(xt*bt)/bt),"ticks"===r?(Dt=Math.floor(K/xt)*xt,wt=Math.ceil(G/xt)*xt):(Dt=K,wt=G),ot&&at&&c&&function n(s,i){const e=Math.round(s);return e-i<=s&&e+i>=s}((x-u)/c,xt/1e3)?(Yt=Math.round(Math.min((x-u)/xt,w)),xt=(x-u)/Yt,Dt=u,wt=x):yt?(Dt=ot?u:Dt,wt=at?x:wt,Yt=k-1,xt=(wt-Dt)/Yt):(Yt=(wt-Dt)/xt,Yt=me(Yt,Math.round(Yt),xt/1e3)?Math.round(Yt):Math.ceil(Yt));const pe=Math.max(M(xt),M(Dt));bt=Math.pow(10,Tt(b)?pe:b),Dt=Math.round(Dt*bt)/bt,wt=Math.round(wt*bt)/bt;let ce=0;for(ot&&(D&&Dt!==u?(e.push({value:u}),Dt<u&&ce++,me(Math.round((Dt+ce*xt)*bt)/bt,u,co(u,kt,s))&&ce++):Dt<u&&ce++);ce<Yt;++ce){const ye=Math.round((Dt+ce*xt)*bt)/bt;if(at&&ye>x)break;e.push({value:ye})}return at&&D&&wt!==x?e.length&&me(e[e.length-1].value,x,co(x,kt,s))?e[e.length-1].value=x:e.push({value:x}):(!at||wt===x)&&e.push({value:wt}),e}({maxTicks:a,bounds:i.bounds,min:i.min,max:i.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===i.bounds&&l(u,this,"value"),i.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const i=this.ticks;let e=this.min,a=this.max;if(super.configure(),this.options.offset&&i.length){const r=(a-e)/Math.max(i.length-1,1)/2;e-=r,a+=r}this._startValue=e,this._endValue=a,this._valueRange=a-e}getLabelForValue(i){return si(i,this.chart.options.locale,this.options.ticks.format)}}class _n extends Us{determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=ge(i)?i:0,this.max=ge(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),e=i?this.width:this.height,a=p(this.options.ticks.minRotation),r=(i?Math.sin(a):Math.cos(a))||.001,c=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,c.lineHeight/r))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}_t(_n,"id","linear"),_t(_n,"defaults",{ticks:{callback:Le.formatters.numeric}});const Ps=s=>Math.floor(Fe(s)),Qi=(s,i)=>Math.pow(10,Ps(s)+i);function uo(s){return s/Math.pow(10,Ps(s))==1}function po(s,i,e){const a=Math.pow(10,e),r=Math.floor(s/a);return Math.ceil(i/a)-r}class Pn extends Zi{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,e){const a=Us.prototype.parse.apply(this,[i,e]);if(0!==a)return ge(a)&&a>0?a:null;this._zero=!0}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=ge(i)?Math.max(0,i):null,this.max=ge(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ge(this._userMin)&&(this.min=i===Qi(this.min,0)?Qi(this.min,-1):Qi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let a=this.min,r=this.max;const c=x=>a=i?a:x,u=x=>r=e?r:x;a===r&&(a<=0?(c(1),u(10)):(c(Qi(a,-1)),u(Qi(r,1)))),a<=0&&c(Qi(r,-1)),r<=0&&u(Qi(a,1)),this.min=a,this.max=r}buildTicks(){const i=this.options,a=function cd(s,{min:i,max:e}){i=ei(s.min,i);const a=[],r=Ps(i);let c=function dd(s,i){let a=Ps(i-s);for(;po(s,i,a)>10;)a++;for(;po(s,i,a)<10;)a--;return Math.min(a,Ps(s))}(i,e),u=c<0?Math.pow(10,Math.abs(c)):1;const x=Math.pow(10,c),b=r>c?Math.pow(10,r):0,k=Math.round((i-b)*u)/u,w=Math.floor((i-b)/x/10)*x*10;let L=Math.floor((k-w)/Math.pow(10,c)),D=ei(s.min,Math.round((b+w+L*Math.pow(10,c))*u)/u);for(;D<e;)a.push({value:D,major:uo(D),significand:L}),L>=10?L=L<15?15:20:L++,L>=20&&(c++,L=2,u=c>=0?1:u),D=Math.round((b+w+L*Math.pow(10,c))*u)/u;const X=ei(s.max,D);return a.push({value:X,major:uo(X),significand:L}),a}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&l(a,this,"value"),i.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(i){return void 0===i?"0":si(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=Fe(i),this._valueRange=Fe(this.max)-Fe(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(Fe(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const e=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+e*this._valueRange)}}function Tn(s){const i=s.ticks;if(i.display&&s.display){const e=hi(i.backdropPadding);return Zt(i.font&&i.font.size,Vt.font.size)+e.height}return 0}function ud(s,i,e){return e=be(e)?e:[e],{w:Bt(s,i.string,e),h:e.length*i.lineHeight}}function xo(s,i,e,a,r){return s===a||s===r?{start:i-e/2,end:i+e/2}:s<a||s>r?{start:i-e,end:i}:{start:i,end:i+e}}function xd(s,i,e,a,r){const c=Math.abs(Math.sin(e)),u=Math.abs(Math.cos(e));let x=0,b=0;a.start<i.l?(x=(i.l-a.start)/c,s.l=Math.min(s.l,i.l-x)):a.end>i.r&&(x=(a.end-i.r)/c,s.r=Math.max(s.r,i.r+x)),r.start<i.t?(b=(i.t-r.start)/u,s.t=Math.min(s.t,i.t-b)):r.end>i.b&&(b=(r.end-i.b)/u,s.b=Math.max(s.b,i.b+b))}function gd(s,i,e){const a=s.drawingArea,{extra:r,additionalAngle:c,padding:u,size:x}=e,b=s.getPointPosition(i,a+r+u,c),k=Math.round(g(y(b.angle+he))),w=function vd(s,i,e){return 90===e||270===e?s-=i/2:(e>270||e<90)&&(s-=i),s}(b.y,x.h,k),L=function yd(s){return 0===s||180===s?"center":s<180?"left":"right"}(k),D=function bd(s,i,e){return"right"===e?s-=i:"center"===e&&(s-=i/2),s}(b.x,x.w,L);return{visible:!0,x:b.x,y:w,textAlign:L,left:D,top:w,right:D+x.w,bottom:w+x.h}}function md(s,i){if(!i)return!0;const{left:e,top:a,right:r,bottom:c}=s;return!(jt({x:e,y:a},i)||jt({x:e,y:c},i)||jt({x:r,y:a},i)||jt({x:r,y:c},i))}function Md(s,i,e){const{left:a,top:r,right:c,bottom:u}=e,{backdropColor:x}=i;if(!Tt(x)){const b=Ui(i.borderRadius),k=hi(i.backdropPadding);s.fillStyle=x;const w=a-k.left,L=r-k.top,D=c-a+k.width,X=u-r+k.height;Object.values(b).some(j=>0!==j)?(s.beginPath(),us(s,{x:w,y:L,w:D,h:X,radius:b}),s.fill()):s.fillRect(w,L,D,X)}}function go(s,i,e,a){const{ctx:r}=s;if(e)r.arc(s.xCenter,s.yCenter,i,0,Et);else{let c=s.getPointPosition(0,i);r.moveTo(c.x,c.y);for(let u=1;u<a;u++)c=s.getPointPosition(u,i),r.lineTo(c.x,c.y)}}_t(Pn,"id","logarithmic"),_t(Pn,"defaults",{ticks:{callback:Le.formatters.logarithmic,major:{enabled:!0}}});class Ts extends Us{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=hi(Tn(this.options)/2),e=this.width=this.maxWidth-i.width,a=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+e/2+i.left),this.yCenter=Math.floor(this.top+a/2+i.top),this.drawingArea=Math.floor(Math.min(e,a)/2)}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!1);this.min=ge(i)&&!isNaN(i)?i:0,this.max=ge(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Tn(this.options))}generateTickLabels(i){Us.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((e,a)=>{const r=Se(this.options.pointLabels.callback,[e,a],this);return r||0===r?r:""}).filter((e,a)=>this.chart.getDataVisibility(a))}fit(){const i=this.options;i.display&&i.pointLabels.display?function pd(s){const i={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},i),a=[],r=[],c=s._pointLabels.length,u=s.options.pointLabels,x=u.centerPointLabels?It/c:0;for(let b=0;b<c;b++){const k=u.setContext(s.getPointLabelContext(b));r[b]=k.padding;const w=s.getPointPosition(b,s.drawingArea+r[b],x),L=Qe(k.font),D=ud(s.ctx,L,s._pointLabels[b]);a[b]=D;const X=y(s.getIndexAngle(b)+x),j=Math.round(g(X));xd(e,i,X,xo(j,w.x,D.w,0,180),xo(j,w.y,D.h,90,270))}s.setCenterPoint(i.l-e.l,e.r-i.r,i.t-e.t,e.b-i.b),s._pointLabelItems=function fd(s,i,e){const a=[],r=s._pointLabels.length,c=s.options,{centerPointLabels:u,display:x}=c.pointLabels,b={extra:Tn(c)/2,additionalAngle:u?It/r:0};let k;for(let w=0;w<r;w++){b.padding=e[w],b.size=i[w];const L=gd(s,w,b);a.push(L),"auto"===x&&(L.visible=md(L,k),L.visible&&(k=L))}return a}(s,a,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,e,a,r){this.xCenter+=Math.floor((i-e)/2),this.yCenter+=Math.floor((a-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,e,a,r))}getIndexAngle(i){return y(i*(Et/(this._pointLabels.length||1))+p(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(Tt(i))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*e:(i-this.min)*e}getValueForDistanceFromCenter(i){if(Tt(i))return NaN;const e=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(i){const e=this._pointLabels||[];if(i>=0&&i<e.length){const a=e[i];return function Pd(s,i,e){return Yi(s,{label:e,index:i,type:"pointLabel"})}(this.getContext(),i,a)}}getPointPosition(i,e,a=0){const r=this.getIndexAngle(i)-he+a;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(i,e){return this.getPointPosition(i,this.getDistanceFromCenterForValue(e))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:e,top:a,right:r,bottom:c}=this._pointLabelItems[i];return{left:e,top:a,right:r,bottom:c}}drawBackground(){const{backgroundColor:i,grid:{circular:e}}=this.options;if(i){const a=this.ctx;a.save(),a.beginPath(),go(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),a.closePath(),a.fillStyle=i,a.fill(),a.restore()}}drawGrid(){const i=this.ctx,e=this.options,{angleLines:a,grid:r,border:c}=e,u=this._pointLabels.length;let x,b,k;if(e.pointLabels.display&&function kd(s,i){const{ctx:e,options:{pointLabels:a}}=s;for(let r=i-1;r>=0;r--){const c=s._pointLabelItems[r];if(!c.visible)continue;const u=a.setContext(s.getPointLabelContext(r));Md(e,u,c);const x=Qe(u.font),{x:b,y:k,textAlign:w}=c;ji(e,s._pointLabels[r],b,k+x.lineHeight/2,x,{color:u.color,textAlign:w,textBaseline:"middle"})}}(this,u),r.display&&this.ticks.forEach((w,L)=>{if(0!==L||0===L&&this.min<0){b=this.getDistanceFromCenterForValue(w.value);const D=this.getContext(L),X=r.setContext(D),j=c.setContext(D);!function _d(s,i,e,a,r){const c=s.ctx,u=i.circular,{color:x,lineWidth:b}=i;!u&&!a||!x||!b||e<0||(c.save(),c.strokeStyle=x,c.lineWidth=b,c.setLineDash(r.dash),c.lineDashOffset=r.dashOffset,c.beginPath(),go(s,e,u,a),c.closePath(),c.stroke(),c.restore())}(this,X,b,u,j)}}),a.display){for(i.save(),x=u-1;x>=0;x--){const w=a.setContext(this.getPointLabelContext(x)),{color:L,lineWidth:D}=w;!D||!L||(i.lineWidth=D,i.strokeStyle=L,i.setLineDash(w.borderDash),i.lineDashOffset=w.borderDashOffset,b=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),k=this.getPointPosition(x,b),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(k.x,k.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,e=this.options,a=e.ticks;if(!a.display)return;const r=this.getIndexAngle(0);let c,u;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(r),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((x,b)=>{if(0===b&&this.min>=0&&!e.reverse)return;const k=a.setContext(this.getContext(b)),w=Qe(k.font);if(c=this.getDistanceFromCenterForValue(this.ticks[b].value),k.showLabelBackdrop){i.font=w.string,u=i.measureText(x.label).width,i.fillStyle=k.backdropColor;const L=hi(k.backdropPadding);i.fillRect(-u/2-L.left,-c-w.size/2-L.top,u+L.width,w.size+L.height)}ji(i,x.label,0,-c,w,{color:k.color,strokeColor:k.textStrokeColor,strokeWidth:k.textStrokeWidth})}),i.restore()}drawTitle(){}}_t(Ts,"id","radialLinear"),_t(Ts,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Le.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:s=>s,padding:5,centerPointLabels:!1}}),_t(Ts,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),_t(Ts,"descriptors",{angleLines:{_fallback:"grid"}});const Ks={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gi=Object.keys(Ks);function mo(s,i){return s-i}function fo(s,i){if(Tt(i))return null;const e=s._adapter,{parser:a,round:r,isoWeekday:c}=s._parseOpts;let u=i;return"function"==typeof a&&(u=a(u)),ge(u)||(u="string"==typeof a?e.parse(u,a):e.parse(u)),null===u?null:(r&&(u="week"!==r||!o(c)&&!0!==c?e.startOf(u,r):e.startOf(u,"isoWeek",c)),+u)}function yo(s,i,e,a){const r=gi.length;for(let c=gi.indexOf(s);c<r-1;++c){const u=Ks[gi[c]];if(u.common&&Math.ceil((e-i)/((u.steps?u.steps:Number.MAX_SAFE_INTEGER)*u.size))<=a)return gi[c]}return gi[r-1]}function bo(s,i,e){if(e){if(e.length){const{lo:a,hi:r}=F(e,i);s[e[a]>=i?e[a]:e[r]]=!0}}else s[i]=!0}function vo(s,i,e){const a=[],r={},c=i.length;let u,x;for(u=0;u<c;++u)x=i[u],r[x]=u,a.push({value:x,major:!1});return 0!==c&&e?function wd(s,i,e,a){const r=s._adapter,c=+r.startOf(i[0].value,a),u=i[i.length-1].value;let x,b;for(x=c;x<=u;x=+r.add(x,1,a))b=e[x],b>=0&&(i[b].major=!0);return i}(s,a,r,e):a}let Cn=(()=>{class s extends Zi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,a={}){const r=e.time||(e.time={}),c=this._adapter=new Dr__date(e.adapters.date);c.init(a),Pe(r.displayFormats,c.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=a.normalized}parse(e,a){return void 0===e?null:fo(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,a=this._adapter,r=e.time.unit||"day";let{min:c,max:u,minDefined:x,maxDefined:b}=this.getUserBounds();function k(w){!x&&!isNaN(w.min)&&(c=Math.min(c,w.min)),!b&&!isNaN(w.max)&&(u=Math.max(u,w.max))}(!x||!b)&&(k(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&k(this.getMinMax(!1))),c=ge(c)&&!isNaN(c)?c:+a.startOf(Date.now(),r),u=ge(u)&&!isNaN(u)?u:+a.endOf(Date.now(),r)+1,this.min=Math.min(c,u-1),this.max=Math.max(c+1,u)}_getLabelBounds(){const e=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(a=e[0],r=e[e.length-1]),{min:a,max:r}}buildTicks(){const e=this.options,a=e.time,r=e.ticks,c="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&c.length&&(this.min=this._userMin||c[0],this.max=this._userMax||c[c.length-1]);const u=this.min,b=function A(s,i,e){let a=0,r=s.length;for(;a<r&&s[a]<i;)a++;for(;r>a&&s[r-1]>e;)r--;return a>0||r<s.length?s.slice(a,r):s}(c,u,this.max);return this._unit=a.unit||(r.autoSkip?yo(a.minUnit,this.min,this.max,this._getLabelCapacity(u)):function Td(s,i,e,a,r){for(let c=gi.length-1;c>=gi.indexOf(e);c--){const u=gi[c];if(Ks[u].common&&s._adapter.diff(r,a,u)>=i-1)return u}return gi[e?gi.indexOf(e):0]}(this,b.length,a.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function Cd(s){for(let i=gi.indexOf(s)+1,e=gi.length;i<e;++i)if(Ks[gi[i]].common)return gi[i]}(this._unit):void 0,this.initOffsets(c),e.reverse&&b.reverse(),vo(this,b,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let c,u,a=0,r=0;this.options.offset&&e.length&&(c=this.getDecimalForValue(e[0]),a=1===e.length?1-c:(this.getDecimalForValue(e[1])-c)/2,u=this.getDecimalForValue(e[e.length-1]),r=1===e.length?u:(u-this.getDecimalForValue(e[e.length-2]))/2);const x=e.length<3?.5:.25;a=h(a,0,x),r=h(r,0,x),this._offsets={start:a,end:r,factor:1/(a+1+r)}}_generate(){const e=this._adapter,a=this.min,r=this.max,c=this.options,u=c.time,x=u.unit||yo(u.minUnit,a,r,this._getLabelCapacity(a)),b=Zt(c.ticks.stepSize,1),k="week"===x&&u.isoWeekday,w=o(k)||!0===k,L={};let X,j,D=a;if(w&&(D=+e.startOf(D,"isoWeek",k)),D=+e.startOf(D,w?"day":x),e.diff(r,a,x)>1e5*b)throw new Error(a+" and "+r+" are too far apart with stepSize of "+b+" "+x);const K="data"===c.ticks.source&&this.getDataTimestamps();for(X=D,j=0;X<r;X=+e.add(X,b,x),j++)bo(L,X,K);return(X===r||"ticks"===c.bounds||1===j)&&bo(L,X,K),Object.keys(L).sort(mo).map(G=>+G)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,a){return this._adapter.format(e,a||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,a,r,c){const u=this.options,x=u.ticks.callback;if(x)return Se(x,[e,a,r],this);const b=u.time.displayFormats,k=this._unit,w=this._majorUnit,D=w&&b[w],X=r[a];return this._adapter.format(e,c||(w&&D&&X&&X.major?D:k&&b[k]))}generateTickLabels(e){let a,r,c;for(a=0,r=e.length;a<r;++a)c=e[a],c.label=this._tickFormatFunction(c.value,a,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const a=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((a.start+r)*a.factor)}getValueForPixel(e){const a=this._offsets,r=this.getDecimalForPixel(e)/a.factor-a.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const a=this.options.ticks,r=this.ctx.measureText(e).width,c=p(this.isHorizontal()?a.maxRotation:a.minRotation),u=Math.cos(c),x=Math.sin(c),b=this._resolveTickFontOptions(0).size;return{w:r*u+b*x,h:r*x+b*u}}_getLabelCapacity(e){const a=this.options.time,r=a.displayFormats,c=r[a.unit]||r.millisecond,u=this._tickFormatFunction(e,0,vo(this,[e],this._majorUnit),c),x=this._getLabelSize(u),b=Math.floor(this.isHorizontal()?this.width/x.w:this.height/x.h)-1;return b>0?b:1}getDataTimestamps(){let a,r,e=this._cache.data||[];if(e.length)return e;const c=this.getMatchingVisibleMetas();if(this._normalized&&c.length)return this._cache.data=c[0].controller.getAllParsedValues(this);for(a=0,r=c.length;a<r;++a)e=e.concat(c[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let a,r;if(e.length)return e;const c=this.getLabels();for(a=0,r=c.length;a<r;++a)e.push(fo(this,c[a]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return et(e.sort(mo))}}return _t(s,"id","time"),_t(s,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),s})();function Gs(s,i,e){let c,u,x,b,a=0,r=s.length-1;e?(i>=s[a].pos&&i<=s[r].pos&&({lo:a,hi:r}=P(s,"pos",i)),({pos:c,time:x}=s[a]),({pos:u,time:b}=s[r])):(i>=s[a].time&&i<=s[r].time&&({lo:a,hi:r}=P(s,"time",i)),({time:c,pos:x}=s[a]),({time:u,pos:b}=s[r]));const k=u-c;return k?x+(b-x)*(i-c)/k:x}class wn extends Cn{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(i);this._minPos=Gs(e,this.min),this._tableRange=Gs(e,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:e,max:a}=this,r=[],c=[];let u,x,b,k,w;for(u=0,x=i.length;u<x;++u)k=i[u],k>=e&&k<=a&&r.push(k);if(r.length<2)return[{time:e,pos:0},{time:a,pos:1}];for(u=0,x=r.length;u<x;++u)w=r[u+1],b=r[u-1],k=r[u],Math.round((w+b)/2)!==k&&c.push({time:k,pos:u/(x-1)});return c}_generate(){const i=this.min,e=this.max;let a=super.getDataTimestamps();return(!a.includes(i)||!a.length)&&a.splice(0,0,i),(!a.includes(e)||1===a.length)&&a.push(e),a.sort((r,c)=>r-c)}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const e=this.getDataTimestamps(),a=this.getLabelTimestamps();return i=e.length&&a.length?this.normalize(e.concat(a)):e.length?e:a,i=this._cache.all=i,i}getDecimalForValue(i){return(Gs(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const e=this._offsets,a=this.getDecimalForPixel(i)/e.factor-e.end;return Gs(this._table,a*this._tableRange+this._minPos,!0)}}_t(wn,"id","timeseries"),_t(wn,"defaults",Cn.defaults),xn.register(Ir,dh,nd,Object.freeze({__proto__:null,CategoryScale:ld,LinearScale:_n,LogarithmicScale:Pn,RadialLinearScale:Ts,TimeScale:Cn,TimeSeriesScale:wn}));const Bd=xn}}]);